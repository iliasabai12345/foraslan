"use strict";(self.webpackChunkaslanAngularBooks=self.webpackChunkaslanAngularBooks||[]).push([[179],{2011:(At,He,z)=>{z.d(He,{Dh:()=>we,GT:()=>Fe,cc:()=>Xe,on:()=>Ze,pX:()=>ve,xv:()=>ke});var l=z(4650),W=z(127);At=z.hmd(At);const H=["ngOnDestroy"],ve=(me,Se,mt,gt={})=>new Proxy(me,{get:(Ge,Pe)=>mt.runOutsideAngular(()=>{var Ae;if(me[Pe])return!(null===(Ae=gt?.spy)||void 0===Ae)&&Ae.get&&gt.spy.get(Pe,me[Pe]),me[Pe];if(H.indexOf(Pe)>-1)return()=>{};const Je=Se.toPromise().then(de=>{const fe=de&&de[Pe];return"function"==typeof fe?fe.bind(de):fe&&fe.then?fe.then(Te=>mt.run(()=>Te)):mt.run(()=>fe)});return new Proxy(()=>{},{get:(de,fe)=>Je[fe],apply:(de,fe,Te)=>Je.then(ne=>{var ie;const _e=ne&&ne(...Te);return!(null===(ie=gt?.spy)||void 0===ie)&&ie.apply&&gt.spy.apply(Pe,Te,_e),_e})})})}),Fe=(me,Se)=>{Se.forEach(mt=>{Object.getOwnPropertyNames(mt.prototype||mt).forEach(gt=>{Object.defineProperty(me.prototype,gt,Object.getOwnPropertyDescriptor(mt.prototype||mt,gt))})})};class Oe{constructor(Se){return Se}}const we=new l.OlP("angularfire2.app.options"),ke=new l.OlP("angularfire2.app.name");function Ze(me,Se,mt){const Ge="object"==typeof mt&&mt||{};Ge.name=Ge.name||"string"==typeof mt&&mt||"[DEFAULT]";const Ae=W.Z.apps.filter(Je=>Je&&Je.name===Ge.name)[0]||Se.runOutsideAngular(()=>W.Z.initializeApp(me,Ge));try{JSON.stringify(me)!==JSON.stringify(Ae.options)&&K("error",`${Ae.name} Firebase App already initialized with different options${At.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new Oe(Ae)}const K=(me,...Se)=>{(0,l.X6Q)()&&typeof console<"u"&&console[me](...Se)};function Xe(me,Se,mt,gt,Ge){const[,Pe,Ae]=globalThis.\u0275AngularfireInstanceCache.find(Je=>Je[0]===me)||[];if(Pe)return function Qe(me,Se){try{return me.toString()===Se.toString()}catch{return me===Se}}(Ge,Ae)||(ut("error",`${Se} was already initialized on the ${mt} Firebase App with different settings.${Le?" You may need to reload as Firebase is not HMR aware.":""}`),ut("warn",{is:Ge,was:Ae})),Pe;{const Je=gt();return globalThis.\u0275AngularfireInstanceCache.push([me,Je,Ge]),Je}}const Le=!!At.hot,ut=(me,...Se)=>{(0,l.X6Q)()&&typeof console<"u"&&console[me](...Se)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},8247:(At,He,z)=>{z.d(He,{$:()=>gc,A:()=>Q,B:()=>Qe,G:()=>ia,H:()=>$r,J:()=>Qs,L:()=>Y,M:()=>bm,N:()=>Em,P:()=>eb,Q:()=>wh,R:()=>Jv,T:()=>Ch,U:()=>ua,V:()=>da,W:()=>xv,X:()=>lS,Y:()=>pc,Z:()=>Vt,_:()=>cS,a:()=>Do,a0:()=>Nv,a1:()=>Di,a2:()=>Tu,a3:()=>Ah,a4:()=>Fv,a5:()=>uS,a6:()=>bi,a7:()=>Os,a8:()=>yc,a9:()=>To,aA:()=>G,aB:()=>Wr,aC:()=>Zn,aD:()=>Fi,aE:()=>It,aI:()=>nl,aL:()=>Ja,aa:()=>dS,ab:()=>Mh,ac:()=>Rh,af:()=>Vv,ag:()=>Uv,ah:()=>Dm,ak:()=>hc,al:()=>zv,an:()=>jv,ao:()=>Uh,ap:()=>Te,aq:()=>je,ar:()=>ft,as:()=>gt,at:()=>cl,au:()=>ds,av:()=>Ft,aw:()=>Ge,ax:()=>de,ay:()=>al,az:()=>ie,b:()=>pa,c:()=>Hn,d:()=>$m,e:()=>Qh,f:()=>Nn,g:()=>Hm,h:()=>An,i:()=>Bu,j:()=>Ls,k:()=>af,l:()=>Tt,m:()=>hs,n:()=>lb,o:()=>ke,r:()=>to,s:()=>Ps,u:()=>Vm,v:()=>bc});var l=z(5861),W=z(2090),H=z(9681),ve=z(1877),Fe=z(655),Oe=z(4859);const ke={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Q={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Qe=function re(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Le=function Xe(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ut=new W.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Se=new ve.Yd("@firebase/auth");function mt(C,...y){Se.logLevel<=ve.in.ERROR&&Se.error(`Auth (${H.SDK_VERSION}): ${C}`,...y)}function gt(C,...y){throw Je(C,...y)}function Ge(C,...y){return Je(C,...y)}function Pe(C,y,b){const I=Object.assign(Object.assign({},Le()),{[y]:b});return new W.LL("auth","Firebase",I).create(y,{appName:C.name})}function Ae(C,y,b){if(!(y instanceof b))throw b.name!==y.constructor.name&&gt(C,"argument-error"),Pe(C,"argument-error",`Type of ${y.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Je(C,...y){if("string"!=typeof C){const b=y[0],I=[...y.slice(1)];return I[0]&&(I[0].appName=C.name),C._errorFactory.create(b,...I)}return ut.create(C,...y)}function de(C,y,...b){if(!C)throw Je(y,...b)}function fe(C){const y="INTERNAL ASSERTION FAILED: "+C;throw mt(y),new Error(y)}function Te(C,y){C||fe(y)}const ne=new Map;function ie(C){Te(C instanceof Function,"Expected a class definition");let y=ne.get(C);return y?(Te(y instanceof C,"Instance stored in cache mismatched with class"),y):(y=new C,ne.set(C,y),y)}function We(){var C;return typeof self<"u"&&(null===(C=self.location)||void 0===C?void 0:C.href)||""}function qe(){return"http:"===wt()||"https:"===wt()}function wt(){var C;return typeof self<"u"&&(null===(C=self.location)||void 0===C?void 0:C.protocol)||null}class et{constructor(y,b){this.shortDelay=y,this.longDelay=b,Te(b>y,"Short delay should be less than long delay!"),this.isMobile=(0,W.uI)()||(0,W.b$)()}get(){return function fn(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(qe()||(0,W.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Tn(C,y){Te(C.emulator,"Emulator should always be set here");const{url:b}=C.emulator;return y?`${b}${y.startsWith("/")?y.slice(1):y}`:b}class hi{static initialize(y,b,I){this.fetchImpl=y,b&&(this.headersImpl=b),I&&(this.responseImpl=I)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void fe("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void fe("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void fe("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Dn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},pn=new et(3e4,6e4);function tn(C,y){return C.tenantId&&!y.tenantId?Object.assign(Object.assign({},y),{tenantId:C.tenantId}):y}function zt(C,y,b,I){return er.apply(this,arguments)}function er(){return(er=(0,l.Z)(function*(C,y,b,I,R={}){return As(C,R,(0,l.Z)(function*(){let N={},se={};I&&("GET"===y?se=I:N={body:JSON.stringify(I)});const xe=(0,W.xO)(Object.assign({key:C.config.apiKey},se)).slice(1),ct=yield C._getAdditionalHeaders();return ct["Content-Type"]="application/json",C.languageCode&&(ct["X-Firebase-Locale"]=C.languageCode),hi.fetch()(xs(C,C.config.apiHost,b,xe),Object.assign({method:y,headers:ct,referrerPolicy:"no-referrer"},N))}))})).apply(this,arguments)}function As(C,y,b){return bo.apply(this,arguments)}function bo(){return(bo=(0,l.Z)(function*(C,y,b){C._canInitEmulator=!1;const I=Object.assign(Object.assign({},Dn),y);try{const R=new hr(C),N=yield Promise.race([b(),R.promise]);R.clearNetworkTimeout();const se=yield N.json();if("needConfirmation"in se)throw tr(C,"account-exists-with-different-credential",se);if(N.ok&&!("errorMessage"in se))return se;{const xe=N.ok?se.errorMessage:se.error.message,[ct,Dt]=xe.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===ct)throw tr(C,"credential-already-in-use",se);if("EMAIL_EXISTS"===ct)throw tr(C,"email-already-in-use",se);if("USER_DISABLED"===ct)throw tr(C,"user-disabled",se);const Xt=I[ct]||ct.toLowerCase().replace(/[_\s]+/g,"-");if(Dt)throw Pe(C,Xt,Dt);gt(C,Xt)}}catch(R){if(R instanceof W.ZR)throw R;gt(C,"network-request-failed")}})).apply(this,arguments)}function oi(C,y,b,I){return Zs.apply(this,arguments)}function Zs(){return(Zs=(0,l.Z)(function*(C,y,b,I,R={}){const N=yield zt(C,y,b,I,R);return"mfaPendingCredential"in N&&gt(C,"multi-factor-auth-required",{_serverResponse:N}),N})).apply(this,arguments)}function xs(C,y,b,I){const R=`${y}${b}?${I}`;return C.config.emulator?Tn(C.config,R):`${C.config.apiScheme}://${R}`}class hr{constructor(y){this.auth=y,this.timer=null,this.promise=new Promise((b,I)=>{this.timer=setTimeout(()=>I(Ge(this.auth,"network-request-failed")),pn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function tr(C,y,b){const I={appName:C.name};b.email&&(I.email=b.email),b.phoneNumber&&(I.phoneNumber=b.phoneNumber);const R=Ge(C,y,I);return R.customData._tokenResponse=b,R}function Eo(){return(Eo=(0,l.Z)(function*(C,y){return zt(C,"POST","/v1/accounts:delete",y)})).apply(this,arguments)}function dt(C,y){return Pi.apply(this,arguments)}function Pi(){return(Pi=(0,l.Z)(function*(C,y){return zt(C,"POST","/v1/accounts:update",y)})).apply(this,arguments)}function Ii(C,y){return Un.apply(this,arguments)}function Un(){return(Un=(0,l.Z)(function*(C,y){return zt(C,"POST","/v1/accounts:lookup",y)})).apply(this,arguments)}function Tr(C){if(C)try{const y=new Date(Number(C));if(!isNaN(y.getTime()))return y.toUTCString()}catch{}}function Wn(){return(Wn=(0,l.Z)(function*(C,y=!1){const b=(0,W.m9)(C),I=yield b.getIdToken(y),R=Ct(I);de(R&&R.exp&&R.auth_time&&R.iat,b.auth,"internal-error");const N="object"==typeof R.firebase?R.firebase:void 0,se=N?.sign_in_provider;return{claims:R,token:I,authTime:Tr(Mn(R.auth_time)),issuedAtTime:Tr(Mn(R.iat)),expirationTime:Tr(Mn(R.exp)),signInProvider:se||null,signInSecondFactor:N?.sign_in_second_factor||null}})).apply(this,arguments)}function Mn(C){return 1e3*Number(C)}function Ct(C){var y;const[b,I,R]=C.split(".");if(void 0===b||void 0===I||void 0===R)return mt("JWT malformed, contained fewer than 3 sections"),null;try{const N=(0,W.tV)(I);return N?JSON.parse(N):(mt("Failed to decode base64 JWT payload"),null)}catch(N){return mt("Caught error parsing JWT payload as JSON",null===(y=N)||void 0===y?void 0:y.toString()),null}}function $t(C,y){return Dr.apply(this,arguments)}function Dr(){return(Dr=(0,l.Z)(function*(C,y,b=!1){if(b)return y;try{return yield y}catch(I){throw I instanceof W.ZR&&Ti(I)&&C.auth.currentUser===C&&(yield C.auth.signOut()),I}})).apply(this,arguments)}function Ti({code:C}){return"auth/user-disabled"===C||"auth/user-token-expired"===C}class fr{constructor(y){this.user=y,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(y){var b;if(y){const I=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),I}{this.errorBackoff=3e4;const R=(null!==(b=this.user.stsTokenManager.expirationTime)&&void 0!==b?b:0)-Date.now()-3e5;return Math.max(0,R)}}schedule(y=!1){var b=this;if(!this.isRunning)return;const I=this.getInterval(y);this.timerId=setTimeout((0,l.Z)(function*(){yield b.iteration()}),I)}iteration(){var y=this;return(0,l.Z)(function*(){var b;try{yield y.user.getIdToken(!0)}catch(I){return void("auth/network-request-failed"===(null===(b=I)||void 0===b?void 0:b.code)&&y.schedule(!0))}y.schedule()})()}}class Nt{constructor(y,b){this.createdAt=y,this.lastLoginAt=b,this._initializeTime()}_initializeTime(){this.lastSignInTime=Tr(this.lastLoginAt),this.creationTime=Tr(this.createdAt)}_copy(y){this.createdAt=y.createdAt,this.lastLoginAt=y.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function pr(C){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,l.Z)(function*(C){var y;const b=C.auth,I=yield C.getIdToken(),R=yield $t(C,Ii(b,{idToken:I}));de(R?.users.length,b,"internal-error");const N=R.users[0];C._notifyReloadListener(N);const se=null!==(y=N.providerUserInfo)&&void 0!==y&&y.length?ti(N.providerUserInfo):[],xe=Hi(C.providerData,se),Xt=!!C.isAnonymous&&!(C.email&&N.passwordHash||xe?.length),bn={uid:N.localId,displayName:N.displayName||null,photoURL:N.photoUrl||null,email:N.email||null,emailVerified:N.emailVerified||!1,phoneNumber:N.phoneNumber||null,tenantId:N.tenantId||null,providerData:xe,metadata:new Nt(N.createdAt,N.lastLoginAt),isAnonymous:Xt};Object.assign(C,bn)})).apply(this,arguments)}function an(){return(an=(0,l.Z)(function*(C){const y=(0,W.m9)(C);yield pr(y),yield y.auth._persistUserIfCurrent(y),y.auth._notifyListenersIfCurrent(y)})).apply(this,arguments)}function Hi(C,y){return[...C.filter(I=>!y.some(R=>R.providerId===I.providerId)),...y]}function ti(C){return C.map(y=>{var{providerId:b}=y,I=(0,Fe._T)(y,["providerId"]);return{providerId:b,uid:I.rawId||"",displayName:I.displayName||null,email:I.email||null,phoneNumber:I.phoneNumber||null,photoURL:I.photoUrl||null}})}function Re(){return(Re=(0,l.Z)(function*(C,y){const b=yield As(C,{},(0,l.Z)(function*(){const I=(0,W.xO)({grant_type:"refresh_token",refresh_token:y}).slice(1),{tokenApiHost:R,apiKey:N}=C.config,se=xs(C,R,"/v1/token",`key=${N}`),xe=yield C._getAdditionalHeaders();return xe["Content-Type"]="application/x-www-form-urlencoded",hi.fetch()(se,{method:"POST",headers:xe,body:I})}));return{accessToken:b.access_token,expiresIn:b.expires_in,refreshToken:b.refresh_token}})).apply(this,arguments)}class ht{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(y){de(y.idToken,"internal-error"),de(typeof y.idToken<"u","internal-error"),de(typeof y.refreshToken<"u","internal-error");const b="expiresIn"in y&&typeof y.expiresIn<"u"?Number(y.expiresIn):function St(C){const y=Ct(C);return de(y,"internal-error"),de(typeof y.exp<"u","internal-error"),de(typeof y.iat<"u","internal-error"),Number(y.exp)-Number(y.iat)}(y.idToken);this.updateTokensAndExpiration(y.idToken,y.refreshToken,b)}getToken(y,b=!1){var I=this;return(0,l.Z)(function*(){return de(!I.accessToken||I.refreshToken,y,"user-token-expired"),b||!I.accessToken||I.isExpired?I.refreshToken?(yield I.refresh(y,I.refreshToken),I.accessToken):null:I.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(y,b){var I=this;return(0,l.Z)(function*(){const{accessToken:R,refreshToken:N,expiresIn:se}=yield function lt(C,y){return Re.apply(this,arguments)}(y,b);I.updateTokensAndExpiration(R,N,Number(se))})()}updateTokensAndExpiration(y,b,I){this.refreshToken=b||null,this.accessToken=y||null,this.expirationTime=Date.now()+1e3*I}static fromJSON(y,b){const{refreshToken:I,accessToken:R,expirationTime:N}=b,se=new ht;return I&&(de("string"==typeof I,"internal-error",{appName:y}),se.refreshToken=I),R&&(de("string"==typeof R,"internal-error",{appName:y}),se.accessToken=R),N&&(de("number"==typeof N,"internal-error",{appName:y}),se.expirationTime=N),se}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(y){this.accessToken=y.accessToken,this.refreshToken=y.refreshToken,this.expirationTime=y.expirationTime}_clone(){return Object.assign(new ht,this.toJSON())}_performRefresh(){return fe("not implemented")}}function Mt(C,y){de("string"==typeof C||typeof C>"u","internal-error",{appName:y})}class Rt{constructor(y){var{uid:b,auth:I,stsTokenManager:R}=y,N=(0,Fe._T)(y,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new fr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=b,this.auth=I,this.stsTokenManager=R,this.accessToken=R.accessToken,this.displayName=N.displayName||null,this.email=N.email||null,this.emailVerified=N.emailVerified||!1,this.phoneNumber=N.phoneNumber||null,this.photoURL=N.photoURL||null,this.isAnonymous=N.isAnonymous||!1,this.tenantId=N.tenantId||null,this.providerData=N.providerData?[...N.providerData]:[],this.metadata=new Nt(N.createdAt||void 0,N.lastLoginAt||void 0)}getIdToken(y){var b=this;return(0,l.Z)(function*(){const I=yield $t(b,b.stsTokenManager.getToken(b.auth,y));return de(I,b.auth,"internal-error"),b.accessToken!==I&&(b.accessToken=I,yield b.auth._persistUserIfCurrent(b),b.auth._notifyListenersIfCurrent(b)),I})()}getIdTokenResult(y){return function $n(C){return Wn.apply(this,arguments)}(this,y)}reload(){return function ss(C){return an.apply(this,arguments)}(this)}_assign(y){this!==y&&(de(this.uid===y.uid,this.auth,"internal-error"),this.displayName=y.displayName,this.photoURL=y.photoURL,this.email=y.email,this.emailVerified=y.emailVerified,this.phoneNumber=y.phoneNumber,this.isAnonymous=y.isAnonymous,this.tenantId=y.tenantId,this.providerData=y.providerData.map(b=>Object.assign({},b)),this.metadata._copy(y.metadata),this.stsTokenManager._assign(y.stsTokenManager))}_clone(y){return new Rt(Object.assign(Object.assign({},this),{auth:y,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(y){de(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=y,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(y){this.reloadListener?this.reloadListener(y):this.reloadUserInfo=y}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(y,b=!1){var I=this;return(0,l.Z)(function*(){let R=!1;y.idToken&&y.idToken!==I.stsTokenManager.accessToken&&(I.stsTokenManager.updateFromServerResponse(y),R=!0),b&&(yield pr(I)),yield I.auth._persistUserIfCurrent(I),R&&I.auth._notifyListenersIfCurrent(I)})()}delete(){var y=this;return(0,l.Z)(function*(){const b=yield y.getIdToken();return yield $t(y,function Ks(C,y){return Eo.apply(this,arguments)}(y.auth,{idToken:b})),y.stsTokenManager.clearRefreshToken(),y.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(y=>Object.assign({},y)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(y,b){var I,R,N,se,xe,ct,Dt,Xt;const bn=null!==(I=b.displayName)&&void 0!==I?I:void 0,Gi=null!==(R=b.email)&&void 0!==R?R:void 0,Yr=null!==(N=b.phoneNumber)&&void 0!==N?N:void 0,qu=null!==(se=b.photoURL)&&void 0!==se?se:void 0,Yu=null!==(xe=b.tenantId)&&void 0!==xe?xe:void 0,Zu=null!==(ct=b._redirectEventId)&&void 0!==ct?ct:void 0,Da=null!==(Dt=b.createdAt)&&void 0!==Dt?Dt:void 0,Zm=null!==(Xt=b.lastLoginAt)&&void 0!==Xt?Xt:void 0,{uid:df,emailVerified:Ku,isAnonymous:Nc,providerData:dl,stsTokenManager:No}=b;de(df&&No,y,"internal-error");const cb=ht.fromJSON(this.name,No);de("string"==typeof df,y,"internal-error"),Mt(bn,y.name),Mt(Gi,y.name),de("boolean"==typeof Ku,y,"internal-error"),de("boolean"==typeof Nc,y,"internal-error"),Mt(Yr,y.name),Mt(qu,y.name),Mt(Yu,y.name),Mt(Zu,y.name),Mt(Da,y.name),Mt(Zm,y.name);const Bn=new Rt({uid:df,auth:y,email:Gi,emailVerified:Ku,displayName:bn,isAnonymous:Nc,photoURL:qu,phoneNumber:Yr,tenantId:Yu,stsTokenManager:cb,createdAt:Da,lastLoginAt:Zm});return dl&&Array.isArray(dl)&&(Bn.providerData=dl.map(ub=>Object.assign({},ub))),Zu&&(Bn._redirectEventId=Zu),Bn}static _fromIdTokenResponse(y,b,I=!1){return(0,l.Z)(function*(){const R=new ht;R.updateFromServerResponse(b);const N=new Rt({uid:b.localId,auth:y,stsTokenManager:R,isAnonymous:I});return yield pr(N),N})()}}const Y=(()=>{class C{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,l.Z)(function*(){return!0})()}_set(b,I){var R=this;return(0,l.Z)(function*(){R.storage[b]=I})()}_get(b){var I=this;return(0,l.Z)(function*(){const R=I.storage[b];return void 0===R?null:R})()}_remove(b){var I=this;return(0,l.Z)(function*(){delete I.storage[b]})()}_addListener(b,I){}_removeListener(b,I){}}return C.type="NONE",C})();function G(C,y,b){return`firebase:${C}:${y}:${b}`}class X{constructor(y,b,I){this.persistence=y,this.auth=b,this.userKey=I;const{config:R,name:N}=this.auth;this.fullUserKey=G(this.userKey,R.apiKey,N),this.fullPersistenceKey=G("persistence",R.apiKey,N),this.boundEventHandler=b._onStorageEvent.bind(b),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(y){return this.persistence._set(this.fullUserKey,y.toJSON())}getCurrentUser(){var y=this;return(0,l.Z)(function*(){const b=yield y.persistence._get(y.fullUserKey);return b?Rt._fromJSON(y.auth,b):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(y){var b=this;return(0,l.Z)(function*(){if(b.persistence===y)return;const I=yield b.getCurrentUser();return yield b.removeCurrentUser(),b.persistence=y,I?b.setCurrentUser(I):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(y,b,I="authUser"){return(0,l.Z)(function*(){if(!b.length)return new X(ie(Y),y,I);const R=(yield Promise.all(b.map(function(){var Dt=(0,l.Z)(function*(Xt){if(yield Xt._isAvailable())return Xt});return function(Xt){return Dt.apply(this,arguments)}}()))).filter(Dt=>Dt);let N=R[0]||ie(Y);const se=G(I,y.config.apiKey,y.name);let xe=null;for(const Dt of b)try{const Xt=yield Dt._get(se);if(Xt){const bn=Rt._fromJSON(y,Xt);Dt!==N&&(xe=bn),N=Dt;break}}catch{}const ct=R.filter(Dt=>Dt._shouldAllowMigration);return N._shouldAllowMigration&&ct.length?(N=ct[0],xe&&(yield N._set(se,xe.toJSON())),yield Promise.all(b.map(function(){var Dt=(0,l.Z)(function*(Xt){if(Xt!==N)try{yield Xt._remove(se)}catch{}});return function(Xt){return Dt.apply(this,arguments)}}())),new X(N,y,I)):new X(N,y,I)})()}}function j(C){const y=C.toLowerCase();if(y.includes("opera/")||y.includes("opr/")||y.includes("opios/"))return"Opera";if(Ve(y))return"IEMobile";if(y.includes("msie")||y.includes("trident/"))return"IE";if(y.includes("edge/"))return"Edge";if(P(y))return"Firefox";if(y.includes("silk/"))return"Silk";if(yt(y))return"Blackberry";if(Me(y))return"Webos";if(V(y))return"Safari";if((y.includes("chrome/")||ce(y))&&!y.includes("edge/"))return"Chrome";if(ft(y))return"Android";{const I=C.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===I?.length)return I[1]}return"Other"}function P(C=(0,W.z$)()){return/firefox\//i.test(C)}function V(C=(0,W.z$)()){const y=C.toLowerCase();return y.includes("safari/")&&!y.includes("chrome/")&&!y.includes("crios/")&&!y.includes("android")}function ce(C=(0,W.z$)()){return/crios\//i.test(C)}function Ve(C=(0,W.z$)()){return/iemobile/i.test(C)}function ft(C=(0,W.z$)()){return/android/i.test(C)}function yt(C=(0,W.z$)()){return/blackberry/i.test(C)}function Me(C=(0,W.z$)()){return/webos/i.test(C)}function je(C=(0,W.z$)()){return/iphone|ipad|ipod/i.test(C)||/macintosh/i.test(C)&&/mobile/i.test(C)}function Ft(C=(0,W.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(C)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(C)}function Sn(C=(0,W.z$)()){return je(C)||ft(C)||Me(C)||yt(C)||/windows phone/i.test(C)||Ve(C)}function Ln(C,y=[]){let b;switch(C){case"Browser":b=j((0,W.z$)());break;case"Worker":b=`${j((0,W.z$)())}-${C}`;break;default:b=C}const I=y.length?y.join(","):"FirebaseCore-web";return`${b}/JsCore/${H.SDK_VERSION}/${I}`}class oc{constructor(y){this.auth=y,this.queue=[]}pushCallback(y,b){const I=N=>new Promise((se,xe)=>{try{se(y(N))}catch(ct){xe(ct)}});I.onAbort=b,this.queue.push(I);const R=this.queue.length-1;return()=>{this.queue[R]=()=>Promise.resolve()}}runMiddleware(y){var b=this;return(0,l.Z)(function*(){var I;if(b.auth.currentUser===y)return;const R=[];try{for(const N of b.queue)yield N(y),N.onAbort&&R.push(N.onAbort)}catch(N){R.reverse();for(const se of R)try{se()}catch{}throw b.auth._errorFactory.create("login-blocked",{originalMessage:null===(I=N)||void 0===I?void 0:I.message})}})()}}class ac{constructor(y,b,I){this.app=y,this.heartbeatServiceProvider=b,this.config=I,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new na(this),this.idTokenSubscription=new na(this),this.beforeStateQueue=new oc(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ut,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=y.name,this.clientVersion=I.sdkClientVersion}_initializeWithPersistence(y,b){var I=this;return b&&(this._popupRedirectResolver=ie(b)),this._initializationPromise=this.queue((0,l.Z)(function*(){var R,N;if(!I._deleted&&(I.persistenceManager=yield X.create(I,y),!I._deleted)){if(null!==(R=I._popupRedirectResolver)&&void 0!==R&&R._shouldInitProactively)try{yield I._popupRedirectResolver._initialize(I)}catch{}yield I.initializeCurrentUser(b),I.lastNotifiedUid=(null===(N=I.currentUser)||void 0===N?void 0:N.uid)||null,!I._deleted&&(I._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var y=this;return(0,l.Z)(function*(){if(y._deleted)return;const b=yield y.assertedPersistence.getCurrentUser();if(y.currentUser||b){if(y.currentUser&&b&&y.currentUser.uid===b.uid)return y._currentUser._assign(b),void(yield y.currentUser.getIdToken());yield y._updateCurrentUser(b,!0)}})()}initializeCurrentUser(y){var b=this;return(0,l.Z)(function*(){var I;const R=yield b.assertedPersistence.getCurrentUser();let N=R,se=!1;if(y&&b.config.authDomain){yield b.getOrInitRedirectPersistenceManager();const xe=null===(I=b.redirectUser)||void 0===I?void 0:I._redirectEventId,ct=N?._redirectEventId,Dt=yield b.tryRedirectSignIn(y);(!xe||xe===ct)&&Dt?.user&&(N=Dt.user,se=!0)}if(!N)return b.directlySetCurrentUser(null);if(!N._redirectEventId){if(se)try{yield b.beforeStateQueue.runMiddleware(N)}catch(xe){N=R,b._popupRedirectResolver._overrideRedirectResult(b,()=>Promise.reject(xe))}return N?b.reloadAndSetCurrentUserOrClear(N):b.directlySetCurrentUser(null)}return de(b._popupRedirectResolver,b,"argument-error"),yield b.getOrInitRedirectPersistenceManager(),b.redirectUser&&b.redirectUser._redirectEventId===N._redirectEventId?b.directlySetCurrentUser(N):b.reloadAndSetCurrentUserOrClear(N)})()}tryRedirectSignIn(y){var b=this;return(0,l.Z)(function*(){let I=null;try{I=yield b._popupRedirectResolver._completeRedirectFn(b,y,!0)}catch{yield b._setRedirectUser(null)}return I})()}reloadAndSetCurrentUserOrClear(y){var b=this;return(0,l.Z)(function*(){var I;try{yield pr(y)}catch(R){if("auth/network-request-failed"!==(null===(I=R)||void 0===I?void 0:I.code))return b.directlySetCurrentUser(null)}return b.directlySetCurrentUser(y)})()}useDeviceLanguage(){this.languageCode=function en(){if(typeof navigator>"u")return null;const C=navigator;return C.languages&&C.languages[0]||C.language||null}()}_delete(){var y=this;return(0,l.Z)(function*(){y._deleted=!0})()}updateCurrentUser(y){var b=this;return(0,l.Z)(function*(){const I=y?(0,W.m9)(y):null;return I&&de(I.auth.config.apiKey===b.config.apiKey,b,"invalid-user-token"),b._updateCurrentUser(I&&I._clone(b))})()}_updateCurrentUser(y,b=!1){var I=this;return(0,l.Z)(function*(){if(!I._deleted)return y&&de(I.tenantId===y.tenantId,I,"tenant-id-mismatch"),b||(yield I.beforeStateQueue.runMiddleware(y)),I.queue((0,l.Z)(function*(){yield I.directlySetCurrentUser(y),I.notifyAuthListeners()}))})()}signOut(){var y=this;return(0,l.Z)(function*(){return yield y.beforeStateQueue.runMiddleware(null),(y.redirectPersistenceManager||y._popupRedirectResolver)&&(yield y._setRedirectUser(null)),y._updateCurrentUser(null,!0)})()}setPersistence(y){var b=this;return this.queue((0,l.Z)(function*(){yield b.assertedPersistence.setPersistence(ie(y))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(y){this._errorFactory=new W.LL("auth","Firebase",y())}onAuthStateChanged(y,b,I){return this.registerStateListener(this.authStateSubscription,y,b,I)}beforeAuthStateChanged(y,b){return this.beforeStateQueue.pushCallback(y,b)}onIdTokenChanged(y,b,I){return this.registerStateListener(this.idTokenSubscription,y,b,I)}toJSON(){var y;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(y=this._currentUser)||void 0===y?void 0:y.toJSON()}}_setRedirectUser(y,b){var I=this;return(0,l.Z)(function*(){const R=yield I.getOrInitRedirectPersistenceManager(b);return null===y?R.removeCurrentUser():R.setCurrentUser(y)})()}getOrInitRedirectPersistenceManager(y){var b=this;return(0,l.Z)(function*(){if(!b.redirectPersistenceManager){const I=y&&ie(y)||b._popupRedirectResolver;de(I,b,"argument-error"),b.redirectPersistenceManager=yield X.create(b,[ie(I._redirectPersistence)],"redirectUser"),b.redirectUser=yield b.redirectPersistenceManager.getCurrentUser()}return b.redirectPersistenceManager})()}_redirectUserForId(y){var b=this;return(0,l.Z)(function*(){var I,R;return b._isInitialized&&(yield b.queue((0,l.Z)(function*(){}))),(null===(I=b._currentUser)||void 0===I?void 0:I._redirectEventId)===y?b._currentUser:(null===(R=b.redirectUser)||void 0===R?void 0:R._redirectEventId)===y?b.redirectUser:null})()}_persistUserIfCurrent(y){var b=this;return(0,l.Z)(function*(){if(y===b.currentUser)return b.queue((0,l.Z)(function*(){return b.directlySetCurrentUser(y)}))})()}_notifyListenersIfCurrent(y){y===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var y,b;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const I=null!==(b=null===(y=this.currentUser)||void 0===y?void 0:y.uid)&&void 0!==b?b:null;this.lastNotifiedUid!==I&&(this.lastNotifiedUid=I,this.authStateSubscription.next(this.currentUser))}registerStateListener(y,b,I,R){if(this._deleted)return()=>{};const N="function"==typeof b?b:b.next.bind(b),se=this._isInitialized?Promise.resolve():this._initializationPromise;return de(se,this,"internal-error"),se.then(()=>N(this.currentUser)),"function"==typeof b?y.addObserver(b,I,R):y.addObserver(b)}directlySetCurrentUser(y){var b=this;return(0,l.Z)(function*(){b.currentUser&&b.currentUser!==y&&b._currentUser._stopProactiveRefresh(),y&&b.isProactiveRefreshEnabled&&y._startProactiveRefresh(),b.currentUser=y,y?yield b.assertedPersistence.setCurrentUser(y):yield b.assertedPersistence.removeCurrentUser()})()}queue(y){return this.operations=this.operations.then(y,y),this.operations}get assertedPersistence(){return de(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(y){!y||this.frameworks.includes(y)||(this.frameworks.push(y),this.frameworks.sort(),this.clientVersion=Ln(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var y=this;return(0,l.Z)(function*(){var b;const I={"X-Client-Version":y.clientVersion};y.app.options.appId&&(I["X-Firebase-gmpid"]=y.app.options.appId);const R=yield null===(b=y.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===b?void 0:b.getHeartbeatsHeader();return R&&(I["X-Firebase-Client"]=R),I})()}}function It(C){return(0,W.m9)(C)}class na{constructor(y){this.auth=y,this.observer=null,this.addObserver=(0,W.ne)(b=>this.observer=b)}get next(){return de(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function ia(C,y,b){const I=It(C);de(I._canInitEmulator,I,"emulator-config-failed"),de(/^https?:\/\//.test(y),I,"invalid-emulator-scheme");const R=!!b?.disableWarnings,N=vu(y),{host:se,port:xe}=function ra(C){const y=vu(C),b=/(\/\/)?([^?#/]+)/.exec(C.substr(y.length));if(!b)return{host:"",port:null};const I=b[2].split("@").pop()||"",R=/^(\[[^\]]+\])(:|$)/.exec(I);if(R){const N=R[1];return{host:N,port:vi(I.substr(N.length+1))}}{const[N,se]=I.split(":");return{host:N,port:vi(se)}}}(y);I.config.emulator={url:`${N}//${se}${null===xe?"":`:${xe}`}/`},I.settings.appVerificationDisabledForTesting=!0,I.emulatorConfig=Object.freeze({host:se,port:xe,protocol:N.replace(":",""),options:Object.freeze({disableWarnings:R})}),R||function sa(){function C(){const y=document.createElement("p"),b=y.style;y.innerText="Running in emulator mode. Do not use with production credentials.",b.position="fixed",b.width="100%",b.backgroundColor="#ffffff",b.border=".1em solid #000000",b.color="#b50000",b.bottom="0px",b.left="0px",b.margin="0px",b.zIndex="10000",b.textAlign="center",y.classList.add("firebase-emulator-warning"),document.body.appendChild(y)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",C):C())}()}function vu(C){const y=C.indexOf(":");return y<0?"":C.substr(0,y+1)}function vi(C){if(!C)return null;const y=Number(C);return isNaN(y)?null:y}class $r{constructor(y,b){this.providerId=y,this.signInMethod=b}toJSON(){return fe("not implemented")}_getIdTokenResponse(y){return fe("not implemented")}_linkToIdToken(y,b){return fe("not implemented")}_getReauthenticationResolver(y){return fe("not implemented")}}function Hr(C,y){return oa.apply(this,arguments)}function oa(){return(oa=(0,l.Z)(function*(C,y){return zt(C,"POST","/v1/accounts:resetPassword",tn(C,y))})).apply(this,arguments)}function vh(C,y){return yn.apply(this,arguments)}function yn(){return(yn=(0,l.Z)(function*(C,y){return zt(C,"POST","/v1/accounts:update",y)})).apply(this,arguments)}function Dv(C,y){return bu.apply(this,arguments)}function bu(){return(bu=(0,l.Z)(function*(C,y){return zt(C,"POST","/v1/accounts:update",tn(C,y))})).apply(this,arguments)}function cc(){return(cc=(0,l.Z)(function*(C,y){return oi(C,"POST","/v1/accounts:signInWithPassword",tn(C,y))})).apply(this,arguments)}function Ar(C,y){return aa.apply(this,arguments)}function aa(){return(aa=(0,l.Z)(function*(C,y){return zt(C,"POST","/v1/accounts:sendOobCode",tn(C,y))})).apply(this,arguments)}function la(C,y){return In.apply(this,arguments)}function In(){return(In=(0,l.Z)(function*(C,y){return Ar(C,y)})).apply(this,arguments)}function Av(C,y){return Ni.apply(this,arguments)}function Ni(){return(Ni=(0,l.Z)(function*(C,y){return Ar(C,y)})).apply(this,arguments)}function xr(C,y){return os.apply(this,arguments)}function os(){return(os=(0,l.Z)(function*(C,y){return Ar(C,y)})).apply(this,arguments)}function wo(C,y){return Co.apply(this,arguments)}function Co(){return(Co=(0,l.Z)(function*(C,y){return Ar(C,y)})).apply(this,arguments)}function Eu(){return(Eu=(0,l.Z)(function*(C,y){return oi(C,"POST","/v1/accounts:signInWithEmailLink",tn(C,y))})).apply(this,arguments)}function bh(){return(bh=(0,l.Z)(function*(C,y){return oi(C,"POST","/v1/accounts:signInWithEmailLink",tn(C,y))})).apply(this,arguments)}class Ka extends $r{constructor(y,b,I,R=null){super("password",I),this._email=y,this._password=b,this._tenantId=R}static _fromEmailAndPassword(y,b){return new Ka(y,b,"password")}static _fromEmailAndCode(y,b,I=null){return new Ka(y,b,"emailLink",I)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(y){const b="string"==typeof y?JSON.parse(y):y;if(b?.email&&b?.password){if("password"===b.signInMethod)return this._fromEmailAndPassword(b.email,b.password);if("emailLink"===b.signInMethod)return this._fromEmailAndCode(b.email,b.password,b.tenantId)}return null}_getIdTokenResponse(y){var b=this;return(0,l.Z)(function*(){switch(b.signInMethod){case"password":return function lc(C,y){return cc.apply(this,arguments)}(y,{returnSecureToken:!0,email:b._email,password:b._password});case"emailLink":return function ks(C,y){return Eu.apply(this,arguments)}(y,{email:b._email,oobCode:b._password});default:gt(y,"internal-error")}})()}_linkToIdToken(y,b){var I=this;return(0,l.Z)(function*(){switch(I.signInMethod){case"password":return vh(y,{idToken:b,returnSecureToken:!0,email:I._email,password:I._password});case"emailLink":return function nS(C,y){return bh.apply(this,arguments)}(y,{idToken:b,email:I._email,oobCode:I._password});default:gt(y,"internal-error")}})()}_getReauthenticationResolver(y){return this._getIdTokenResponse(y)}}function ca(C,y){return zr.apply(this,arguments)}function zr(){return(zr=(0,l.Z)(function*(C,y){return oi(C,"POST","/v1/accounts:signInWithIdp",tn(C,y))})).apply(this,arguments)}class Qs extends $r{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(y){const b=new Qs(y.providerId,y.signInMethod);return y.idToken||y.accessToken?(y.idToken&&(b.idToken=y.idToken),y.accessToken&&(b.accessToken=y.accessToken),y.nonce&&!y.pendingToken&&(b.nonce=y.nonce),y.pendingToken&&(b.pendingToken=y.pendingToken)):y.oauthToken&&y.oauthTokenSecret?(b.accessToken=y.oauthToken,b.secret=y.oauthTokenSecret):gt("argument-error"),b}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(y){const b="string"==typeof y?JSON.parse(y):y,{providerId:I,signInMethod:R}=b,N=(0,Fe._T)(b,["providerId","signInMethod"]);if(!I||!R)return null;const se=new Qs(I,R);return se.idToken=N.idToken||void 0,se.accessToken=N.accessToken||void 0,se.secret=N.secret,se.nonce=N.nonce,se.pendingToken=N.pendingToken||null,se}_getIdTokenResponse(y){return ca(y,this.buildRequest())}_linkToIdToken(y,b){const I=this.buildRequest();return I.idToken=b,ca(y,I)}_getReauthenticationResolver(y){const b=this.buildRequest();return b.autoCreate=!1,ca(y,b)}buildRequest(){const y={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)y.pendingToken=this.pendingToken;else{const b={};this.idToken&&(b.id_token=this.idToken),this.accessToken&&(b.access_token=this.accessToken),this.secret&&(b.oauth_token_secret=this.secret),b.providerId=this.providerId,this.nonce&&!this.pendingToken&&(b.nonce=this.nonce),y.postBody=(0,W.xO)(b)}return y}}function rS(C,y){return pm.apply(this,arguments)}function pm(){return(pm=(0,l.Z)(function*(C,y){return zt(C,"POST","/v1/accounts:sendVerificationCode",tn(C,y))})).apply(this,arguments)}function gm(){return(gm=(0,l.Z)(function*(C,y){return oi(C,"POST","/v1/accounts:signInWithPhoneNumber",tn(C,y))})).apply(this,arguments)}function _m(){return(_m=(0,l.Z)(function*(C,y){const b=yield oi(C,"POST","/v1/accounts:signInWithPhoneNumber",tn(C,y));if(b.temporaryProof)throw tr(C,"account-exists-with-different-credential",b);return b})).apply(this,arguments)}const oS={USER_NOT_FOUND:"user-not-found"};function ym(){return(ym=(0,l.Z)(function*(C,y){return oi(C,"POST","/v1/accounts:signInWithPhoneNumber",tn(C,Object.assign(Object.assign({},y),{operation:"REAUTH"})),oS)})).apply(this,arguments)}class Qa extends $r{constructor(y){super("phone","phone"),this.params=y}static _fromVerification(y,b){return new Qa({verificationId:y,verificationCode:b})}static _fromTokenResponse(y,b){return new Qa({phoneNumber:y,temporaryProof:b})}_getIdTokenResponse(y){return function mm(C,y){return gm.apply(this,arguments)}(y,this._makeVerificationRequest())}_linkToIdToken(y,b){return function sS(C,y){return _m.apply(this,arguments)}(y,Object.assign({idToken:b},this._makeVerificationRequest()))}_getReauthenticationResolver(y){return function aS(C,y){return ym.apply(this,arguments)}(y,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:y,phoneNumber:b,verificationId:I,verificationCode:R}=this.params;return y&&b?{temporaryProof:y,phoneNumber:b}:{sessionInfo:I,code:R}}toJSON(){const y={providerId:this.providerId};return this.params.phoneNumber&&(y.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(y.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(y.verificationCode=this.params.verificationCode),this.params.verificationId&&(y.verificationId=this.params.verificationId),y}static fromJSON(y){"string"==typeof y&&(y=JSON.parse(y));const{verificationId:b,verificationCode:I,phoneNumber:R,temporaryProof:N}=y;return I||b||R||N?new Qa({verificationId:b,verificationCode:I,phoneNumber:R,temporaryProof:N}):null}}class wu{constructor(y){var b,I,R,N,se,xe;const ct=(0,W.zd)((0,W.pd)(y)),Dt=null!==(b=ct.apiKey)&&void 0!==b?b:null,Xt=null!==(I=ct.oobCode)&&void 0!==I?I:null,bn=function vm(C){switch(C){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(R=ct.mode)&&void 0!==R?R:null);de(Dt&&Xt&&bn,"argument-error"),this.apiKey=Dt,this.operation=bn,this.code=Xt,this.continueUrl=null!==(N=ct.continueUrl)&&void 0!==N?N:null,this.languageCode=null!==(se=ct.languageCode)&&void 0!==se?se:null,this.tenantId=null!==(xe=ct.tenantId)&&void 0!==xe?xe:null}static parseLink(y){const b=function Eh(C){const y=(0,W.zd)((0,W.pd)(C)).link,b=y?(0,W.zd)((0,W.pd)(y)).deep_link_id:null,I=(0,W.zd)((0,W.pd)(C)).deep_link_id;return(I?(0,W.zd)((0,W.pd)(I)).link:null)||I||b||y||C}(y);try{return new wu(b)}catch{return null}}}let bm=(()=>{class C{constructor(){this.providerId=C.PROVIDER_ID}static credential(b,I){return Ka._fromEmailAndPassword(b,I)}static credentialWithLink(b,I){const R=wu.parseLink(I);return de(R,"argument-error"),Ka._fromEmailAndCode(b,R.code,R.tenantId)}}return C.PROVIDER_ID="password",C.EMAIL_PASSWORD_SIGN_IN_METHOD="password",C.EMAIL_LINK_SIGN_IN_METHOD="emailLink",C})();class zi{constructor(y){this.providerId=y,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(y){this.defaultLanguageCode=y}setCustomParameters(y){return this.customParameters=y,this}getCustomParameters(){return this.customParameters}}class Xa extends zi{constructor(){super(...arguments),this.scopes=[]}addScope(y){return this.scopes.includes(y)||this.scopes.push(y),this}getScopes(){return[...this.scopes]}}class ua extends Xa{static credentialFromJSON(y){const b="string"==typeof y?JSON.parse(y):y;return de("providerId"in b&&"signInMethod"in b,"argument-error"),Qs._fromParams(b)}credential(y){return this._credential(Object.assign(Object.assign({},y),{nonce:y.rawNonce}))}_credential(y){return de(y.idToken||y.accessToken,"argument-error"),Qs._fromParams(Object.assign(Object.assign({},y),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(y){return ua.oauthCredentialFromTaggedObject(y)}static credentialFromError(y){return ua.oauthCredentialFromTaggedObject(y.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthIdToken:b,oauthAccessToken:I,oauthTokenSecret:R,pendingToken:N,nonce:se,providerId:xe}=y;if(!I&&!R&&!b&&!N||!xe)return null;try{return new ua(xe)._credential({idToken:b,accessToken:I,nonce:se,pendingToken:N})}catch{return null}}}let Em=(()=>{class C extends Xa{constructor(){super("facebook.com")}static credential(b){return Qs._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.FACEBOOK_SIGN_IN_METHOD,accessToken:b})}static credentialFromResult(b){return C.credentialFromTaggedObject(b)}static credentialFromError(b){return C.credentialFromTaggedObject(b.customData||{})}static credentialFromTaggedObject({_tokenResponse:b}){if(!b||!("oauthAccessToken"in b)||!b.oauthAccessToken)return null;try{return C.credential(b.oauthAccessToken)}catch{return null}}}return C.FACEBOOK_SIGN_IN_METHOD="facebook.com",C.PROVIDER_ID="facebook.com",C})(),wh=(()=>{class C extends Xa{constructor(){super("google.com"),this.addScope("profile")}static credential(b,I){return Qs._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.GOOGLE_SIGN_IN_METHOD,idToken:b,accessToken:I})}static credentialFromResult(b){return C.credentialFromTaggedObject(b)}static credentialFromError(b){return C.credentialFromTaggedObject(b.customData||{})}static credentialFromTaggedObject({_tokenResponse:b}){if(!b)return null;const{oauthIdToken:I,oauthAccessToken:R}=b;if(!I&&!R)return null;try{return C.credential(I,R)}catch{return null}}}return C.GOOGLE_SIGN_IN_METHOD="google.com",C.PROVIDER_ID="google.com",C})(),Ch=(()=>{class C extends Xa{constructor(){super("github.com")}static credential(b){return Qs._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.GITHUB_SIGN_IN_METHOD,accessToken:b})}static credentialFromResult(b){return C.credentialFromTaggedObject(b)}static credentialFromError(b){return C.credentialFromTaggedObject(b.customData||{})}static credentialFromTaggedObject({_tokenResponse:b}){if(!b||!("oauthAccessToken"in b)||!b.oauthAccessToken)return null;try{return C.credential(b.oauthAccessToken)}catch{return null}}}return C.GITHUB_SIGN_IN_METHOD="github.com",C.PROVIDER_ID="github.com",C})();class Ja extends $r{constructor(y,b){super(y,y),this.pendingToken=b}_getIdTokenResponse(y){return ca(y,this.buildRequest())}_linkToIdToken(y,b){const I=this.buildRequest();return I.idToken=b,ca(y,I)}_getReauthenticationResolver(y){const b=this.buildRequest();return b.autoCreate=!1,ca(y,b)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(y){const b="string"==typeof y?JSON.parse(y):y,{providerId:I,signInMethod:R,pendingToken:N}=b;return I&&R&&N&&I===R?new Ja(I,N):null}static _create(y,b){return new Ja(y,b)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class da extends zi{constructor(y){de(y.startsWith("saml."),"argument-error"),super(y)}static credentialFromResult(y){return da.samlCredentialFromTaggedObject(y)}static credentialFromError(y){return da.samlCredentialFromTaggedObject(y.customData||{})}static credentialFromJSON(y){const b=Ja.fromJSON(y);return de(b,"argument-error"),b}static samlCredentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{pendingToken:b,providerId:I}=y;if(!b||!I)return null;try{return Ja._create(I,b)}catch{return null}}}let xv=(()=>{class C extends Xa{constructor(){super("twitter.com")}static credential(b,I){return Qs._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.TWITTER_SIGN_IN_METHOD,oauthToken:b,oauthTokenSecret:I})}static credentialFromResult(b){return C.credentialFromTaggedObject(b)}static credentialFromError(b){return C.credentialFromTaggedObject(b.customData||{})}static credentialFromTaggedObject({_tokenResponse:b}){if(!b)return null;const{oauthAccessToken:I,oauthTokenSecret:R}=b;if(!I||!R)return null;try{return C.credential(I,R)}catch{return null}}}return C.TWITTER_SIGN_IN_METHOD="twitter.com",C.PROVIDER_ID="twitter.com",C})();function Mr(C,y){return uc.apply(this,arguments)}function uc(){return(uc=(0,l.Z)(function*(C,y){return oi(C,"POST","/v1/accounts:signUp",tn(C,y))})).apply(this,arguments)}class nr{constructor(y){this.user=y.user,this.providerId=y.providerId,this._tokenResponse=y._tokenResponse,this.operationType=y.operationType}static _fromIdTokenResponse(y,b,I,R=!1){return(0,l.Z)(function*(){const N=yield Rt._fromIdTokenResponse(y,I,R),se=dc(I);return new nr({user:N,providerId:se,_tokenResponse:I,operationType:b})})()}static _forOperation(y,b,I){return(0,l.Z)(function*(){yield y._updateTokensIfNecessary(I,!0);const R=dc(I);return new nr({user:y,providerId:R,_tokenResponse:I,operationType:b})})()}}function dc(C){return C.providerId?C.providerId:"phoneNumber"in C?"phone":null}function lS(C){return Mv.apply(this,arguments)}function Mv(){return(Mv=(0,l.Z)(function*(C){var y;const b=It(C);if(yield b._initializationPromise,null!==(y=b.currentUser)&&void 0!==y&&y.isAnonymous)return new nr({user:b.currentUser,providerId:null,operationType:"signIn"});const I=yield Mr(b,{returnSecureToken:!0}),R=yield nr._fromIdTokenResponse(b,"signIn",I,!0);return yield b._updateCurrentUser(R.user),R})).apply(this,arguments)}class ni extends W.ZR{constructor(y,b,I,R){var N;super(b.code,b.message),this.operationType=I,this.user=R,Object.setPrototypeOf(this,ni.prototype),this.customData={appName:y.name,tenantId:null!==(N=y.tenantId)&&void 0!==N?N:void 0,_serverResponse:b.customData._serverResponse,operationType:I}}static _fromErrorAndOperation(y,b,I,R){return new ni(y,b,I,R)}}function Cm(C,y,b,I){return("reauthenticate"===y?b._getReauthenticationResolver(C):b._getIdTokenResponse(C)).catch(N=>{throw"auth/multi-factor-auth-required"===N.code?ni._fromErrorAndOperation(C,N,y,I):N})}function kv(C){return new Set(C.map(({providerId:y})=>y).filter(y=>!!y))}function hc(C,y){return mr.apply(this,arguments)}function mr(){return(mr=(0,l.Z)(function*(C,y){const b=(0,W.m9)(C);yield So(!0,b,y);const{providerUserInfo:I}=yield dt(b.auth,{idToken:yield b.getIdToken(),deleteProvider:[y]}),R=kv(I||[]);return b.providerData=b.providerData.filter(N=>R.has(N.providerId)),R.has("phone")||(b.phoneNumber=null),yield b.auth._persistUserIfCurrent(b),b})).apply(this,arguments)}function Sm(C,y){return fc.apply(this,arguments)}function fc(){return(fc=(0,l.Z)(function*(C,y,b=!1){const I=yield $t(C,y._linkToIdToken(C.auth,yield C.getIdToken()),b);return nr._forOperation(C,"link",I)})).apply(this,arguments)}function So(C,y,b){return vn.apply(this,arguments)}function vn(){return(vn=(0,l.Z)(function*(C,y,b){yield pr(y);const R=!1===C?"provider-already-linked":"no-such-provider";de(kv(y.providerData).has(b)===C,y.auth,R)})).apply(this,arguments)}function Rv(C,y){return Io.apply(this,arguments)}function Io(){return(Io=(0,l.Z)(function*(C,y,b=!1){var I;const{auth:R}=C,N="reauthenticate";try{const se=yield $t(C,Cm(R,N,y,C),b);de(se.idToken,R,"internal-error");const xe=Ct(se.idToken);de(xe,R,"internal-error");const{sub:ct}=xe;return de(C.uid===ct,R,"user-mismatch"),nr._forOperation(C,N,se)}catch(se){throw"auth/user-not-found"===(null===(I=se)||void 0===I?void 0:I.code)&&gt(R,"user-mismatch"),se}})).apply(this,arguments)}function Ov(C,y){return Rs.apply(this,arguments)}function Rs(){return(Rs=(0,l.Z)(function*(C,y,b=!1){const I="signIn",R=yield Cm(C,I,y),N=yield nr._fromIdTokenResponse(C,I,R);return b||(yield C._updateCurrentUser(N.user)),N})).apply(this,arguments)}function pc(C,y){return mc.apply(this,arguments)}function mc(){return(mc=(0,l.Z)(function*(C,y){return Ov(It(C),y)})).apply(this,arguments)}function Vt(C,y){return Sh.apply(this,arguments)}function Sh(){return(Sh=(0,l.Z)(function*(C,y){const b=(0,W.m9)(C);return yield So(!1,b,y.providerId),Sm(b,y)})).apply(this,arguments)}function cS(C,y){return Ih.apply(this,arguments)}function Ih(){return(Ih=(0,l.Z)(function*(C,y){return Rv((0,W.m9)(C),y)})).apply(this,arguments)}function Pv(C,y){return Th.apply(this,arguments)}function Th(){return(Th=(0,l.Z)(function*(C,y){return oi(C,"POST","/v1/accounts:signInWithCustomToken",tn(C,y))})).apply(this,arguments)}function gc(C,y){return Dh.apply(this,arguments)}function Dh(){return(Dh=(0,l.Z)(function*(C,y){const b=It(C),I=yield Pv(b,{token:y,returnSecureToken:!0}),R=yield nr._fromIdTokenResponse(b,"signIn",I);return yield b._updateCurrentUser(R.user),R})).apply(this,arguments)}class Cu{constructor(y,b){this.factorId=y,this.uid=b.mfaEnrollmentId,this.enrollmentTime=new Date(b.enrolledAt).toUTCString(),this.displayName=b.displayName}static _fromServerResponse(y,b){return"phoneInfo"in b?Be._fromServerResponse(y,b):gt(y,"internal-error")}}class Be extends Cu{constructor(y){super("phone",y),this.phoneNumber=y.phoneInfo}static _fromServerResponse(y,b){return new Be(b)}}function sn(C,y,b){var I;de((null===(I=b.url)||void 0===I?void 0:I.length)>0,C,"invalid-continue-uri"),de(typeof b.dynamicLinkDomain>"u"||b.dynamicLinkDomain.length>0,C,"invalid-dynamic-link-domain"),y.continueUrl=b.url,y.dynamicLinkDomain=b.dynamicLinkDomain,y.canHandleCodeInApp=b.handleCodeInApp,b.iOS&&(de(b.iOS.bundleId.length>0,C,"missing-ios-bundle-id"),y.iOSBundleId=b.iOS.bundleId),b.android&&(de(b.android.packageName.length>0,C,"missing-android-pkg-name"),y.androidInstallApp=b.android.installApp,y.androidMinimumVersionCode=b.android.minimumVersion,y.androidPackageName=b.android.packageName)}function Nv(C,y,b){return Su.apply(this,arguments)}function Su(){return(Su=(0,l.Z)(function*(C,y,b){const I=(0,W.m9)(C),R={requestType:"PASSWORD_RESET",email:y};b&&sn(I,R,b),yield Av(I,R)})).apply(this,arguments)}function Di(C,y,b){return Iu.apply(this,arguments)}function Iu(){return(Iu=(0,l.Z)(function*(C,y,b){yield Hr((0,W.m9)(C),{oobCode:y,newPassword:b})})).apply(this,arguments)}function Tu(C,y){return jr.apply(this,arguments)}function jr(){return(jr=(0,l.Z)(function*(C,y){yield Dv((0,W.m9)(C),{oobCode:y})})).apply(this,arguments)}function Ah(C,y){return Du.apply(this,arguments)}function Du(){return(Du=(0,l.Z)(function*(C,y){const b=(0,W.m9)(C),I=yield Hr(b,{oobCode:y}),R=I.requestType;switch(de(R,b,"internal-error"),R){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":de(I.newEmail,b,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":de(I.mfaInfo,b,"internal-error");default:de(I.email,b,"internal-error")}let N=null;return I.mfaInfo&&(N=Cu._fromServerResponse(It(b),I.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===I.requestType?I.newEmail:I.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===I.requestType?I.email:I.newEmail)||null,multiFactorInfo:N},operation:R}})).apply(this,arguments)}function Fv(C,y){return xh.apply(this,arguments)}function xh(){return(xh=(0,l.Z)(function*(C,y){const{data:b}=yield Ah((0,W.m9)(C),y);return b.email})).apply(this,arguments)}function uS(C,y,b){return el.apply(this,arguments)}function el(){return(el=(0,l.Z)(function*(C,y,b){const I=It(C),R=yield Mr(I,{returnSecureToken:!0,email:y,password:b}),N=yield nr._fromIdTokenResponse(I,"signIn",R);return yield I._updateCurrentUser(N.user),N})).apply(this,arguments)}function bi(C,y,b){return pc((0,W.m9)(C),bm.credential(y,b))}function Os(C,y,b){return _c.apply(this,arguments)}function _c(){return(_c=(0,l.Z)(function*(C,y,b){const I=(0,W.m9)(C),R={requestType:"EMAIL_SIGNIN",email:y};de(b.handleCodeInApp,I,"argument-error"),b&&sn(I,R,b),yield xr(I,R)})).apply(this,arguments)}function yc(C,y){return"EMAIL_SIGNIN"===wu.parseLink(y)?.operation}function To(C,y,b){return Im.apply(this,arguments)}function Im(){return(Im=(0,l.Z)(function*(C,y,b){const I=(0,W.m9)(C),R=bm.credentialWithLink(y,b||We());return de(R._tenantId===(I.tenantId||null),I,"tenant-id-mismatch"),pc(I,R)})).apply(this,arguments)}function Lv(C,y){return Tm.apply(this,arguments)}function Tm(){return(Tm=(0,l.Z)(function*(C,y){return zt(C,"POST","/v1/accounts:createAuthUri",tn(C,y))})).apply(this,arguments)}function dS(C,y){return Au.apply(this,arguments)}function Au(){return(Au=(0,l.Z)(function*(C,y){const I={identifier:y,continueUri:qe()?We():"http://localhost"},{signinMethods:R}=yield Lv((0,W.m9)(C),I);return R||[]})).apply(this,arguments)}function Mh(C,y){return kh.apply(this,arguments)}function kh(){return(kh=(0,l.Z)(function*(C,y){const b=(0,W.m9)(C),R={requestType:"VERIFY_EMAIL",idToken:yield C.getIdToken()};y&&sn(b.auth,R,y);const{email:N}=yield la(b.auth,R);N!==C.email&&(yield C.reload())})).apply(this,arguments)}function Rh(C,y,b){return Oh.apply(this,arguments)}function Oh(){return(Oh=(0,l.Z)(function*(C,y,b){const I=(0,W.m9)(C),N={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield C.getIdToken(),newEmail:y};b&&sn(I.auth,N,b);const{email:se}=yield wo(I.auth,N);se!==C.email&&(yield C.reload())})).apply(this,arguments)}function Bv(C,y){return xu.apply(this,arguments)}function xu(){return(xu=(0,l.Z)(function*(C,y){return zt(C,"POST","/v1/accounts:update",y)})).apply(this,arguments)}function Vv(C,y){return Ph.apply(this,arguments)}function Ph(){return(Ph=(0,l.Z)(function*(C,{displayName:y,photoURL:b}){if(void 0===y&&void 0===b)return;const I=(0,W.m9)(C),N={idToken:yield I.getIdToken(),displayName:y,photoUrl:b,returnSecureToken:!0},se=yield $t(I,Bv(I.auth,N));I.displayName=se.displayName||null,I.photoURL=se.photoUrl||null;const xe=I.providerData.find(({providerId:ct})=>"password"===ct);xe&&(xe.displayName=I.displayName,xe.photoURL=I.photoURL),yield I._updateTokensIfNecessary(se)})).apply(this,arguments)}function Uv(C,y){return tl((0,W.m9)(C),y,null)}function Dm(C,y){return tl((0,W.m9)(C),null,y)}function tl(C,y,b){return ha.apply(this,arguments)}function ha(){return(ha=(0,l.Z)(function*(C,y,b){const{auth:I}=C,N={idToken:yield C.getIdToken(),returnSecureToken:!0};y&&(N.email=y),b&&(N.password=b);const se=yield $t(C,vh(I,N));yield C._updateTokensIfNecessary(se,!0)})).apply(this,arguments)}class qn{constructor(y,b,I={}){this.isNewUser=y,this.providerId=b,this.profile=I}}class Xs extends qn{constructor(y,b,I,R){super(y,b,I),this.username=R}}class Yn extends qn{constructor(y,b){super(y,"facebook.com",b)}}class Am extends Xs{constructor(y,b){super(y,"github.com",b,"string"==typeof b?.login?b?.login:null)}}class Hv extends qn{constructor(y,b){super(y,"google.com",b)}}class xm extends Xs{constructor(y,b,I){super(y,"twitter.com",b,I)}}function zv(C){const{user:y,_tokenResponse:b}=C;return y.isAnonymous&&!b?{providerId:null,isNewUser:!1,profile:null}:function $v(C){var y,b;if(!C)return null;const{providerId:I}=C,R=C.rawUserInfo?JSON.parse(C.rawUserInfo):{},N=C.isNewUser||"identitytoolkit#SignupNewUserResponse"===C.kind;if(!I&&C?.idToken){const se=null===(b=null===(y=Ct(C.idToken))||void 0===y?void 0:y.firebase)||void 0===b?void 0:b.sign_in_provider;if(se)return new qn(N,"anonymous"!==se&&"custom"!==se?se:null)}if(!I)return null;switch(I){case"facebook.com":return new Yn(N,R);case"github.com":return new Am(N,R);case"google.com":return new Hv(N,R);case"twitter.com":return new xm(N,R,C.screenName||null);case"custom":case"anonymous":return new qn(N,null);default:return new qn(N,I,R)}}(b)}function bc(C,y,b,I){return(0,W.m9)(C).onAuthStateChanged(y,b,I)}class Gr{constructor(y,b,I){this.type=y,this.credential=b,this.auth=I}static _fromIdtoken(y,b){return new Gr("enroll",y,b)}static _fromMfaPendingCredential(y){return new Gr("signin",y)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(y){var b,I;if(y?.multiFactorSession){if(null!==(b=y.multiFactorSession)&&void 0!==b&&b.pendingCredential)return Gr._fromMfaPendingCredential(y.multiFactorSession.pendingCredential);if(null!==(I=y.multiFactorSession)&&void 0!==I&&I.idToken)return Gr._fromIdtoken(y.multiFactorSession.idToken)}return null}}class Bh{constructor(y,b,I){this.session=y,this.hints=b,this.signInResolver=I}static _fromError(y,b){const I=It(y),R=b.customData._serverResponse,N=(R.mfaInfo||[]).map(xe=>Cu._fromServerResponse(I,xe));de(R.mfaPendingCredential,I,"internal-error");const se=Gr._fromMfaPendingCredential(R.mfaPendingCredential);return new Bh(se,N,function(){var xe=(0,l.Z)(function*(ct){const Dt=yield ct._process(I,se);delete R.mfaInfo,delete R.mfaPendingCredential;const Xt=Object.assign(Object.assign({},R),{idToken:Dt.idToken,refreshToken:Dt.refreshToken});switch(b.operationType){case"signIn":const bn=yield nr._fromIdTokenResponse(I,b.operationType,Xt);return yield I._updateCurrentUser(bn.user),bn;case"reauthenticate":return de(b.user,I,"internal-error"),nr._forOperation(b.user,b.operationType,Xt);default:gt(I,"internal-error")}});return function(ct){return xe.apply(this,arguments)}}())}resolveSignIn(y){var b=this;return(0,l.Z)(function*(){return b.signInResolver(y)})()}}function jv(C,y){var b;const I=(0,W.m9)(C),R=y;return de(y.customData.operationType,I,"argument-error"),de(null===(b=R.customData._serverResponse)||void 0===b?void 0:b.mfaPendingCredential,I,"argument-error"),Bh._fromError(I,R)}function Ec(C,y){return zt(C,"POST","/v2/accounts/mfaEnrollment:start",tn(C,y))}class Ru{constructor(y){this.user=y,this.enrolledFactors=[],y._onReload(b=>{b.mfaInfo&&(this.enrolledFactors=b.mfaInfo.map(I=>Cu._fromServerResponse(y.auth,I)))})}static _fromUser(y){return new Ru(y)}getSession(){var y=this;return(0,l.Z)(function*(){return Gr._fromIdtoken(yield y.user.getIdToken(),y.user.auth)})()}enroll(y,b){var I=this;return(0,l.Z)(function*(){const R=y,N=yield I.getSession(),se=yield $t(I.user,R._process(I.user.auth,N,b));return yield I.user._updateTokensIfNecessary(se),I.user.reload()})()}unenroll(y){var b=this;return(0,l.Z)(function*(){var I;const R="string"==typeof y?y:y.uid,N=yield b.user.getIdToken(),se=yield $t(b.user,function ku(C,y){return zt(C,"POST","/v2/accounts/mfaEnrollment:withdraw",tn(C,y))}(b.user.auth,{idToken:N,mfaEnrollmentId:R}));b.enrolledFactors=b.enrolledFactors.filter(({uid:xe})=>xe!==R),yield b.user._updateTokensIfNecessary(se);try{yield b.user.reload()}catch(xe){if("auth/user-token-expired"!==(null===(I=xe)||void 0===I?void 0:I.code))throw xe}})()}}const Gv=new WeakMap;function Uh(C){const y=(0,W.m9)(C);return Gv.has(y)||Gv.set(y,Ru._fromUser(y)),Gv.get(y)}const Js="__sak";class $h{constructor(y,b){this.storageRetriever=y,this.type=b}_isAvailable(){try{return this.storage?(this.storage.setItem(Js,"1"),this.storage.removeItem(Js),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(y,b){return this.storage.setItem(y,JSON.stringify(b)),Promise.resolve()}_get(y){const b=this.storage.getItem(y);return Promise.resolve(b?JSON.parse(b):null)}_remove(y){return this.storage.removeItem(y),Promise.resolve()}get storage(){return this.storageRetriever()}}const pa=(()=>{class C extends $h{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(b,I)=>this.onStorageEvent(b,I),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Hh(){const C=(0,W.z$)();return V(C)||je(C)}()&&function Ms(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Sn(),this._shouldAllowMigration=!0}forAllChangedKeys(b){for(const I of Object.keys(this.listeners)){const R=this.storage.getItem(I),N=this.localCache[I];R!==N&&b(I,N,R)}}onStorageEvent(b,I=!1){if(!b.key)return void this.forAllChangedKeys((xe,ct,Dt)=>{this.notifyListeners(xe,Dt)});const R=b.key;if(I?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const xe=this.storage.getItem(R);if(b.newValue!==xe)null!==b.newValue?this.storage.setItem(R,b.newValue):this.storage.removeItem(R);else if(this.localCache[R]===b.newValue&&!I)return}const N=()=>{const xe=this.storage.getItem(R);!I&&this.localCache[R]===xe||this.notifyListeners(R,xe)},se=this.storage.getItem(R);!function Gt(){return(0,W.w1)()&&10===document.documentMode}()||se===b.newValue||b.newValue===b.oldValue?N():setTimeout(N,10)}notifyListeners(b,I){this.localCache[b]=I;const R=this.listeners[b];if(R)for(const N of Array.from(R))N(I&&JSON.parse(I))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((b,I,R)=>{this.onStorageEvent(new StorageEvent("storage",{key:b,oldValue:I,newValue:R}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(b,I){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[b]||(this.listeners[b]=new Set,this.localCache[b]=this.storage.getItem(b)),this.listeners[b].add(I)}_removeListener(b,I){this.listeners[b]&&(this.listeners[b].delete(I),0===this.listeners[b].size&&delete this.listeners[b]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(b,I){var R=()=>super._set,N=this;return(0,l.Z)(function*(){yield R().call(N,b,I),N.localCache[b]=JSON.stringify(I)})()}_get(b){var I=()=>super._get,R=this;return(0,l.Z)(function*(){const N=yield I().call(R,b);return R.localCache[b]=JSON.stringify(N),N})()}_remove(b){var I=()=>super._remove,R=this;return(0,l.Z)(function*(){yield I().call(R,b),delete R.localCache[b]})()}}return C.type="LOCAL",C})(),Do=(()=>{class C extends $h{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(b,I){}_removeListener(b,I){}}return C.type="SESSION",C})();let Ou=(()=>{class C{constructor(b){this.eventTarget=b,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(b){const I=this.receivers.find(N=>N.isListeningto(b));if(I)return I;const R=new C(b);return this.receivers.push(R),R}isListeningto(b){return this.eventTarget===b}handleEvent(b){var I=this;return(0,l.Z)(function*(){const R=b,{eventId:N,eventType:se,data:xe}=R.data,ct=I.handlersMap[se];if(!ct?.size)return;R.ports[0].postMessage({status:"ack",eventId:N,eventType:se});const Dt=Array.from(ct).map(function(){var bn=(0,l.Z)(function*(Gi){return Gi(R.origin,xe)});return function(Gi){return bn.apply(this,arguments)}}()),Xt=yield function zh(C){return Promise.all(C.map(function(){var y=(0,l.Z)(function*(b){try{return{fulfilled:!0,value:yield b}}catch(I){return{fulfilled:!1,reason:I}}});return function(b){return y.apply(this,arguments)}}()))}(Dt);R.ports[0].postMessage({status:"done",eventId:N,eventType:se,response:Xt})})()}_subscribe(b,I){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[b]||(this.handlersMap[b]=new Set),this.handlersMap[b].add(I)}_unsubscribe(b,I){this.handlersMap[b]&&I&&this.handlersMap[b].delete(I),(!I||0===this.handlersMap[b].size)&&delete this.handlersMap[b],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return C.receivers=[],C})();function nl(C="",y=10){let b="";for(let I=0;I<y;I++)b+=Math.floor(10*Math.random());return C+b}class Yv{constructor(y){this.target=y,this.handlers=new Set}removeMessageHandler(y){y.messageChannel&&(y.messageChannel.port1.removeEventListener("message",y.onMessage),y.messageChannel.port1.close()),this.handlers.delete(y)}_send(y,b,I=50){var R=this;return(0,l.Z)(function*(){const N=typeof MessageChannel<"u"?new MessageChannel:null;if(!N)throw new Error("connection_unavailable");let se,xe;return new Promise((ct,Dt)=>{const Xt=nl("",20);N.port1.start();const bn=setTimeout(()=>{Dt(new Error("unsupported_event"))},I);xe={messageChannel:N,onMessage(Gi){const Yr=Gi;if(Yr.data.eventId===Xt)switch(Yr.data.status){case"ack":clearTimeout(bn),se=setTimeout(()=>{Dt(new Error("timeout"))},3e3);break;case"done":clearTimeout(se),ct(Yr.data.response);break;default:clearTimeout(bn),clearTimeout(se),Dt(new Error("invalid_response"))}}},R.handlers.add(xe),N.port1.addEventListener("message",xe.onMessage),R.target.postMessage({eventType:y,eventId:Xt,data:b},[N.port2])}).finally(()=>{xe&&R.removeMessageHandler(xe)})})()}}function Ei(){return window}function ls(){return typeof Ei().WorkerGlobalScope<"u"&&"function"==typeof Ei().importScripts}function ma(){return(ma=(0,l.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Cc="firebaseLocalStorageDb",Ic="firebaseLocalStorage",Nu="fbase_key";class ga{constructor(y){this.request=y}toPromise(){return new Promise((y,b)=>{this.request.addEventListener("success",()=>{y(this.request.result)}),this.request.addEventListener("error",()=>{b(this.request.error)})})}}function Fu(C,y){return C.transaction([Ic],y?"readwrite":"readonly").objectStore(Ic)}function Pm(){const C=indexedDB.open(Cc,1);return new Promise((y,b)=>{C.addEventListener("error",()=>{b(C.error)}),C.addEventListener("upgradeneeded",()=>{const I=C.result;try{I.createObjectStore(Ic,{keyPath:Nu})}catch(R){b(R)}}),C.addEventListener("success",(0,l.Z)(function*(){const I=C.result;I.objectStoreNames.contains(Ic)?y(I):(I.close(),yield function Om(){const C=indexedDB.deleteDatabase(Cc);return new ga(C).toPromise()}(),y(yield Pm()))}))})}function Tc(C,y,b){return eo.apply(this,arguments)}function eo(){return(eo=(0,l.Z)(function*(C,y,b){const I=Fu(C,!0).put({[Nu]:y,value:b});return new ga(I).toPromise()})).apply(this,arguments)}function Lu(){return(Lu=(0,l.Z)(function*(C,y){const b=Fu(C,!1).get(y),I=yield new ga(b).toPromise();return void 0===I?null:I.value})).apply(this,arguments)}function Nm(C,y){const b=Fu(C,!0).delete(y);return new ga(b).toPromise()}const Bu=(()=>{class C{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var b=this;return(0,l.Z)(function*(){return b.db||(b.db=yield Pm()),b.db})()}_withRetries(b){var I=this;return(0,l.Z)(function*(){let R=0;for(;;)try{const N=yield I._openDb();return yield b(N)}catch(N){if(R++>3)throw N;I.db&&(I.db.close(),I.db=void 0)}})()}initializeServiceWorkerMessaging(){var b=this;return(0,l.Z)(function*(){return ls()?b.initializeReceiver():b.initializeSender()})()}initializeReceiver(){var b=this;return(0,l.Z)(function*(){b.receiver=Ou._getInstance(function Pu(){return ls()?self:null}()),b.receiver._subscribe("keyChanged",function(){var I=(0,l.Z)(function*(R,N){return{keyProcessed:(yield b._poll()).includes(N.key)}});return function(R,N){return I.apply(this,arguments)}}()),b.receiver._subscribe("ping",function(){var I=(0,l.Z)(function*(R,N){return["keyChanged"]});return function(R,N){return I.apply(this,arguments)}}())})()}initializeSender(){var b=this;return(0,l.Z)(function*(){var I,R;if(b.activeServiceWorker=yield function Zv(){return ma.apply(this,arguments)}(),!b.activeServiceWorker)return;b.sender=new Yv(b.activeServiceWorker);const N=yield b.sender._send("ping",{},800);!N||(null===(I=N[0])||void 0===I?void 0:I.fulfilled)&&(null===(R=N[0])||void 0===R?void 0:R.value.includes("keyChanged"))&&(b.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(b){var I=this;return(0,l.Z)(function*(){if(I.sender&&I.activeServiceWorker&&function jh(){var C;return(null===(C=navigator?.serviceWorker)||void 0===C?void 0:C.controller)||null}()===I.activeServiceWorker)try{yield I.sender._send("keyChanged",{key:b},I.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,l.Z)(function*(){try{if(!indexedDB)return!1;const b=yield Pm();return yield Tc(b,Js,"1"),yield Nm(b,Js),!0}catch{}return!1})()}_withPendingWrite(b){var I=this;return(0,l.Z)(function*(){I.pendingWrites++;try{yield b()}finally{I.pendingWrites--}})()}_set(b,I){var R=this;return(0,l.Z)(function*(){return R._withPendingWrite((0,l.Z)(function*(){return yield R._withRetries(N=>Tc(N,b,I)),R.localCache[b]=I,R.notifyServiceWorker(b)}))})()}_get(b){var I=this;return(0,l.Z)(function*(){const R=yield I._withRetries(N=>function Kv(C,y){return Lu.apply(this,arguments)}(N,b));return I.localCache[b]=R,R})()}_remove(b){var I=this;return(0,l.Z)(function*(){return I._withPendingWrite((0,l.Z)(function*(){return yield I._withRetries(R=>Nm(R,b)),delete I.localCache[b],I.notifyServiceWorker(b)}))})()}_poll(){var b=this;return(0,l.Z)(function*(){const I=yield b._withRetries(se=>{const xe=Fu(se,!1).getAll();return new ga(xe).toPromise()});if(!I)return[];if(0!==b.pendingWrites)return[];const R=[],N=new Set;for(const{fbase_key:se,value:xe}of I)N.add(se),JSON.stringify(b.localCache[se])!==JSON.stringify(xe)&&(b.notifyListeners(se,xe),R.push(se));for(const se of Object.keys(b.localCache))b.localCache[se]&&!N.has(se)&&(b.notifyListeners(se,null),R.push(se));return R})()}notifyListeners(b,I){this.localCache[b]=I;const R=this.listeners[b];if(R)for(const N of Array.from(R))N(I)}startPolling(){var b=this;this.stopPolling(),this.pollTimer=setInterval((0,l.Z)(function*(){return b._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(b,I){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[b]||(this.listeners[b]=new Set,this._get(b)),this.listeners[b].add(I)}_removeListener(b,I){this.listeners[b]&&(this.listeners[b].delete(I),0===this.listeners[b].size&&delete this.listeners[b]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return C.type="LOCAL",C})();function Qv(C,y){return zt(C,"POST","/v2/accounts/mfaSignIn:start",tn(C,y))}function _a(){return(_a=(0,l.Z)(function*(C){return(yield zt(C,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function il(C){return new Promise((y,b)=>{const I=document.createElement("script");I.setAttribute("src",C),I.onload=y,I.onerror=R=>{const N=Ge("internal-error");N.customData=R,b(N)},I.type="text/javascript",I.charset="UTF-8",function Ac(){var C,y;return null!==(y=null===(C=document.getElementsByTagName("head"))||void 0===C?void 0:C[0])&&void 0!==y?y:document}().appendChild(I)})}function Gh(C){return`__${C}${Math.floor(1e6*Math.random())}`}const Bm=1e12;class hS{constructor(y){this.auth=y,this.counter=Bm,this._widgets=new Map}render(y,b){const I=this.counter;return this._widgets.set(I,new Rn(y,this.auth.name,b||{})),this.counter++,I}reset(y){var b;const I=y||Bm;null===(b=this._widgets.get(I))||void 0===b||b.delete(),this._widgets.delete(I)}getResponse(y){var b;return(null===(b=this._widgets.get(y||Bm))||void 0===b?void 0:b.getResponse())||""}execute(y){var b=this;return(0,l.Z)(function*(){var I;return null===(I=b._widgets.get(y||Bm))||void 0===I||I.execute(),""})()}}class Rn{constructor(y,b,I){this.params=I,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const R="string"==typeof y?document.getElementById(y):y;de(R,"argument-error",{appName:b}),this.container=R,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function fS(C){const y=[],b="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let I=0;I<C;I++)y.push(b.charAt(Math.floor(Math.random()*b.length)));return y.join("")}(50);const{callback:y,"expired-callback":b}=this.params;if(y)try{y(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,b)try{b()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Xv=Gh("rcb"),qM=new et(3e4,6e4);class ZM{constructor(){var y;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(y=Ei().grecaptcha)||void 0===y||!y.render)}load(y,b=""){return de(function KM(C){return C.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(C)}(b),y,"argument-error"),this.shouldResolveImmediately(b)?Promise.resolve(Ei().grecaptcha):new Promise((I,R)=>{const N=Ei().setTimeout(()=>{R(Ge(y,"network-request-failed"))},qM.get());Ei()[Xv]=()=>{Ei().clearTimeout(N),delete Ei()[Xv];const xe=Ei().grecaptcha;if(!xe)return void R(Ge(y,"internal-error"));const ct=xe.render;xe.render=(Dt,Xt)=>{const bn=ct(Dt,Xt);return this.counter++,bn},this.hostLanguage=b,I(xe)},il(`https://www.google.com/recaptcha/api.js??${(0,W.xO)({onload:Xv,render:"explicit",hl:b})}`).catch(()=>{clearTimeout(N),R(Ge(y,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(y){var b;return!(null===(b=Ei().grecaptcha)||void 0===b||!b.render)&&(y===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class QM{load(y){return(0,l.Z)(function*(){return new hS(y)})()}clearedOneInstance(){}}const xo="recaptcha",pS={theme:"light",type:"image"};class Jv{constructor(y,b=Object.assign({},pS),I){this.parameters=b,this.type=xo,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=It(I),this.isInvisible="invisible"===this.parameters.size,de(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const R="string"==typeof y?document.getElementById(y):y;de(R,this.auth,"argument-error"),this.container=R,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new QM:new ZM,this.validateStartingState()}verify(){var y=this;return(0,l.Z)(function*(){y.assertNotDestroyed();const b=yield y.render(),I=y.getAssertedRecaptcha();return I.getResponse(b)||new Promise(N=>{const se=xe=>{!xe||(y.tokenChangeListeners.delete(se),N(xe))};y.tokenChangeListeners.add(se),y.isInvisible&&I.execute(b)})})()}render(){try{this.assertNotDestroyed()}catch(y){return Promise.reject(y)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(y=>{throw this.renderPromise=null,y})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(y=>{this.container.removeChild(y)})}validateStartingState(){de(!this.parameters.sitekey,this.auth,"argument-error"),de(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),de(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(y){return b=>{if(this.tokenChangeListeners.forEach(I=>I(b)),"function"==typeof y)y(b);else if("string"==typeof y){const I=Ei()[y];"function"==typeof I&&I(b)}}}assertNotDestroyed(){de(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var y=this;return(0,l.Z)(function*(){if(yield y.init(),!y.widgetId){let b=y.container;if(!y.isInvisible){const I=document.createElement("div");b.appendChild(I),b=I}y.widgetId=y.getAssertedRecaptcha().render(b,y.parameters)}return y.widgetId})()}init(){var y=this;return(0,l.Z)(function*(){de(qe()&&!ls(),y.auth,"internal-error"),yield function Ai(){let C=null;return new Promise(y=>{"complete"!==document.readyState?(C=()=>y(),window.addEventListener("load",C)):y()}).catch(y=>{throw C&&window.removeEventListener("load",C),y})}(),y.recaptcha=yield y._recaptchaLoader.load(y.auth,y.auth.languageCode||void 0);const b=yield function Uu(C){return _a.apply(this,arguments)}(y.auth);de(b,y.auth,"internal-error"),y.parameters.sitekey=b})()}getAssertedRecaptcha(){return de(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class hn{constructor(y,b){this.verificationId=y,this.onConfirmation=b}confirm(y){const b=Qa._fromVerification(this.verificationId,y);return this.onConfirmation(b)}}function Ps(C,y,b){return tt.apply(this,arguments)}function tt(){return(tt=(0,l.Z)(function*(C,y,b){const I=It(C),R=yield Pn(I,y,(0,W.m9)(b));return new hn(R,N=>pc(I,N))})).apply(this,arguments)}function Tt(C,y,b){return On.apply(this,arguments)}function On(){return(On=(0,l.Z)(function*(C,y,b){const I=(0,W.m9)(C);yield So(!1,I,"phone");const R=yield Pn(I.auth,y,(0,W.m9)(b));return new hn(R,N=>Vt(I,N))})).apply(this,arguments)}function to(C,y,b){return ya.apply(this,arguments)}function ya(){return(ya=(0,l.Z)(function*(C,y,b){const I=(0,W.m9)(C),R=yield Pn(I.auth,y,(0,W.m9)(b));return new hn(R,N=>cS(I,N))})).apply(this,arguments)}function Pn(C,y,b){return va.apply(this,arguments)}function va(){return(va=(0,l.Z)(function*(C,y,b){var I;const R=yield b.verify();try{let N;if(de("string"==typeof R,C,"argument-error"),de(b.type===xo,C,"argument-error"),N="string"==typeof y?{phoneNumber:y}:y,"session"in N){const se=N.session;if("phoneNumber"in N)return de("enroll"===se.type,C,"internal-error"),(yield Ec(C,{idToken:se.credential,phoneEnrollmentInfo:{phoneNumber:N.phoneNumber,recaptchaToken:R}})).phoneSessionInfo.sessionInfo;{de("signin"===se.type,C,"internal-error");const xe=(null===(I=N.multiFactorHint)||void 0===I?void 0:I.uid)||N.multiFactorUid;return de(xe,C,"missing-multi-factor-info"),(yield Qv(C,{mfaPendingCredential:se.credential,mfaEnrollmentId:xe,phoneSignInInfo:{recaptchaToken:R}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:se}=yield rS(C,{phoneNumber:N.phoneNumber,recaptchaToken:R});return se}}finally{b._reset()}})).apply(this,arguments)}function Vm(C,y){return Wh.apply(this,arguments)}function Wh(){return(Wh=(0,l.Z)(function*(C,y){yield Sm((0,W.m9)(C),y)})).apply(this,arguments)}let eb=(()=>{class C{constructor(b){this.providerId=C.PROVIDER_ID,this.auth=It(b)}verifyPhoneNumber(b,I){return Pn(this.auth,b,(0,W.m9)(I))}static credential(b,I){return Qa._fromVerification(b,I)}static credentialFromResult(b){return C.credentialFromTaggedObject(b)}static credentialFromError(b){return C.credentialFromTaggedObject(b.customData||{})}static credentialFromTaggedObject({_tokenResponse:b}){if(!b)return null;const{phoneNumber:I,temporaryProof:R}=b;return I&&R?Qa._fromTokenResponse(I,R):null}}return C.PROVIDER_ID="phone",C.PHONE_SIGN_IN_METHOD="phone",C})();function ba(C,y){return y?ie(y):(de(C._popupRedirectResolver,C,"argument-error"),C._popupRedirectResolver)}class Um extends $r{constructor(y){super("custom","custom"),this.params=y}_getIdTokenResponse(y){return ca(y,this._buildIdpRequest())}_linkToIdToken(y,b){return ca(y,this._buildIdpRequest(b))}_getReauthenticationResolver(y){return ca(y,this._buildIdpRequest())}_buildIdpRequest(y){const b={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return y&&(b.idToken=y),b}}function Ea(C){return Ov(C.auth,new Um(C),C.bypassAuthState)}function rt(C){const{auth:y,user:b}=C;return de(b,y,"internal-error"),Rv(b,new Um(C),C.bypassAuthState)}function qh(C){return Mo.apply(this,arguments)}function Mo(){return(Mo=(0,l.Z)(function*(C){const{auth:y,user:b}=C;return de(b,y,"internal-error"),Sm(b,new Um(C),C.bypassAuthState)})).apply(this,arguments)}class Yh{constructor(y,b,I,R,N=!1){this.auth=y,this.resolver=I,this.user=R,this.bypassAuthState=N,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(b)?b:[b]}execute(){var y=this;return new Promise(function(){var b=(0,l.Z)(function*(I,R){y.pendingPromise={resolve:I,reject:R};try{y.eventManager=yield y.resolver._initialize(y.auth),yield y.onExecution(),y.eventManager.registerConsumer(y)}catch(N){y.reject(N)}});return function(I,R){return b.apply(this,arguments)}}())}onAuthEvent(y){var b=this;return(0,l.Z)(function*(){const{urlResponse:I,sessionId:R,postBody:N,tenantId:se,error:xe,type:ct}=y;if(xe)return void b.reject(xe);const Dt={auth:b.auth,requestUri:I,sessionId:R,tenantId:se||void 0,postBody:N||void 0,user:b.user,bypassAuthState:b.bypassAuthState};try{b.resolve(yield b.getIdpTask(ct)(Dt))}catch(Xt){b.reject(Xt)}})()}onError(y){this.reject(y)}getIdpTask(y){switch(y){case"signInViaPopup":case"signInViaRedirect":return Ea;case"linkViaPopup":case"linkViaRedirect":return qh;case"reauthViaPopup":case"reauthViaRedirect":return rt;default:gt(this.auth,"internal-error")}}resolve(y){Te(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(y),this.unregisterAndCleanUp()}reject(y){Te(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(y),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Zh=new et(2e3,1e4);function Hn(C,y,b){return Kh.apply(this,arguments)}function Kh(){return(Kh=(0,l.Z)(function*(C,y,b){const I=It(C);Ae(C,y,zi);const R=ba(I,b);return new Mc(I,"signInViaPopup",y,R).executeNotNull()})).apply(this,arguments)}function Qh(C,y,b){return Xh.apply(this,arguments)}function Xh(){return(Xh=(0,l.Z)(function*(C,y,b){const I=(0,W.m9)(C);Ae(I.auth,y,zi);const R=ba(I.auth,b);return new Mc(I.auth,"reauthViaPopup",y,R,I).executeNotNull()})).apply(this,arguments)}function $m(C,y,b){return wa.apply(this,arguments)}function wa(){return(wa=(0,l.Z)(function*(C,y,b){const I=(0,W.m9)(C);Ae(I.auth,y,zi);const R=ba(I.auth,b);return new Mc(I.auth,"linkViaPopup",y,R,I).executeNotNull()})).apply(this,arguments)}let Mc=(()=>{class C extends Yh{constructor(b,I,R,N,se){super(b,I,N,se),this.provider=R,this.authWindow=null,this.pollId=null,C.currentPopupAction&&C.currentPopupAction.cancel(),C.currentPopupAction=this}executeNotNull(){var b=this;return(0,l.Z)(function*(){const I=yield b.execute();return de(I,b.auth,"internal-error"),I})()}onExecution(){var b=this;return(0,l.Z)(function*(){Te(1===b.filter.length,"Popup operations only handle one event");const I=nl();b.authWindow=yield b.resolver._openPopup(b.auth,b.provider,b.filter[0],I),b.authWindow.associatedEvent=I,b.resolver._originValidation(b.auth).catch(R=>{b.reject(R)}),b.resolver._isIframeWebStorageSupported(b.auth,R=>{R||b.reject(Ge(b.auth,"web-storage-unsupported"))}),b.pollUserCancellation()})()}get eventId(){var b;return(null===(b=this.authWindow)||void 0===b?void 0:b.associatedEvent)||null}cancel(){this.reject(Ge(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,C.currentPopupAction=null}pollUserCancellation(){const b=()=>{var I,R;this.pollId=null!==(R=null===(I=this.authWindow)||void 0===I?void 0:I.window)&&void 0!==R&&R.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Ge(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(b,Zh.get())};b()}}return C.currentPopupAction=null,C})();const cs=new Map;class no extends Yh{constructor(y,b,I=!1){super(y,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],b,void 0,I),this.eventId=null}execute(){var y=()=>super.execute,b=this;return(0,l.Z)(function*(){let I=cs.get(b.auth._key());if(!I){try{const N=(yield function Jh(C,y){return ji.apply(this,arguments)}(b.resolver,b.auth))?yield y().call(b):null;I=()=>Promise.resolve(N)}catch(R){I=()=>Promise.reject(R)}cs.set(b.auth._key(),I)}return b.bypassAuthState||cs.set(b.auth._key(),()=>Promise.resolve(null)),I()})()}onAuthEvent(y){var b=()=>super.onAuthEvent,I=this;return(0,l.Z)(function*(){if("signInViaRedirect"===y.type)return b().call(I,y);if("unknown"!==y.type){if(y.eventId){const R=yield I.auth._redirectUserForId(y.eventId);if(R)return I.user=R,b().call(I,y);I.resolve(null)}}else I.resolve(null)})()}onExecution(){return(0,l.Z)(function*(){})()}cleanUp(){}}function ji(){return(ji=(0,l.Z)(function*(C,y){const b=Po(y),I=Oo(C);if(!(yield I._isAvailable()))return!1;const R="true"===(yield I._get(b));return yield I._remove(b),R})).apply(this,arguments)}function Ro(C,y){return Ns.apply(this,arguments)}function Ns(){return(Ns=(0,l.Z)(function*(C,y){return Oo(C)._set(Po(y),"true")})).apply(this,arguments)}function Fi(){cs.clear()}function Zn(C,y){cs.set(C._key(),y)}function Oo(C){return ie(C._redirectPersistence)}function Po(C){return G("pendingRedirect",C.config.apiKey,C.name)}function Nn(C,y,b){return function Wt(C,y,b){return li.apply(this,arguments)}(C,y,b)}function li(){return(li=(0,l.Z)(function*(C,y,b){const I=It(C);Ae(C,y,zi);const R=ba(I,b);return yield Ro(R,I),R._openRedirect(I,y,"signInViaRedirect")})).apply(this,arguments)}function An(C,y,b){return function fi(C,y,b){return Fs.apply(this,arguments)}(C,y,b)}function Fs(){return(Fs=(0,l.Z)(function*(C,y,b){const I=(0,W.m9)(C);Ae(I.auth,y,zi);const R=ba(I.auth,b);yield Ro(R,I.auth);const N=yield rl(I);return R._openRedirect(I.auth,y,"reauthViaRedirect",N)})).apply(this,arguments)}function Hm(C,y,b){return function tb(C,y,b){return us.apply(this,arguments)}(C,y,b)}function us(){return(us=(0,l.Z)(function*(C,y,b){const I=(0,W.m9)(C);Ae(I.auth,y,zi);const R=ba(I.auth,b);yield So(!1,I,y.providerId),yield Ro(R,I.auth);const N=yield rl(I);return R._openRedirect(I.auth,y,"linkViaRedirect",N)})).apply(this,arguments)}function Ls(C,y){return kn.apply(this,arguments)}function kn(){return(kn=(0,l.Z)(function*(C,y){return yield It(C)._initializationPromise,Wr(C,y,!1)})).apply(this,arguments)}function Wr(C,y){return Ca.apply(this,arguments)}function Ca(){return(Ca=(0,l.Z)(function*(C,y,b=!1){const I=It(C),R=ba(I,y),se=yield new no(I,R,b).execute();return se&&!b&&(delete se.user._redirectEventId,yield I._persistUserIfCurrent(se.user),yield I._setRedirectUser(null,y)),se})).apply(this,arguments)}function rl(C){return sl.apply(this,arguments)}function sl(){return(sl=(0,l.Z)(function*(C){const y=nl(`${C.uid}:::`);return C._redirectEventId=y,yield C.auth._setRedirectUser(C),yield C.auth._persistUserIfCurrent(C),y})).apply(this,arguments)}class al{constructor(y){this.auth=y,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(y){this.consumers.add(y),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,y)&&(this.sendToConsumer(this.queuedRedirectEvent,y),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(y){this.consumers.delete(y)}onEvent(y){if(this.hasEventBeenHandled(y))return!1;let b=!1;return this.consumers.forEach(I=>{this.isEventForConsumer(y,I)&&(b=!0,this.sendToConsumer(y,I),this.saveEventToCache(y))}),this.hasHandledPotentialRedirect||!function Qt(C){switch(C.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return kc(C);default:return!1}}(y)||(this.hasHandledPotentialRedirect=!0,b||(this.queuedRedirectEvent=y,b=!0)),b}sendToConsumer(y,b){var I;if(y.error&&!kc(y)){const R=(null===(I=y.error.code)||void 0===I?void 0:I.split("auth/")[1])||"internal-error";b.onError(Ge(this.auth,R))}else b.onAuthEvent(y)}isEventForConsumer(y,b){const I=null===b.eventId||!!y.eventId&&y.eventId===b.eventId;return b.filter.includes(y.type)&&I}hasEventBeenHandled(y){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has($u(y))}saveEventToCache(y){this.cachedEventUids.add($u(y)),this.lastProcessedEventTime=Date.now()}}function $u(C){return[C.type,C.eventId,C.sessionId,C.tenantId].filter(y=>y).join("-")}function kc({type:C,error:y}){return"unknown"===C&&"auth/no-auth-event"===y?.code}function ds(C){return Sa.apply(this,arguments)}function Sa(){return(Sa=(0,l.Z)(function*(C,y={}){return zt(C,"GET","/v1/projects",y)})).apply(this,arguments)}const ll=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,mS=/^https?/;function qr(){return(qr=(0,l.Z)(function*(C){if(C.config.emulator)return;const{authorizedDomains:y}=yield ds(C);for(const b of y)try{if(nb(b))return}catch{}gt(C,"unauthorized-domain")})).apply(this,arguments)}function nb(C){const y=We(),{protocol:b,hostname:I}=new URL(y);if(C.startsWith("chrome-extension://")){const se=new URL(C);return""===se.hostname&&""===I?"chrome-extension:"===b&&C.replace("chrome-extension://","")===y.replace("chrome-extension://",""):"chrome-extension:"===b&&se.hostname===I}if(!mS.test(b))return!1;if(ll.test(C))return I===C;const R=C.replace(/\./g,"\\.");return new RegExp("^(.+\\."+R+"|"+R+")$","i").test(I)}const jm=new et(3e4,6e4);function ef(){const C=Ei().___jsl;if(C?.H)for(const y of Object.keys(C.H))if(C.H[y].r=C.H[y].r||[],C.H[y].L=C.H[y].L||[],C.H[y].r=[...C.H[y].L],C.CP)for(let b=0;b<C.CP.length;b++)C.CP[b]=null}let Kn=null;function io(C){return Kn=Kn||function gS(C){return new Promise((y,b)=>{var I,R,N;function se(){ef(),gapi.load("gapi.iframes",{callback:()=>{y(gapi.iframes.getContext())},ontimeout:()=>{ef(),b(Ge(C,"network-request-failed"))},timeout:jm.get()})}if(null!==(R=null===(I=Ei().gapi)||void 0===I?void 0:I.iframes)&&void 0!==R&&R.Iframe)y(gapi.iframes.getContext());else{if(null===(N=Ei().gapi)||void 0===N||!N.load){const xe=Gh("iframefcb");return Ei()[xe]=()=>{gapi.load?se():b(Ge(C,"network-request-failed"))},il(`https://apis.google.com/js/api.js?onload=${xe}`).catch(ct=>b(ct))}se()}}).catch(y=>{throw Kn=null,y})}(C),Kn}const tf=new et(5e3,15e3),nf={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ib=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function rf(C){const y=C.config;de(y.authDomain,C,"auth-domain-config-required");const b=y.emulator?Tn(y,"emulator/auth/iframe"):`https://${C.config.authDomain}/__/auth/iframe`,I={apiKey:y.apiKey,appName:C.name,v:H.SDK_VERSION},R=ib.get(C.config.apiHost);R&&(I.eid=R);const N=C._getFrameworks();return N.length&&(I.fw=N.join(",")),`${b}?${(0,W.xO)(I).slice(1)}`}function Hu(){return Hu=(0,l.Z)(function*(C){const y=yield io(C),b=Ei().gapi;return de(b,C,"internal-error"),y.open({where:document.body,url:rf(C),messageHandlersFilter:b.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:nf,dontclear:!0},I=>new Promise(function(){var R=(0,l.Z)(function*(N,se){yield I.restyle({setHideOnLeave:!1});const xe=Ge(C,"network-request-failed"),ct=Ei().setTimeout(()=>{se(xe)},tf.get());function Dt(){Ei().clearTimeout(ct),N(I)}I.ping(Dt).then(Dt,()=>{se(xe)})});return function(N,se){return R.apply(this,arguments)}}()))}),Hu.apply(this,arguments)}const Rc={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Oc{constructor(y){this.window=y,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function cl(C,y,b,I,R,N){de(C.config.authDomain,C,"auth-domain-config-required"),de(C.config.apiKey,C,"invalid-api-key");const se={apiKey:C.config.apiKey,appName:C.name,authType:b,redirectUrl:I,v:H.SDK_VERSION,eventId:R};if(y instanceof zi){y.setDefaultLanguage(C.languageCode),se.providerId=y.providerId||"",(0,W.xb)(y.getCustomParameters())||(se.customParameters=JSON.stringify(y.getCustomParameters()));for(const[ct,Dt]of Object.entries(N||{}))se[ct]=Dt}if(y instanceof Xa){const ct=y.getScopes().filter(Dt=>""!==Dt);ct.length>0&&(se.scopes=ct.join(","))}C.tenantId&&(se.tid=C.tenantId);const xe=se;for(const ct of Object.keys(xe))void 0===xe[ct]&&delete xe[ct];return`${function Ta({config:C}){return C.emulator?Tn(C,"emulator/auth/handler"):`https://${C.authDomain}/__/auth/handler`}(C)}?${(0,W.xO)(xe).slice(1)}`}const ul="webStorageSupport",af=class Pc{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Do,this._completeRedirectFn=Wr,this._overrideRedirectResult=Zn}_openPopup(y,b,I,R){var N=this;return(0,l.Z)(function*(){var se;Te(null===(se=N.eventManagers[y._key()])||void 0===se?void 0:se.manager,"_initialize() not called before _openPopup()");const xe=cl(y,b,I,We(),R);return function ju(C,y,b,I=500,R=600){const N=Math.max((window.screen.availHeight-R)/2,0).toString(),se=Math.max((window.screen.availWidth-I)/2,0).toString();let xe="";const ct=Object.assign(Object.assign({},Rc),{width:I.toString(),height:R.toString(),top:N,left:se}),Dt=(0,W.z$)().toLowerCase();b&&(xe=ce(Dt)?"_blank":b),P(Dt)&&(y=y||"http://localhost",ct.scrollbars="yes");const Xt=Object.entries(ct).reduce((Gi,[Yr,qu])=>`${Gi}${Yr}=${qu},`,"");if(function Cn(C=(0,W.z$)()){var y;return je(C)&&!(null===(y=window.navigator)||void 0===y||!y.standalone)}(Dt)&&"_self"!==xe)return function so(C,y){const b=document.createElement("a");b.href=C,b.target=y;const I=document.createEvent("MouseEvent");I.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),b.dispatchEvent(I)}(y||"",xe),new Oc(null);const bn=window.open(y||"",xe,Xt);de(bn,C,"popup-blocked");try{bn.focus()}catch{}return new Oc(bn)}(y,xe,nl())})()}_openRedirect(y,b,I,R){var N=this;return(0,l.Z)(function*(){return yield N._originValidation(y),function Rm(C){Ei().location.href=C}(cl(y,b,I,We(),R)),new Promise(()=>{})})()}_initialize(y){const b=y._key();if(this.eventManagers[b]){const{manager:R,promise:N}=this.eventManagers[b];return R?Promise.resolve(R):(Te(N,"If manager is not set, promise should be"),N)}const I=this.initAndGetManager(y);return this.eventManagers[b]={promise:I},I.catch(()=>{delete this.eventManagers[b]}),I}initAndGetManager(y){var b=this;return(0,l.Z)(function*(){const I=yield function Wm(C){return Hu.apply(this,arguments)}(y),R=new al(y);return I.register("authEvent",N=>(de(N?.authEvent,y,"invalid-auth-event"),{status:R.onEvent(N.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),b.eventManagers[y._key()]={manager:R},b.iframes[y._key()]=I,R})()}_isIframeWebStorageSupported(y,b){this.iframes[y._key()].send(ul,{type:ul},R=>{var N;const se=null===(N=R?.[0])||void 0===N?void 0:N[ul];void 0!==se&&b(!!se),gt(y,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(y){const b=y._key();return this.originValidationPromises[b]||(this.originValidationPromises[b]=function zm(C){return qr.apply(this,arguments)}(y)),this.originValidationPromises[b]}get _shouldInitProactively(){return Sn()||V()||je()}};class lf extends class Gu{constructor(y){this.factorId=y}_process(y,b,I){switch(b.type){case"enroll":return this._finalizeEnroll(y,b.credential,I);case"signin":return this._finalizeSignIn(y,b.credential);default:return fe("unexpected MultiFactorSessionType")}}}{constructor(y){super("phone"),this.credential=y}static _fromCredential(y){return new lf(y)}_finalizeEnroll(y,b,I){return function Vh(C,y){return zt(C,"POST","/v2/accounts/mfaEnrollment:finalize",tn(C,y))}(y,{idToken:b,displayName:I,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(y,b){return function Vu(C,y){return zt(C,"POST","/v2/accounts/mfaSignIn:finalize",tn(C,y))}(y,{mfaPendingCredential:b,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let hs=(()=>{class C{constructor(){}static assertion(b){return lf._fromCredential(b)}}return C.FACTOR_ID="phone",C})();var Bs="@firebase/auth",cf="0.20.11";class Ym{constructor(y){this.auth=y,this.internalListeners=new Map}getUid(){var y;return this.assertAuthConfigured(),(null===(y=this.auth.currentUser)||void 0===y?void 0:y.uid)||null}getToken(y){var b=this;return(0,l.Z)(function*(){return b.assertAuthConfigured(),yield b.auth._initializationPromise,b.auth.currentUser?{accessToken:yield b.auth.currentUser.getIdToken(y)}:null})()}addAuthTokenListener(y){if(this.assertAuthConfigured(),this.internalListeners.has(y))return;const b=this.auth.onIdTokenChanged(I=>{var R;y((null===(R=I)||void 0===R?void 0:R.stsTokenManager.accessToken)||null)});this.internalListeners.set(y,b),this.updateProactiveRefresh()}removeAuthTokenListener(y){this.assertAuthConfigured();const b=this.internalListeners.get(y);!b||(this.internalListeners.delete(y),b(),this.updateProactiveRefresh())}assertAuthConfigured(){de(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Wu=(0,W.Pz)("authIdTokenMaxAge")||300;let uf=null;const ab=C=>function(){var y=(0,l.Z)(function*(b){const I=b&&(yield b.getIdTokenResult()),R=I&&((new Date).getTime()-Date.parse(I.issuedAtTime))/1e3;if(R&&R>Wu)return;const N=I?.token;uf!==N&&(uf=N,yield fetch(C,{method:N?"POST":"DELETE",headers:N?{Authorization:`Bearer ${N}`}:{}}))});return function(b){return y.apply(this,arguments)}}();function lb(C=(0,H.getApp)()){const y=(0,H._getProvider)(C,"auth");if(y.isInitialized())return y.getImmediate();const b=function _e(C,y){const b=(0,H._getProvider)(C,"auth");if(b.isInitialized()){const R=b.getImmediate(),N=b.getOptions();if((0,W.vZ)(N,y??{}))return R;gt(R,"already-initialized")}return b.initialize({options:y})}(C,{popupRedirectResolver:af,persistence:[Bu,pa,Do]}),I=(0,W.Pz)("authTokenSyncURL");if(I){const N=ab(I);(function vc(C,y,b){(0,W.m9)(C).beforeAuthStateChanged(y,b)})(b,N,()=>N(b.currentUser)),function Mu(C,y,b,I){(0,W.m9)(C).onIdTokenChanged(y,b,I)}(b,se=>N(se))}const R=(0,W.q4)("auth");return R&&ia(b,`http://${R}`),b}!function sb(C){(0,H._registerComponent)(new Oe.wA("auth",(y,{options:b})=>{const I=y.getProvider("app").getImmediate(),R=y.getProvider("heartbeat"),{apiKey:N,authDomain:se}=I.options;return((xe,ct)=>{de(N&&!N.includes(":"),"invalid-api-key",{appName:xe.name}),de(!se?.includes(":"),"argument-error",{appName:xe.name});const Dt={apiKey:N,authDomain:se,clientPlatform:C,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ln(C)},Xt=new ac(xe,ct,Dt);return function he(C,y){const b=y?.persistence||[],I=(Array.isArray(b)?b:[b]).map(ie);y?.errorMap&&C._updateErrorMap(y.errorMap),C._initializeWithPersistence(I,y?.popupRedirectResolver)}(Xt,b),Xt})(I,R)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((y,b,I)=>{y.getProvider("auth-internal").initialize()})),(0,H._registerComponent)(new Oe.wA("auth-internal",y=>{const b=It(y.getProvider("auth").getImmediate());return new Ym(b)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,H.registerVersion)(Bs,cf,function rb(C){switch(C){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(C)),(0,H.registerVersion)(Bs,cf,"esm2017")}("Browser")},2090:(At,He,z)=>{z.d(He,{$s:()=>ht,BH:()=>en,DV:()=>tr,G6:()=>Ae,GJ:()=>xs,L:()=>ke,LL:()=>Dn,P0:()=>qe,Pz:()=>fn,Sg:()=>et,UG:()=>Le,UI:()=>Eo,US:()=>Oe,Wl:()=>er,Yr:()=>Pe,ZB:()=>Q,ZR:()=>hi,aH:()=>wt,b$:()=>Se,cI:()=>zt,dS:()=>Ht,eu:()=>de,g5:()=>H,gK:()=>Ti,gQ:()=>$n,h$:()=>we,hl:()=>Je,hu:()=>W,jU:()=>ut,m9:()=>un,ne:()=>Wn,p$:()=>K,pd:()=>sc,q4:()=>We,r3:()=>hr,ru:()=>me,tV:()=>Ze,uI:()=>Qe,ug:()=>ss,vZ:()=>dt,w1:()=>gt,w9:()=>Zs,xO:()=>Un,xb:()=>Ks,z$:()=>Xe,zI:()=>fe,zd:()=>Tr});const W=function(Y,G){if(!Y)throw H(G)},H=function(Y){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+Y)},ve=function(Y){const G=[];let X=0;for(let j=0;j<Y.length;j++){let P=Y.charCodeAt(j);P<128?G[X++]=P:P<2048?(G[X++]=P>>6|192,G[X++]=63&P|128):55296==(64512&P)&&j+1<Y.length&&56320==(64512&Y.charCodeAt(j+1))?(P=65536+((1023&P)<<10)+(1023&Y.charCodeAt(++j)),G[X++]=P>>18|240,G[X++]=P>>12&63|128,G[X++]=P>>6&63|128,G[X++]=63&P|128):(G[X++]=P>>12|224,G[X++]=P>>6&63|128,G[X++]=63&P|128)}return G},Oe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Y,G){if(!Array.isArray(Y))throw Error("encodeByteArray takes an array as a parameter");this.init_();const X=G?this.byteToCharMapWebSafe_:this.byteToCharMap_,j=[];for(let P=0;P<Y.length;P+=3){const V=Y[P],ce=P+1<Y.length,Ve=ce?Y[P+1]:0,ft=P+2<Y.length,yt=ft?Y[P+2]:0;let Ft=(15&Ve)<<2|yt>>6,Cn=63&yt;ft||(Cn=64,ce||(Ft=64)),j.push(X[V>>2],X[(3&V)<<4|Ve>>4],X[Ft],X[Cn])}return j.join("")},encodeString(Y,G){return this.HAS_NATIVE_SUPPORT&&!G?btoa(Y):this.encodeByteArray(ve(Y),G)},decodeString(Y,G){return this.HAS_NATIVE_SUPPORT&&!G?atob(Y):function(Y){const G=[];let X=0,j=0;for(;X<Y.length;){const P=Y[X++];if(P<128)G[j++]=String.fromCharCode(P);else if(P>191&&P<224){const V=Y[X++];G[j++]=String.fromCharCode((31&P)<<6|63&V)}else if(P>239&&P<365){const ft=((7&P)<<18|(63&Y[X++])<<12|(63&Y[X++])<<6|63&Y[X++])-65536;G[j++]=String.fromCharCode(55296+(ft>>10)),G[j++]=String.fromCharCode(56320+(1023&ft))}else{const V=Y[X++],ce=Y[X++];G[j++]=String.fromCharCode((15&P)<<12|(63&V)<<6|63&ce)}}return G.join("")}(this.decodeStringToByteArray(Y,G))},decodeStringToByteArray(Y,G){this.init_();const X=G?this.charToByteMapWebSafe_:this.charToByteMap_,j=[];for(let P=0;P<Y.length;){const V=X[Y.charAt(P++)],Ve=P<Y.length?X[Y.charAt(P)]:0;++P;const yt=P<Y.length?X[Y.charAt(P)]:64;++P;const je=P<Y.length?X[Y.charAt(P)]:64;if(++P,null==V||null==Ve||null==yt||null==je)throw Error();j.push(V<<2|Ve>>4),64!==yt&&(j.push(Ve<<4&240|yt>>2),64!==je&&j.push(yt<<6&192|je))}return j},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Y=0;Y<this.ENCODED_VALS.length;Y++)this.byteToCharMap_[Y]=this.ENCODED_VALS.charAt(Y),this.charToByteMap_[this.byteToCharMap_[Y]]=Y,this.byteToCharMapWebSafe_[Y]=this.ENCODED_VALS_WEBSAFE.charAt(Y),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Y]]=Y,Y>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Y)]=Y,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Y)]=Y)}}},we=function(Y){const G=ve(Y);return Oe.encodeByteArray(G,!0)},ke=function(Y){return we(Y).replace(/\./g,"")},Ze=function(Y){try{return Oe.decodeString(Y,!0)}catch(G){console.error("base64Decode failed: ",G)}return null};function K(Y){return Q(void 0,Y)}function Q(Y,G){if(!(G instanceof Object))return G;switch(G.constructor){case Date:return new Date(G.getTime());case Object:void 0===Y&&(Y={});break;case Array:Y=[];break;default:return G}for(const X in G)!G.hasOwnProperty(X)||!re(X)||(Y[X]=Q(Y[X],G[X]));return Y}function re(Y){return"__proto__"!==Y}function Xe(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Qe(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Xe())}function Le(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function ut(){return"object"==typeof self&&self.self===self}function me(){const Y="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Y&&void 0!==Y.id}function Se(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function gt(){const Y=Xe();return Y.indexOf("MSIE ")>=0||Y.indexOf("Trident/")>=0}function Pe(){return!1}function Ae(){return!Le()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Je(){return"object"==typeof indexedDB}function de(){return new Promise((Y,G)=>{try{let X=!0;const j="validate-browser-context-for-indexeddb-analytics-module",P=self.indexedDB.open(j);P.onsuccess=()=>{P.result.close(),X||self.indexedDB.deleteDatabase(j),Y(!0)},P.onupgradeneeded=()=>{X=!1},P.onerror=()=>{var V;G((null===(V=P.error)||void 0===V?void 0:V.message)||"")}}catch(X){G(X)}})}function fe(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const he=()=>{try{return function Te(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const Y=process.env.__FIREBASE_DEFAULTS__;return Y?JSON.parse(Y):void 0})()||(()=>{if(typeof document>"u")return;let Y;try{Y=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const G=Y&&Ze(Y[1]);return G&&JSON.parse(G)})()}catch(Y){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Y}`)}},We=Y=>{var G,X;return null===(X=null===(G=he())||void 0===G?void 0:G.emulatorHosts)||void 0===X?void 0:X[Y]},qe=Y=>{const G=We(Y);if(!G)return;const X=G.lastIndexOf(":");if(X<=0||X+1===G.length)throw new Error(`Invalid host ${G} with no separate hostname and port!`);const j=parseInt(G.substring(X+1),10);return"["===G[0]?[G.substring(1,X-1),j]:[G.substring(0,X),j]},wt=()=>{var Y;return null===(Y=he())||void 0===Y?void 0:Y.config},fn=Y=>{var G;return null===(G=he())||void 0===G?void 0:G[`_${Y}`]};class en{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((G,X)=>{this.resolve=G,this.reject=X})}wrapCallback(G){return(X,j)=>{X?this.reject(X):this.resolve(j),"function"==typeof G&&(this.promise.catch(()=>{}),1===G.length?G(X):G(X,j))}}}function et(Y,G){if(Y.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const j=G||"demo-project",P=Y.iat||0,V=Y.sub||Y.user_id;if(!V)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const ce=Object.assign({iss:`https://securetoken.google.com/${j}`,aud:j,iat:P,exp:P+3600,auth_time:P,sub:V,user_id:V,firebase:{sign_in_provider:"custom",identities:{}}},Y);return[ke(JSON.stringify({alg:"none",type:"JWT"})),ke(JSON.stringify(ce)),""].join(".")}class hi extends Error{constructor(G,X,j){super(X),this.code=G,this.customData=j,this.name="FirebaseError",Object.setPrototypeOf(this,hi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Dn.prototype.create)}}class Dn{constructor(G,X,j){this.service=G,this.serviceName=X,this.errors=j}create(G,...X){const j=X[0]||{},P=`${this.service}/${G}`,V=this.errors[G],ce=V?function pn(Y,G){return Y.replace(tn,(X,j)=>{const P=G[j];return null!=P?String(P):`<${j}?>`})}(V,j):"Error";return new hi(P,`${this.serviceName}: ${ce} (${P}).`,j)}}const tn=/\{\$([^}]+)}/g;function zt(Y){return JSON.parse(Y)}function er(Y){return JSON.stringify(Y)}const As=function(Y){let G={},X={},j={},P="";try{const V=Y.split(".");G=zt(Ze(V[0])||""),X=zt(Ze(V[1])||""),P=V[2],j=X.d||{},delete X.d}catch{}return{header:G,claims:X,data:j,signature:P}},Zs=function(Y){const X=As(Y).claims;return!!X&&"object"==typeof X&&X.hasOwnProperty("iat")},xs=function(Y){const G=As(Y).claims;return"object"==typeof G&&!0===G.admin};function hr(Y,G){return Object.prototype.hasOwnProperty.call(Y,G)}function tr(Y,G){if(Object.prototype.hasOwnProperty.call(Y,G))return Y[G]}function Ks(Y){for(const G in Y)if(Object.prototype.hasOwnProperty.call(Y,G))return!1;return!0}function Eo(Y,G,X){const j={};for(const P in Y)Object.prototype.hasOwnProperty.call(Y,P)&&(j[P]=G.call(X,Y[P],P,Y));return j}function dt(Y,G){if(Y===G)return!0;const X=Object.keys(Y),j=Object.keys(G);for(const P of X){if(!j.includes(P))return!1;const V=Y[P],ce=G[P];if(Pi(V)&&Pi(ce)){if(!dt(V,ce))return!1}else if(V!==ce)return!1}for(const P of j)if(!X.includes(P))return!1;return!0}function Pi(Y){return null!==Y&&"object"==typeof Y}function Un(Y){const G=[];for(const[X,j]of Object.entries(Y))Array.isArray(j)?j.forEach(P=>{G.push(encodeURIComponent(X)+"="+encodeURIComponent(P))}):G.push(encodeURIComponent(X)+"="+encodeURIComponent(j));return G.length?"&"+G.join("&"):""}function Tr(Y){const G={};return Y.replace(/^\?/,"").split("&").forEach(j=>{if(j){const[P,V]=j.split("=");G[decodeURIComponent(P)]=decodeURIComponent(V)}}),G}function sc(Y){const G=Y.indexOf("?");if(!G)return"";const X=Y.indexOf("#",G);return Y.substring(G,X>0?X:void 0)}class $n{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let G=1;G<this.blockSize;++G)this.pad_[G]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(G,X){X||(X=0);const j=this.W_;if("string"==typeof G)for(let je=0;je<16;je++)j[je]=G.charCodeAt(X)<<24|G.charCodeAt(X+1)<<16|G.charCodeAt(X+2)<<8|G.charCodeAt(X+3),X+=4;else for(let je=0;je<16;je++)j[je]=G[X]<<24|G[X+1]<<16|G[X+2]<<8|G[X+3],X+=4;for(let je=16;je<80;je++){const Ft=j[je-3]^j[je-8]^j[je-14]^j[je-16];j[je]=4294967295&(Ft<<1|Ft>>>31)}let yt,Me,P=this.chain_[0],V=this.chain_[1],ce=this.chain_[2],Ve=this.chain_[3],ft=this.chain_[4];for(let je=0;je<80;je++){je<40?je<20?(yt=Ve^V&(ce^Ve),Me=1518500249):(yt=V^ce^Ve,Me=1859775393):je<60?(yt=V&ce|Ve&(V|ce),Me=2400959708):(yt=V^ce^Ve,Me=3395469782);const Ft=(P<<5|P>>>27)+yt+ft+Me+j[je]&4294967295;ft=Ve,Ve=ce,ce=4294967295&(V<<30|V>>>2),V=P,P=Ft}this.chain_[0]=this.chain_[0]+P&4294967295,this.chain_[1]=this.chain_[1]+V&4294967295,this.chain_[2]=this.chain_[2]+ce&4294967295,this.chain_[3]=this.chain_[3]+Ve&4294967295,this.chain_[4]=this.chain_[4]+ft&4294967295}update(G,X){if(null==G)return;void 0===X&&(X=G.length);const j=X-this.blockSize;let P=0;const V=this.buf_;let ce=this.inbuf_;for(;P<X;){if(0===ce)for(;P<=j;)this.compress_(G,P),P+=this.blockSize;if("string"==typeof G){for(;P<X;)if(V[ce]=G.charCodeAt(P),++ce,++P,ce===this.blockSize){this.compress_(V),ce=0;break}}else for(;P<X;)if(V[ce]=G[P],++ce,++P,ce===this.blockSize){this.compress_(V),ce=0;break}}this.inbuf_=ce,this.total_+=X}digest(){const G=[];let X=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let P=this.blockSize-1;P>=56;P--)this.buf_[P]=255&X,X/=256;this.compress_(this.buf_);let j=0;for(let P=0;P<5;P++)for(let V=24;V>=0;V-=8)G[j]=this.chain_[P]>>V&255,++j;return G}}function Wn(Y,G){const X=new Mn(Y,G);return X.subscribe.bind(X)}class Mn{constructor(G,X){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=X,this.task.then(()=>{G(this)}).catch(j=>{this.error(j)})}next(G){this.forEachObserver(X=>{X.next(G)})}error(G){this.forEachObserver(X=>{X.error(G)}),this.close(G)}complete(){this.forEachObserver(G=>{G.complete()}),this.close()}subscribe(G,X,j){let P;if(void 0===G&&void 0===X&&void 0===j)throw new Error("Missing Observer.");P=function St(Y,G){if("object"!=typeof Y||null===Y)return!1;for(const X of G)if(X in Y&&"function"==typeof Y[X])return!0;return!1}(G,["next","error","complete"])?G:{next:G,error:X,complete:j},void 0===P.next&&(P.next=$t),void 0===P.error&&(P.error=$t),void 0===P.complete&&(P.complete=$t);const V=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?P.error(this.finalError):P.complete()}catch{}}),this.observers.push(P),V}unsubscribeOne(G){void 0===this.observers||void 0===this.observers[G]||(delete this.observers[G],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(G){if(!this.finalized)for(let X=0;X<this.observers.length;X++)this.sendOne(X,G)}sendOne(G,X){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[G])try{X(this.observers[G])}catch(j){typeof console<"u"&&console.error&&console.error(j)}})}close(G){this.finalized||(this.finalized=!0,void 0!==G&&(this.finalError=G),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function $t(){}function Ti(Y,G){return`${Y} failed: ${G} argument `}const Ht=function(Y){const G=[];let X=0;for(let j=0;j<Y.length;j++){let P=Y.charCodeAt(j);if(P>=55296&&P<=56319){const V=P-55296;j++,W(j<Y.length,"Surrogate pair missing trail surrogate."),P=65536+(V<<10)+(Y.charCodeAt(j)-56320)}P<128?G[X++]=P:P<2048?(G[X++]=P>>6|192,G[X++]=63&P|128):P<65536?(G[X++]=P>>12|224,G[X++]=P>>6&63|128,G[X++]=63&P|128):(G[X++]=P>>18|240,G[X++]=P>>12&63|128,G[X++]=P>>6&63|128,G[X++]=63&P|128)}return G},ss=function(Y){let G=0;for(let X=0;X<Y.length;X++){const j=Y.charCodeAt(X);j<128?G++:j<2048?G+=2:j>=55296&&j<=56319?(G+=4,X++):G+=3}return G};function ht(Y,G=1e3,X=2){const j=G*Math.pow(X,Y),P=Math.round(.5*j*(Math.random()-.5)*2);return Math.min(144e5,j+P)}function un(Y){return Y&&Y._delegate?Y._delegate:Y}},9923:(At,He,z)=>{var l=z(4650);let W=null;function H(){return W}const we=new l.OlP("DocumentToken");let ke=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return function Ze(){return(0,l.LFG)(Q)}()},providedIn:"platform"}),n})();const K=new l.OlP("Location Initialized");let Q=(()=>{class n extends ke{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return H().getBaseHref(this._doc)}onPopState(t){const i=H().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=H().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,i,r){re()?this._history.pushState(t,i,r):this.location.hash=r}replaceState(t,i,r){re()?this._history.replaceState(t,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(we))},n.\u0275prov=l.Yz7({token:n,factory:function(){return function Xe(){return new Q((0,l.LFG)(we))}()},providedIn:"platform"}),n})();function re(){return!!window.history.pushState}function Qe(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Le(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function ut(n){return n&&"?"!==n[0]?"?"+n:n}let me=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return(0,l.f3M)(mt)},providedIn:"root"}),n})();const Se=new l.OlP("appBaseHref");let mt=(()=>{class n extends me{constructor(t,i){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??(0,l.f3M)(we).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Qe(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+ut(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,s){const a=this.prepareExternalUrl(r+ut(s));this._platformLocation.pushState(t,i,a)}replaceState(t,i,r,s){const a=this.prepareExternalUrl(r+ut(s));this._platformLocation.replaceState(t,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ke),l.LFG(Se,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),gt=(()=>{class n extends me{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(t){const i=Qe(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,r,s){let a=this.prepareExternalUrl(r+ut(s));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.pushState(t,i,a)}replaceState(t,i,r,s){let a=this.prepareExternalUrl(r+ut(s));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ke),l.LFG(Se,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Ge=(()=>{class n{constructor(t){this._subject=new l.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const i=this._locationStrategy.getBaseHref();this._baseHref=Le(Je(i)),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+ut(i))}normalize(t){return n.stripTrailingSlash(function Ae(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,Je(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._locationStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ut(i)),r)}replaceState(t,i="",r=null){this._locationStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ut(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}}return n.normalizeQueryParams=ut,n.joinWithSlash=Qe,n.stripTrailingSlash=Le,n.\u0275fac=function(t){return new(t||n)(l.LFG(me))},n.\u0275prov=l.Yz7({token:n,factory:function(){return function Pe(){return new Ge((0,l.LFG)(me))}()},providedIn:"root"}),n})();function Je(n){return n.replace(/\/index.html$/,"")}let yn=(()=>{class n{constructor(t,i,r,s){this._iterableDiffers=t,this._keyValueDiffers=i,this._ngEl=r,this._renderer=s,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&((0,l.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),t.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),t.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,l.AaK)(i.item)}`);this._toggleClass(i.item,!0)}),t.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(i=>this._toggleClass(i,!0)):Object.keys(t).forEach(i=>this._toggleClass(i,!!t[i])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(i=>this._toggleClass(i,!1)):Object.keys(t).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(t,i){(t=t.trim())&&t.split(/\s+/g).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.ZZ4),l.Y36(l.aQg),l.Y36(l.SBq),l.Y36(l.Qsj))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class cc{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ar=(()=>{class n{constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const i=this._viewContainer;t.forEachOperation((r,s,a)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new cc(r.item,this._ngForOf,-1,-1),null===a?void 0:a);else if(null==a)i.remove(null===s?void 0:s);else if(null!==s){const d=i.get(s);i.move(d,a),aa(d,r)}});for(let r=0,s=i.length;r<s;r++){const d=i.get(r).context;d.index=r,d.count=s,d.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{aa(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b),l.Y36(l.Rgc),l.Y36(l.ZZ4))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function aa(n,e){n.context.$implicit=e.item}let In=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new Av,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Ni("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Ni("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b),l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class Av{constructor(){this.$implicit=null,this.ngIf=null}}function Ni(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,l.AaK)(e)}'.`)}class xr{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let os=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const i=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let i=0;i<this._defaultViews.length;i++)this._defaultViews[i].enforceState(t)}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),n})(),wo=(()=>{class n{constructor(t,i,r){this.ngSwitch=r,r._addCase(),this._view=new xr(t,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b),l.Y36(l.Rgc),l.Y36(os,9))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),n})(),Co=(()=>{class n{constructor(t,i,r){r._addDefault(new xr(t,i))}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b),l.Y36(l.Rgc),l.Y36(os,9))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngSwitchDefault",""]],standalone:!0}),n})(),Ka=(()=>{class n{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(t){if(t.ngTemplateOutlet||t.ngTemplateOutletInjector){const i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:r,ngTemplateOutletContext:s,ngTemplateOutletInjector:a}=this;this._viewRef=i.createEmbeddedView(r,s,a?{injector:a}:void 0)}else this._viewRef=null}else this._viewRef&&t.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[l.TTD]}),n})();class iS{createSubscription(e,t){return e.subscribe({next:t,error:i=>{throw i}})}dispose(e){e.unsubscribe()}}class Qs{createSubscription(e,t){return e.then(t,i=>{throw i})}dispose(e){}}const rS=new Qs,pm=new iS;let mm=(()=>{class n{constructor(t){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,i=>this._updateLatestValue(t,i))}_selectStrategy(t){if((0,l.QGY)(t))return rS;if((0,l.F4k)(t))return pm;throw function zr(n,e){return new l.vHH(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,i){t===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.sBO,16))},n.\u0275pipe=l.Yjl({name:"async",type:n,pure:!1,standalone:!0}),n})(),ai=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const da="browser";function nr(n){return n===da}function dc(n){return"server"===n}let Cm=(()=>{class n{}return n.\u0275prov=(0,l.Yz7)({token:n,providedIn:"root",factory:()=>new kv((0,l.LFG)(we),window)}),n})();class kv{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function mr(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const s=r.shadowRoot;if(s){const a=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(a)return a}r=i.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=hc(this.window.history)||hc(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function hc(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class tl extends class Dm extends class Oe{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function Fe(n){W||(W=n)}(new tl)}onAndCancel(e,t,i){return e.addEventListener(t,i,!1),()=>{e.removeEventListener(t,i,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function $v(){return ha=ha||document.querySelector("base"),ha?ha.getAttribute("href"):null}();return null==t?null:function Xs(n){qn=qn||document.createElement("a"),qn.setAttribute("href",n);const e=qn.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){ha=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function vh(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[r,s]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let qn,ha=null;const Yn=new l.OlP("TRANSITION_ID"),Hv=[{provide:l.ip1,useFactory:function Am(n,e,t){return()=>{t.get(l.CZH).donePromise.then(()=>{const i=H(),r=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<r.length;s++)i.remove(r[s])})}},deps:[Yn,we,l.zs3],multi:!0}];let zv=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const Nh=new l.OlP("EventManagerPlugins");let Mu=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>r.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}addGlobalEventListener(t,i,r){return this._findPluginFor(i).addGlobalEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){const i=this._eventNameToPlugin.get(t);if(i)return i;const r=this._plugins;for(let s=0;s<r.length;s++){const a=r[s];if(a.supports(t))return this._eventNameToPlugin.set(t,a),a}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Nh),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class vc{constructor(e){this._doc=e}addGlobalEventListener(e,t,i){const r=H().getGlobalEventTarget(this._doc,e);if(!r)throw new Error(`Unsupported event target ${r} for event ${t}`);return this.addEventListener(r,t,i)}}let bc=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const i=new Set;t.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),fa=(()=>{class n extends bc{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,i,r){t.forEach(s=>{const a=this._doc.createElement("style");a.textContent=s,r.push(i.appendChild(a))})}addHost(t){const i=[];this._addStylesToHost(this._stylesSet,t,i),this._hostNodes.set(t,i)}removeHost(t){const i=this._hostNodes.get(t);i&&i.forEach(Fh),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(t,r,i)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(Fh))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(we))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function Fh(n){H().remove(n)}const Lh={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Mm=/%COMP%/g;function ku(n,e,t){for(let i=0;i<e.length;i++){let r=e[i];Array.isArray(r)?ku(n,r,t):(r=r.replace(Mm,n),t.push(r))}return t}function Ru(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Uh=(()=>{class n{constructor(t,i,r){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new Js(t)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;switch(i.encapsulation){case l.ifc.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new km(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(t),r}case 1:case l.ifc.ShadowDom:return new Wv(this.eventManager,this.sharedStylesHost,t,i);default:if(!this.rendererByCompId.has(i.id)){const r=ku(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Mu),l.LFG(fa),l.LFG(l.AFp))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class Js{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Lh[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(wc(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(wc(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?document.querySelector(e):e;if(!i)throw new Error(`The selector "${e}" did not match any elements`);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;const s=Lh[r];s?e.setAttributeNS(s,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const r=Lh[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(l.JOm.DashCase|l.JOm.Important)?e.style.setProperty(t,i,r&l.JOm.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&l.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e[t]=i}setValue(e,t){e.nodeValue=t}listen(e,t,i){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Ru(i)):this.eventManager.addEventListener(e,t,Ru(i))}}function wc(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class km extends Js{constructor(e,t,i,r){super(e),this.component=i;const s=ku(r+"-"+i.id,i.styles,[]);t.addStyles(s),this.contentAttr=function Ec(n){return"_ngcontent-%COMP%".replace(Mm,n)}(r+"-"+i.id),this.hostAttr=function Vh(n){return"_nghost-%COMP%".replace(Mm,n)}(r+"-"+i.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}class Wv extends Js{constructor(e,t,i,r){super(e),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=ku(r.id,r.styles,[]);for(let a=0;a<s.length;a++){const d=document.createElement("style");d.textContent=s[a],this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let pa=(()=>{class n extends vc{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(we))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const qv=["alt","control","meta","shift"],Do={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},zh={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Ou=(()=>{class n extends vc{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,r){const s=n.parseEventName(i),a=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>H().onAndCancel(t,s.domEventName,a))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const s=n._normalizeKey(i.pop());let a="",d=i.indexOf("code");if(d>-1&&(i.splice(d,1),a="code."),qv.forEach(p=>{const g=i.indexOf(p);g>-1&&(i.splice(g,1),a+=p+".")}),a+=s,0!=i.length||0===s.length)return null;const h={};return h.domEventName=r,h.fullKey=a,h}static matchEventFullKeyCode(t,i){let r=Do[t.key]||t.key,s="";return i.indexOf("code.")>-1&&(r=t.code,s="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),qv.forEach(a=>{a!==r&&(0,zh[a])(t)&&(s+=a+".")}),s+=r,s===i)}static eventCallback(t,i,r){return s=>{n.matchEventFullKeyCode(s,t)&&r.runGuarded(()=>i(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(we))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const Cc=(0,l.eFA)(l._c5,"browser",[{provide:l.Lbi,useValue:da},{provide:l.g9A,useValue:function Zv(){tl.makeCurrent()},multi:!0},{provide:we,useFactory:function jh(){return(0,l.RDi)(document),document},deps:[]}]),Sc=new l.OlP(""),Ic=[{provide:l.rWj,useClass:class xm{addToWindow(e){l.dqk.getAngularTestability=(i,r=!0)=>{const s=e.findTestabilityInTree(i,r);if(null==s)throw new Error("Could not find testability for element.");return s},l.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),l.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),l.dqk.frameworkStabilizers||(l.dqk.frameworkStabilizers=[]),l.dqk.frameworkStabilizers.push(i=>{const r=l.dqk.getAllAngularTestabilities();let s=r.length,a=!1;const d=function(h){a=a||h,s--,0==s&&i(a)};r.forEach(function(h){h.whenStable(d)})})}findTestabilityInTree(e,t,i){return null==t?null:e.getTestability(t)??(i?H().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:l.lri,useClass:l.dDg,deps:[l.R0b,l.eoX,l.rWj]},{provide:l.dDg,useClass:l.dDg,deps:[l.R0b,l.eoX,l.rWj]}],Nu=[{provide:l.zSh,useValue:"root"},{provide:l.qLn,useFactory:function ma(){return new l.qLn},deps:[]},{provide:Nh,useClass:pa,multi:!0,deps:[we,l.R0b,l.Lbi]},{provide:Nh,useClass:Ou,multi:!0,deps:[we]},{provide:Uh,useClass:Uh,deps:[Mu,fa,l.AFp]},{provide:l.FYo,useExisting:Uh},{provide:bc,useExisting:fa},{provide:fa,useClass:fa,deps:[we]},{provide:Mu,useClass:Mu,deps:[Nh,l.R0b]},{provide:class fc{},useClass:zv,deps:[]},[]];let ga=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:l.AFp,useValue:t.appId},{provide:Yn,useExisting:l.AFp},Hv]}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Sc,12))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[...Nu,...Ic],imports:[ai,l.hGG]}),n})(),eo=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(we))},n.\u0275prov=l.Yz7({token:n,factory:function(t){let i=null;return i=t?new t:function Tc(){return new eo((0,l.LFG)(we))}(),i},providedIn:"root"}),n})();typeof window<"u"&&window;let xo=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(t){let i=null;return i=t?new(t||n):l.LFG(Jv),i},providedIn:"root"}),n})(),Jv=(()=>{class n extends xo{constructor(t){super(),this._doc=t}sanitize(t,i){if(null==i)return null;switch(t){case l.q3G.NONE:return i;case l.q3G.HTML:return(0,l.qzn)(i,"HTML")?(0,l.z3N)(i):(0,l.EiD)(this._doc,String(i)).toString();case l.q3G.STYLE:return(0,l.qzn)(i,"Style")?(0,l.z3N)(i):i;case l.q3G.SCRIPT:if((0,l.qzn)(i,"Script"))return(0,l.z3N)(i);throw new Error("unsafe value used in a script context");case l.q3G.URL:return(0,l.qzn)(i,"URL")?(0,l.z3N)(i):(0,l.mCW)(String(i));case l.q3G.RESOURCE_URL:if((0,l.qzn)(i,"ResourceURL"))return(0,l.z3N)(i);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return(0,l.JVY)(t)}bypassSecurityTrustStyle(t){return(0,l.L6k)(t)}bypassSecurityTrustScript(t){return(0,l.eBb)(t)}bypassSecurityTrustUrl(t){return(0,l.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,l.pB0)(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(we))},n.\u0275prov=l.Yz7({token:n,factory:function(t){let i=null;return i=t?new t:function pS(n){return new Jv(n.get(we))}(l.LFG(l.zs3)),i},providedIn:"root"}),n})();var hn=z(8996),Ps=z(3269);function tt(...n){const e=(0,Ps.yG)(n);return(0,hn.D)(n,e)}var Tt=z(7579);class On extends Tt.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}}const ya=(0,z(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Pn=z(9751);const{isArray:va}=Array,{getPrototypeOf:Vm,prototype:Wh,keys:eb}=Object;function ba(n){if(1===n.length){const e=n[0];if(va(e))return{args:e,keys:null};if(function Um(n){return n&&"object"==typeof n&&Vm(n)===Wh}(e)){const t=eb(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}var Ea=z(4671),rt=z(4004);const{isArray:qh}=Array;function Yh(n){return(0,rt.U)(e=>function Mo(n,e){return qh(e)?n(...e):n(e)}(n,e))}function Zh(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}var Hn=z(5403),Kh=z(9672);function Qh(...n){const e=(0,Ps.yG)(n),t=(0,Ps.jO)(n),{args:i,keys:r}=ba(n);if(0===i.length)return(0,hn.D)([],e);const s=new Pn.y(function Xh(n,e,t=Ea.y){return i=>{$m(e,()=>{const{length:r}=n,s=new Array(r);let a=r,d=r;for(let h=0;h<r;h++)$m(e,()=>{const p=(0,hn.D)(n[h],e);let g=!1;p.subscribe((0,Hn.x)(i,v=>{s[h]=v,g||(g=!0,d--),d||i.next(t(s.slice()))},()=>{--a||i.complete()}))},i)},i)}}(i,e,r?a=>Zh(r,a):Ea.y));return t?s.pipe(Yh(t)):s}function $m(n,e,t){n?(0,Kh.f)(t,n,e):e()}var wa=z(8189);function ko(...n){return function Mc(){return(0,wa.J)(1)}()((0,hn.D)(n,(0,Ps.yG)(n)))}var cs=z(8421);function no(n){return new Pn.y(e=>{(0,cs.Xf)(n()).subscribe(e)})}var Jh=z(9635),ji=z(576);function Ro(n,e){const t=(0,ji.m)(n)?n:()=>n,i=r=>r.error(t());return new Pn.y(e?r=>e.schedule(i,0,r):i)}var Ns=z(515),Fi=z(727),Zn=z(4482);function Oo(){return(0,Zn.e)((n,e)=>{let t=null;n._refCount++;const i=(0,Hn.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const r=n._connection,s=t;t=null,r&&(!s||r===s)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}class Po extends Pn.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Zn.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Fi.w0;const t=this.getSubject();e.add(this.source.subscribe((0,Hn.x)(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Fi.w0.EMPTY)}return e}refCount(){return Oo()(this)}}function Nn(n,e){return(0,Zn.e)((t,i)=>{let r=null,s=0,a=!1;const d=()=>a&&!r&&i.complete();t.subscribe((0,Hn.x)(i,h=>{r?.unsubscribe();let p=0;const g=s++;(0,cs.Xf)(n(h,g)).subscribe(r=(0,Hn.x)(i,v=>i.next(e?e(h,v,g,p++):v),()=>{r=null,d()}))},()=>{a=!0,d()}))})}function Wt(n){return n<=0?()=>Ns.E:(0,Zn.e)((e,t)=>{let i=0;e.subscribe((0,Hn.x)(t,r=>{++i<=n&&(t.next(r),n<=i&&t.complete())}))})}function li(...n){const e=(0,Ps.yG)(n);return(0,Zn.e)((t,i)=>{(e?ko(n,t,e):ko(n,t)).subscribe(i)})}function An(n,e){return(0,Zn.e)((t,i)=>{let r=0;t.subscribe((0,Hn.x)(i,s=>n.call(e,s,r++)&&i.next(s)))})}var fi=z(5577);function Fs(n){return(0,Zn.e)((e,t)=>{let i=!1;e.subscribe((0,Hn.x)(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function Hm(n=tb){return(0,Zn.e)((e,t)=>{let i=!1;e.subscribe((0,Hn.x)(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function tb(){return new ya}function us(n,e){const t=arguments.length>=2;return i=>i.pipe(n?An((r,s)=>n(r,s,i)):Ea.y,Wt(1),t?Fs(e):Hm(()=>new ya))}function Ls(n,e){return(0,ji.m)(e)?(0,fi.z)(n,e,1):(0,fi.z)(n,1)}function kn(n,e,t){const i=(0,ji.m)(n)||e||t?{next:n,error:e,complete:t}:n;return i?(0,Zn.e)((r,s)=>{var a;null===(a=i.subscribe)||void 0===a||a.call(i);let d=!0;r.subscribe((0,Hn.x)(s,h=>{var p;null===(p=i.next)||void 0===p||p.call(i,h),s.next(h)},()=>{var h;d=!1,null===(h=i.complete)||void 0===h||h.call(i),s.complete()},h=>{var p;d=!1,null===(p=i.error)||void 0===p||p.call(i,h),s.error(h)},()=>{var h,p;d&&(null===(h=i.unsubscribe)||void 0===h||h.call(i)),null===(p=i.finalize)||void 0===p||p.call(i)}))}):Ea.y}function Wr(n){return(0,Zn.e)((e,t)=>{let s,i=null,r=!1;i=e.subscribe((0,Hn.x)(t,void 0,void 0,a=>{s=(0,cs.Xf)(n(a,Wr(n)(e))),i?(i.unsubscribe(),i=null,s.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(t))})}function Ca(n,e,t,i,r){return(s,a)=>{let d=t,h=e,p=0;s.subscribe((0,Hn.x)(a,g=>{const v=p++;h=d?n(h,g,v):(d=!0,g),i&&a.next(h)},r&&(()=>{d&&a.next(h),a.complete()})))}}function rl(n,e){return(0,Zn.e)(Ca(n,e,arguments.length>=2,!0))}function sl(n){return n<=0?()=>Ns.E:(0,Zn.e)((e,t)=>{let i=[];e.subscribe((0,Hn.x)(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function ol(n,e){const t=arguments.length>=2;return i=>i.pipe(n?An((r,s)=>n(r,s,i)):Ea.y,sl(1),t?Fs(e):Hm(()=>new ya))}function al(n,e=!1){return(0,Zn.e)((t,i)=>{let r=0;t.subscribe((0,Hn.x)(i,s=>{const a=n(s,r++);(a||e)&&i.next(s),!a&&i.complete()}))})}function $u(n){return(0,rt.U)(()=>n)}function kc(n){return(0,Zn.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const Qt="primary",ds=Symbol("RouteTitle");class Sa{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function ll(n){return new Sa(n)}function mS(n,e,t){const i=t.path.split("/");if(i.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||i.length<n.length))return null;const r={};for(let s=0;s<i.length;s++){const a=i[s],d=n[s];if(a.startsWith(":"))r[a.substring(1)]=d;else if(a!==d.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function qr(n,e){const t=n?Object.keys(n):void 0,i=e?Object.keys(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let s=0;s<t.length;s++)if(r=t[s],!nb(n[r],e[r]))return!1;return!0}function nb(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),i=[...e].sort();return t.every((r,s)=>i[s]===r)}return n===e}function jm(n){return Array.prototype.concat.apply([],n)}function ef(n){return n.length>0?n[n.length-1]:null}function Kn(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function io(n){return(0,l.CqO)(n)?n:(0,l.QGY)(n)?(0,hn.D)(Promise.resolve(n)):tt(n)}const _S={exact:function Wm(n,e,t){if(!so(n.segments,e.segments)||!ro(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const i in e.children)if(!n.children[i]||!Wm(n.children[i],e.children[i],t))return!1;return!0},subset:Rc},nf={exact:function rf(n,e){return qr(n,e)},subset:function Hu(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>nb(n[t],e[t]))},ignored:()=>!0};function ib(n,e,t){return _S[t.paths](n.root,e.root,t.matrixParams)&&nf[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function Rc(n,e,t){return zu(n,e,e.segments,t)}function zu(n,e,t,i){if(n.segments.length>t.length){const r=n.segments.slice(0,t.length);return!(!so(r,t)||e.hasChildren()||!ro(r,t,i))}if(n.segments.length===t.length){if(!so(n.segments,t)||!ro(n.segments,t,i))return!1;for(const r in e.children)if(!n.children[r]||!Rc(n.children[r],e.children[r],i))return!1;return!0}{const r=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(so(n.segments,r)&&ro(n.segments,r,i)&&n.children[Qt])&&zu(n.children[Qt],e,s,i)}}function ro(n,e,t){return e.every((i,r)=>nf[t](n[r].parameters,i.parameters))}class Ia{constructor(e,t,i){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ll(this.queryParams)),this._queryParamMap}toString(){return Ta.serialize(this)}}class nn{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Kn(t,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ul(this)}}class Oc{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=ll(this.parameters)),this._parameterMap}toString(){return Ym(this)}}function so(n,e){return n.length===e.length&&n.every((t,i)=>t.path===e[i].path)}let sf=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return new cl},providedIn:"root"}),n})();class cl{parse(e){const t=new y(e);return new Ia(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Pc(e.root,!0)}`,i=function sb(n){const e=Object.keys(n).map(t=>{const i=n[t];return Array.isArray(i)?i.map(r=>`${Gu(t)}=${Gu(r)}`).join("&"):`${Gu(t)}=${Gu(i)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${i}${"string"==typeof e.fragment?`#${function lf(n){return encodeURI(n)}(e.fragment)}`:""}`}}const Ta=new cl;function ul(n){return n.segments.map(e=>Ym(e)).join("/")}function Pc(n,e){if(!n.hasChildren())return ul(n);if(e){const t=n.children[Qt]?Pc(n.children[Qt],!1):"",i=[];return Kn(n.children,(r,s)=>{s!==Qt&&i.push(`${s}:${Pc(r,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}{const t=function qm(n,e){let t=[];return Kn(n.children,(i,r)=>{r===Qt&&(t=t.concat(e(i,r)))}),Kn(n.children,(i,r)=>{r!==Qt&&(t=t.concat(e(i,r)))}),t}(n,(i,r)=>r===Qt?[Pc(n.children[Qt],!1)]:[`${r}:${Pc(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Qt]?`${ul(n)}/${t[0]}`:`${ul(n)}/(${t.join("//")})`}}function af(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Gu(n){return af(n).replace(/%3B/gi,";")}function hs(n){return af(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Bs(n){return decodeURIComponent(n)}function cf(n){return Bs(n.replace(/\+/g,"%20"))}function Ym(n){return`${hs(n.path)}${function rb(n){return Object.keys(n).map(e=>`;${hs(e)}=${hs(n[e])}`).join("")}(n.parameters)}`}const ob=/^[^\/()?;=#]+/;function Wu(n){const e=n.match(ob);return e?e[0]:""}const uf=/^[^=?&#]+/,lb=/^[^&#]+/;class y{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new nn([],{}):new nn([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[Qt]=new nn(e,t)),i}parseSegment(){const e=Wu(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new l.vHH(4009,!1);return this.capture(e),new Oc(Bs(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Wu(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const r=Wu(this.remaining);r&&(i=r,this.capture(i))}e[Bs(t)]=Bs(i)}parseQueryParam(e){const t=function ab(n){const e=n.match(uf);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const a=function C(n){const e=n.match(lb);return e?e[0]:""}(this.remaining);a&&(i=a,this.capture(i))}const r=cf(t),s=cf(i);if(e.hasOwnProperty(r)){let a=e[r];Array.isArray(a)||(a=[a],e[r]=a),a.push(s)}else e[r]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=Wu(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new l.vHH(4010,!1);let s;i.indexOf(":")>-1?(s=i.slice(0,i.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=Qt);const a=this.parseChildren();t[s]=1===Object.keys(a).length?a[Qt]:new nn([],a),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new l.vHH(4011,!1)}}function b(n){return n.segments.length>0?new nn([],{[Qt]:n}):n}function I(n){const e={};for(const i of Object.keys(n.children)){const s=I(n.children[i]);(s.segments.length>0||s.hasChildren())&&(e[i]=s)}return function R(n){if(1===n.numberOfChildren&&n.children[Qt]){const e=n.children[Qt];return new nn(n.segments.concat(e.segments),e.children)}return n}(new nn(n.segments,e))}function N(n){return n instanceof Ia}function Xt(n,e,t,i,r){if(0===t.length)return Yr(e.root,e.root,e.root,i,r);const s=function Zu(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Yu(!0,0,n);let e=0,t=!1;const i=n.reduce((r,s,a)=>{if("object"==typeof s&&null!=s){if(s.outlets){const d={};return Kn(s.outlets,(h,p)=>{d[p]="string"==typeof h?h.split("/"):h}),[...r,{outlets:d}]}if(s.segmentPath)return[...r,s.segmentPath]}return"string"!=typeof s?[...r,s]:0===a?(s.split("/").forEach((d,h)=>{0==h&&"."===d||(0==h&&""===d?t=!0:".."===d?e++:""!=d&&r.push(d))}),r):[...r,s]},[]);return new Yu(t,e,i)}(t);return s.toRoot()?Yr(e.root,e.root,new nn([],{}),i,r):function a(h){const p=function df(n,e,t,i){if(n.isAbsolute)return new Da(e.root,!0,0);if(-1===i)return new Da(t,t===e.root,0);return function Ku(n,e,t){let i=n,r=e,s=t;for(;s>r;){if(s-=r,i=i.parent,!i)throw new l.vHH(4005,!1);r=i.segments.length}return new Da(i,!1,r-s)}(t,i+(bn(n.commands[0])?0:1),n.numberOfDoubleDots)}(s,e,n.snapshot?._urlSegment,h),g=p.processChildren?No(p.segmentGroup,p.index,s.commands):dl(p.segmentGroup,p.index,s.commands);return Yr(e.root,p.segmentGroup,g,i,r)}(n.snapshot?._lastPathIndex)}function bn(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Gi(n){return"object"==typeof n&&null!=n&&n.outlets}function Yr(n,e,t,i,r){let a,s={};i&&Kn(i,(h,p)=>{s[p]=Array.isArray(h)?h.map(g=>`${g}`):`${h}`}),a=n===e?t:qu(n,e,t);const d=b(I(a));return new Ia(d,s,r)}function qu(n,e,t){const i={};return Kn(n.children,(r,s)=>{i[s]=r===e?t:qu(r,e,t)}),new nn(n.segments,i)}class Yu{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&bn(i[0]))throw new l.vHH(4003,!1);const r=i.find(Gi);if(r&&r!==ef(i))throw new l.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Da{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}}function dl(n,e,t){if(n||(n=new nn([],{})),0===n.segments.length&&n.hasChildren())return No(n,e,t);const i=function cb(n,e,t){let i=0,r=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return s;const a=n.segments[r],d=t[i];if(Gi(d))break;const h=`${d}`,p=i<t.length-1?t[i+1]:null;if(r>0&&void 0===h)break;if(h&&p&&"object"==typeof p&&void 0===p.outlets){if(!Km(h,p,a))return s;i+=2}else{if(!Km(h,{},a))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const s=new nn(n.segments.slice(0,i.pathIndex),{});return s.children[Qt]=new nn(n.segments.slice(i.pathIndex),n.children),No(s,0,r)}return i.match&&0===r.length?new nn(n.segments,{}):i.match&&!n.hasChildren()?Bn(n,e,t):i.match?No(n,0,r):Bn(n,e,t)}function No(n,e,t){if(0===t.length)return new nn(n.segments,{});{const i=function Nc(n){return Gi(n[0])?n[0].outlets:{[Qt]:n}}(t),r={};return Kn(i,(s,a)=>{"string"==typeof s&&(s=[s]),null!==s&&(r[a]=dl(n.children[a],e,s))}),Kn(n.children,(s,a)=>{void 0===i[a]&&(r[a]=s)}),new nn(n.segments,r)}}function Bn(n,e,t){const i=n.segments.slice(0,e);let r=0;for(;r<t.length;){const s=t[r];if(Gi(s)){const h=ub(s.outlets);return new nn(i,h)}if(0===r&&bn(t[0])){i.push(new Oc(n.segments[e].path,yS(t[0]))),r++;continue}const a=Gi(s)?s.outlets[Qt]:`${s}`,d=r<t.length-1?t[r+1]:null;a&&d&&bn(d)?(i.push(new Oc(a,yS(d))),r+=2):(i.push(new Oc(a,{})),r++)}return new nn(i,{})}function ub(n){const e={};return Kn(n,(t,i)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[i]=Bn(new nn([],{}),0,t))}),e}function yS(n){const e={};return Kn(n,(t,i)=>e[i]=`${t}`),e}function Km(n,e,t){return n==t.path&&qr(e,t.parameters)}class Fo{constructor(e,t){this.id=e,this.url=t}}class db extends Fo{constructor(e,t,i="imperative",r=null){super(e,t),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Fc extends Fo{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Qm extends Fo{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class vS extends Fo{constructor(e,t,i,r){super(e,t),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class XM extends Fo{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class vV extends Fo{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class bV extends Fo{constructor(e,t,i,r,s){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class hf extends Fo{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class hb extends Fo{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class bS{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class ES{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class wS{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class JM{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class CS{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class fb{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Xm{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class SS{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=ff(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){const t=ff(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Jm(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return Jm(e,this._root).map(t=>t.value)}}function ff(n,e){if(n===e.value)return e;for(const t of e.children){const i=ff(n,t);if(i)return i}return null}function Jm(n,e){if(n===e.value)return[e];for(const t of e.children){const i=Jm(n,t);if(i.length)return i.unshift(e),i}return[]}class Lo{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Vs(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class IS extends SS{constructor(e,t){super(e),this.snapshot=t,pf(this,e)}toString(){return this.snapshot.toString()}}function eg(n,e){const t=function tg(n,e){const a=new Bo([],{},{},"",{},Qt,e,null,n.root,-1,{});return new pb("",new Lo(a,[]))}(n,e),i=new On([new Oc("",{})]),r=new On({}),s=new On({}),a=new On({}),d=new On(""),h=new hl(i,r,a,d,s,Qt,e,t.root);return h.snapshot=t.root,new IS(new Lo(h,[]),t)}class hl{constructor(e,t,i,r,s,a,d,h){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=a,this.component=d,this.title=this.data?.pipe((0,rt.U)(p=>p[ds]))??tt(void 0),this._futureSnapshot=h}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,rt.U)(e=>ll(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,rt.U)(e=>ll(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ng(n,e="emptyOnly"){const t=n.pathFromRoot;let i=0;if("always"!==e)for(i=t.length-1;i>=1;){const r=t[i],s=t[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(s.component)break;i--}}return function ig(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(i))}class Bo{constructor(e,t,i,r,s,a,d,h,p,g,v,w){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=a,this.component=d,this.title=this.data?.[ds],this.routeConfig=h,this._urlSegment=p,this._lastPathIndex=g,this._correctedLastPathIndex=w??g,this._resolve=v}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ll(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ll(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class pb extends SS{constructor(e,t){super(t),this.url=e,pf(this,t)}toString(){return TS(this._root)}}function pf(n,e){e.value._routerState=n,e.children.forEach(t=>pf(n,t))}function TS(n){const e=n.children.length>0?` { ${n.children.map(TS).join(", ")} } `:"";return`${n.value}${e}`}function mb(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,qr(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),qr(e.params,t.params)||n.params.next(t.params),function zm(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!qr(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),qr(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function rg(n,e){const t=qr(n.params,e.params)&&function ju(n,e){return so(n,e)&&n.every((t,i)=>qr(t.parameters,e[i].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||rg(n.parent,e.parent))}function mf(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const i=t.value;i._futureSnapshot=e.value;const r=function ek(n,e,t){return e.children.map(i=>{for(const r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return mf(n,i,r);return mf(n,i)})}(n,e,t);return new Lo(i,r)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const a=s.route;return a.value._futureSnapshot=e.value,a.children=e.children.map(d=>mf(n,d)),a}}const i=function tk(n){return new hl(new On(n.url),new On(n.params),new On(n.queryParams),new On(n.fragment),new On(n.data),n.outlet,n.component,n)}(e.value),r=e.children.map(s=>mf(n,s));return new Lo(i,r)}}const gb="ngNavigationCancelingError";function sg(n,e){const{redirectTo:t,navigationBehaviorOptions:i}=N(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=DS(!1,0,e);return r.url=t,r.navigationBehaviorOptions=i,r}function DS(n,e,t){const i=new Error("NavigationCancelingError: "+(n||""));return i[gb]=!0,i.cancellationCode=e,t&&(i.url=t),i}function _b(n){return AS(n)&&N(n.url)}function AS(n){return n&&n[gb]}class xS{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new og,this.attachRef=null}}let og=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,i){const r=this.getOrCreateContext(t);r.outlet=i,this.contexts.set(t,r)}onChildOutletDestroyed(t){const i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new xS,this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const ag=!1;let Lc=(()=>{class n{constructor(t,i,r,s,a){this.parentContexts=t,this.location=i,this.changeDetector=s,this.environmentInjector=a,this.activated=null,this._activatedRoute=null,this.activateEvents=new l.vpe,this.deactivateEvents=new l.vpe,this.attachEvents=new l.vpe,this.detachEvents=new l.vpe,this.name=r||Qt,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new l.vHH(4012,ag);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new l.vHH(4012,ag);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new l.vHH(4012,ag);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new l.vHH(4013,ag);this._activatedRoute=t;const r=this.location,a=t._futureSnapshot.component,d=this.parentContexts.getOrCreateContext(this.name).children,h=new nk(t,d,r.injector);if(i&&function Xu(n){return!!n.resolveComponentFactory}(i)){const p=i.resolveComponentFactory(a);this.activated=r.createComponent(p,r.length,h)}else this.activated=r.createComponent(a,{index:r.length,injector:h,environmentInjector:i??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(og),l.Y36(l.s_b),l.$8M("name"),l.Y36(l.sBO),l.Y36(l.lqb))},n.\u0275dir=l.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),n})();class nk{constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===hl?this.route:e===og?this.childContexts:this.parent.get(e,t)}}let fl=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[l.jDz],decls:1,vars:0,template:function(t,i){1&t&&l._UZ(0,"router-outlet")},dependencies:[Lc],encapsulation:2}),n})();function MS(n,e){return n.providers&&!n._injector&&(n._injector=(0,l.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function bb(n){const e=n.children&&n.children.map(bb),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Qt&&(t.component=fl),t}function Us(n){return n.outlet||Qt}function lg(n,e){const t=n.filter(i=>Us(i)===e);return t.push(...n.filter(i=>Us(i)!==e)),t}function cg(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class Eb{constructor(e,t,i,r){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r}activate(e){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),mb(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){const r=Vs(t);e.children.forEach(s=>{const a=s.value.outlet;this.deactivateRoutes(s,r[a],i),delete r[a]}),Kn(r,(s,a)=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(e,t,i){const r=e.value,s=t?t.value:null;if(r===s)if(r.component){const a=i.getContext(r.outlet);a&&this.deactivateChildRoutes(e,t,a.children)}else this.deactivateChildRoutes(e,t,i);else s&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,s=Vs(e);for(const a of Object.keys(s))this.deactivateRouteAndItsChildren(s[a],r);if(i&&i.outlet){const a=i.outlet.detach(),d=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:a,route:e,contexts:d})}}deactivateRouteAndOutlet(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,s=Vs(e);for(const a of Object.keys(s))this.deactivateRouteAndItsChildren(s[a],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(e,t,i){const r=Vs(t);e.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new fb(s.value.snapshot))}),e.children.length&&this.forwardEvent(new JM(e.value.snapshot))}activateRoutes(e,t,i){const r=e.value,s=t?t.value:null;if(mb(r),r===s)if(r.component){const a=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,a.children)}else this.activateChildRoutes(e,t,i);else if(r.component){const a=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const d=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),a.children.onOutletReAttached(d.contexts),a.attachRef=d.componentRef,a.route=d.route.value,a.outlet&&a.outlet.attach(d.componentRef,d.route.value),mb(d.route.value),this.activateChildRoutes(e,null,a.children)}else{const d=cg(r.snapshot),h=d?.get(l._Vd)??null;a.attachRef=null,a.route=r,a.resolver=h,a.injector=d,a.outlet&&a.outlet.activateWith(r,a.injector),this.activateChildRoutes(e,null,a.children)}}else this.activateChildRoutes(e,null,i)}}class rk{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class wb{constructor(e,t){this.component=e,this.route=t}}function IV(n,e,t){const i=n._root;return _f(i,e?e._root:null,t,[i.value])}function gf(n,e){const t=Symbol(),i=e.get(n,t);return i===t?"function"!=typeof n||(0,l.Z0I)(n)?e.get(n):n:i}function _f(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=Vs(e);return n.children.forEach(a=>{(function OS(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,a=e?e.value:null,d=t?t.getContext(n.value.outlet):null;if(a&&s.routeConfig===a.routeConfig){const h=function Cb(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!so(n.url,e.url);case"pathParamsOrQueryParamsChange":return!so(n.url,e.url)||!qr(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!rg(n,e)||!qr(n.queryParams,e.queryParams);default:return!rg(n,e)}}(a,s,s.routeConfig.runGuardsAndResolvers);h?r.canActivateChecks.push(new rk(i)):(s.data=a.data,s._resolvedData=a._resolvedData),_f(n,e,s.component?d?d.children:null:t,i,r),h&&d&&d.outlet&&d.outlet.isActivated&&r.canDeactivateChecks.push(new wb(d.outlet.component,a))}else a&&Ju(e,d,r),r.canActivateChecks.push(new rk(i)),_f(n,null,s.component?d?d.children:null:t,i,r)})(a,s[a.value.outlet],t,i.concat([a.value]),r),delete s[a.value.outlet]}),Kn(s,(a,d)=>Ju(a,t.getContext(d),r)),r}function Ju(n,e,t){const i=Vs(n),r=n.value;Kn(i,(s,a)=>{Ju(s,r.component?e?e.children.getContext(a):null:e,t)}),t.canDeactivateChecks.push(new wb(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}function ed(n){return"function"==typeof n}function ug(n){return n instanceof ya||"EmptyError"===n?.name}const dg=Symbol("INITIAL_VALUE");function td(){return Nn(n=>Qh(n.map(e=>e.pipe(Wt(1),li(dg)))).pipe((0,rt.U)(e=>{for(const t of e)if(!0!==t){if(t===dg)return dg;if(!1===t||t instanceof Ia)return t}return!0}),An(e=>e!==dg),Wt(1)))}function gr(n){return(0,Jh.z)(kn(e=>{if(N(e))throw sg(0,e)}),(0,rt.U)(e=>!0===e))}const hg={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function fg(n,e,t,i,r){const s=Wi(n,e,t);return s.matched?function Db(n,e,t,i){const r=e.canMatch;return r&&0!==r.length?tt(r.map(a=>{const d=gf(a,n);return io(function ok(n){return n&&ed(n.canMatch)}(d)?d.canMatch(e,t):n.runInContext(()=>d(e,t)))})).pipe(td(),gr()):tt(!0)}(i=MS(e,i),e,t).pipe((0,rt.U)(a=>!0===a?s:{...hg})):tt(s)}function Wi(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...hg}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const r=(e.matcher||mS)(t,n,e);if(!r)return{...hg};const s={};Kn(r.posParams,(d,h)=>{s[h]=d.path});const a=r.consumed.length>0?{...s,...r.consumed[r.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:a,positionalParamSegments:r.posParams??{}}}function pl(n,e,t,i,r="corrected"){if(t.length>0&&function gk(n,e,t){return t.some(i=>pg(n,e,i)&&Us(i)!==Qt)}(n,t,i)){const a=new nn(e,function mk(n,e,t,i){const r={};r[Qt]=i,i._sourceSegment=n,i._segmentIndexShift=e.length;for(const s of t)if(""===s.path&&Us(s)!==Qt){const a=new nn([],{});a._sourceSegment=n,a._segmentIndexShift=e.length,r[Us(s)]=a}return r}(n,e,i,new nn(t,n.children)));return a._sourceSegment=n,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:[]}}if(0===t.length&&function LS(n,e,t){return t.some(i=>pg(n,e,i))}(n,t,i)){const a=new nn(n.segments,function FS(n,e,t,i,r,s){const a={};for(const d of i)if(pg(n,t,d)&&!r[Us(d)]){const h=new nn([],{});h._sourceSegment=n,h._segmentIndexShift="legacy"===s?n.segments.length:e.length,a[Us(d)]=h}return{...r,...a}}(n,e,t,i,n.children,r));return a._sourceSegment=n,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:t}}const s=new nn(n.segments,n.children);return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:t}}function pg(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function Ab(n,e,t,i){return!!(Us(n)===i||i!==Qt&&pg(e,t,n))&&("**"===n.path||Wi(e,n,t).matched)}function BS(n,e,t){return 0===e.length&&!n.children[t]}const vf=!1;class mg{constructor(e){this.segmentGroup=e||null}}class VS{constructor(e){this.urlTree=e}}function bf(n){return Ro(new mg(n))}function US(n){return Ro(new VS(n))}class yk{constructor(e,t,i,r,s){this.injector=e,this.configLoader=t,this.urlSerializer=i,this.urlTree=r,this.config=s,this.allowRedirects=!0}apply(){const e=pl(this.urlTree.root,[],[],this.config).segmentGroup,t=new nn(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,Qt).pipe((0,rt.U)(s=>this.createUrlTree(I(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Wr(s=>{if(s instanceof VS)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof mg?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,Qt).pipe((0,rt.U)(r=>this.createUrlTree(I(r),e.queryParams,e.fragment))).pipe(Wr(r=>{throw r instanceof mg?this.noMatchError(r):r}))}noMatchError(e){return new l.vHH(4002,vf)}createUrlTree(e,t,i){const r=b(e);return new Ia(r,t,i)}expandSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(e,t,i).pipe((0,rt.U)(s=>new nn([],s))):this.expandSegment(e,i,t,i.segments,r,!0)}expandChildren(e,t,i){const r=[];for(const s of Object.keys(i.children))"primary"===s?r.unshift(s):r.push(s);return(0,hn.D)(r).pipe(Ls(s=>{const a=i.children[s],d=lg(t,s);return this.expandSegmentGroup(e,d,a,s).pipe((0,rt.U)(h=>({segment:h,outlet:s})))}),rl((s,a)=>(s[a.outlet]=a.segment,s),{}),ol())}expandSegment(e,t,i,r,s,a){return(0,hn.D)(i).pipe(Ls(d=>this.expandSegmentAgainstRoute(e,t,i,d,r,s,a).pipe(Wr(p=>{if(p instanceof mg)return tt(null);throw p}))),us(d=>!!d),Wr((d,h)=>{if(ug(d))return BS(t,r,s)?tt(new nn([],{})):bf(t);throw d}))}expandSegmentAgainstRoute(e,t,i,r,s,a,d){return Ab(r,t,s,a)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,s,a):d&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,i,r,s,a):bf(t):bf(t)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,s,a){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,i,r,a):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,s,a)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,i,r){const s=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?US(s):this.lineralizeSegments(i,s).pipe((0,fi.z)(a=>{const d=new nn(a,{});return this.expandSegment(e,d,t,a,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,s,a){const{matched:d,consumedSegments:h,remainingSegments:p,positionalParamSegments:g}=Wi(t,r,s);if(!d)return bf(t);const v=this.applyRedirectCommands(h,r.redirectTo,g);return r.redirectTo.startsWith("/")?US(v):this.lineralizeSegments(r,v).pipe((0,fi.z)(w=>this.expandSegment(e,t,i,w.concat(p),a,!1)))}matchSegmentAgainstRoute(e,t,i,r,s){return"**"===i.path?(e=MS(i,e),i.loadChildren?(i._loadedRoutes?tt({routes:i._loadedRoutes,injector:i._loadedInjector}):this.configLoader.loadChildren(e,i)).pipe((0,rt.U)(d=>(i._loadedRoutes=d.routes,i._loadedInjector=d.injector,new nn(r,{})))):tt(new nn(r,{}))):fg(t,i,r,e).pipe(Nn(({matched:a,consumedSegments:d,remainingSegments:h})=>a?this.getChildConfig(e=i._injector??e,i,r).pipe((0,fi.z)(g=>{const v=g.injector??e,w=g.routes,{segmentGroup:D,slicedSegments:A}=pl(t,d,h,w),x=new nn(D.segments,D.children);if(0===A.length&&x.hasChildren())return this.expandChildren(v,w,x).pipe((0,rt.U)(U=>new nn(d,U)));if(0===w.length&&0===A.length)return tt(new nn(d,{}));const k=Us(i)===s;return this.expandSegment(v,x,w,A,k?Qt:s,!0).pipe((0,rt.U)(L=>new nn(d.concat(L.segments),L.children)))})):bf(t)))}getChildConfig(e,t,i){return t.children?tt({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?tt({routes:t._loadedRoutes,injector:t._loadedInjector}):function pk(n,e,t,i){const r=e.canLoad;return void 0===r||0===r.length?tt(!0):tt(r.map(a=>{const d=gf(a,n);return io(function Sb(n){return n&&ed(n.canLoad)}(d)?d.canLoad(e,t):n.runInContext(()=>d(e,t)))})).pipe(td(),gr())}(e,t,i).pipe((0,fi.z)(r=>r?this.configLoader.loadChildren(e,t).pipe(kn(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):function nd(n){return Ro(DS(vf,3))}())):tt({routes:[],injector:e})}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return tt(i);if(r.numberOfChildren>1||!r.children[Qt])return Ro(new l.vHH(4e3,vf));r=r.children[Qt]}}applyRedirectCommands(e,t,i){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,i)}applyRedirectCreateUrlTree(e,t,i,r){const s=this.createSegmentGroup(e,t.root,i,r);return new Ia(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const i={};return Kn(e,(r,s)=>{if("string"==typeof r&&r.startsWith(":")){const d=r.substring(1);i[s]=t[d]}else i[s]=r}),i}createSegmentGroup(e,t,i,r){const s=this.createSegments(e,t.segments,i,r);let a={};return Kn(t.children,(d,h)=>{a[h]=this.createSegmentGroup(e,d,i,r)}),new nn(s,a)}createSegments(e,t,i,r){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,r):this.findOrReturn(s,i))}findPosParam(e,t,i){const r=i[t.path.substring(1)];if(!r)throw new l.vHH(4001,vf);return r}findOrReturn(e,t){let i=0;for(const r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}}class AV{}class Vo{constructor(e,t,i,r,s,a,d,h){this.injector=e,this.rootComponentType=t,this.config=i,this.urlTree=r,this.url=s,this.paramsInheritanceStrategy=a,this.relativeLinkResolution=d,this.urlSerializer=h}recognize(){const e=pl(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Qt).pipe((0,rt.U)(t=>{if(null===t)return null;const i=new Bo([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Qt,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Lo(i,t),s=new pb(this.url,r);return this.inheritParamsAndData(s._root),s}))}inheritParamsAndData(e){const t=e.value,i=ng(t,this.paramsInheritanceStrategy);t.params=Object.freeze(i.params),t.data=Object.freeze(i.data),e.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(e,t,i):this.processSegment(e,t,i,i.segments,r)}processChildren(e,t,i){return(0,hn.D)(Object.keys(i.children)).pipe(Ls(r=>{const s=i.children[r],a=lg(t,r);return this.processSegmentGroup(e,a,s,r)}),rl((r,s)=>r&&s?(r.push(...s),r):null),al(r=>null!==r),Fs(null),ol(),(0,rt.U)(r=>{if(null===r)return null;const s=Rb(r);return function Mb(n){n.sort((e,t)=>e.value.outlet===Qt?-1:t.value.outlet===Qt?1:e.value.outlet.localeCompare(t.value.outlet))}(s),s}))}processSegment(e,t,i,r,s){return(0,hn.D)(t).pipe(Ls(a=>this.processSegmentAgainstRoute(a._injector??e,a,i,r,s)),us(a=>!!a),Wr(a=>{if(ug(a))return BS(i,r,s)?tt([]):tt(null);throw a}))}processSegmentAgainstRoute(e,t,i,r,s){if(t.redirectTo||!Ab(t,i,r,s))return tt(null);let a;if("**"===t.path){const d=r.length>0?ef(r).parameters:{},h=HS(i)+r.length;a=tt({snapshot:new Bo(r,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,gg(t),Us(t),t.component??t._loadedComponent??null,t,id(i),h,_g(t),h),consumedSegments:[],remainingSegments:[]})}else a=fg(i,t,r,e).pipe((0,rt.U)(({matched:d,consumedSegments:h,remainingSegments:p,parameters:g})=>{if(!d)return null;const v=HS(i)+h.length;return{snapshot:new Bo(h,g,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,gg(t),Us(t),t.component??t._loadedComponent??null,t,id(i),v,_g(t),v),consumedSegments:h,remainingSegments:p}}));return a.pipe(Nn(d=>{if(null===d)return tt(null);const{snapshot:h,consumedSegments:p,remainingSegments:g}=d;e=t._injector??e;const v=t._loadedInjector??e,w=function kb(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:D,slicedSegments:A}=pl(i,p,g,w.filter(k=>void 0===k.redirectTo),this.relativeLinkResolution);if(0===A.length&&D.hasChildren())return this.processChildren(v,w,D).pipe((0,rt.U)(k=>null===k?null:[new Lo(h,k)]));if(0===w.length&&0===A.length)return tt([new Lo(h,[])]);const x=Us(t)===s;return this.processSegment(v,w,D,A,x?Qt:s).pipe((0,rt.U)(k=>null===k?null:[new Lo(h,k)]))}))}}function bk(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Rb(n){const e=[],t=new Set;for(const i of n){if(!bk(i)){e.push(i);continue}const r=e.find(s=>i.value.routeConfig===s.value.routeConfig);void 0!==r?(r.children.push(...i.children),t.add(r)):e.push(i)}for(const i of t){const r=Rb(i.children);e.push(new Lo(i.value,r))}return e.filter(i=>!t.has(i))}function id(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function HS(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function gg(n){return n.data||{}}function _g(n){return n.resolve||{}}function yg(n){return"string"==typeof n.title||null===n.title}function Pb(n){return Nn(e=>{const t=n(e);return t?(0,hn.D)(t).pipe((0,rt.U)(()=>e)):tt(e)})}let WS=(()=>{class n{buildTitle(t){let i,r=t.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(s=>s.outlet===Qt);return i}getResolvedTitleForRoute(t){return t.data[ds]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return(0,l.f3M)(qS)},providedIn:"root"}),n})(),qS=(()=>{class n extends WS{constructor(t){super(),this.title=t}updateTitle(t){const i=this.buildTitle(t);void 0!==i&&this.title.setTitle(i)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(eo))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Ck{}class YS extends class Sk{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const Ef=new l.OlP("",{providedIn:"root",factory:()=>({})}),Fb=new l.OlP("ROUTES");let Lb=(()=>{class n{constructor(t,i){this.injector=t,this.compiler=i,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return tt(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const i=io(t.loadComponent()).pipe(kn(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),kc(()=>{this.componentLoaders.delete(t)})),r=new Po(i,()=>new Tt.x).pipe(Oo());return this.componentLoaders.set(t,r),r}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return tt({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const s=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe((0,rt.U)(d=>{this.onLoadEndListener&&this.onLoadEndListener(i);let h,p,g=!1;Array.isArray(d)?p=d:(h=d.create(t).injector,p=jm(h.get(Fb,[],l.XFs.Self|l.XFs.Optional)));return{routes:p.map(bb),injector:h}}),kc(()=>{this.childrenLoaders.delete(i)})),a=new Po(s,()=>new Tt.x).pipe(Oo());return this.childrenLoaders.set(i,a),a}loadModuleFactoryOrRoutes(t){return io(t()).pipe((0,fi.z)(i=>i instanceof l.YKP||Array.isArray(i)?tt(i):(0,hn.D)(this.compiler.compileModuleAsync(i))))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.zs3),l.LFG(l.Sil))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class ZS{}class KS{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function QS(n){throw n}function XS(n,e,t){return e.parse("/")}const Ik={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},RV={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function JS(){const n=(0,l.f3M)(sf),e=(0,l.f3M)(og),t=(0,l.f3M)(Ge),i=(0,l.f3M)(l.zs3),r=(0,l.f3M)(l.Sil),s=(0,l.f3M)(Fb,{optional:!0})??[],a=(0,l.f3M)(Ef,{optional:!0})??{},d=(0,l.f3M)(qS),h=(0,l.f3M)(WS,{optional:!0}),p=(0,l.f3M)(ZS,{optional:!0}),g=(0,l.f3M)(Ck,{optional:!0}),v=new Li(null,n,e,t,i,r,jm(s));return p&&(v.urlHandlingStrategy=p),g&&(v.routeReuseStrategy=g),v.titleStrategy=h??d,function bg(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(a,v),v}let Li=(()=>{class n{constructor(t,i,r,s,a,d,h){this.rootComponentType=t,this.urlSerializer=i,this.rootContexts=r,this.location=s,this.config=h,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Tt.x,this.errorHandler=QS,this.malformedUriErrorHandler=XS,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>tt(void 0),this.urlHandlingStrategy=new KS,this.routeReuseStrategy=new YS,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=a.get(Lb),this.configLoader.onLoadEndListener=w=>this.triggerEvent(new ES(w)),this.configLoader.onLoadStartListener=w=>this.triggerEvent(new bS(w)),this.ngModule=a.get(l.h0i),this.console=a.get(l.c2e);const v=a.get(l.R0b);this.isNgZoneEnabled=v instanceof l.R0b&&l.R0b.isInAngularZone(),this.resetConfig(h),this.currentUrlTree=function Gm(){return new Ia(new nn([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=eg(this.currentUrlTree,this.rootComponentType),this.transitions=new On({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(t){const i=this.events;return t.pipe(An(r=>0!==r.id),(0,rt.U)(r=>({...r,extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),Nn(r=>{let s=!1,a=!1;return tt(r).pipe(kn(d=>{this.currentNavigation={id:d.id,initialUrl:d.rawUrl,extractedUrl:d.extractedUrl,trigger:d.source,extras:d.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Nn(d=>{const h=this.browserUrlTree.toString(),p=!this.navigated||d.extractedUrl.toString()!==h||h!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||p)&&this.urlHandlingStrategy.shouldProcessUrl(d.rawUrl))return Bb(d.source)&&(this.browserUrlTree=d.extractedUrl),tt(d).pipe(Nn(v=>{const w=this.transitions.getValue();return i.next(new db(v.id,this.serializeUrl(v.extractedUrl),v.source,v.restoredState)),w!==this.transitions.getValue()?Ns.E:Promise.resolve(v)}),function vk(n,e,t,i){return Nn(r=>function Aa(n,e,t,i,r){return new yk(n,e,t,i,r).apply()}(n,e,t,r.extractedUrl,i).pipe((0,rt.U)(s=>({...r,urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),kn(v=>{this.currentNavigation={...this.currentNavigation,finalUrl:v.urlAfterRedirects},r.urlAfterRedirects=v.urlAfterRedirects}),function jS(n,e,t,i,r,s){return(0,fi.z)(a=>function xV(n,e,t,i,r,s,a="emptyOnly",d="legacy"){return new Vo(n,e,t,i,r,a,d,s).recognize().pipe(Nn(h=>null===h?function $S(n){return new Pn.y(e=>e.error(n))}(new AV):tt(h)))}(n,e,t,a.urlAfterRedirects,i.serialize(a.urlAfterRedirects),i,r,s).pipe((0,rt.U)(d=>({...a,targetSnapshot:d}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),kn(v=>{if(r.targetSnapshot=v.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!v.extras.skipLocationChange){const D=this.urlHandlingStrategy.merge(v.urlAfterRedirects,v.rawUrl);this.setBrowserUrl(D,v)}this.browserUrlTree=v.urlAfterRedirects}const w=new XM(v.id,this.serializeUrl(v.extractedUrl),this.serializeUrl(v.urlAfterRedirects),v.targetSnapshot);i.next(w)}));if(p&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:w,extractedUrl:D,source:A,restoredState:x,extras:k}=d,F=new db(w,this.serializeUrl(D),A,x);i.next(F);const L=eg(D,this.rootComponentType).snapshot;return tt(r={...d,targetSnapshot:L,urlAfterRedirects:D,extras:{...k,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=d.rawUrl,d.resolve(null),Ns.E}),kn(d=>{const h=new vV(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot);this.triggerEvent(h)}),(0,rt.U)(d=>r={...d,guards:IV(d.targetSnapshot,d.currentSnapshot,this.rootContexts)}),function lk(n,e){return(0,fi.z)(t=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:a}}=t;return 0===a.length&&0===s.length?tt({...t,guardsResult:!0}):function ck(n,e,t,i){return(0,hn.D)(n).pipe((0,fi.z)(r=>function fk(n,e,t,i,r){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?tt(s.map(d=>{const h=cg(e)??r,p=gf(d,h);return io(function yf(n){return n&&ed(n.canDeactivate)}(p)?p.canDeactivate(n,e,t,i):h.runInContext(()=>p(n,e,t,i))).pipe(us())})).pipe(td()):tt(!0)}(r.component,r.route,t,e,i)),us(r=>!0!==r,!0))}(a,i,r,n).pipe((0,fi.z)(d=>d&&function PS(n){return"boolean"==typeof n}(d)?function Tb(n,e,t,i){return(0,hn.D)(e).pipe(Ls(r=>ko(function dk(n,e){return null!==n&&e&&e(new wS(n)),tt(!0)}(r.route.parent,i),function uk(n,e){return null!==n&&e&&e(new CS(n)),tt(!0)}(r.route,i),function NS(n,e,t){const i=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(a=>function TV(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(a)).filter(a=>null!==a).map(a=>no(()=>tt(a.guards.map(h=>{const p=cg(a.node)??t,g=gf(h,p);return io(function Ib(n){return n&&ed(n.canActivateChild)}(g)?g.canActivateChild(i,n):p.runInContext(()=>g(i,n))).pipe(us())})).pipe(td())));return tt(s).pipe(td())}(n,r.path,t),function hk(n,e,t){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return tt(!0);const r=i.map(s=>no(()=>{const a=cg(e)??t,d=gf(s,a);return io(function sk(n){return n&&ed(n.canActivate)}(d)?d.canActivate(e,n):a.runInContext(()=>d(e,n))).pipe(us())}));return tt(r).pipe(td())}(n,r.route,t))),us(r=>!0!==r,!0))}(i,s,n,e):tt(d)),(0,rt.U)(d=>({...t,guardsResult:d})))})}(this.ngModule.injector,d=>this.triggerEvent(d)),kn(d=>{if(r.guardsResult=d.guardsResult,N(d.guardsResult))throw sg(0,d.guardsResult);const h=new bV(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot,!!d.guardsResult);this.triggerEvent(h)}),An(d=>!!d.guardsResult||(this.restoreHistory(d),this.cancelNavigationTransition(d,"",3),!1)),Pb(d=>{if(d.guards.canActivateChecks.length)return tt(d).pipe(kn(h=>{const p=new hf(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot);this.triggerEvent(p)}),Nn(h=>{let p=!1;return tt(h).pipe(function MV(n,e){return(0,fi.z)(t=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return tt(t);let s=0;return(0,hn.D)(r).pipe(Ls(a=>function rd(n,e,t,i){const r=n.routeConfig,s=n._resolve;return void 0!==r?.title&&!yg(r)&&(s[ds]=r.title),function Ob(n,e,t,i){const r=function GS(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return tt({});const s={};return(0,hn.D)(r).pipe((0,fi.z)(a=>function wk(n,e,t,i){const r=cg(e)??i,s=gf(n,r);return io(s.resolve?s.resolve(e,t):r.runInContext(()=>s(e,t)))}(n[a],e,t,i).pipe(us(),kn(d=>{s[a]=d}))),sl(1),$u(s),Wr(a=>ug(a)?Ns.E:Ro(a)))}(s,n,e,i).pipe((0,rt.U)(a=>(n._resolvedData=a,n.data=ng(n,t).resolve,r&&yg(r)&&(n.data[ds]=r.title),null)))}(a.route,i,n,e)),kn(()=>s++),sl(1),(0,fi.z)(a=>s===r.length?tt(t):Ns.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),kn({next:()=>p=!0,complete:()=>{p||(this.restoreHistory(h),this.cancelNavigationTransition(h,"",2))}}))}),kn(h=>{const p=new hb(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot);this.triggerEvent(p)}))}),Pb(d=>{const h=p=>{const g=[];p.routeConfig?.loadComponent&&!p.routeConfig._loadedComponent&&g.push(this.configLoader.loadComponent(p.routeConfig).pipe(kn(v=>{p.component=v}),(0,rt.U)(()=>{})));for(const v of p.children)g.push(...h(v));return g};return Qh(h(d.targetSnapshot.root)).pipe(Fs(),Wt(1))}),Pb(()=>this.afterPreactivation()),(0,rt.U)(d=>{const h=function Qu(n,e,t){const i=mf(n,e._root,t?t._root:void 0);return new IS(i,e)}(this.routeReuseStrategy,d.targetSnapshot,d.currentRouterState);return r={...d,targetRouterState:h}}),kn(d=>{this.currentUrlTree=d.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl),this.routerState=d.targetRouterState,"deferred"===this.urlUpdateStrategy&&(d.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,d),this.browserUrlTree=d.urlAfterRedirects)}),((n,e,t)=>(0,rt.U)(i=>(new Eb(e,i.targetRouterState,i.currentRouterState,t).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,d=>this.triggerEvent(d)),kn({next(){s=!0},complete(){s=!0}}),kc(()=>{s||a||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),Wr(d=>{if(a=!0,AS(d)){_b(d)||(this.navigated=!0,this.restoreHistory(r,!0));const h=new Qm(r.id,this.serializeUrl(r.extractedUrl),d.message,d.cancellationCode);if(i.next(h),_b(d)){const p=this.urlHandlingStrategy.merge(d.url,this.rawUrlTree),g={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Bb(r.source)};this.scheduleNavigation(p,"imperative",null,g,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{this.restoreHistory(r,!0);const h=new vS(r.id,this.serializeUrl(r.extractedUrl),d,r.targetSnapshot??void 0);i.next(h);try{r.resolve(this.errorHandler(d))}catch(p){r.reject(p)}}return Ns.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next({...this.transitions.value,...t})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const i="popstate"===t.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{const r={replaceUrl:!0},s=t.state?.navigationId?t.state:null;if(s){const d={...s};delete d.navigationId,delete d.\u0275routerPageId,0!==Object.keys(d).length&&(r.state=d)}const a=this.parseUrl(t.url);this.scheduleNavigation(a,i,s,r)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){this.config=t.map(bb),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,i={}){const{relativeTo:r,queryParams:s,fragment:a,queryParamsHandling:d,preserveFragment:h}=i,p=r||this.routerState.root,g=h?this.currentUrlTree.fragment:a;let v=null;switch(d){case"merge":v={...this.currentUrlTree.queryParams,...s};break;case"preserve":v=this.currentUrlTree.queryParams;break;default:v=s||null}return null!==v&&(v=this.removeEmptyProps(v)),Xt(p,this.currentUrlTree,t,v,g??null)}navigateByUrl(t,i={skipLocationChange:!1}){const r=N(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,i)}navigate(t,i={skipLocationChange:!1}){return function eI(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new l.vHH(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let i;try{i=this.urlSerializer.parse(t)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,t)}return i}isActive(t,i){let r;if(r=!0===i?{...Ik}:!1===i?{...RV}:i,N(t))return ib(this.currentUrlTree,t,r);const s=this.parseUrl(t);return ib(this.currentUrlTree,s,r)}removeEmptyProps(t){return Object.keys(t).reduce((i,r)=>{const s=t[r];return null!=s&&(i[r]=s),i},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Fc(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,i,r,s,a){if(this.disposed)return Promise.resolve(!1);let d,h,p;a?(d=a.resolve,h=a.reject,p=a.promise):p=new Promise((w,D)=>{d=w,h=D});const g=++this.navigationId;let v;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),v=r&&r.\u0275routerPageId?r.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):v=0,this.setTransition({id:g,targetPageId:v,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:s,resolve:d,reject:h,promise:p,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),p.catch(w=>Promise.reject(w))}setBrowserUrl(t,i){const r=this.urlSerializer.serialize(t),s={...i.extras.state,...this.generateNgRouterState(i.id,i.targetPageId)};this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",s):this.location.go(r,"",s)}restoreHistory(t,i=!1){if("computed"===this.canceledNavigationResolution){const r=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===r?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===r&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(r)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,i,r){const s=new Qm(t.id,this.serializeUrl(t.extractedUrl),i,r);this.triggerEvent(s),t.resolve(!1)}generateNgRouterState(t,i){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}}return n.\u0275fac=function(t){l.$Z()},n.\u0275prov=l.Yz7({token:n,factory:function(){return JS()},providedIn:"root"}),n})();function Bb(n){return"imperative"!==n}let sd=(()=>{class n{constructor(t,i,r,s,a){this.router=t,this.route=i,this.tabIndexAttribute=r,this.renderer=s,this.el=a,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.onChanges=new Tt.x,this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(t){this._preserveFragment=(0,l.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,l.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,l.D6c)(t)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(t){if(null!=this.tabIndexAttribute)return;const i=this.renderer,r=this.el.nativeElement;null!==t?i.setAttribute(r,"tabindex",t):i.removeAttribute(r,"tabindex")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){return null===this.urlTree||this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Li),l.Y36(hl),l.$8M("tabindex"),l.Y36(l.Qsj),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,i){1&t&&l.NdJ("click",function(){return i.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[l.TTD]}),n})();class Vb{}let Ub=(()=>{class n{constructor(t,i,r,s,a){this.router=t,this.injector=r,this.preloadingStrategy=s,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(An(t=>t instanceof Fc),Ls(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){const r=[];for(const s of i){s.providers&&!s._injector&&(s._injector=(0,l.MMx)(s.providers,t,`Route: ${s.path}`));const a=s._injector??t,d=s._loadedInjector??a;s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent?r.push(this.preloadConfig(a,s)):(s.children||s._loadedRoutes)&&r.push(this.processRoutes(d,s.children??s._loadedRoutes))}return(0,hn.D)(r).pipe((0,wa.J)())}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(t,i):tt(null);const s=r.pipe((0,fi.z)(a=>null===a?tt(void 0):(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,this.processRoutes(a.injector??t,a.routes))));if(i.loadComponent&&!i._loadedComponent){const a=this.loader.loadComponent(i);return(0,hn.D)([s,a]).pipe((0,wa.J)())}return s})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Li),l.LFG(l.Sil),l.LFG(l.lqb),l.LFG(Vb),l.LFG(Lb))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Bc=new l.OlP("");let nI=(()=>{class n{constructor(t,i,r={}){this.router=t,this.viewportScroller=i,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof db?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Fc&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Xm&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.router.triggerEvent(new Xm(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){l.$Z()},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function Vc(n,e){return{\u0275kind:n,\u0275providers:e}}function Cf(n){return[{provide:Fb,multi:!0,useValue:n}]}function Ak(){const n=(0,l.f3M)(l.zs3);return e=>{const t=n.get(l.z2F);if(e!==t.components[0])return;const i=n.get(Li),r=n.get($b);1===n.get(Hb)&&i.initialNavigation(),n.get($s,null,l.XFs.Optional)?.setUpPreloading(),n.get(Bc,null,l.XFs.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),r.next(),r.complete()}}const $b=new l.OlP("",{factory:()=>new Tt.x}),Hb=new l.OlP("",{providedIn:"root",factory:()=>1});const $s=new l.OlP("");function kk(n){return Vc(0,[{provide:$s,useExisting:Ub},{provide:Vb,useExisting:n}])}const sI=new l.OlP("ROUTER_FORROOT_GUARD"),Ok=[Ge,{provide:sf,useClass:cl},{provide:Li,useFactory:JS},og,{provide:hl,useFactory:function iI(n){return n.routerState.root},deps:[Li]},Lb];function oI(){return new l.PXZ("Router",Li)}let zb=(()=>{class n{constructor(t){}static forRoot(t,i){return{ngModule:n,providers:[Ok,[],Cf(t),{provide:sI,useFactory:aI,deps:[[Li,new l.FiY,new l.tp0]]},{provide:Ef,useValue:i||{}},i?.useHash?{provide:me,useClass:gt}:{provide:me,useClass:mt},{provide:Bc,useFactory:()=>{const n=(0,l.f3M)(Li),e=(0,l.f3M)(Cm),t=(0,l.f3M)(Ef);return t.scrollOffset&&e.setOffset(t.scrollOffset),new nI(n,e,t)}},i?.preloadingStrategy?kk(i.preloadingStrategy).\u0275providers:[],{provide:l.PXZ,multi:!0,useFactory:oI},i?.initialNavigation?lI(i):[],[{provide:jb,useFactory:Ak},{provide:l.tb,multi:!0,useExisting:jb}]]}}static forChild(t){return{ngModule:n,providers:[Cf(t)]}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(sI,8))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[fl]}),n})();function aI(n){return"guarded"}function lI(n){return["disabled"===n.initialNavigation?Vc(3,[{provide:l.ip1,multi:!0,useFactory:()=>{const e=(0,l.f3M)(Li);return()=>{e.setUpLocationChangeListener()}}},{provide:Hb,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Vc(2,[{provide:Hb,useValue:0},{provide:l.ip1,multi:!0,deps:[l.zs3],useFactory:e=>{const t=e.get(K,Promise.resolve());let i=!1;return()=>t.then(()=>new Promise(s=>{const a=e.get(Li),d=e.get($b);(function r(s){e.get(Li).events.pipe(An(d=>d instanceof Fc||d instanceof Qm||d instanceof vS),(0,rt.U)(d=>d instanceof Fc||d instanceof Qm&&(0===d.code||1===d.code)&&null),An(d=>null!==d),Wt(1)).subscribe(()=>{s()})})(()=>{s(!0),i=!0}),a.afterPreactivation=()=>(s(!0),i||d.closed?tt(void 0):d),a.initialNavigation()}))}}]).\u0275providers:[]]}const jb=new l.OlP("");var ot=z(9681);(0,ot.registerVersion)("firebase","9.14.0","app");var ee=z(5861),q=z(2090),kr=z(4859),_r=z(1877),Uc=z(8766);const ml="@firebase/installations",Gb="0.5.16",Tg=`w:${Gb}`,uI="FIS_v2",gl=new q.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function hI(n){return n instanceof q.ZR&&n.code.includes("request-failed")}function _l({projectId:n}){return`https://firebaseinstallations.googleapis.com/v1/projects/${n}/installations`}function fI(n){return{token:n.token,requestStatus:2,expiresIn:Vk(n.expiresIn),creationTime:Date.now()}}function Dg(n,e){return od.apply(this,arguments)}function od(){return(od=(0,ee.Z)(function*(n,e){const i=(yield e.json()).error;return gl.create("request-failed",{requestName:n,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})})).apply(this,arguments)}function pI({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function Wb(n,{refreshToken:e}){const t=pI(n);return t.append("Authorization",function Uk(n){return`${uI} ${n}`}(e)),t}function qb(n){return Yb.apply(this,arguments)}function Yb(){return(Yb=(0,ee.Z)(function*(n){const e=yield n();return e.status>=500&&e.status<600?n():e})).apply(this,arguments)}function Vk(n){return Number(n.replace("s","000"))}function $k(n,e){return Ag.apply(this,arguments)}function Ag(){return(Ag=(0,ee.Z)(function*({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const i=_l(n),r=pI(n),s=e.getImmediate({optional:!0});if(s){const p=yield s.getHeartbeatsHeader();p&&r.append("x-firebase-client",p)}const d={method:"POST",headers:r,body:JSON.stringify({fid:t,authVersion:uI,appId:n.appId,sdkVersion:Tg})},h=yield qb(()=>fetch(i,d));if(h.ok){const p=yield h.json();return{fid:p.fid||t,registrationStatus:2,refreshToken:p.refreshToken,authToken:fI(p.authToken)}}throw yield Dg("Create Installation",h)})).apply(this,arguments)}function mI(n){return new Promise(e=>{setTimeout(e,n)})}const _I=/^[cdef][\w-]{21}$/;function VV(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=function Zb(n){return function gI(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}(n).substr(0,22)}(n);return _I.test(t)?t:""}catch{return""}}function ad(n){return`${n.appName}!${n.appId}`}const If=new Map;function $c(n,e){const t=ad(n);Tf(t,e),function oo(n,e){const t=function bI(){return!yl&&"BroadcastChannel"in self&&(yl=new BroadcastChannel("[Firebase] FID Change"),yl.onmessage=n=>{Tf(n.data.key,n.data.fid)}),yl}();t&&t.postMessage({key:n,fid:e}),function xg(){0===If.size&&yl&&(yl.close(),yl=null)}()}(t,e)}function Tf(n,e){const t=If.get(n);if(t)for(const i of t)i(e)}let yl=null;const vl="firebase-installations-store";let Df=null;function EI(){return Df||(Df=(0,Uc.X3)("firebase-installations-database",1,{upgrade:(n,e)=>{0===e&&n.createObjectStore(vl)}})),Df}function Af(n,e){return wI.apply(this,arguments)}function wI(){return(wI=(0,ee.Z)(function*(n,e){const t=ad(n),r=(yield EI()).transaction(vl,"readwrite"),s=r.objectStore(vl),a=yield s.get(t);return yield s.put(e,t),yield r.done,(!a||a.fid!==e.fid)&&$c(n,e.fid),e})).apply(this,arguments)}function ld(n){return cd.apply(this,arguments)}function cd(){return(cd=(0,ee.Z)(function*(n){const e=ad(n),i=(yield EI()).transaction(vl,"readwrite");yield i.objectStore(vl).delete(e),yield i.done})).apply(this,arguments)}function Hc(n,e){return xf.apply(this,arguments)}function xf(){return(xf=(0,ee.Z)(function*(n,e){const t=ad(n),r=(yield EI()).transaction(vl,"readwrite"),s=r.objectStore(vl),a=yield s.get(t),d=e(a);return void 0===d?yield s.delete(t):yield s.put(d,t),yield r.done,d&&(!a||a.fid!==d.fid)&&$c(n,d.fid),d})).apply(this,arguments)}function Mf(n){return CI.apply(this,arguments)}function CI(){return(CI=(0,ee.Z)(function*(n){let e;const t=yield Hc(n.appConfig,i=>{const r=Hk(i),s=zk(n,r);return e=s.registrationPromise,s.installationEntry});return""===t.fid?{installationEntry:yield e}:{installationEntry:t,registrationPromise:e}})).apply(this,arguments)}function Hk(n){return Gk(n||{fid:VV(),registrationStatus:0})}function zk(n,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(gl.create("app-offline"))};const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=function jk(n,e){return Qb.apply(this,arguments)}(n,t);return{installationEntry:t,registrationPromise:i}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:SI(n)}:{installationEntry:e}}function Qb(){return(Qb=(0,ee.Z)(function*(n,e){try{const t=yield $k(n,e);return Af(n.appConfig,t)}catch(t){throw hI(t)&&409===t.customData.serverCode?yield ld(n.appConfig):yield Af(n.appConfig,{fid:e.fid,registrationStatus:0}),t}})).apply(this,arguments)}function SI(n){return II.apply(this,arguments)}function II(){return(II=(0,ee.Z)(function*(n){let e=yield TI(n.appConfig);for(;1===e.registrationStatus;)yield mI(100),e=yield TI(n.appConfig);if(0===e.registrationStatus){const{installationEntry:t,registrationPromise:i}=yield Mf(n);return i||t}return e})).apply(this,arguments)}function TI(n){return Hc(n,e=>{if(!e)throw gl.create("installation-not-found");return Gk(e)})}function Gk(n){return function DI(n){return 1===n.registrationStatus&&n.registrationTime+1e4<Date.now()}(n)?{fid:n.fid,registrationStatus:0}:n}function AI(n,e){return Xb.apply(this,arguments)}function Xb(){return(Xb=(0,ee.Z)(function*({appConfig:n,heartbeatServiceProvider:e},t){const i=Jb(n,t),r=Wb(n,t),s=e.getImmediate({optional:!0});if(s){const p=yield s.getHeartbeatsHeader();p&&r.append("x-firebase-client",p)}const d={method:"POST",headers:r,body:JSON.stringify({installation:{sdkVersion:Tg,appId:n.appId}})},h=yield qb(()=>fetch(i,d));if(h.ok)return fI(yield h.json());throw yield Dg("Generate Auth Token",h)})).apply(this,arguments)}function Jb(n,{fid:e}){return`${_l(n)}/${e}/authTokens:generate`}function xI(n){return MI.apply(this,arguments)}function MI(){return(MI=(0,ee.Z)(function*(n,e=!1){let t;const i=yield Hc(n.appConfig,s=>{if(!qk(s))throw gl.create("not-registered");const a=s.authToken;if(!e&&HV(a))return s;if(1===a.requestStatus)return t=UV(n,e),s;{if(!navigator.onLine)throw gl.create("app-offline");const d=bl(s);return t=$V(n,d),d}});return t?yield t:i.authToken})).apply(this,arguments)}function UV(n,e){return kI.apply(this,arguments)}function kI(){return(kI=(0,ee.Z)(function*(n,e){let t=yield Wk(n.appConfig);for(;1===t.authToken.requestStatus;)yield mI(100),t=yield Wk(n.appConfig);const i=t.authToken;return 0===i.requestStatus?xI(n,e):i})).apply(this,arguments)}function Wk(n){return Hc(n,e=>{if(!qk(e))throw gl.create("not-registered");return function e0(n){return 1===n.requestStatus&&n.requestTime+1e4<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function $V(n,e){return RI.apply(this,arguments)}function RI(){return(RI=(0,ee.Z)(function*(n,e){try{const t=yield AI(n,e),i=Object.assign(Object.assign({},e),{authToken:t});return yield Af(n.appConfig,i),t}catch(t){if(!hI(t)||401!==t.customData.serverCode&&404!==t.customData.serverCode){const i=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield Af(n.appConfig,i)}else yield ld(n.appConfig);throw t}})).apply(this,arguments)}function qk(n){return void 0!==n&&2===n.registrationStatus}function HV(n){return 2===n.requestStatus&&!function zV(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+36e5}(n)}function bl(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}function Mg(){return(Mg=(0,ee.Z)(function*(n){const e=n,{installationEntry:t,registrationPromise:i}=yield Mf(e);return i?i.catch(console.error):xI(e).catch(console.error),t.fid})).apply(this,arguments)}function kg(){return(kg=(0,ee.Z)(function*(n,e=!1){const t=n;return yield n0(t),(yield xI(t,e)).token})).apply(this,arguments)}function n0(n){return r0.apply(this,arguments)}function r0(){return(r0=(0,ee.Z)(function*(n){const{registrationPromise:e}=yield Mf(n);e&&(yield e)})).apply(this,arguments)}function wl(n){return gl.create("missing-app-config-values",{valueName:n})}const Ng="installations",s0=n=>{const e=n.getProvider("app").getImmediate(),t=function Pg(n){if(!n||!n.options)throw wl("App Configuration");if(!n.name)throw wl("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw wl(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}(e);return{app:e,appConfig:t,heartbeatServiceProvider:(0,ot._getProvider)(e,"heartbeat"),_delete:()=>Promise.resolve()}},Fg=n=>{const e=n.getProvider("app").getImmediate(),t=(0,ot._getProvider)(e,Ng).getImmediate();return{getId:()=>function Yk(n){return Mg.apply(this,arguments)}(t),getToken:r=>function t0(n){return kg.apply(this,arguments)}(t,r)}};(function OI(){(0,ot._registerComponent)(new kr.wA(Ng,s0,"PUBLIC")),(0,ot._registerComponent)(new kr.wA("installations-internal",Fg,"PRIVATE"))})(),(0,ot.registerVersion)(ml,Gb),(0,ot.registerVersion)(ml,Gb,"esm2017");const Lg="@firebase/remote-config",a0="remote-config",Zr=new q.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});function Qk(n=(0,ot.getApp)()){return n=(0,q.m9)(n),(0,ot._getProvider)(n,a0).getImmediate()}class BI{constructor(e,t,i,r){this.client=e,this.storage=t,this.storageCache=i,this.logger=r}isCachedDataFresh(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const i=Date.now()-t,r=i<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${i}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${r}.`),r}fetch(e){var t=this;return(0,ee.Z)(function*(){const[i,r]=yield Promise.all([t.storage.getLastSuccessfulFetchTimestampMillis(),t.storage.getLastSuccessfulFetchResponse()]);if(r&&t.isCachedDataFresh(e.cacheMaxAgeMillis,i))return r;e.eTag=r&&r.eTag;const s=yield t.client.fetch(e),a=[t.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&a.push(t.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(a),s})()}}function nR(n=navigator){return n.languages&&n.languages[0]||n.language}class iR{constructor(e,t,i,r,s,a){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=i,this.projectId=r,this.apiKey=s,this.appId=a}fetch(e){var t=this;return(0,ee.Z)(function*(){var i,r,s;const[a,d]=yield Promise.all([t.firebaseInstallations.getId(),t.firebaseInstallations.getToken()]),p=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${t.projectId}/namespaces/${t.namespace}:fetch?key=${t.apiKey}`,g={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},v={sdk_version:t.sdkVersion,app_instance_id:a,app_instance_id_token:d,app_id:t.appId,language_code:nR()},w={method:"POST",headers:g,body:JSON.stringify(v)},D=fetch(p,w),A=new Promise((te,oe)=>{e.signal.addEventListener(()=>{const ue=new Error("The operation was aborted.");ue.name="AbortError",oe(ue)})});let x;try{yield Promise.race([D,A]),x=yield D}catch(te){let oe="fetch-client-network";throw"AbortError"===(null===(i=te)||void 0===i?void 0:i.name)&&(oe="fetch-timeout"),Zr.create(oe,{originalErrorMessage:null===(r=te)||void 0===r?void 0:r.message})}let k=x.status;const F=x.headers.get("ETag")||void 0;let L,U;if(200===x.status){let te;try{te=yield x.json()}catch(oe){throw Zr.create("fetch-client-parse",{originalErrorMessage:null===(s=oe)||void 0===s?void 0:s.message})}L=te.entries,U=te.state}if("INSTANCE_STATE_UNSPECIFIED"===U?k=500:"NO_CHANGE"===U?k=304:("NO_TEMPLATE"===U||"EMPTY_CONFIG"===U)&&(L={}),304!==k&&200!==k)throw Zr.create("fetch-status",{httpStatus:k});return{status:k,eTag:F,config:L}})()}}class rR{constructor(e,t){this.client=e,this.storage=t}fetch(e){var t=this;return(0,ee.Z)(function*(){const i=(yield t.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return t.attemptFetch(e,i)})()}attemptFetch(e,{throttleEndTimeMillis:t,backoffCount:i}){var r=this;return(0,ee.Z)(function*(){yield function VI(n,e){return new Promise((t,i)=>{const r=Math.max(e-Date.now(),0),s=setTimeout(t,r);n.addEventListener(()=>{clearTimeout(s),i(Zr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,t);try{const s=yield r.client.fetch(e);return yield r.storage.deleteThrottleMetadata(),s}catch(s){if(!function UI(n){if(!(n instanceof q.ZR&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}(s))throw s;const a={throttleEndTimeMillis:Date.now()+(0,q.$s)(i),backoffCount:i+1};return yield r.storage.setThrottleMetadata(a),r.attemptFetch(e,a)}})()}}class sR{constructor(e,t,i,r,s){this.app=e,this._client=t,this._storageCache=i,this._storage=r,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Hg(n,e){var t;const i=n.target.error||void 0;return Zr.create(e,{originalErrorMessage:i&&(null===(t=i)||void 0===t?void 0:t.message)})}const dd="app_namespace_store";class lR{constructor(e,t,i,r=function aR(){return new Promise((n,e)=>{var t;try{const i=indexedDB.open("firebase_remote_config",1);i.onerror=r=>{e(Hg(r,"storage-open"))},i.onsuccess=r=>{n(r.target.result)},i.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(dd,{keyPath:"compositeKey"})}}catch(i){e(Zr.create("storage-open",{originalErrorMessage:null===(t=i)||void 0===t?void 0:t.message}))}})}()){this.appId=e,this.appName=t,this.namespace=i,this.openDbPromise=r}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var t=this;return(0,ee.Z)(function*(){const i=yield t.openDbPromise;return new Promise((r,s)=>{var a;const h=i.transaction([dd],"readonly").objectStore(dd),p=t.createCompositeKey(e);try{const g=h.get(p);g.onerror=v=>{s(Hg(v,"storage-get"))},g.onsuccess=v=>{const w=v.target.result;r(w?w.value:void 0)}}catch(g){s(Zr.create("storage-get",{originalErrorMessage:null===(a=g)||void 0===a?void 0:a.message}))}})})()}set(e,t){var i=this;return(0,ee.Z)(function*(){const r=yield i.openDbPromise;return new Promise((s,a)=>{var d;const p=r.transaction([dd],"readwrite").objectStore(dd),g=i.createCompositeKey(e);try{const v=p.put({compositeKey:g,value:t});v.onerror=w=>{a(Hg(w,"storage-set"))},v.onsuccess=()=>{s()}}catch(v){a(Zr.create("storage-set",{originalErrorMessage:null===(d=v)||void 0===d?void 0:d.message}))}})})()}delete(e){var t=this;return(0,ee.Z)(function*(){const i=yield t.openDbPromise;return new Promise((r,s)=>{var a;const h=i.transaction([dd],"readwrite").objectStore(dd),p=t.createCompositeKey(e);try{const g=h.delete(p);g.onerror=v=>{s(Hg(v,"storage-delete"))},g.onsuccess=()=>{r()}}catch(g){s(Zr.create("storage-delete",{originalErrorMessage:null===(a=g)||void 0===a?void 0:a.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class d0{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return(0,ee.Z)(function*(){const t=e.storage.getLastFetchStatus(),i=e.storage.getLastSuccessfulFetchTimestampMillis(),r=e.storage.getActiveConfig(),s=yield t;s&&(e.lastFetchStatus=s);const a=yield i;a&&(e.lastSuccessfulFetchTimestampMillis=a);const d=yield r;d&&(e.activeConfig=d)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function h0(){return fd.apply(this,arguments)}function fd(){return(fd=(0,ee.Z)(function*(){if(!(0,q.hl)())return!1;try{return yield(0,q.eu)()}catch{return!1}})).apply(this,arguments)}!function cR(){(0,ot._registerComponent)(new kr.wA(a0,function n(e,{instanceIdentifier:t}){const i=e.getProvider("app").getImmediate(),r=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Zr.create("registration-window");if(!(0,q.hl)())throw Zr.create("indexed-db-unavailable");const{projectId:s,apiKey:a,appId:d}=i.options;if(!s)throw Zr.create("registration-project-id");if(!a)throw Zr.create("registration-api-key");if(!d)throw Zr.create("registration-app-id");const h=new lR(d,i.name,t=t||"firebase"),p=new d0(h),g=new _r.Yd(Lg);g.logLevel=_r.in.ERROR;const v=new iR(r,ot.SDK_VERSION,t,s,a,d),w=new rR(v,h),D=new BI(w,h,p,g),A=new sR(i,D,p,h,g);return function Xk(n){const e=(0,q.m9)(n);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(A),A},"PUBLIC").setMultipleInstances(!0)),(0,ot.registerVersion)(Lg,"0.3.15"),(0,ot.registerVersion)(Lg,"0.3.15","esm2017")}();const XV="/firebase-messaging-sw.js",f0="/firebase-cloud-messaging-push-scope",uR="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",p0="google.c.a.c_id",zI="google.c.a.c_l",jI="google.c.a.ts",m0="google.c.a.e";var Ma=(()=>{return(n=Ma||(Ma={})).PUSH_RECEIVED="push-received",n.NOTIFICATION_CLICKED="notification-clicked",Ma;var n})();function Hs(n){const e=new Uint8Array(n);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function kf(n){const t=(n+"=".repeat((4-n.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),i=atob(t),r=new Uint8Array(i.length);for(let s=0;s<i.length;++s)r[s]=i.charCodeAt(s);return r}const g0="fcm_token_details_db",y0="fcm_token_object_Store";function dR(n){return v0.apply(this,arguments)}function v0(){return v0=(0,ee.Z)(function*(n){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(g0))return null;let e=null;return(yield(0,Uc.X3)(g0,5,{upgrade:(i=(0,ee.Z)(function*(r,s,a,d){var h;if(s<2||!r.objectStoreNames.contains(y0))return;const p=d.objectStore(y0),g=yield p.index("fcmSenderId").get(n);if(yield p.clear(),g)if(2===s){const v=g;if(!v.auth||!v.p256dh||!v.endpoint)return;e={token:v.fcmToken,createTime:null!==(h=v.createTime)&&void 0!==h?h:Date.now(),subscriptionOptions:{auth:v.auth,p256dh:v.p256dh,endpoint:v.endpoint,swScope:v.swScope,vapidKey:"string"==typeof v.vapidKey?v.vapidKey:Hs(v.vapidKey)}}}else if(3===s){const v=g;e={token:v.fcmToken,createTime:v.createTime,subscriptionOptions:{auth:Hs(v.auth),p256dh:Hs(v.p256dh),endpoint:v.endpoint,swScope:v.swScope,vapidKey:Hs(v.vapidKey)}}}else if(4===s){const v=g;e={token:v.fcmToken,createTime:v.createTime,subscriptionOptions:{auth:Hs(v.auth),p256dh:Hs(v.p256dh),endpoint:v.endpoint,swScope:v.swScope,vapidKey:Hs(v.vapidKey)}}}}),function(s,a,d,h){return i.apply(this,arguments)})})).close(),yield(0,Uc.Lj)(g0),yield(0,Uc.Lj)("fcm_vapid_details_db"),yield(0,Uc.Lj)("undefined"),Rf(e)?e:null;var i}),v0.apply(this,arguments)}function Rf(n){if(!n||!n.subscriptionOptions)return!1;const{subscriptionOptions:e}=n;return"number"==typeof n.createTime&&n.createTime>0&&"string"==typeof n.token&&n.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}const zc="firebase-messaging-store";let GI=null;function b0(){return GI||(GI=(0,Uc.X3)("firebase-messaging-database",1,{upgrade:(n,e)=>{0===e&&n.createObjectStore(zc)}})),GI}function WI(n){return E0.apply(this,arguments)}function E0(){return(E0=(0,ee.Z)(function*(n){const e=w0(n),i=yield(yield b0()).transaction(zc).objectStore(zc).get(e);if(i)return i;{const r=yield dR(n.appConfig.senderId);if(r)return yield zg(n,r),r}})).apply(this,arguments)}function zg(n,e){return Of.apply(this,arguments)}function Of(){return(Of=(0,ee.Z)(function*(n,e){const t=w0(n),r=(yield b0()).transaction(zc,"readwrite");return yield r.objectStore(zc).put(e,t),yield r.done,e})).apply(this,arguments)}function fR(n){return Pf.apply(this,arguments)}function Pf(){return(Pf=(0,ee.Z)(function*(n){const e=w0(n),i=(yield b0()).transaction(zc,"readwrite");yield i.objectStore(zc).delete(e),yield i.done})).apply(this,arguments)}function w0({appConfig:n}){return n.appId}const ir=new q.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function mR(n,e){return C0.apply(this,arguments)}function C0(){return(C0=(0,ee.Z)(function*(n,e){var t;const i=yield S0(n),r=jg(e),s={method:"POST",headers:i,body:JSON.stringify(r)};let a;try{a=yield(yield fetch(jc(n.appConfig),s)).json()}catch(d){throw ir.create("token-subscribe-failed",{errorInfo:null===(t=d)||void 0===t?void 0:t.toString()})}if(a.error)throw ir.create("token-subscribe-failed",{errorInfo:a.error.message});if(!a.token)throw ir.create("token-subscribe-no-token");return a.token})).apply(this,arguments)}function gR(n,e){return pd.apply(this,arguments)}function pd(){return(pd=(0,ee.Z)(function*(n,e){var t;const i=yield S0(n),r=jg(e.subscriptionOptions),s={method:"PATCH",headers:i,body:JSON.stringify(r)};let a;try{a=yield(yield fetch(`${jc(n.appConfig)}/${e.token}`,s)).json()}catch(d){throw ir.create("token-update-failed",{errorInfo:null===(t=d)||void 0===t?void 0:t.toString()})}if(a.error)throw ir.create("token-update-failed",{errorInfo:a.error.message});if(!a.token)throw ir.create("token-update-no-token");return a.token})).apply(this,arguments)}function Sl(n,e){return qI.apply(this,arguments)}function qI(){return(qI=(0,ee.Z)(function*(n,e){var t;const r={method:"DELETE",headers:yield S0(n)};try{const a=yield(yield fetch(`${jc(n.appConfig)}/${e}`,r)).json();if(a.error)throw ir.create("token-unsubscribe-failed",{errorInfo:a.error.message})}catch(s){throw ir.create("token-unsubscribe-failed",{errorInfo:null===(t=s)||void 0===t?void 0:t.toString()})}})).apply(this,arguments)}function jc({projectId:n}){return`https://fcmregistrations.googleapis.com/v1/projects/${n}/registrations`}function S0(n){return I0.apply(this,arguments)}function I0(){return(I0=(0,ee.Z)(function*({appConfig:n,installations:e}){const t=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n.apiKey,"x-goog-firebase-installations-auth":`FIS ${t}`})})).apply(this,arguments)}function jg({p256dh:n,auth:e,endpoint:t,vapidKey:i}){const r={web:{endpoint:t,auth:e,p256dh:n}};return i!==uR&&(r.web.applicationPubKey=i),r}const _R=6048e5;function Ho(n){return Gc.apply(this,arguments)}function Gc(){return(Gc=(0,ee.Z)(function*(n){const e=yield md(n.swRegistration,n.vapidKey),t={vapidKey:n.vapidKey,swScope:n.swRegistration.scope,endpoint:e.endpoint,auth:Hs(e.getKey("auth")),p256dh:Hs(e.getKey("p256dh"))},i=yield WI(n.firebaseDependencies);if(i){if(gd(i.subscriptionOptions,t))return Date.now()>=i.createTime+_R?Gg(n,{token:i.token,createTime:Date.now(),subscriptionOptions:t}):i.token;try{yield Sl(n.firebaseDependencies,i.token)}catch(r){console.warn(r)}return Wg(n.firebaseDependencies,t)}return Wg(n.firebaseDependencies,t)})).apply(this,arguments)}function rr(n){return ka.apply(this,arguments)}function ka(){return(ka=(0,ee.Z)(function*(n){const e=yield WI(n.firebaseDependencies);e&&(yield Sl(n.firebaseDependencies,e.token),yield fR(n.firebaseDependencies));const t=yield n.swRegistration.pushManager.getSubscription();return!t||t.unsubscribe()})).apply(this,arguments)}function Gg(n,e){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,ee.Z)(function*(n,e){try{const t=yield gR(n.firebaseDependencies,e),i=Object.assign(Object.assign({},e),{token:t,createTime:Date.now()});return yield zg(n.firebaseDependencies,i),t}catch(t){throw yield rr(n),t}})).apply(this,arguments)}function Wg(n,e){return Il.apply(this,arguments)}function Il(){return(Il=(0,ee.Z)(function*(n,e){const i={token:yield mR(n,e),createTime:Date.now(),subscriptionOptions:e};return yield zg(n,i),i.token})).apply(this,arguments)}function md(n,e){return Tl.apply(this,arguments)}function Tl(){return(Tl=(0,ee.Z)(function*(n,e){return(yield n.pushManager.getSubscription())||n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:kf(e)})})).apply(this,arguments)}function gd(n,e){return e.vapidKey===n.vapidKey&&e.endpoint===n.endpoint&&e.auth===n.auth&&e.p256dh===n.p256dh}function Wc(n){const e={from:n.from,collapseKey:n.collapse_key,messageId:n.fcmMessageId};return function _d(n,e){if(!e.notification)return;n.notification={};const t=e.notification.title;t&&(n.notification.title=t);const i=e.notification.body;i&&(n.notification.body=i);const r=e.notification.image;r&&(n.notification.image=r);const s=e.notification.icon;s&&(n.notification.icon=s)}(e,n),function yd(n,e){!e.data||(n.data=e.data)}(e,n),function vd(n,e){var t,i,r,s,a;if(!(e.fcmOptions||null!==(t=e.notification)&&void 0!==t&&t.click_action))return;n.fcmOptions={};const d=null!==(r=null===(i=e.fcmOptions)||void 0===i?void 0:i.link)&&void 0!==r?r:null===(s=e.notification)||void 0===s?void 0:s.click_action;d&&(n.fcmOptions.link=d);const h=null===(a=e.fcmOptions)||void 0===a?void 0:a.analytics_label;h&&(n.fcmOptions.analyticsLabel=h)}(e,n),e}function bd(n){return"object"==typeof n&&!!n&&p0 in n}function T0(n,e){const t=[];for(let i=0;i<n.length;i++)t.push(n.charAt(i)),i<e.length&&t.push(e.charAt(i));return t.join("")}function qg(n){return ir.create("missing-app-config-values",{valueName:n})}T0("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),T0("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class ZI{constructor(e,t,i){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const r=function YI(n){if(!n||!n.options)throw qg("App Configuration Object");if(!n.name)throw qg("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:t}=n;for(const i of e)if(!t[i])throw qg(i);return{appName:n.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:r,installations:t,analyticsProvider:i}}_delete(){return Promise.resolve()}}function D0(n){return Yg.apply(this,arguments)}function Yg(){return(Yg=(0,ee.Z)(function*(n){var e;try{n.swRegistration=yield navigator.serviceWorker.register(XV,{scope:f0}),n.swRegistration.update().catch(()=>{})}catch(t){throw ir.create("failed-service-worker-registration",{browserErrorMessage:null===(e=t)||void 0===e?void 0:e.message})}})).apply(this,arguments)}function KI(n,e){return Zg.apply(this,arguments)}function Zg(){return(Zg=(0,ee.Z)(function*(n,e){if(!e&&!n.swRegistration&&(yield D0(n)),e||!n.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw ir.create("invalid-sw-registration");n.swRegistration=e}})).apply(this,arguments)}function QI(n,e){return A0.apply(this,arguments)}function A0(){return(A0=(0,ee.Z)(function*(n,e){e?n.vapidKey=e:n.vapidKey||(n.vapidKey=uR)})).apply(this,arguments)}function Kg(){return(Kg=(0,ee.Z)(function*(n,e){if(!navigator)throw ir.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw ir.create("permission-blocked");return yield QI(n,e?.vapidKey),yield KI(n,e?.serviceWorkerRegistration),Ho(n)})).apply(this,arguments)}function yR(n,e,t){return Qg.apply(this,arguments)}function Qg(){return(Qg=(0,ee.Z)(function*(n,e,t){const i=x0(e);(yield n.firebaseDependencies.analyticsProvider.get()).logEvent(i,{message_id:t[p0],message_name:t[zI],message_time:t[jI],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function x0(n){switch(n){case Ma.NOTIFICATION_CLICKED:return"notification_open";case Ma.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function k0(){return(k0=(0,ee.Z)(function*(n,e){const t=e.data;if(!t.isFirebaseMessaging)return;n.onMessageHandler&&t.messageType===Ma.PUSH_RECEIVED&&("function"==typeof n.onMessageHandler?n.onMessageHandler(Wc(t)):n.onMessageHandler.next(Wc(t)));const i=t.data;bd(i)&&"1"===i[m0]&&(yield yR(n,t.messageType,i))})).apply(this,arguments)}const Nf="@firebase/messaging",R0=n=>{const e=new ZI(n.getProvider("app").getImmediate(),n.getProvider("installations-internal").getImmediate(),n.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",t=>function M0(n,e){return k0.apply(this,arguments)}(e,t)),e},vR=n=>{const e=n.getProvider("messaging").getImmediate();return{getToken:i=>function XI(n,e){return Kg.apply(this,arguments)}(e,i)}};function Lf(){return Jg.apply(this,arguments)}function Jg(){return(Jg=(0,ee.Z)(function*(){try{yield(0,q.eu)()}catch{return!1}return typeof window<"u"&&(0,q.hl)()&&(0,q.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}function tT(n=(0,ot.getApp)()){return Lf().then(e=>{if(!e)throw ir.create("unsupported-browser")},e=>{throw ir.create("indexed-db-unsupported")}),(0,ot._getProvider)((0,q.m9)(n),"messaging").getImmediate()}!function Xg(){(0,ot._registerComponent)(new kr.wA("messaging",R0,"PUBLIC")),(0,ot._registerComponent)(new kr.wA("messaging-internal",vR,"PRIVATE")),(0,ot.registerVersion)(Nf,"0.11.0"),(0,ot.registerVersion)(Nf,"0.11.0","esm2017")}();const Uf="analytics",iT="firebase_id",sT="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",O0="https://www.googletagmanager.com/gtag/js",qi=new _r.Yd("@firebase/analytics");function e_(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function oT(n,e){const t=document.createElement("script");t.src=`${O0}?l=${n}&id=${e}`,t.async=!0,document.head.appendChild(t)}function lT(n,e,t,i,r,s){return t_.apply(this,arguments)}function t_(){return(t_=(0,ee.Z)(function*(n,e,t,i,r,s){const a=i[r];try{if(a)yield e[a];else{const h=(yield e_(t)).find(p=>p.measurementId===r);h&&(yield e[h.appId])}}catch(d){qi.error(d)}n("config",r,s)})).apply(this,arguments)}function cT(n,e,t,i,r){return n_.apply(this,arguments)}function n_(){return(n_=(0,ee.Z)(function*(n,e,t,i,r){try{let s=[];if(r&&r.send_to){let a=r.send_to;Array.isArray(a)||(a=[a]);const d=yield e_(t);for(const h of a){const p=d.find(v=>v.measurementId===h),g=p&&e[p.appId];if(!g){s=[];break}s.push(g)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),n("event",i,r||{})}catch(s){qi.error(s)}})).apply(this,arguments)}function t2(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(O0)&&t.src.includes(n))return t;return null}const ps=new q.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),P0=new class Bi{constructor(e={},t=1e3){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function SR(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}function IR(n){return i_.apply(this,arguments)}function i_(){return(i_=(0,ee.Z)(function*(n){var e;const{appId:t,apiKey:i}=n,r={method:"GET",headers:SR(i)},s=sT.replace("{app-id}",t),a=yield fetch(s,r);if(200!==a.status&&304!==a.status){let d="";try{const h=yield a.json();null!==(e=h.error)&&void 0!==e&&e.message&&(d=h.error.message)}catch{}throw ps.create("config-fetch-failed",{httpStatus:a.status,responseMessage:d})}return a.json()})).apply(this,arguments)}function TR(n){return r_.apply(this,arguments)}function r_(){return(r_=(0,ee.Z)(function*(n,e=P0,t){const{appId:i,apiKey:r,measurementId:s}=n.options;if(!i)throw ps.create("no-app-id");if(!r){if(s)return{measurementId:s,appId:i};throw ps.create("no-api-key")}const a=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},d=new fT;return setTimeout((0,ee.Z)(function*(){d.abort()}),void 0!==t?t:6e4),N0({appId:i,apiKey:r,measurementId:s},a,d,e)})).apply(this,arguments)}function N0(n,e,t){return Dl.apply(this,arguments)}function Dl(){return(Dl=(0,ee.Z)(function*(n,{throttleEndTimeMillis:e,backoffCount:t},i,r=P0){var s,a;const{appId:d,measurementId:h}=n;try{yield DR(i,e)}catch(p){if(h)return qi.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${h} provided in the "measurementId" field in the local Firebase config. [${null===(s=p)||void 0===s?void 0:s.message}]`),{appId:d,measurementId:h};throw p}try{const p=yield IR(n);return r.deleteThrottleMetadata(d),p}catch(p){const g=p;if(!AR(g)){if(r.deleteThrottleMetadata(d),h)return qi.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${h} provided in the "measurementId" field in the local Firebase config. [${g?.message}]`),{appId:d,measurementId:h};throw p}const v=503===Number(null===(a=g?.customData)||void 0===a?void 0:a.httpStatus)?(0,q.$s)(t,r.intervalMillis,30):(0,q.$s)(t,r.intervalMillis),w={throttleEndTimeMillis:Date.now()+v,backoffCount:t+1};return r.setThrottleMetadata(d,w),qi.debug(`Calling attemptFetch again in ${v} millis`),N0(n,w,i,r)}})).apply(this,arguments)}function DR(n,e){return new Promise((t,i)=>{const r=Math.max(e-Date.now(),0),s=setTimeout(t,r);n.addEventListener(()=>{clearTimeout(s),i(ps.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function AR(n){if(!(n instanceof q.ZR&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}class fT{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let F0,s_;function mT(){return(mT=(0,ee.Z)(function*(n,e,t,i,r){if(r&&r.global)n("event",t,i);else{const s=yield e;n("event",t,Object.assign(Object.assign({},i),{send_to:s}))}})).apply(this,arguments)}function B0(){return(B0=(0,ee.Z)(function*(n,e,t,i){if(i&&i.global)return n("set",{user_id:t}),Promise.resolve();n("config",yield e,{update:!0,user_id:t})})).apply(this,arguments)}function V0(n){s_=n}function _T(n){F0=n}function xR(){return U0.apply(this,arguments)}function U0(){return(U0=(0,ee.Z)(function*(){var n;if(!(0,q.hl)())return qi.warn(ps.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,q.eu)()}catch(e){return qi.warn(ps.create("indexeddb-unavailable",{errorInfo:null===(n=e)||void 0===n?void 0:n.toString()}).message),!1}return!0})).apply(this,arguments)}function Hf(){return(Hf=(0,ee.Z)(function*(n,e,t,i,r,s,a){var d;const h=TR(n);h.then(D=>{t[D.measurementId]=D.appId,n.options.measurementId&&D.measurementId!==n.options.measurementId&&qi.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${D.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(D=>qi.error(D)),e.push(h);const p=xR().then(D=>{if(D)return i.getId()}),[g,v]=yield Promise.all([h,p]);t2(s)||oT(s,g.measurementId),s_&&(r("consent","default",s_),V0(void 0)),r("js",new Date);const w=null!==(d=a?.config)&&void 0!==d?d:{};return w.origin="firebase",w.update=!0,null!=v&&(w[iT]=v),r("config",g.measurementId,w),F0&&(r("set",F0),_T(void 0)),g.measurementId})).apply(this,arguments)}class zf{constructor(e){this.app=e}_delete(){return delete Ra[this.app.options.appId],Promise.resolve()}}let Ra={},$0=[];const yT={};let Gf,Oa,jf="dataLayer",o_=!1;function a_(n,e,t){!function z0(){const n=[];if((0,q.ru)()&&n.push("This is a browser extension environment."),(0,q.zI)()||n.push("Cookies are not available."),n.length>0){const e=n.map((i,r)=>`(${r+1}) ${i}`).join(" "),t=ps.create("invalid-analytics-context",{errorInfo:e});qi.warn(t.message)}}();const i=n.options.appId;if(!i)throw ps.create("no-app-id");if(!n.options.apiKey){if(!n.options.measurementId)throw ps.create("no-api-key");qi.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Ra[i])throw ps.create("already-exists",{id:i});if(!o_){!function aT(n){let e=[];Array.isArray(window[n])?e=window[n]:window[n]=e}(jf);const{wrappedGtag:s,gtagCore:a}=function dT(n,e,t,i,r){let s=function(...a){window[i].push(arguments)};return window[r]&&"function"==typeof window[r]&&(s=window[r]),window[r]=function uT(n,e,t,i){function s(){return(s=(0,ee.Z)(function*(a,d,h){try{"event"===a?yield cT(n,e,t,d,h):"config"===a?yield lT(n,e,t,i,d,h):"consent"===a?n("consent","update",h):n("set",d)}catch(p){qi.error(p)}})).apply(this,arguments)}return function r(a,d,h){return s.apply(this,arguments)}}(s,n,e,t),{gtagCore:s,wrappedGtag:window[r]}}(Ra,$0,yT,jf,"gtag");Oa=s,Gf=a,o_=!0}return Ra[i]=function MR(n,e,t,i,r,s,a){return Hf.apply(this,arguments)}(n,$0,yT,e,Gf,jf,t),new zf(n)}function j0(n=(0,ot.getApp)()){n=(0,q.m9)(n);const e=(0,ot._getProvider)(n,Uf);return e.isInitialized()?e.getImmediate():function vT(n,e={}){const t=(0,ot._getProvider)(n,Uf);if(t.isInitialized()){const r=t.getImmediate();if((0,q.vZ)(e,t.getOptions()))return r;throw ps.create("already-initialized")}return t.initialize({options:e})}(n)}function bT(){return l_.apply(this,arguments)}function l_(){return(l_=(0,ee.Z)(function*(){if((0,q.ru)()||!(0,q.zI)()||!(0,q.hl)())return!1;try{return yield(0,q.eu)()}catch{return!1}})).apply(this,arguments)}function ET(n,e,t){n=(0,q.m9)(n),function ao(n,e,t,i){return B0.apply(this,arguments)}(Oa,Ra[n.app.options.appId],e,t).catch(i=>qi.error(i))}function wT(n,e,t,i){n=(0,q.m9)(n),function pT(n,e,t,i,r){return mT.apply(this,arguments)}(Oa,Ra[n.app.options.appId],e,t,i).catch(r=>qi.error(r))}const CT="@firebase/analytics";!function FR(){(0,ot._registerComponent)(new kr.wA(Uf,(e,{options:t})=>a_(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),t),"PUBLIC")),(0,ot._registerComponent)(new kr.wA("analytics-internal",function n(e){try{const t=e.getProvider(Uf).getImmediate();return{logEvent:(i,r,s)=>wT(t,i,r,s)}}catch(t){throw ps.create("interop-component-reg-failed",{reason:t})}},"PRIVATE")),(0,ot.registerVersion)(CT,"0.8.4"),(0,ot.registerVersion)(CT,"0.8.4","esm2017")}();class LR extends Fi.w0{constructor(e,t){super()}schedule(e,t=0){return this}}const c_={setInterval(n,e,...t){const{delegate:i}=c_;return i?.setInterval?i.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=c_;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var BR=z(8737);class u_ extends LR{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var i;if(this.closed)return this;this.state=e;const r=this.id,s=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(s,r,t)),this.pending=!0,this.delay=t,this.id=null!==(i=this.id)&&void 0!==i?i:this.requestAsyncId(s,this.id,t),this}requestAsyncId(e,t,i=0){return c_.setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,t,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return t;null!=t&&c_.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(e,t);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r,i=!1;try{this.work(e)}catch(s){i=!0,r=s||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:i}=t;this.work=this.state=this.scheduler=null,this.pending=!1,(0,BR.P)(i,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const G0={now:()=>(G0.delegate||Date).now(),delegate:void 0};class Wf{constructor(e,t=Wf.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,i){return new this.schedulerActionCtor(this,e).schedule(i,t)}}Wf.now=G0.now;class d_ extends Wf{constructor(e,t=Wf.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let i;this._active=!0;do{if(i=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,i){for(;e=t.shift();)e.unsubscribe();throw i}}}const $R=new class UR extends d_{}(class VR extends u_{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,i=0){return null!=i&&i>0||null==i&&this.delay>0?super.requestAsyncId(e,t,i):(e.flush(this),0)}}),qc=new d_(u_),IT=qc;var Al=z(5363),Ed=z(9468);const Qr=new l.GfV("7.4.1"),h_="__angularfire_symbol__analyticsIsSupportedValue",f_="__angularfire_symbol__analyticsIsSupported",p_="__angularfire_symbol__remoteConfigIsSupportedValue",m_="__angularfire_symbol__remoteConfigIsSupported",g_="__angularfire_symbol__messagingIsSupportedValue",qf="__angularfire_symbol__messagingIsSupported";globalThis[f_]||(globalThis[f_]=bT().then(n=>globalThis[h_]=n).catch(()=>globalThis[h_]=!1)),globalThis[qf]||(globalThis[qf]=Lf().then(n=>globalThis[g_]=n).catch(()=>globalThis[g_]=!1)),globalThis[m_]||(globalThis[m_]=h0().then(n=>globalThis[p_]=n).catch(()=>globalThis[p_]=!1));const Yf=n=>`The APP_INITIALIZER that is "making" isSupported() sync for the sake of convenient DI has not resolved in this\ncontext. Rather than injecting ${n} in the constructor, first ensure that ${n} is supported by calling\n\`await isSupported()\`, then retrieve the instance from the injector manually \`injector.get(${n})\`.`,zo={async:()=>globalThis[qf],sync:()=>{const n=globalThis[g_];if(void 0===n)throw new Error(Yf("Messaging"));return n}},__={async:()=>globalThis[m_],sync:()=>{const n=globalThis[p_];if(void 0===n)throw new Error(Yf("RemoteConfig"));return n}},y_={async:()=>globalThis[f_],sync:()=>{const n=globalThis[h_];if(void 0===n)throw new Error(Yf("Analytics"));return n}};function Rr(n,e,t){if(e){if(1===e.length)return e[0];const s=e.filter(a=>a.app===t);if(1===s.length)return s[0]}return t.container.getProvider(n).getImmediate({optional:!0})}const Pa=(n,e)=>{const t=e?[e]:(0,ot.getApps)(),i=[];return t.forEach(r=>{r.container.getProvider(n).instances.forEach(a=>{i.includes(a)||i.push(a)})}),i};function xl(){}class HR{constructor(e,t=$R){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,i){const r=this.zone;return this.delegate.schedule(function(a){r.runGuarded(()=>{e.apply(this,[a])})},t,i)}}class TT{constructor(e){this.zone=e,this.task=null}call(e,t){const i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",xl,{},xl,xl)),t.pipe(kn({next:i,complete:i,error:i})).subscribe(e).add(i)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Xr=(()=>{class n{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new HR(Zone.current)),this.insideAngular=t.run(()=>new HR(Zone.current,qc)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function wd(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function Ot(n){return wd().ngZone.runOutsideAngular(()=>n())}function Yc(n){return wd().ngZone.run(()=>n())}function DT(n){return n.pipe((0,Al.Q)(wd().outsideAngular))}function xi(n){return wd(),function zR(n){return function(t){return(t=t.lift(new TT(n.ngZone))).pipe((0,Ed.R)(n.outsideAngular),(0,Al.Q)(n.insideAngular))}}(wd())(n)}const v_=(n,e)=>function(){const i=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),Yc(()=>n.apply(void 0,i))},Qn=(n,e)=>function(){let t;const i=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof i[s]&&(e&&(t||(t=Yc(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",xl,{},xl,xl)))),i[s]=v_(i[s],t));const r=Ot(()=>n.apply(this,i));if(!e){if(r instanceof Pn.y){const s=wd();return r.pipe((0,Ed.R)(s.outsideAngular),(0,Al.Q)(s.insideAngular))}return Yc(()=>r)}return r instanceof Pn.y?r.pipe(xi):r instanceof Promise?Yc(()=>new Promise((s,a)=>r.then(d=>Yc(()=>s(d)),d=>Yc(()=>a(d))))):"function"==typeof r&&t?function(){return setTimeout(()=>{t&&"scheduled"===t.state&&t.invoke()},10),r.apply(this,arguments)}:Yc(()=>r)};class mn{constructor(e){return e}}class Na{constructor(){return(0,ot.getApps)()}}const W0=new l.OlP("angularfire2._apps"),xT={provide:mn,useFactory:function AT(n){return n&&1===n.length?n[0]:new mn((0,ot.getApp)())},deps:[[new l.FiY,W0]]},MT={provide:Na,deps:[[new l.FiY,W0]]};function kT(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new mn(i)}}let RT=(()=>{class n{constructor(t){(0,ot.registerVersion)("angularfire",Qr.full,"core"),(0,ot.registerVersion)("angularfire",Qr.full,"app"),(0,ot.registerVersion)("angular",l.q4F.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.Lbi))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[xT,MT]}),n})();function GR(n,...e){return{ngModule:RT,providers:[{provide:W0,useFactory:kT(n),multi:!0,deps:[l.R0b,l.zs3,Xr,...e]}]}}const WR=Qn(ot.initializeApp,!0),E_=new Map,Y0={activated:!1,tokenObservers:[]},OT={initialized:!1,enabled:!1};function sr(n){return E_.get(n)||Object.assign({},Y0)}function Ml(){return OT}class ZR{constructor(e,t,i,r,s){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=r,r>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,ee.Z)(function*(){t.stop();try{t.pending=new q.BH,yield function FT(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new q.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(i){t.retryPolicy(i)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Or=new q.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function QR(n){if(!sr(n).activated)throw Or.create("use-before-activation",{appName:n.name})}function w_(n,e){return Cd.apply(this,arguments)}function Cd(){return(Cd=(0,ee.Z)(function*({url:n,body:e},t){var i,r;const s={"Content-Type":"application/json"},a=t.getImmediate({optional:!0});if(a){const D=yield a.getHeartbeatsHeader();D&&(s["X-Firebase-Client"]=D)}const d={method:"POST",body:JSON.stringify(e),headers:s};let h,p;try{h=yield fetch(n,d)}catch(D){throw Or.create("fetch-network-error",{originalErrorMessage:null===(i=D)||void 0===i?void 0:i.message})}if(200!==h.status)throw Or.create("fetch-status-error",{httpStatus:h.status});try{p=yield h.json()}catch(D){throw Or.create("fetch-parse-error",{originalErrorMessage:null===(r=D)||void 0===r?void 0:r.message})}const g=p.ttl.match(/^([\d.]+)(s)$/);if(!g||!g[2]||isNaN(Number(g[1])))throw Or.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${p.ttl}`});const v=1e3*Number(g[1]),w=Date.now();return{token:p.token,expireTimeMillis:w+v,issuedAtTimeMillis:w}})).apply(this,arguments)}function BT(n,e){const{projectId:t,appId:i,apiKey:r}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${i}:exchangeDebugToken?key=${r}`,body:{debug_token:e}}}const Qf="firebase-app-check-store";let C_=null;function UT(){return C_||(C_=new Promise((n,e)=>{var t;try{const i=indexedDB.open("firebase-app-check-database",1);i.onsuccess=r=>{n(r.target.result)},i.onerror=r=>{var s;e(Or.create("storage-open",{originalErrorMessage:null===(s=r.target.error)||void 0===s?void 0:s.message}))},i.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Qf,{keyPath:"compositeKey"})}}catch(i){e(Or.create("storage-open",{originalErrorMessage:null===(t=i)||void 0===t?void 0:t.message}))}}),C_)}function S_(){return(S_=(0,ee.Z)(function*(n,e){const i=(yield UT()).transaction(Qf,"readwrite"),s=i.objectStore(Qf).put({compositeKey:n,value:e});return new Promise((a,d)=>{s.onsuccess=h=>{a()},i.onerror=h=>{var p;d(Or.create("storage-set",{originalErrorMessage:null===(p=h.target.error)||void 0===p?void 0:p.message}))}})})).apply(this,arguments)}const Sd=new _r.Yd("@firebase/app-check");function J0(n,e){return(0,q.hl)()?function t1(n,e){return function HT(n,e){return S_.apply(this,arguments)}(function jT(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Sd.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function WT(){return Ml().enabled}function qT(){return eE.apply(this,arguments)}function eE(){return(eE=(0,ee.Z)(function*(){const n=Ml();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const s1={error:"UNKNOWN_ERROR"};function YT(n){return q.US.encodeString(JSON.stringify(n),!1)}function D_(n){return nE.apply(this,arguments)}function nE(){return(nE=(0,ee.Z)(function*(n,e=!1){const t=n.app;QR(t);const i=sr(t);let s,r=i.token;if(r&&!Id(r)&&(i.token=void 0,r=void 0),!r){const h=yield i.cachedTokenPromise;h&&(Id(h)?r=h:yield J0(t,void 0))}if(!e&&r&&Id(r))return{token:r.token};let d,a=!1;if(WT()){i.exchangeTokenPromise||(i.exchangeTokenPromise=w_(BT(t,yield qT()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);const h=yield i.exchangeTokenPromise;return yield J0(t,h),i.token=h,{token:h.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),r=yield sr(t).exchangeTokenPromise}catch(h){"appCheck/throttled"===h.code?Sd.warn(h.message):Sd.error(h),s=h}return r?s?d=Id(r)?{token:r.token,internalError:s}:sE(s):(d={token:r.token},i.token=r,yield J0(t,r)):d=sE(s),a&&KT(t,d),d})).apply(this,arguments)}function rE(n,e){const t=sr(n),i=t.tokenObservers.filter(r=>r.next!==e);0===i.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=i}function ZT(n){const{app:e}=n,t=sr(e);let i=t.tokenRefresher;i||(i=function o1(n){const{app:e}=n;return new ZR((0,ee.Z)(function*(){let i;if(i=sr(e).token?yield D_(n,!0):yield D_(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{const t=sr(e);if(t.token){let i=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,t.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(n),t.tokenRefresher=i),!i.isRunning()&&t.isTokenAutoRefreshEnabled&&i.start()}function KT(n,e){const t=sr(n).tokenObservers;for(const i of t)try{"EXTERNAL"===i.type&&null!=e.error?i.error(e.error):i.next(e)}catch{}}function Id(n){return n.expireTimeMillis-Date.now()>0}function sE(n){return{token:YT(s1),error:n}}class QT{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=sr(this.app);for(const t of e)rE(this.app,t.next);return Promise.resolve()}}const hE="app-check-internal";!function oD(){(0,ot._registerComponent)(new kr.wA("app-check",n=>function a1(n,e){return new QT(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(hE).initialize()})),(0,ot._registerComponent)(new kr.wA(hE,n=>function l1(n){return{getToken:e=>D_(n,e),addTokenListener:e=>function iE(n,e,t,i){const{app:r}=n,s=sr(r);if(s.tokenObservers=[...s.tokenObservers,{next:t,error:i,type:e}],s.token&&Id(s.token)){const d=s.token;Promise.resolve().then(()=>{t({token:d.token}),ZT(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>ZT(n))}(n,"INTERNAL",e),removeTokenListener:e=>rE(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,ot.registerVersion)("@firebase/app-check","0.5.17")}();class Fa{constructor(){return Pa("app-check")}}typeof window<"u"&&window;var aD=z(8247);function w1(n){return new Pn.y(function(e){return{unsubscribe:(0,aD.v)(n,e.next.bind(e),e.error.bind(e),e.complete.bind(e))}})}class M_{constructor(e){return e}}class La{constructor(){return Pa("auth")}}const k_=new l.OlP("angularfire2.auth-instances");function uD(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new M_(i)}}const dD={provide:La,deps:[[new l.FiY,k_]]},hD={provide:M_,useFactory:function cD(n,e){const t=Rr("auth",n,e);return t&&new M_(t)},deps:[[new l.FiY,k_],mn]};let I1=(()=>{class n{constructor(){(0,ot.registerVersion)("angularfire",Qr.full,"auth")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[hD,dD]}),n})();function _2(n,...e){return{ngModule:I1,providers:[{provide:k_,useFactory:uD(n),multi:!0,deps:[l.R0b,l.zs3,Xr,Na,[new l.FiY,Fa],...e]}]}}const fD=Qn(w1,!0),D1=Qn(aD.n,!0);var Et,ED=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},gs={},np=np||{},jt=ED||self;function ip(){}function P_(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function rp(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var sp="closure_uid_"+(1e9*Math.random()>>>0),wD=0;function CD(n,e,t){return n.call.apply(n.bind,arguments)}function N_(n,e,t){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(e,r)}}return function(){return n.apply(e,arguments)}}function Yi(n,e,t){return(Yi=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?CD:N_).apply(null,arguments)}function vE(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var i=t.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function Zi(n,e){function t(){}t.prototype=e.prototype,n.X=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Wb=function(i,r,s){for(var a=Array(arguments.length-2),d=2;d<arguments.length;d++)a[d-2]=arguments[d];return e.prototype[r].apply(i,a)}}function kl(){this.s=this.s,this.o=this.o}kl.prototype.s=!1,kl.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function H1(n){Object.prototype.hasOwnProperty.call(n,sp)&&n[sp]||(n[sp]=++wD)}(this)},kl.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Kc=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function bE(n){const e=n.length;if(0<e){const t=Array(e);for(let i=0;i<e;i++)t[i]=n[i];return t}return[]}function EE(n,e){for(let t=1;t<arguments.length;t++){const i=arguments[t];if(P_(i)){const r=n.length||0,s=i.length||0;n.length=r+s;for(let a=0;a<s;a++)n[r+a]=i[a]}else n.push(i)}}function Ki(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Ki.prototype.h=function(){this.defaultPrevented=!0};var L2=function(){if(!jt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{jt.addEventListener("test",ip,e),jt.removeEventListener("test",ip,e)}catch{}return n}();function F_(n){return/^[\s\xa0]*$/.test(n)}var z1=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function wE(n,e){return n<e?-1:n>e?1:0}function L_(){var n=jt.navigator;return n&&(n=n.userAgent)?n:""}function jo(n){return-1!=L_().indexOf(n)}function B_(n){return B_[" "](n),n}B_[" "]=ip;var op,n,j1=jo("Opera"),Qc=jo("Trident")||jo("MSIE"),CE=jo("Edge"),SE=CE||Qc,TD=jo("Gecko")&&!(-1!=L_().toLowerCase().indexOf("webkit")&&!jo("Edge"))&&!(jo("Trident")||jo("MSIE"))&&!jo("Edge"),DD=-1!=L_().toLowerCase().indexOf("webkit")&&!jo("Edge");function AD(){var n=jt.document;return n?n.documentMode:void 0}e:{var V_="",U_=(n=L_(),TD?/rv:([^\);]+)(\)|;)/.exec(n):CE?/Edge\/([\d\.]+)/.exec(n):Qc?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):DD?/WebKit\/(\S+)/.exec(n):j1?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(U_&&(V_=U_?U_[1]:""),Qc){var $_=AD();if(null!=$_&&$_>parseFloat(V_)){op=String($_);break e}}op=V_}var G1={};var B2=jt.document&&Qc&&(AD()||parseInt(op,10))||void 0;function H_(n,e){if(Ki.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(TD){e:{try{B_(e.nodeName);var r=!0;break e}catch{}r=!1}r||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:V2[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&H_.X.h.call(this)}}Zi(H_,Ki);var V2={2:"touch",3:"pen",4:"mouse"};H_.prototype.h=function(){H_.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var z_="closure_listenable_"+(1e6*Math.random()|0),U2=0;function $2(n,e,t,i,r){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!i,this.ha=r,this.key=++U2,this.ba=this.ea=!1}function TE(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function MD(n,e,t){for(const i in n)e.call(t,n[i],i,n)}function ap(n){const e={};for(const t in n)e[t]=n[t];return e}const q1="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function DE(n,e){let t,i;for(let r=1;r<arguments.length;r++){for(t in i=arguments[r],i)n[t]=i[t];for(let s=0;s<q1.length;s++)t=q1[s],Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t])}}function Xc(n){this.src=n,this.g={},this.h=0}function j_(n,e){var t=e.type;if(t in n.g){var s,i=n.g[t],r=Kc(i,e);(s=0<=r)&&Array.prototype.splice.call(i,r,1),s&&(TE(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function G_(n,e,t,i){for(var r=0;r<n.length;++r){var s=n[r];if(!s.ba&&s.listener==e&&s.capture==!!t&&s.ha==i)return r}return-1}Xc.prototype.add=function(n,e,t,i,r){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var a=G_(n,e,i,r);return-1<a?(e=n[a],t||(e.ea=!1)):((e=new $2(e,this.src,s,!!i,r)).ea=t,n.push(e)),e};var kD="closure_lm_"+(1e6*Math.random()|0),lp={};function AE(n,e,t,i,r){if(i&&i.once)return Y1(n,e,t,i,r);if(Array.isArray(e)){for(var s=0;s<e.length;s++)AE(n,e[s],t,i,r);return null}return t=LD(t),n&&n[z_]?n.N(e,t,rp(i)?!!i.capture:!!i,r):RD(n,e,t,!1,i,r)}function RD(n,e,t,i,r,s){if(!e)throw Error("Invalid event type");var a=rp(r)?!!r.capture:!!r,d=ME(n);if(d||(n[kD]=d=new Xc(n)),(t=d.add(e,t,i,a,s)).proxy)return t;if(i=function OD(){const e=W_;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=i,i.src=n,i.listener=t,n.addEventListener)L2||(r=a),void 0===r&&(r=!1),n.addEventListener(e.toString(),i,r);else if(n.attachEvent)n.attachEvent(ND(e.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return t}function Y1(n,e,t,i,r){if(Array.isArray(e)){for(var s=0;s<e.length;s++)Y1(n,e[s],t,i,r);return null}return t=LD(t),n&&n[z_]?n.O(e,t,rp(i)?!!i.capture:!!i,r):RD(n,e,t,!0,i,r)}function PD(n,e,t,i,r){if(Array.isArray(e))for(var s=0;s<e.length;s++)PD(n,e[s],t,i,r);else i=rp(i)?!!i.capture:!!i,t=LD(t),n&&n[z_]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=G_(s=n.g[e],t,i,r))&&(TE(s[t]),Array.prototype.splice.call(s,t,1),0==s.length&&(delete n.g[e],n.h--))):n&&(n=ME(n))&&(e=n.g[e.toString()],n=-1,e&&(n=G_(e,t,i,r)),(t=-1<n?e[n]:null)&&xE(t))}function xE(n){if("number"!=typeof n&&n&&!n.ba){var e=n.src;if(e&&e[z_])j_(e.i,n);else{var t=n.type,i=n.proxy;e.removeEventListener?e.removeEventListener(t,i,n.capture):e.detachEvent?e.detachEvent(ND(t),i):e.addListener&&e.removeListener&&e.removeListener(i),(t=ME(e))?(j_(t,n),0==t.h&&(t.src=null,e[kD]=null)):TE(n)}}}function ND(n){return n in lp?lp[n]:lp[n]="on"+n}function W_(n,e){if(n.ba)n=!0;else{e=new H_(e,this);var t=n.listener,i=n.ha||n.src;n.ea&&xE(n),n=t.call(i,e)}return n}function ME(n){return(n=n[kD])instanceof Xc?n:null}var FD="__closure_events_fn_"+(1e9*Math.random()>>>0);function LD(n){return"function"==typeof n?n:(n[FD]||(n[FD]=function(e){return n.handleEvent(e)}),n[FD])}function or(){kl.call(this),this.i=new Xc(this),this.P=this,this.I=null}function ar(n,e){var t,i=n.I;if(i)for(t=[];i;i=i.I)t.push(i);if(n=n.P,i=e.type||e,"string"==typeof e)e=new Ki(e,n);else if(e instanceof Ki)e.target=e.target||n;else{var r=e;DE(e=new Ki(i,n),r)}if(r=!0,t)for(var s=t.length-1;0<=s;s--){var a=e.g=t[s];r=q_(a,i,!0,e)&&r}if(r=q_(a=e.g=n,i,!0,e)&&r,r=q_(a,i,!1,e)&&r,t)for(s=0;s<t.length;s++)r=q_(a=e.g=t[s],i,!1,e)&&r}function q_(n,e,t,i){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var r=!0,s=0;s<e.length;++s){var a=e[s];if(a&&!a.ba&&a.capture==t){var d=a.listener,h=a.ha||a.src;a.ea&&j_(n.i,a),r=!1!==d.call(h,i)&&r}}return r&&!i.defaultPrevented}Zi(or,kl),or.prototype[z_]=!0,or.prototype.removeEventListener=function(n,e,t,i){PD(this,n,e,t,i)},or.prototype.M=function(){if(or.X.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],i=0;i<t.length;i++)TE(t[i]);delete n.g[e],n.h--}}this.I=null},or.prototype.N=function(n,e,t,i){return this.i.add(String(n),e,!1,t,i)},or.prototype.O=function(n,e,t,i){return this.i.add(String(n),e,!0,t,i)};var kE=jt.JSON.stringify;function H2(){var n=_s;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var OE,RE=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new BD,n=>n.reset());class BD{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function z2(n){jt.setTimeout(()=>{throw n},0)}function js(n,e){OE||function PE(){var n=jt.Promise.resolve(void 0);OE=function(){n.then(K1)}}(),NE||(OE(),NE=!0),_s.add(n,e)}var NE=!1,_s=new class Z1{constructor(){this.h=this.g=null}add(e,t){const i=RE.get();i.set(e,t),this.h?this.h.next=i:this.g=i,this.h=i}};function K1(){for(var n;n=H2();){try{n.h.call(n.g)}catch(t){z2(t)}var e=RE;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}NE=!1}function Td(n,e){or.call(this),this.h=n||1,this.g=e||jt,this.j=Yi(this.lb,this),this.l=Date.now()}function FE(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function LE(n,e,t){if("function"==typeof n)t&&(n=Yi(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Yi(n.handleEvent,n)}return 2147483647<Number(e)?-1:jt.setTimeout(n,e||0)}function Y_(n){n.g=LE(()=>{n.g=null,n.i&&(n.i=!1,Y_(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Zi(Td,or),(Et=Td.prototype).ca=!1,Et.R=null,Et.lb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),ar(this,"tick"),this.ca&&(FE(this),this.start()))}},Et.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Et.M=function(){Td.X.M.call(this),FE(this),delete this.g};class VD extends kl{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Y_(this)}M(){super.M(),this.g&&(jt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Dd(n){kl.call(this),this.h=n,this.g={}}Zi(Dd,kl);var UD=[];function BE(n,e,t,i){Array.isArray(t)||(t&&(UD[0]=t.toString()),t=UD);for(var r=0;r<t.length;r++){var s=AE(e,t[r],i||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function VE(n){MD(n.g,function(e,t){this.g.hasOwnProperty(t)&&xE(e)},n),n.g={}}function Z_(){this.g=!0}function Rl(n,e,t,i){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function HD(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var i=t[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var a=1;a<r.length;a++)r[a]=""}}}return kE(t)}catch{return e}}(n,t)+(i?" "+i:"")})}Dd.prototype.M=function(){Dd.X.M.call(this),VE(this)},Dd.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Z_.prototype.Aa=function(){this.g=!1},Z_.prototype.info=function(){};var Va={},Go=null;function K_(){return Go=Go||new or}function X1(n){Ki.call(this,Va.Pa,n)}function cp(n){const e=K_();ar(e,new X1(e))}function zD(n,e){Ki.call(this,Va.STAT_EVENT,n),this.stat=e}function Pr(n){const e=K_();ar(e,new zD(e,n))}function jD(n,e){Ki.call(this,Va.Qa,n),this.size=e}function Ad(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return jt.setTimeout(function(){n()},e)}Va.Pa="serverreachability",Zi(X1,Ki),Va.STAT_EVENT="statevent",Zi(zD,Ki),Va.Qa="timingevent",Zi(jD,Ki);var UE={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},$E={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function HE(){}function J1(){}HE.prototype.h=null;var J_,Jc={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function Q_(){Ki.call(this,"d")}function X_(){Ki.call(this,"c")}function up(){}function xd(n,e,t,i){this.l=n,this.j=e,this.m=t,this.U=i||1,this.S=new Dd(this),this.O=ey,this.T=new Td(n=SE?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new dp}function dp(){this.i=null,this.g="",this.h=!1}Zi(Q_,Ki),Zi(X_,Ki),Zi(up,HE),up.prototype.g=function(){return new XMLHttpRequest},up.prototype.i=function(){return{}},J_=new up;var ey=45e3,ty={},ny={};function iy(n,e,t){n.K=1,n.v=Md(Ua(e)),n.s=t,n.P=!0,jE(n,null)}function jE(n,e){n.F=Date.now(),ry(n),n.A=Ua(n.v);var t=n.A,i=n.U;Array.isArray(i)||(i=[String(i)]),KD(t.i,"t",i),n.C=0,t=n.l.H,n.h=new dp,n.g=_y(n.l,t?e:null,!n.s),0<n.N&&(n.L=new VD(Yi(n.La,n,n.g),n.N)),BE(n.S,n.g,"readystatechange",n.ib),e=n.H?ap(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,e)):(n.u="GET",n.g.da(n.A,n.u,null,e)),cp(),function $D(n,e,t,i,r,s){n.info(function(){if(n.g)if(s)for(var a="",d=s.split("&"),h=0;h<d.length;h++){var p=d[h].split("=");if(1<p.length){var g=p[0];p=p[1];var v=g.split("_");a=2<=v.length&&"type"==v[1]?a+(g+"=")+p+"&":a+(g+"=redacted&")}}else a=null;else a=s;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+"\n"+t+"\n"+a})}(n.j,n.u,n.A,n.m,n.U,n.s)}function GD(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function WD(n,e,t){let r,i=!0;for(;!n.I&&n.C<t.length;){if(r=j2(n,t),r==ny){4==e&&(n.o=4,Pr(14),i=!1),Rl(n.j,n.m,null,"[Incomplete Response]");break}if(r==ty){n.o=4,Pr(15),Rl(n.j,n.m,t,"[Invalid Chunk]"),i=!1;break}Rl(n.j,n.m,r,null),qD(n,r)}GD(n)&&r!=ny&&r!=ty&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Pr(16),i=!1),n.i=n.i&&i,i?0<t.length&&!n.$&&(n.$=!0,(e=n.l).g==n&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),Ne(e),e.K=!0,Pr(11))):(Rl(n.j,n.m,t,"[Invalid Chunked Response]"),eu(n),hp(n))}function j2(n,e){var t=n.C,i=e.indexOf("\n",t);return-1==i?ny:(t=Number(e.substring(t,i)),isNaN(t)?ty:(i+=1)+t>e.length?ny:(e=e.substr(i,t),n.C=i+t,e))}function ry(n){n.V=Date.now()+n.O,GE(n,n.O)}function GE(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Ad(Yi(n.gb,n),e)}function sy(n){n.B&&(jt.clearTimeout(n.B),n.B=null)}function hp(n){0==n.l.G||n.I||Jn(n.l,n)}function eu(n){sy(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,FE(n.T),VE(n.S),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function qD(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||mp(t.h,n)))if(!n.J&&mp(t.h,n)&&3==t.G){try{var i=t.Fa.g.parse(e)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<n.F))break e;gn(t),O(t)}xt(t),Pr(18)}}else t.Ba=r[1],0<t.Ba-t.T&&37500>r[2]&&t.L&&0==t.A&&!t.v&&(t.v=Ad(Yi(t.cb,t),6e3));if(1>=YE(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else Ha(t,11)}else if((n.J||t.g==n)&&gn(t),!F_(e))for(r=t.Fa.g.parse(e),e=0;e<r.length;e++){let p=r[e];if(t.T=p[0],p=p[1],2==t.G)if("c"==p[0]){t.I=p[1],t.ka=p[2];const g=p[3];null!=g&&(t.ma=g,t.j.info("VER="+t.ma));const v=p[4];null!=v&&(t.Ca=v,t.j.info("SVER="+t.Ca));const w=p[5];null!=w&&"number"==typeof w&&0<w&&(t.J=i=1.5*w,t.j.info("backChannelRequestTimeoutMs_="+i)),i=t;const D=n.g;if(D){const A=D.g?D.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(A){var s=i.h;s.g||-1==A.indexOf("spdy")&&-1==A.indexOf("quic")&&-1==A.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(eA(s,s.h),s.h=null))}if(i.D){const x=D.g?D.g.getResponseHeader("X-HTTP-Session-Id"):null;x&&(i.za=x,Xn(i.F,i.D,x))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-n.F,t.j.info("Handshake RTT: "+t.P+"ms"));var a=n;if((i=t).sa=gy(i,i.H?i.ka:null,i.V),a.J){ZE(i.h,a);var d=a,h=i.J;h&&d.setTimeout(h),d.B&&(sy(d),ry(d)),i.g=a}else vt(i);0<t.i.length&&Z(t)}else"stop"!=p[0]&&"close"!=p[0]||Ha(t,7);else 3==t.G&&("stop"==p[0]||"close"==p[0]?"stop"==p[0]?Ha(t,7):M(t):"noop"!=p[0]&&t.l&&t.l.wa(p),t.A=0)}cp()}catch{}}function eO(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(P_(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function W2(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(P_(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const i in n)e[t++]=i;return e}}}(n),i=function G2(n){if(n.W&&"function"==typeof n.W)return n.W();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(P_(n)){for(var e=[],t=n.length,i=0;i<t;i++)e.push(n[i]);return e}for(i in e=[],t=0,n)e[t++]=n[i];return e}(n),r=i.length,s=0;s<r;s++)e.call(void 0,i[s],t&&t[s],n)}(Et=xd.prototype).setTimeout=function(n){this.O=n},Et.ib=function(n){n=n.target;const e=this.L;e&&3==f(n)?e.l():this.La(n)},Et.La=function(n){try{if(n==this.g)e:{const g=f(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>g)&&(3!=g||SE||this.g&&(this.h.h||this.g.fa()||m(this.g)))){this.I||4!=g||7==e||cp(),sy(this);var t=this.g.aa();this.Y=t;t:if(GD(this)){var i=m(this.g);n="";var r=i.length,s=4==f(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){eu(this),hp(this);var a="";break t}this.h.i=new jt.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,n+=this.h.i.decode(i[e],{stream:s&&e==r-1});i.splice(0,r),this.h.g+=n,this.C=0,a=this.h.g}else a=this.g.fa();if(this.i=200==t,function Q1(n,e,t,i,r,s,a){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+"\n"+t+"\n"+s+" "+a})}(this.j,this.u,this.A,this.m,this.U,g,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var d,h=this.g;if((d=h.g?h.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!F_(d)){var p=d;break t}}p=null}if(!(t=p)){this.i=!1,this.o=3,Pr(12),eu(this),hp(this);break e}Rl(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,qD(this,t)}this.P?(WD(this,g,a),SE&&this.i&&3==g&&(BE(this.S,this.T,"tick",this.hb),this.T.start())):(Rl(this.j,this.m,a,null),qD(this,a)),4==g&&eu(this),this.i&&!this.I&&(4==g?Jn(this.l,this):(this.i=!1,ry(this)))}else 400==t&&0<a.indexOf("Unknown SID")?(this.o=3,Pr(12)):(this.o=0,Pr(13)),eu(this),hp(this)}}}catch{}},Et.hb=function(){if(this.g){var n=f(this.g),e=this.g.fa();this.C<e.length&&(sy(this),WD(this,n,e),this.i&&4!=n&&ry(this))}},Et.cancel=function(){this.I=!0,eu(this)},Et.gb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function Ol(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(cp(),Pr(17)),eu(this),this.o=2,hp(this)):GE(this,this.V-n)};var tO=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Wo(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Wo){this.h=void 0!==e?e:n.h,oy(this,n.j),this.s=n.s,this.g=n.g,fp(this,n.m),this.l=n.l,e=n.i;var t=new cy;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),Pl(this,t),this.o=n.o}else n&&(t=String(n).match(tO))?(this.h=!!e,oy(this,t[1]||"",!0),this.s=tu(t[2]||""),this.g=tu(t[3]||"",!0),fp(this,t[4]),this.l=tu(t[5]||"",!0),Pl(this,t[6]||"",!0),this.o=tu(t[7]||"")):(this.h=!!e,this.i=new cy(null,this.h))}function Ua(n){return new Wo(n)}function oy(n,e,t){n.j=t?tu(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function fp(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function Pl(n,e,t){e instanceof cy?(n.i=e,function QD(n,e){e&&!n.j&&($a(n),n.i=null,n.g.forEach(function(t,i){var r=i.toLowerCase();i!=r&&(YD(this,i),KD(this,r,t))},n)),n.j=e}(n.i,n.h)):(t||(e=pp(e,Y2)),n.i=new cy(e,n.h))}function Xn(n,e,t){n.i.set(e,t)}function Md(n){return Xn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function tu(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function pp(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,WE),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function WE(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Wo.prototype.toString=function(){var n=[],e=this.j;e&&n.push(pp(e,ay,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(pp(e,ay,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(pp(t,"/"==t.charAt(0)?q2:ly,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",pp(t,Z2)),n.join("")};var ay=/[#\/\?@]/g,ly=/[#\?:]/g,q2=/[#\?]/g,Y2=/[#\?@]/g,Z2=/#/g;function cy(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function $a(n){n.g||(n.g=new Map,n.h=0,n.i&&function nO(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var i=n[t].indexOf("="),r=null;if(0<=i){var s=n[t].substring(0,i);r=n[t].substring(i+1)}else s=n[t];e(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function YD(n,e){$a(n),e=kd(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function ZD(n,e){return $a(n),e=kd(n,e),n.g.has(e)}function KD(n,e,t){YD(n,e),0<t.length&&(n.i=null,n.g.set(kd(n,e),bE(t)),n.h+=t.length)}function kd(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function qE(n){this.l=n||iO,n=jt.PerformanceNavigationTiming?0<(n=jt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(jt.g&&jt.g.Ga&&jt.g.Ga()&&jt.g.Ga().$b),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Et=cy.prototype).add=function(n,e){$a(this),this.i=null,n=kd(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},Et.forEach=function(n,e){$a(this),this.g.forEach(function(t,i){t.forEach(function(r){n.call(e,r,i,this)},this)},this)},Et.oa=function(){$a(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let i=0;i<e.length;i++){const r=n[i];for(let s=0;s<r.length;s++)t.push(e[i])}return t},Et.W=function(n){$a(this);let e=[];if("string"==typeof n)ZD(this,n)&&(e=e.concat(this.g.get(kd(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},Et.set=function(n,e){return $a(this),this.i=null,ZD(this,n=kd(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},Et.get=function(n,e){return n&&0<(n=this.W(n)).length?String(n[0]):e},Et.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var i=e[t];const s=encodeURIComponent(String(i)),a=this.W(i);for(i=0;i<a.length;i++){var r=s;""!==a[i]&&(r+="="+encodeURIComponent(String(a[i]))),n.push(r)}}return this.i=n.join("&")};var iO=10;function JD(n){return!!n.h||!!n.g&&n.g.size>=n.j}function YE(n){return n.h?1:n.g?n.g.size:0}function mp(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function eA(n,e){n.g?n.g.add(e):n.h=e}function ZE(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function uy(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return bE(n.i)}function KE(){}function rO(){this.g=new KE}function K2(n,e,t){const i=t||"";try{eO(n,function(r,s){let a=r;rp(r)&&(a=kE(r)),e.push(i+s+"="+encodeURIComponent(a))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function dy(n,e,t,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch{}}function gp(n){this.l=n.ac||null,this.j=n.jb||!1}function hy(n,e){or.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=tA,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}qE.prototype.cancel=function(){if(this.i=uy(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},KE.prototype.stringify=function(n){return jt.JSON.stringify(n,void 0)},KE.prototype.parse=function(n){return jt.JSON.parse(n,void 0)},Zi(gp,HE),gp.prototype.g=function(){return new hy(this.l,this.j)},gp.prototype.i=function(n){return function(){return n}}({}),Zi(hy,or);var tA=0;function sO(n){n.j.read().then(n.Ta.bind(n)).catch(n.ga.bind(n))}function fy(n){n.readyState=4,n.l=null,n.j=null,n.A=null,py(n)}function py(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Et=hy.prototype).open=function(n,e){if(this.readyState!=tA)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,py(this)},Et.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||jt).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},Et.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,fy(this)),this.readyState=tA},Et.Wa=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,py(this)),this.g&&(this.readyState=3,py(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof jt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;sO(this)}else n.text().then(this.Va.bind(this),this.ga.bind(this))},Et.Ta=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?fy(this):py(this),3==this.readyState&&sO(this)}},Et.Va=function(n){this.g&&(this.response=this.responseText=n,fy(this))},Et.Ua=function(n){this.g&&(this.response=n,fy(this))},Et.ga=function(){this.g&&fy(this)},Et.setRequestHeader=function(n,e){this.v.append(n,e)},Et.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Et.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(hy.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var X2=jt.JSON.parse;function pi(n){or.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=oO,this.K=this.L=!1}Zi(pi,or);var oO="",J2=/^https?$/i,eU=["POST","PUT"];function aO(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,lO(n),c(n)}function lO(n){n.D||(n.D=!0,ar(n,"complete"),ar(n,"error"))}function o(n){if(n.h&&typeof np<"u"&&(!n.C[1]||4!=f(n)||2!=n.aa()))if(n.v&&4==f(n))LE(n.Ha,0,n);else if(ar(n,"readystatechange"),4==f(n)){n.h=!1;try{const d=n.aa();e:switch(d){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var i;if(i=0===d){var r=String(n.H).match(tO)[1]||null;if(!r&&jt.self&&jt.self.location){var s=jt.self.location.protocol;r=s.substr(0,s.length-1)}i=!J2.test(r?r.toLowerCase():"")}t=i}if(t)ar(n,"complete"),ar(n,"success");else{n.m=6;try{var a=2<f(n)?n.g.statusText:""}catch{a=""}n.j=a+" ["+n.aa()+"]",lO(n)}}finally{c(n)}}}function c(n,e){if(n.g){u(n);const t=n.g,i=n.C[0]?ip:null;n.g=null,n.C=null,e||ar(n,"ready");try{t.onreadystatechange=i}catch{}}}function u(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(jt.clearTimeout(n.A),n.A=null)}function f(n){return n.g?n.g.readyState:0}function m(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case oO:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function _(n){let e="";return MD(n,function(t,i){e+=i,e+=":",e+=t,e+="\r\n"}),e}function E(n,e,t){e:{for(i in t){var i=!1;break e}i=!0}i||(t=_(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Xn(n,e,t))}function S(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function T(n){this.Ca=0,this.i=[],this.j=new Z_,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=S("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=S("baseRetryDelayMs",5e3,n),this.bb=S("retryDelaySeedMs",1e4,n),this.$a=S("forwardChannelMaxRetries",2,n),this.ta=S("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Zb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new qE(n&&n.concurrentRequestLimit),this.Fa=new rO,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=n&&n.Xb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function M(n){if(B(n),3==n.G){var e=n.U++,t=Ua(n.F);Xn(t,"SID",n.I),Xn(t,"RID",e),Xn(t,"TYPE","terminate"),Ye(n,t),(e=new xd(n,n.j,e,void 0)).K=2,e.v=Md(Ua(t)),t=!1,jt.navigator&&jt.navigator.sendBeacon&&(t=jt.navigator.sendBeacon(e.v.toString(),"")),!t&&jt.Image&&((new Image).src=e.v,t=!0),t||(e.g=_y(e.l,null),e.g.da(e.v)),e.F=Date.now(),ry(e)}my(n)}function O(n){n.g&&(Ne(n),n.g.cancel(),n.g=null)}function B(n){O(n),n.u&&(jt.clearTimeout(n.u),n.u=null),gn(n),n.h.cancel(),n.m&&("number"==typeof n.m&&jt.clearTimeout(n.m),n.m=null)}function Z(n){JD(n.h)||n.m||(n.m=!0,js(n.Ja,n),n.C=0)}function De(n,e){var t;t=e?e.m:n.U++;const i=Ua(n.F);Xn(i,"SID",n.I),Xn(i,"RID",t),Xn(i,"AID",n.T),Ye(n,i),n.o&&n.s&&E(i,n.o,n.s),t=new xd(n,n.j,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.i=e.D.concat(n.i)),e=nt(n,t,1e3),t.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),eA(n.h,t),iy(t,i,e)}function Ye(n,e){n.ia&&MD(n.ia,function(t,i){Xn(e,i,t)}),n.l&&eO({},function(t,i){Xn(e,i,t)})}function nt(n,e,t){t=Math.min(n.i.length,t);var i=n.l?Yi(n.l.Ra,n.l,n):null;e:{var r=n.i;let s=-1;for(;;){const a=["count="+t];-1==s?0<t?(s=r[0].h,a.push("ofs="+s)):s=0:a.push("ofs="+s);let d=!0;for(let h=0;h<t;h++){let p=r[h].h;const g=r[h].g;if(p-=s,0>p)s=Math.max(0,r[h].h-100),d=!1;else try{K2(g,a,"req"+p+"_")}catch{i&&i(g)}}if(d){i=a.join("&");break e}}}return n=n.i.splice(0,t),e.D=n,i}function vt(n){n.g||n.u||(n.Z=1,js(n.Ia,n),n.A=0)}function xt(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=Ad(Yi(n.Ia,n),Nl(n,n.A)),n.A++,0))}function Ne(n){null!=n.B&&(jt.clearTimeout(n.B),n.B=null)}function Pt(n){n.g=new xd(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var e=Ua(n.sa);Xn(e,"RID","rpc"),Xn(e,"SID",n.I),Xn(e,"CI",n.L?"0":"1"),Xn(e,"AID",n.T),Xn(e,"TYPE","xmlhttp"),Ye(n,e),n.o&&n.s&&E(e,n.o,n.s),n.J&&n.g.setTimeout(n.J);var t=n.g;n=n.ka,t.K=1,t.v=Md(Ua(e)),t.s=null,t.P=!0,jE(t,n)}function gn(n){null!=n.v&&(jt.clearTimeout(n.v),n.v=null)}function Jn(n,e){var t=null;if(n.g==e){gn(n),Ne(n),n.g=null;var i=2}else{if(!mp(n.h,e))return;t=e.D,ZE(n.h,e),i=1}if(0!=n.G)if(n.pa=e.Y,e.i)if(1==i){t=e.s?e.s.length:0,e=Date.now()-e.F;var r=n.C;ar(i=K_(),new jD(i,t)),Z(n)}else vt(n);else if(3==(r=e.o)||0==r&&0<n.pa||!(1==i&&function le(n,e){return!(YE(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Za?0:n.$a)||(n.m=Ad(Yi(n.Ja,n,e),Nl(n,n.C)),n.C++,0)))}(n,e)||2==i&&xt(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),r){case 1:Ha(n,5);break;case 4:Ha(n,10);break;case 3:Ha(n,6);break;default:Ha(n,2)}}function Nl(n,e){let t=n.Xa+Math.floor(Math.random()*n.bb);return n.l||(t*=2),t*e}function Ha(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var i=Yi(n.kb,n);t||(t=new Wo("//www.google.com/images/cleardot.gif"),jt.location&&"http"==jt.location.protocol||oy(t,"https"),Md(t)),function Q2(n,e){const t=new Z_;if(jt.Image){const i=new Image;i.onload=vE(dy,t,i,"TestLoadImage: loaded",!0,e),i.onerror=vE(dy,t,i,"TestLoadImage: error",!1,e),i.onabort=vE(dy,t,i,"TestLoadImage: abort",!1,e),i.ontimeout=vE(dy,t,i,"TestLoadImage: timeout",!1,e),jt.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else e(!1)}(t.toString(),i)}else Pr(2);n.G=0,n.l&&n.l.va(e),my(n),B(n)}function my(n){if(n.G=0,n.la=[],n.l){const e=uy(n.h);(0!=e.length||0!=n.i.length)&&(EE(n.la,e),EE(n.la,n.i),n.h.i.length=0,bE(n.i),n.i.length=0),n.l.ua()}}function gy(n,e,t){var i=t instanceof Wo?Ua(t):new Wo(t,void 0);if(""!=i.g)e&&(i.g=e+"."+i.g),fp(i,i.m);else{var r=jt.location;i=r.protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port;var s=new Wo(null,void 0);i&&oy(s,i),e&&(s.g=e),r&&fp(s,r),t&&(s.l=t),i=s}return e=n.za,(t=n.D)&&e&&Xn(i,t,e),Xn(i,"VER",n.ma),Ye(n,i),i}function _y(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new pi(t&&n.Da&&!n.ra?new gp({jb:!0}):n.ra)).Ka(n.H),e}function yy(){}function Rd(){if(Qc&&!(10<=Number(B2)))throw Error("Environmental error: no available transport.")}function Nr(n,e){or.call(this),this.g=new T(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.S=n,(n=e&&e.Yb)&&!F_(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!F_(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Ey(this)}function vy(n){Q_.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function by(){X_.call(this),this.status=1}function Ey(n){this.g=n}(Et=pi.prototype).Ka=function(n){this.L=n},Et.da=function(n,e,t,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():J_.g(),this.C=function zE(n){return n.h||(n.h=n.i())}(this.u?this.u:J_),this.g.onreadystatechange=Yi(this.Ha,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(s){return void aO(this,s)}if(n=t||"",t=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)t.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const s of i.keys())t.set(s,i.get(s))}i=Array.from(t.keys()).find(s=>"content-type"==s.toLowerCase()),r=jt.FormData&&n instanceof jt.FormData,!(0<=Kc(eU,e))||i||r||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,a]of t)this.g.setRequestHeader(s,a);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{u(this),0<this.B&&((this.K=function tU(n){return Qc&&function W1(){return function ID(n){var e=G1;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=z1(String(op)).split("."),t=z1("9").split("."),i=Math.max(e.length,t.length);for(let a=0;0==n&&a<i;a++){var r=e[a]||"",s=t[a]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==r[0].length&&0==s[0].length)break;n=wE(0==r[1].length?0:parseInt(r[1],10),0==s[1].length?0:parseInt(s[1],10))||wE(0==r[2].length,0==s[2].length)||wE(r[2],s[2]),r=r[3],s=s[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Yi(this.qa,this)):this.A=LE(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){aO(this,s)}},Et.qa=function(){typeof np<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ar(this,"timeout"),this.abort(8))},Et.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,ar(this,"complete"),ar(this,"abort"),c(this))},Et.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),c(this,!0)),pi.X.M.call(this)},Et.Ha=function(){this.s||(this.F||this.v||this.l?o(this):this.fb())},Et.fb=function(){o(this)},Et.aa=function(){try{return 2<f(this)?this.g.status:-1}catch{return-1}},Et.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},Et.Sa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),X2(e)}},Et.Ea=function(){return this.m},Et.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Et=T.prototype).ma=8,Et.G=1,Et.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const r=new xd(this,this.j,n,void 0);let s=this.s;if(this.S&&(s?(s=ap(s),DE(s,this.S)):s=this.S),null!==this.o||this.N||(r.H=s,s=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var i=this.i[t];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=nt(this,r,e),Xn(t=Ua(this.F),"RID",n),Xn(t,"CVER",22),this.D&&Xn(t,"X-HTTP-Session-Id",this.D),Ye(this,t),s&&(this.N?e="headers="+encodeURIComponent(String(_(s)))+"&"+e:this.o&&E(t,this.o,s)),eA(this.h,r),this.Ya&&Xn(t,"TYPE","init"),this.O?(Xn(t,"$req",e),Xn(t,"SID","null"),r.Z=!0,iy(r,t,null)):iy(r,t,e),this.G=2}}else 3==this.G&&(n?De(this,n):0==this.i.length||JD(this.h)||De(this))},Et.Ia=function(){if(this.u=null,Pt(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=Ad(Yi(this.eb,this),n)}},Et.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Pr(10),O(this),Pt(this))},Et.cb=function(){null!=this.v&&(this.v=null,O(this),xt(this),Pr(19))},Et.kb=function(n){n?(this.j.info("Successfully pinged google.com"),Pr(2)):(this.j.info("Failed to ping google.com"),Pr(1))},(Et=yy.prototype).xa=function(){},Et.wa=function(){},Et.va=function(){},Et.ua=function(){},Et.Ra=function(){},Rd.prototype.g=function(n,e){return new Nr(n,e)},Zi(Nr,or),Nr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;Pr(0),n.V=e,n.ia=t||{},n.L=n.Y,n.F=gy(n,null,n.V),Z(n)},Nr.prototype.close=function(){M(this.g)},Nr.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=kE(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.ab++,n)),3==e.G&&Z(e)},Nr.prototype.M=function(){this.g.l=null,delete this.j,M(this.g),delete this.g,Nr.X.M.call(this)},Zi(vy,Q_),Zi(by,X_),Zi(Ey,yy),Ey.prototype.xa=function(){ar(this.g,"a")},Ey.prototype.wa=function(n){ar(this.g,new vy(n))},Ey.prototype.va=function(n){ar(this.g,new by)},Ey.prototype.ua=function(){ar(this.g,"b")},Rd.prototype.createWebChannel=Rd.prototype.g,Nr.prototype.send=Nr.prototype.u,Nr.prototype.open=Nr.prototype.m,Nr.prototype.close=Nr.prototype.close,UE.NO_ERROR=0,UE.TIMEOUT=8,UE.HTTP_ERROR=6,$E.COMPLETE="complete",J1.EventType=Jc,Jc.OPEN="a",Jc.CLOSE="b",Jc.ERROR="c",Jc.MESSAGE="d",or.prototype.listen=or.prototype.N,pi.prototype.listenOnce=pi.prototype.O,pi.prototype.getLastError=pi.prototype.Oa,pi.prototype.getLastErrorCode=pi.prototype.Ea,pi.prototype.getStatus=pi.prototype.aa,pi.prototype.getResponseJson=pi.prototype.Sa,pi.prototype.getResponseText=pi.prototype.fa,pi.prototype.send=pi.prototype.da,pi.prototype.setWithCredentials=pi.prototype.Ka;var m5=gs.createWebChannelTransport=function(){return new Rd},g5=gs.getStatEventTarget=function(){return K_()},cO=gs.ErrorCode=UE,_5=gs.EventType=$E,y5=gs.Event=Va,nU=gs.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},v5=gs.FetchXmlHttpFactory=gp,nA=gs.WebChannel=J1,b5=gs.XhrIo=pi;const iU="@firebase/firestore";class yr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}yr.UNAUTHENTICATED=new yr(null),yr.GOOGLE_CREDENTIALS=new yr("google-credentials-uid"),yr.FIRST_PARTY=new yr("first-party-uid"),yr.MOCK_USER=new yr("mock-user");let wy="9.14.0";const Od=new _r.Yd("@firebase/firestore");function uO(){return Od.logLevel}function Ke(n,...e){if(Od.logLevel<=_r.in.DEBUG){const t=e.map(dO);Od.debug(`Firestore (${wy}): ${n}`,...t)}}function Vi(n,...e){if(Od.logLevel<=_r.in.ERROR){const t=e.map(dO);Od.error(`Firestore (${wy}): ${n}`,...t)}}function _p(n,...e){if(Od.logLevel<=_r.in.WARN){const t=e.map(dO);Od.warn(`Firestore (${wy}): ${n}`,...t)}}function dO(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function bt(n="Unexpected state"){const e=`FIRESTORE (${wy}) INTERNAL ASSERTION FAILED: `+n;throw Vi(e),new Error(e)}function Lt(n,e){n||bt()}function at(n,e){return n}const be={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ue extends q.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class lr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class rU{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class C5{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(yr.UNAUTHENTICATED))}shutdown(){}}class S5{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class I5{constructor(e){this.t=e,this.currentUser=yr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var i=this;let r=this.i;const s=p=>this.i!==r?(r=this.i,t(p)):Promise.resolve();let a=new lr;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new lr,e.enqueueRetryable(()=>s(this.currentUser))};const d=()=>{const p=a;e.enqueueRetryable((0,ee.Z)(function*(){yield p.promise,yield s(i.currentUser)}))},h=p=>{Ke("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.auth.addAuthTokenListener(this.o),d()};this.t.onInit(p=>h(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?h(p):(Ke("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new lr)}},0),d()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(Ke("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Lt("string"==typeof i.accessToken),new rU(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Lt(null===e||"string"==typeof e),new yr(e)}}class T5{constructor(e,t,i,r){this.h=e,this.l=t,this.m=i,this.g=r,this.type="FirstParty",this.user=yr.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(Lt(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class D5{constructor(e,t,i,r){this.h=e,this.l=t,this.m=i,this.g=r}getToken(){return Promise.resolve(new T5(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(yr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class sU{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class A5{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const i=s=>{null!=s.error&&Ke("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.A;return this.A=s.token,Ke("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>i(s))};const r=s=>{Ke("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.T.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.T.getImmediate({optional:!0});s?r(s):Ke("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Lt("string"==typeof t.token),this.A=t.token,new sU(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function x5(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}class oU{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const r=x5(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<t&&(i+=e.charAt(r[s]%e.length))}return i}}function Zt(n,e){return n<e?-1:n>e?1:0}function Cy(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}function aU(n){return n+"\0"}class mi{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ue(be.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ue(be.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ue(be.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ue(be.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return mi.fromMillis(Date.now())}static fromDate(e){return mi.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new mi(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Zt(this.nanoseconds,e.nanoseconds):Zt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Bt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Bt(e)}static min(){return new Bt(new mi(0,0))}static max(){return new Bt(new mi(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class QE{constructor(e,t,i){void 0===t?t=0:t>e.length&&bt(),void 0===i?i=e.length-t:i>e.length-t&&bt(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===QE.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof QE?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const s=e.get(r),a=t.get(r);if(s<a)return-1;if(s>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class En extends QE{construct(e,t,i){return new En(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new Ue(be.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new En(t)}static emptyPath(){return new En([])}}const M5=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Mi extends QE{construct(e,t,i){return new Mi(e,t,i)}static isValidIdentifier(e){return M5.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Mi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Mi(["__name__"])}static fromServerFormat(e){const t=[];let i="",r=0;const s=()=>{if(0===i.length)throw new Ue(be.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let a=!1;for(;r<e.length;){const d=e[r];if("\\"===d){if(r+1===e.length)throw new Ue(be.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[r+1];if("\\"!==h&&"."!==h&&"`"!==h)throw new Ue(be.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=h,r+=2}else"`"===d?(a=!a,r++):"."!==d||a?(i+=d,r++):(s(),r++)}if(s(),a)throw new Ue(be.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Mi(t)}static emptyPath(){return new Mi([])}}class st{constructor(e){this.path=e}static fromPath(e){return new st(En.fromString(e))}static fromName(e){return new st(En.fromString(e).popFirst(5))}static empty(){return new st(En.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===En.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return En.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new st(new En(e.slice()))}}class iA{constructor(e,t,i,r){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=r}}function hO(n){return n.fields.find(e=>2===e.kind)}function yp(n){return n.fields.filter(e=>2!==e.kind)}iA.UNKNOWN_ID=-1;class rA{constructor(e,t){this.fieldPath=e,this.kind=t}}class XE{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new XE(0,co.min())}}function lU(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Bt.fromTimestamp(1e9===i?new mi(t+1,0):new mi(t,i));return new co(r,st.empty(),e)}function cU(n){return new co(n.readTime,n.key,-1)}class co{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new co(Bt.min(),st.empty(),-1)}static max(){return new co(Bt.max(),st.empty(),-1)}}function fO(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=st.comparator(n.documentKey,e.documentKey),0!==t?t:Zt(n.largestBatchId,e.largestBatchId))}const uU="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class dU{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Pd(n){return pO.apply(this,arguments)}function pO(){return pO=(0,ee.Z)(function*(n){if(n.code!==be.FAILED_PRECONDITION||n.message!==uU)throw n;Ke("LocalStore","Unexpectedly lost primary lease")}),pO.apply(this,arguments)}class pe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&bt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new pe((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(t,s).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof pe?t:pe.resolve(t)}catch(t){return pe.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):pe.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):pe.reject(t)}static resolve(e){return new pe((t,i)=>{t(e)})}static reject(e){return new pe((t,i)=>{i(e)})}static waitFor(e){return new pe((t,i)=>{let r=0,s=0,a=!1;e.forEach(d=>{++r,d.next(()=>{++s,a&&s===r&&t()},h=>i(h))}),a=!0,s===r&&t()})}static or(e){let t=pe.resolve(!1);for(const i of e)t=t.next(r=>r?pe.resolve(r):i());return t}static forEach(e,t){const i=[];return e.forEach((r,s)=>{i.push(t.call(this,r,s))}),this.waitFor(i)}static mapArray(e,t){return new pe((i,r)=>{const s=e.length,a=new Array(s);let d=0;for(let h=0;h<s;h++){const p=h;t(e[p]).next(g=>{a[p]=g,++d,d===s&&i(a)},g=>r(g))}})}static doWhile(e,t){return new pe((i,r)=>{const s=()=>{!0===e()?t().next(()=>{s()},r):i()};s()})}}class sA{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.P=new lr,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{t.error?this.P.reject(new JE(e,t.error)):this.P.resolve()},this.transaction.onerror=i=>{const r=mO(i.target.error);this.P.reject(new JE(e,r))}}static open(e,t,i,r){try{return new sA(t,e.transaction(r,i))}catch(s){throw new JE(t,s)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(Ke("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new P5(t)}}class za{constructor(e,t,i){this.name=e,this.version=t,this.S=i,12.2===za.D((0,q.z$)())&&Vi("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Ke("SimpleDb","Removing database:",e),vp(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,q.hl)())return!1;if(za.N())return!0;const e=(0,q.z$)(),t=za.D(e),i=0<t&&t<10,r=za.k(e),s=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||s)}static N(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.O)}static M(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static k(e){const t=e.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}F(e){var t=this;return(0,ee.Z)(function*(){return t.db||(Ke("SimpleDb","Opening database:",t.name),t.db=yield new Promise((i,r)=>{const s=indexedDB.open(t.name,t.version);s.onsuccess=a=>{i(a.target.result)},s.onblocked=()=>{r(new JE(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=a=>{const d=a.target.error;r("VersionError"===d.name?new Ue(be.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===d.name?new Ue(be.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+d):new JE(e,d))},s.onupgradeneeded=a=>{Ke("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',a.oldVersion),t.S.$(a.target.result,s.transaction,a.oldVersion,t.version).next(()=>{Ke("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=i=>t.B(i)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,i,r){var s=this;return(0,ee.Z)(function*(){const a="readonly"===t;let d=0;for(;;){++d;try{s.db=yield s.F(e);const h=sA.open(s.db,e,a?"readonly":"readwrite",i),p=r(h).next(g=>(h.V(),g)).catch(g=>(h.abort(g),pe.reject(g))).toPromise();return p.catch(()=>{}),yield h.v,p}catch(h){const p=h,g="FirebaseError"!==p.name&&d<3;if(Ke("SimpleDb","Transaction failed with error:",p.message,"Retrying:",g),s.close(),!g)return Promise.reject(p)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class O5{constructor(e){this.U=e,this.q=!1,this.K=null}get isDone(){return this.q}get G(){return this.K}set cursor(e){this.U=e}done(){this.q=!0}j(e){this.K=e}delete(){return vp(this.U.delete())}}class JE extends Ue{constructor(e,t){super(be.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Nd(n){return"IndexedDbTransactionError"===n.name}class P5{constructor(e){this.store=e}put(e,t){let i;return void 0!==t?(Ke("SimpleDb","PUT",this.store.name,e,t),i=this.store.put(t,e)):(Ke("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),vp(i)}add(e){return Ke("SimpleDb","ADD",this.store.name,e,e),vp(this.store.add(e))}get(e){return vp(this.store.get(e)).next(t=>(void 0===t&&(t=null),Ke("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Ke("SimpleDb","DELETE",this.store.name,e),vp(this.store.delete(e))}count(){return Ke("SimpleDb","COUNT",this.store.name),vp(this.store.count())}W(e,t){const i=this.options(e,t);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),s=[];return this.H(r,(a,d)=>{s.push(d)}).next(()=>s)}{const r=this.store.getAll(i.range);return new pe((s,a)=>{r.onerror=d=>{a(d.target.error)},r.onsuccess=d=>{s(d.target.result)}})}}J(e,t){const i=this.store.getAll(e,null===t?void 0:t);return new pe((r,s)=>{i.onerror=a=>{s(a.target.error)},i.onsuccess=a=>{r(a.target.result)}})}Y(e,t){Ke("SimpleDb","DELETE ALL",this.store.name);const i=this.options(e,t);i.X=!1;const r=this.cursor(i);return this.H(r,(s,a,d)=>d.delete())}Z(e,t){let i;t?i=e:(i={},t=e);const r=this.cursor(i);return this.H(r,t)}tt(e){const t=this.cursor({});return new pe((i,r)=>{t.onerror=s=>{const a=mO(s.target.error);r(a)},t.onsuccess=s=>{const a=s.target.result;a?e(a.primaryKey,a.value).next(d=>{d?a.continue():i()}):i()}})}H(e,t){const i=[];return new pe((r,s)=>{e.onerror=a=>{s(a.target.error)},e.onsuccess=a=>{const d=a.target.result;if(!d)return void r();const h=new O5(d),p=t(d.primaryKey,d.value,h);if(p instanceof pe){const g=p.catch(v=>(h.done(),pe.reject(v)));i.push(g)}h.isDone?r():null===h.G?d.continue():d.continue(h.G)}}).next(()=>pe.waitFor(i))}options(e,t){let i;return void 0!==e&&("string"==typeof e?i=e:t=e),{index:i,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const i=this.store.index(e.index);return e.X?i.openKeyCursor(e.range,t):i.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function vp(n){return new pe((e,t)=>{n.onsuccess=i=>{e(i.target.result)},n.onerror=i=>{const r=mO(i.target.error);t(r)}})}let hU=!1;function mO(n){const e=za.D((0,q.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const i=new Ue("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return hU||(hU=!0,setTimeout(()=>{throw i},0)),i}}return n}class N5{constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var t=this;Ke("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,ee.Z)(function*(){t.task=null;try{Ke("IndexBackiller",`Documents written: ${yield t.et.st()}`)}catch(i){Nd(i)?Ke("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield Pd(i)}yield t.nt(6e4)}))}}class F5{constructor(e,t){this.localStore=e,this.persistence=t}st(e=50){var t=this;return(0,ee.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>t.it(i,e))})()}it(e,t){const i=new Set;let r=t,s=!0;return pe.doWhile(()=>!0===s&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(a=>{if(null!==a&&!i.has(a))return Ke("IndexBackiller",`Processing collection: ${a}`),this.rt(e,a,r).next(d=>{r-=d,i.add(a)});s=!1})).next(()=>t-r)}rt(e,t,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(r=>this.localStore.localDocuments.getNextDocuments(e,t,r,i).next(s=>{const a=s.changes;return this.localStore.indexManager.updateIndexEntries(e,a).next(()=>this.ot(r,s)).next(d=>(Ke("IndexBackiller",`Updating offset: ${d}`),this.localStore.indexManager.updateCollectionGroup(e,t,d))).next(()=>a.size)}))}ot(e,t){let i=e;return t.changes.forEach((r,s)=>{const a=cU(s);fO(a,i)>0&&(i=a)}),new co(i.readTime,i.documentKey,Math.max(t.batchId,e.largestBatchId))}}class Gs{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ut(i),this.ct=i=>t.writeSequenceNumber(i))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}function fU(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function bp(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function pU(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}Gs.at=-1;class ki{constructor(e,t){this.comparator=e,this.root=t||Fr.EMPTY}insert(e,t){return new ki(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Fr.BLACK,null,null))}remove(e){return new ki(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Fr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(0===r)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new oA(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new oA(this.root,e,this.comparator,!1)}getReverseIterator(){return new oA(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new oA(this.root,e,this.comparator,!0)}}class oA{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?i(e.key,t):1,t&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Fr{constructor(e,t,i,r,s){this.key=e,this.value=t,this.color=i??Fr.RED,this.left=r??Fr.EMPTY,this.right=s??Fr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,s){return new Fr(e??this.key,t??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const s=i(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,t,i),null):0===s?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Fr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Fr.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Fr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Fr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw bt();const e=this.left.check();if(e!==this.right.check())throw bt();return e+(this.isRed()?0:1)}}Fr.EMPTY=null,Fr.RED=!0,Fr.BLACK=!1,Fr.EMPTY=new class{constructor(){this.size=0}get key(){throw bt()}get value(){throw bt()}get color(){throw bt()}get left(){throw bt()}get right(){throw bt()}copy(n,e,t,i,r){return this}insert(n,e,t){return new Fr(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class zn{constructor(e){this.comparator=e,this.data=new ki(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new mU(this.data.getIterator())}getIteratorFrom(e){return new mU(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof zn)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,s=i.getNext().key;if(0!==this.comparator(r,s))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new zn(this.comparator);return t.data=e,t}}class mU{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Sy(n){return n.hasNext()?n.getNext():void 0}class uo{constructor(e){this.fields=e,e.sort(Mi.comparator)}static empty(){return new uo([])}unionWith(e){let t=new zn(Mi.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new uo(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Cy(this.fields,e.fields,(t,i)=>t.isEqual(i))}}class cr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new cr(t)}static fromUint8Array(e){const t=function(i){let r="";for(let s=0;s<i.length;++s)r+=String.fromCharCode(i[s]);return r}(e);return new cr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Zt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}cr.EMPTY_BYTE_STRING=new cr("");const B5=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Fd(n){if(Lt(!!n),"string"==typeof n){let e=0;const t=B5.exec(n);if(Lt(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Ri(n.seconds),nanos:Ri(n.nanos)}}function Ri(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Ep(n){return"string"==typeof n?cr.fromBase64String(n):cr.fromUint8Array(n)}function gO(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function gU(n){const e=n.mapValue.fields.__previous_value__;return gO(e)?gU(e):e}function ew(n){const e=Fd(n.mapValue.fields.__local_write_time__.timestampValue);return new mi(e.seconds,e.nanos)}class V5{constructor(e,t,i,r,s,a,d,h){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=d,this.useFetchStreams=h}}class Ld{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Ld("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Ld&&e.projectId===this.projectId&&e.database===this.database}}function tw(n){return null==n}function nw(n){return 0===n&&1/n==-1/0}function _U(n){return"number"==typeof n&&Number.isInteger(n)&&!nw(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const Bd={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},aA={nullValue:"NULL_VALUE"};function wp(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?gO(n)?4:EU(n)?9007199254740991:10:bt()}function Fl(n,e){if(n===e)return!0;const t=wp(n);if(t!==wp(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return ew(n).isEqual(ew(e));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const s=Fd(i.timestampValue),a=Fd(r.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return r=e,Ep(n.bytesValue).isEqual(Ep(r.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,r){return Ri(i.geoPointValue.latitude)===Ri(r.geoPointValue.latitude)&&Ri(i.geoPointValue.longitude)===Ri(r.geoPointValue.longitude)}(n,e);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return Ri(i.integerValue)===Ri(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const s=Ri(i.doubleValue),a=Ri(r.doubleValue);return s===a?nw(s)===nw(a):isNaN(s)&&isNaN(a)}return!1}(n,e);case 9:return Cy(n.arrayValue.values||[],e.arrayValue.values||[],Fl);case 10:return function(i,r){const s=i.mapValue.fields||{},a=r.mapValue.fields||{};if(fU(s)!==fU(a))return!1;for(const d in s)if(s.hasOwnProperty(d)&&(void 0===a[d]||!Fl(s[d],a[d])))return!1;return!0}(n,e);default:return bt()}var r}function iw(n,e){return void 0!==(n.values||[]).find(t=>Fl(t,e))}function Vd(n,e){if(n===e)return 0;const t=wp(n),i=wp(e);if(t!==i)return Zt(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Zt(n.booleanValue,e.booleanValue);case 2:return function(r,s){const a=Ri(r.integerValue||r.doubleValue),d=Ri(s.integerValue||s.doubleValue);return a<d?-1:a>d?1:a===d?0:isNaN(a)?isNaN(d)?0:-1:1}(n,e);case 3:return yU(n.timestampValue,e.timestampValue);case 4:return yU(ew(n),ew(e));case 5:return Zt(n.stringValue,e.stringValue);case 6:return function(r,s){const a=Ep(r),d=Ep(s);return a.compareTo(d)}(n.bytesValue,e.bytesValue);case 7:return function(r,s){const a=r.split("/"),d=s.split("/");for(let h=0;h<a.length&&h<d.length;h++){const p=Zt(a[h],d[h]);if(0!==p)return p}return Zt(a.length,d.length)}(n.referenceValue,e.referenceValue);case 8:return function(r,s){const a=Zt(Ri(r.latitude),Ri(s.latitude));return 0!==a?a:Zt(Ri(r.longitude),Ri(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(r,s){const a=r.values||[],d=s.values||[];for(let h=0;h<a.length&&h<d.length;++h){const p=Vd(a[h],d[h]);if(p)return p}return Zt(a.length,d.length)}(n.arrayValue,e.arrayValue);case 10:return function(r,s){if(r===Bd.mapValue&&s===Bd.mapValue)return 0;if(r===Bd.mapValue)return 1;if(s===Bd.mapValue)return-1;const a=r.fields||{},d=Object.keys(a),h=s.fields||{},p=Object.keys(h);d.sort(),p.sort();for(let g=0;g<d.length&&g<p.length;++g){const v=Zt(d[g],p[g]);if(0!==v)return v;const w=Vd(a[d[g]],h[p[g]]);if(0!==w)return w}return Zt(d.length,p.length)}(n.mapValue,e.mapValue);default:throw bt()}}function yU(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Zt(n,e);const t=Fd(n),i=Fd(e),r=Zt(t.seconds,i.seconds);return 0!==r?r:Zt(t.nanos,i.nanos)}function Iy(n){return _O(n)}function _O(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=Fd(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Ep(n.bytesValue).toBase64():"referenceValue"in n?st.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(i){let r="[",s=!0;for(const a of i.values||[])s?s=!1:r+=",",r+=_O(a);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let s="{",a=!0;for(const d of r)a?a=!1:s+=",",s+=`${d}:${_O(i.fields[d])}`;return s+"}"}(n.mapValue):bt();var e}function Cp(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function yO(n){return!!n&&"integerValue"in n}function rw(n){return!!n&&"arrayValue"in n}function vU(n){return!!n&&"nullValue"in n}function bU(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function lA(n){return!!n&&"mapValue"in n}function sw(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return bp(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=sw(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=sw(n.arrayValue.values[t]);return e}return Object.assign({},n)}function EU(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function U5(n){return"nullValue"in n?aA:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Cp(Ld.empty(),st.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:bt()}function $5(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Cp(Ld.empty(),st.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Bd:bt()}function wU(n,e){const t=Vd(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function CU(n,e){const t=Vd(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class Lr{constructor(e){this.value=e}static empty(){return new Lr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!lA(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=sw(t)}setAll(e){let t=Mi.emptyPath(),i={},r=[];e.forEach((a,d)=>{if(!t.isImmediateParentOf(d)){const h=this.getFieldsMap(t);this.applyChanges(h,i,r),i={},r=[],t=d.popLast()}a?i[d.lastSegment()]=sw(a):r.push(d.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,i,r)}delete(e){const t=this.field(e.popLast());lA(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Fl(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];lA(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){bp(t,(r,s)=>e[r]=s);for(const r of i)delete e[r]}clone(){return new Lr(sw(this.value))}}function SU(n){const e=[];return bp(n.fields,(t,i)=>{const r=new Mi([t]);if(lA(i)){const s=SU(i.mapValue).fields;if(0===s.length)e.push(r);else for(const a of s)e.push(r.child(a))}else e.push(r)}),new uo(e)}class ii{constructor(e,t,i,r,s,a){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.data=s,this.documentState=a}static newInvalidDocument(e){return new ii(e,0,Bt.min(),Bt.min(),Lr.empty(),0)}static newFoundDocument(e,t,i){return new ii(e,1,t,Bt.min(),i,0)}static newNoDocument(e,t){return new ii(e,2,t,Bt.min(),Lr.empty(),0)}static newUnknownDocument(e,t){return new ii(e,3,t,Bt.min(),Lr.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Lr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Lr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Bt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof ii&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ii(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class H5{constructor(e,t=null,i=[],r=[],s=null,a=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=a,this.endAt=d,this.ht=null}}function IU(n,e=null,t=[],i=[],r=null,s=null,a=null){return new H5(n,e,t,i,r,s,a)}function Sp(n){const e=at(n);if(null===e.ht){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>{return(r=i).field.canonicalString()+r.op.toString()+Iy(r.value);var r}).join(","),t+="|ob:",t+=e.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),tw(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Iy(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Iy(i)).join(",")),e.ht=t}return e.ht}function ow(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<n.orderBy.length;r++)if(!Q5(n.orderBy[r],e.orderBy[r]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let r=0;r<n.filters.length;r++)if((t=n.filters[r]).op!==(i=e.filters[r]).op||!t.field.isEqual(i.field)||!Fl(t.value,i.value))return!1;var t,i;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!MU(n.startAt,e.startAt)&&MU(n.endAt,e.endAt)}function cA(n){return st.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function uA(n,e){return n.filters.filter(t=>t instanceof Br&&t.field.isEqual(e))}function TU(n,e,t){let i=aA,r=!0;for(const s of uA(n,e)){let a=aA,d=!0;switch(s.op){case"<":case"<=":a=U5(s.value);break;case"==":case"in":case">=":a=s.value;break;case">":a=s.value,d=!1;break;case"!=":case"not-in":a=aA}wU({value:i,inclusive:r},{value:a,inclusive:d})<0&&(i=a,r=d)}if(null!==t)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const a=t.position[s];wU({value:i,inclusive:r},{value:a,inclusive:t.inclusive})<0&&(i=a,r=t.inclusive);break}return{value:i,inclusive:r}}function DU(n,e,t){let i=Bd,r=!0;for(const s of uA(n,e)){let a=Bd,d=!0;switch(s.op){case">=":case">":a=$5(s.value),d=!1;break;case"==":case"in":case"<=":a=s.value;break;case"<":a=s.value,d=!1;break;case"!=":case"not-in":a=Bd}CU({value:i,inclusive:r},{value:a,inclusive:d})>0&&(i=a,r=d)}if(null!==t)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const a=t.position[s];CU({value:i,inclusive:r},{value:a,inclusive:t.inclusive})>0&&(i=a,r=t.inclusive);break}return{value:i,inclusive:r}}class Br extends class{}{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?"in"===t||"not-in"===t?this.lt(e,t,i):new j5(e,t,i):"array-contains"===t?new q5(e,i):"in"===t?new Y5(e,i):"not-in"===t?new Z5(e,i):"array-contains-any"===t?new K5(e,i):new Br(e,t,i)}static lt(e,t,i){return"in"===t?new G5(e,i):new W5(e,i)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.ft(Vd(t,this.value)):null!==t&&wp(this.value)===wp(t)&&this.ft(Vd(t,this.value))}ft(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return bt()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class j5 extends Br{constructor(e,t,i){super(e,t,i),this.key=st.fromName(i.referenceValue)}matches(e){const t=st.comparator(e.key,this.key);return this.ft(t)}}class G5 extends Br{constructor(e,t){super(e,"in",t),this.keys=AU(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class W5 extends Br{constructor(e,t){super(e,"not-in",t),this.keys=AU(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function AU(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(i=>st.fromName(i.referenceValue))}class q5 extends Br{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return rw(t)&&iw(t.arrayValue,this.value)}}class Y5 extends Br{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&iw(this.value.arrayValue,t)}}class Z5 extends Br{constructor(e,t){super(e,"not-in",t)}matches(e){if(iw(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!iw(this.value.arrayValue,t)}}class K5 extends Br{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!rw(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>iw(this.value.arrayValue,i))}}class Ud{constructor(e,t){this.position=e,this.inclusive=t}}class Ty{constructor(e,t="asc"){this.field=e,this.dir=t}}function Q5(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function xU(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){const s=e[r],a=n.position[r];if(i=s.field.isKeyField()?st.comparator(st.fromName(a.referenceValue),t.key):Vd(a,t.data.field(s.field)),"desc"===s.dir&&(i*=-1),0!==i)break}return i}function MU(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Fl(n.position[t],e.position[t]))return!1;return!0}class nu{constructor(e,t=null,i=[],r=[],s=null,a="F",d=null,h=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=a,this.startAt=d,this.endAt=h,this._t=null,this.wt=null}}function kU(n,e,t,i,r,s,a,d){return new nu(n,e,t,i,r,s,a,d)}function Dy(n){return new nu(n)}function RU(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function vO(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function bO(n){for(const e of n.filters)if(e.dt())return e.field;return null}function EO(n){return null!==n.collectionGroup}function Ay(n){const e=at(n);if(null===e._t){e._t=[];const t=bO(e),i=vO(e);if(null!==t&&null===i)t.isKeyField()||e._t.push(new Ty(t)),e._t.push(new Ty(Mi.keyField(),"asc"));else{let r=!1;for(const s of e.explicitOrderBy)e._t.push(s),s.field.isKeyField()&&(r=!0);if(!r){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e._t.push(new Ty(Mi.keyField(),s))}}}return e._t}function ys(n){const e=at(n);if(!e.wt)if("F"===e.limitType)e.wt=IU(e.path,e.collectionGroup,Ay(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const s of Ay(e))t.push(new Ty(s.field,"desc"===s.dir?"asc":"desc"));const i=e.endAt?new Ud(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Ud(e.startAt.position,e.startAt.inclusive):null;e.wt=IU(e.path,e.collectionGroup,t,e.filters,e.limit,i,r)}return e.wt}function dA(n,e,t){return new nu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function aw(n,e){return ow(ys(n),ys(e))&&n.limitType===e.limitType}function OU(n){return`${Sp(ys(n))}|lt:${n.limitType}`}function wO(n){return`Query(target=${function z5(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(i=t).field.canonicalString()} ${i.op} ${Iy(i.value)}`;var i}).join(", ")}]`),tw(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(i=t).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>Iy(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>Iy(t)).join(",")),`Target(${e})`}(ys(n))}; limitType=${n.limitType})`}function CO(n,e){return e.isFoundDocument()&&function(t,i){const r=i.key.path;return null!==t.collectionGroup?i.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(r):st.isDocumentKey(t.path)?t.path.isEqual(r):t.path.isImmediateParentOf(r)}(n,e)&&function(t,i){for(const r of t.explicitOrderBy)if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,e)&&function(t,i){for(const r of t.filters)if(!r.matches(i))return!1;return!0}(n,e)&&(i=e,!((t=n).startAt&&!function(r,s,a){const d=xU(r,s,a);return r.inclusive?d<=0:d<0}(t.startAt,Ay(t),i)||t.endAt&&!function(r,s,a){const d=xU(r,s,a);return r.inclusive?d>=0:d>0}(t.endAt,Ay(t),i)));var t,i}function PU(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function NU(n){return(e,t)=>{let i=!1;for(const r of Ay(n)){const s=X5(r,e,t);if(0!==s)return s;i=i||r.field.isKeyField()}return 0}}function X5(n,e,t){const i=n.field.isKeyField()?st.comparator(e.key,t.key):function(r,s,a){const d=s.data.field(r),h=a.data.field(r);return null!==d&&null!==h?Vd(d,h):bt()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return bt()}}function FU(n,e){if(n.gt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:nw(e)?"-0":e}}function LU(n){return{integerValue:""+n}}function BU(n,e){return _U(e)?LU(e):FU(n,e)}class hA{constructor(){this._=void 0}}function J5(n,e,t){return n instanceof xy?function(i,r){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&(s.fields.__previous_value__=r),{mapValue:s}}(t,e):n instanceof Ip?UU(n,e):n instanceof Tp?$U(n,e):function(i,r){const s=VU(i,r),a=HU(s)+HU(i.yt);return yO(s)&&yO(i.yt)?LU(a):FU(i.It,a)}(n,e)}function e8(n,e,t){return n instanceof Ip?UU(n,e):n instanceof Tp?$U(n,e):t}function VU(n,e){return n instanceof My?yO(t=e)||(i=t)&&"doubleValue"in i?e:{integerValue:0}:null;var i,t}class xy extends hA{}class Ip extends hA{constructor(e){super(),this.elements=e}}function UU(n,e){const t=zU(e);for(const i of n.elements)t.some(r=>Fl(r,i))||t.push(i);return{arrayValue:{values:t}}}class Tp extends hA{constructor(e){super(),this.elements=e}}function $U(n,e){let t=zU(e);for(const i of n.elements)t=t.filter(r=>!Fl(r,i));return{arrayValue:{values:t}}}class My extends hA{constructor(e,t){super(),this.It=e,this.yt=t}}function HU(n){return Ri(n.integerValue||n.doubleValue)}function zU(n){return rw(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class lw{constructor(e,t){this.field=e,this.transform=t}}class n8{constructor(e,t){this.version=e,this.transformResults=t}}class gi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new gi}static exists(e){return new gi(void 0,e)}static updateTime(e){return new gi(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function fA(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class pA{}function jU(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Ry(n.key,gi.none()):new ky(n.key,n.data,gi.none());{const t=n.data,i=Lr.empty();let r=new zn(Mi.comparator);for(let s of e.fields)if(!r.has(s)){let a=t.field(s);null===a&&s.length>1&&(s=s.popLast(),a=t.field(s)),null===a?i.delete(s):i.set(s,a),r=r.add(s)}return new iu(n.key,i,new uo(r.toArray()),gi.none())}}function i8(n,e,t){n instanceof ky?function(i,r,s){const a=i.value.clone(),d=qU(i.fieldTransforms,r,s.transformResults);a.setAll(d),r.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):n instanceof iu?function(i,r,s){if(!fA(i.precondition,r))return void r.convertToUnknownDocument(s.version);const a=qU(i.fieldTransforms,r,s.transformResults),d=r.data;d.setAll(WU(i)),d.setAll(a),r.convertToFoundDocument(s.version,d).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function cw(n,e,t,i){return n instanceof ky?function(r,s,a,d){if(!fA(r.precondition,s))return a;const h=r.value.clone(),p=YU(r.fieldTransforms,d,s);return h.setAll(p),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),null}(n,e,t,i):n instanceof iu?function(r,s,a,d){if(!fA(r.precondition,s))return a;const h=YU(r.fieldTransforms,d,s),p=s.data;return p.setAll(WU(r)),p.setAll(h),s.convertToFoundDocument(s.version,p).setHasLocalMutations(),null===a?null:a.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(g=>g.field))}(n,e,t,i):(a=t,fA(n.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a);var s,a}function r8(n,e){let t=null;for(const i of n.fieldTransforms){const r=e.data.field(i.field),s=VU(i.transform,r||null);null!=s&&(null===t&&(t=Lr.empty()),t.set(i.field,s))}return t||null}function GU(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===i||t&&i&&Cy(t,i,(r,s)=>function t8(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(t=n.transform)instanceof Ip&&i instanceof Ip||t instanceof Tp&&i instanceof Tp?Cy(t.elements,i.elements,Fl):t instanceof My&&i instanceof My?Fl(t.yt,i.yt):t instanceof xy&&i instanceof xy);var t,i}(r,s))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,i}class ky extends pA{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class iu extends pA{constructor(e,t,i,r,s=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function WU(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function qU(n,e,t){const i=new Map;Lt(n.length===t.length);for(let r=0;r<t.length;r++){const s=n[r],a=s.transform,d=e.data.field(s.field);i.set(s.field,e8(a,d,t[r]))}return i}function YU(n,e,t){const i=new Map;for(const r of n){const s=r.transform,a=t.data.field(r.field);i.set(r.field,J5(s,a,e))}return i}class Ry extends pA{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class SO extends pA{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class s8{constructor(e){this.count=e}}var Qi,wn;function ZU(n){switch(n){default:return bt();case be.CANCELLED:case be.UNKNOWN:case be.DEADLINE_EXCEEDED:case be.RESOURCE_EXHAUSTED:case be.INTERNAL:case be.UNAVAILABLE:case be.UNAUTHENTICATED:return!1;case be.INVALID_ARGUMENT:case be.NOT_FOUND:case be.ALREADY_EXISTS:case be.PERMISSION_DENIED:case be.FAILED_PRECONDITION:case be.ABORTED:case be.OUT_OF_RANGE:case be.UNIMPLEMENTED:case be.DATA_LOSS:return!0}}function KU(n){if(void 0===n)return Vi("GRPC error has no .code"),be.UNKNOWN;switch(n){case Qi.OK:return be.OK;case Qi.CANCELLED:return be.CANCELLED;case Qi.UNKNOWN:return be.UNKNOWN;case Qi.DEADLINE_EXCEEDED:return be.DEADLINE_EXCEEDED;case Qi.RESOURCE_EXHAUSTED:return be.RESOURCE_EXHAUSTED;case Qi.INTERNAL:return be.INTERNAL;case Qi.UNAVAILABLE:return be.UNAVAILABLE;case Qi.UNAUTHENTICATED:return be.UNAUTHENTICATED;case Qi.INVALID_ARGUMENT:return be.INVALID_ARGUMENT;case Qi.NOT_FOUND:return be.NOT_FOUND;case Qi.ALREADY_EXISTS:return be.ALREADY_EXISTS;case Qi.PERMISSION_DENIED:return be.PERMISSION_DENIED;case Qi.FAILED_PRECONDITION:return be.FAILED_PRECONDITION;case Qi.ABORTED:return be.ABORTED;case Qi.OUT_OF_RANGE:return be.OUT_OF_RANGE;case Qi.UNIMPLEMENTED:return be.UNIMPLEMENTED;case Qi.DATA_LOSS:return be.DATA_LOSS;default:return bt()}}(wn=Qi||(Qi={}))[wn.OK=0]="OK",wn[wn.CANCELLED=1]="CANCELLED",wn[wn.UNKNOWN=2]="UNKNOWN",wn[wn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",wn[wn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",wn[wn.NOT_FOUND=5]="NOT_FOUND",wn[wn.ALREADY_EXISTS=6]="ALREADY_EXISTS",wn[wn.PERMISSION_DENIED=7]="PERMISSION_DENIED",wn[wn.UNAUTHENTICATED=16]="UNAUTHENTICATED",wn[wn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",wn[wn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",wn[wn.ABORTED=10]="ABORTED",wn[wn.OUT_OF_RANGE=11]="OUT_OF_RANGE",wn[wn.UNIMPLEMENTED=12]="UNIMPLEMENTED",wn[wn.INTERNAL=13]="INTERNAL",wn[wn.UNAVAILABLE=14]="UNAVAILABLE",wn[wn.DATA_LOSS=15]="DATA_LOSS";class $d{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i)for(const[r,s]of i)if(this.equalsFn(r,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const i=this.mapKeyFn(e),r=this.inner[i];if(void 0===r)return this.inner[i]=[[e,t]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return 1===i.length?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){bp(this.inner,(t,i)=>{for(const[r,s]of i)e(r,s)})}isEmpty(){return pU(this.inner)}size(){return this.innerSize}}const o8=new ki(st.comparator);function Ws(){return o8}const QU=new ki(st.comparator);function uw(...n){let e=QU;for(const t of n)e=e.insert(t.key,t);return e}function XU(n){let e=QU;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function Ll(){return dw()}function JU(){return dw()}function dw(){return new $d(n=>n.toString(),(n,e)=>n.isEqual(e))}const a8=new ki(st.comparator),l8=new zn(st.comparator);function rn(...n){let e=l8;for(const t of n)e=e.add(t);return e}const c8=new zn(Zt);function mA(){return c8}class hw{constructor(e,t,i,r,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const r=new Map;return r.set(e,fw.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new hw(Bt.min(),r,mA(),Ws(),rn())}}class fw{constructor(e,t,i,r,s){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new fw(i,t,rn(),rn(),rn())}}class gA{constructor(e,t,i,r){this.Tt=e,this.removedTargetIds=t,this.key=i,this.Et=r}}class e${constructor(e,t){this.targetId=e,this.At=t}}class t${constructor(e,t,i=cr.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}}class n${constructor(){this.Rt=0,this.bt=r$(),this.Pt=cr.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return 0!==this.Rt}get Dt(){return this.Vt}Ct(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}xt(){let e=rn(),t=rn(),i=rn();return this.bt.forEach((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:bt()}}),new fw(this.Pt,this.vt,e,t,i)}Nt(){this.Vt=!1,this.bt=r$()}kt(e,t){this.Vt=!0,this.bt=this.bt.insert(e,t)}Ot(e){this.Vt=!0,this.bt=this.bt.remove(e)}Mt(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class u8{constructor(e){this.Bt=e,this.Lt=new Map,this.Ut=Ws(),this.qt=i$(),this.Kt=new zn(Zt)}Gt(e){for(const t of e.Tt)e.Et&&e.Et.isFoundDocument()?this.Qt(t,e.Et):this.jt(t,e.key,e.Et);for(const t of e.removedTargetIds)this.jt(t,e.key,e.Et)}Wt(e){this.forEachTarget(e,t=>{const i=this.zt(t);switch(e.state){case 0:this.Ht(t)&&i.Ct(e.resumeToken);break;case 1:i.Ft(),i.St||i.Nt(),i.Ct(e.resumeToken);break;case 2:i.Ft(),i.St||this.removeTarget(t);break;case 3:this.Ht(t)&&(i.$t(),i.Ct(e.resumeToken));break;case 4:this.Ht(t)&&(this.Jt(t),i.Ct(e.resumeToken));break;default:bt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Lt.forEach((i,r)=>{this.Ht(r)&&t(r)})}Yt(e){const t=e.targetId,i=e.At.count,r=this.Xt(t);if(r){const s=r.target;if(cA(s))if(0===i){const a=new st(s.path);this.jt(t,a,ii.newNoDocument(a,Bt.min()))}else Lt(1===i);else this.Zt(t)!==i&&(this.Jt(t),this.Kt=this.Kt.add(t))}}te(e){const t=new Map;this.Lt.forEach((s,a)=>{const d=this.Xt(a);if(d){if(s.current&&cA(d.target)){const h=new st(d.target.path);null!==this.Ut.get(h)||this.ee(a,h)||this.jt(a,h,ii.newNoDocument(h,e))}s.Dt&&(t.set(a,s.xt()),s.Nt())}});let i=rn();this.qt.forEach((s,a)=>{let d=!0;a.forEachWhile(h=>{const p=this.Xt(h);return!p||2===p.purpose||(d=!1,!1)}),d&&(i=i.add(s))}),this.Ut.forEach((s,a)=>a.setReadTime(e));const r=new hw(e,t,this.Kt,this.Ut,i);return this.Ut=Ws(),this.qt=i$(),this.Kt=new zn(Zt),r}Qt(e,t){if(!this.Ht(e))return;const i=this.ee(e,t.key)?2:0;this.zt(e).kt(t.key,i),this.Ut=this.Ut.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ne(t.key).add(e))}jt(e,t,i){if(!this.Ht(e))return;const r=this.zt(e);this.ee(e,t)?r.kt(t,1):r.Ot(t),this.qt=this.qt.insert(t,this.ne(t).delete(e)),i&&(this.Ut=this.Ut.insert(t,i))}removeTarget(e){this.Lt.delete(e)}Zt(e){const t=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Mt(e){this.zt(e).Mt()}zt(e){let t=this.Lt.get(e);return t||(t=new n$,this.Lt.set(e,t)),t}ne(e){let t=this.qt.get(e);return t||(t=new zn(Zt),this.qt=this.qt.insert(e,t)),t}Ht(e){const t=null!==this.Xt(e);return t||Ke("WatchChangeAggregator","Detected inactive target",e),t}Xt(e){const t=this.Lt.get(e);return t&&t.St?null:this.Bt.se(e)}Jt(e){this.Lt.set(e,new n$),this.Bt.getRemoteKeysForTarget(e).forEach(t=>{this.jt(e,t,null)})}ee(e,t){return this.Bt.getRemoteKeysForTarget(e).has(t)}}function i$(){return new ki(st.comparator)}function r$(){return new ki(st.comparator)}const d8={asc:"ASCENDING",desc:"DESCENDING"},h8={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class f8{constructor(e,t){this.databaseId=e,this.gt=t}}function pw(n,e){return n.gt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function s$(n,e){return n.gt?e.toBase64():e.toUint8Array()}function p8(n,e){return pw(n,e.toTimestamp())}function vr(n){return Lt(!!n),Bt.fromTimestamp(function(e){const t=Fd(e);return new mi(t.seconds,t.nanos)}(n))}function IO(n,e){return(t=n,new En(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function o$(n){const e=En.fromString(n);return Lt(p$(e)),e}function mw(n,e){return IO(n.databaseId,e.path)}function Bl(n,e){const t=o$(e);if(t.get(1)!==n.databaseId.projectId)throw new Ue(be.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ue(be.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new st(l$(t))}function TO(n,e){return IO(n.databaseId,e)}function a$(n){const e=o$(n);return 4===e.length?En.emptyPath():l$(e)}function gw(n){return new En(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function l$(n){return Lt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function c$(n,e,t){return{name:mw(n,e),fields:t.value.mapValue.fields}}function u$(n,e,t){const i=Bl(n,e.name),r=vr(e.updateTime),s=new Lr({mapValue:{fields:e.fields}}),a=ii.newFoundDocument(i,r,s);return t&&a.setHasCommittedMutations(),t?a.setHasCommittedMutations():a}function _w(n,e){let t;if(e instanceof ky)t={update:c$(n,e.key,e.value)};else if(e instanceof Ry)t={delete:mw(n,e.key)};else if(e instanceof iu)t={update:c$(n,e.key,e.data),updateMask:C8(e.fieldMask)};else{if(!(e instanceof SO))return bt();t={verify:mw(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(r,s){const a=s.transform;if(a instanceof xy)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Ip)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Tp)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof My)return{fieldPath:s.field.canonicalString(),increment:a.yt};throw bt()}(0,i))),e.precondition.isNone||(t.currentDocument=void 0!==(r=e.precondition).updateTime?{updateTime:p8(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:bt()),t;var r}function DO(n,e){const t=e.currentDocument?void 0!==(r=e.currentDocument).updateTime?gi.updateTime(vr(r.updateTime)):void 0!==r.exists?gi.exists(r.exists):gi.none():gi.none(),i=e.updateTransforms?e.updateTransforms.map(r=>function(s,a){let d=null;"setToServerValue"in a?(Lt("REQUEST_TIME"===a.setToServerValue),d=new xy):"appendMissingElements"in a?d=new Ip(a.appendMissingElements.values||[]):"removeAllFromArray"in a?d=new Tp(a.removeAllFromArray.values||[]):"increment"in a?d=new My(s,a.increment):bt();const h=Mi.fromServerFormat(a.fieldPath);return new lw(h,d)}(n,r)):[];var r;if(e.update){const r=Bl(n,e.update.name),s=new Lr({mapValue:{fields:e.update.fields}});if(e.updateMask){const a=new uo((e.updateMask.fieldPaths||[]).map(p=>Mi.fromServerFormat(p)));return new iu(r,s,a,t,i)}return new ky(r,s,t,i)}if(e.delete){const r=Bl(n,e.delete);return new Ry(r,t)}if(e.verify){const r=Bl(n,e.verify);return new SO(r,t)}return bt()}function d$(n,e){return{documents:[TO(n,e.path)]}}function AO(n,e){const t={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(t.parent=TO(n,i),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=TO(n,i.popLast()),t.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(h){if(0===h.length)return;const p=h.map(g=>function(v){if("=="===v.op){if(bU(v.value))return{unaryFilter:{field:Oy(v.field),op:"IS_NAN"}};if(vU(v.value))return{unaryFilter:{field:Oy(v.field),op:"IS_NULL"}}}else if("!="===v.op){if(bU(v.value))return{unaryFilter:{field:Oy(v.field),op:"IS_NOT_NAN"}};if(vU(v.value))return{unaryFilter:{field:Oy(v.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Oy(v.field),op:b8(v.op),value:v.value}}}(g));return 1===p.length?p[0]:{compositeFilter:{op:"AND",filters:p}}}(e.filters);r&&(t.structuredQuery.where=r);const s=function(h){if(0!==h.length)return h.map(p=>{return{field:Oy((g=p).field),direction:v8(g.dir)};var g})}(e.orderBy);s&&(t.structuredQuery.orderBy=s);const a=(p=e.limit,n.gt||tw(p)?p:{value:p});var p,d,h;return null!==a&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt={before:(d=e.startAt).inclusive,values:d.position}),e.endAt&&(t.structuredQuery.endAt={before:!(h=e.endAt).inclusive,values:h.position}),t}function h$(n){let e=a$(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let r=null;if(i>0){Lt(1===i);const g=t.from[0];g.allDescendants?r=g.collectionId:e=e.child(g.collectionId)}let s=[];t.where&&(s=f$(t.where));let a=[];t.orderBy&&(a=t.orderBy.map(g=>{return new Ty(Py((v=g).field),function(w){switch(w){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction));var v}));let d=null;t.limit&&(d=function(g){let v;return v="object"==typeof g?g.value:g,tw(v)?null:v}(t.limit));let h=null;var g;t.startAt&&(h=new Ud((g=t.startAt).values||[],!!g.before));let p=null;return t.endAt&&(p=function(g){return new Ud(g.values||[],!g.before)}(t.endAt)),kU(e,r,a,s,d,"F",h,p)}function f$(n){return n?void 0!==n.unaryFilter?[w8(n)]:void 0!==n.fieldFilter?[E8(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>f$(e)).reduce((e,t)=>e.concat(t)):bt():[]}function v8(n){return d8[n]}function b8(n){return h8[n]}function Oy(n){return{fieldPath:n.canonicalString()}}function Py(n){return Mi.fromServerFormat(n.fieldPath)}function E8(n){return Br.create(Py(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return bt()}}(n.fieldFilter.op),n.fieldFilter.value)}function w8(n){switch(n.unaryFilter.op){case"IS_NAN":const e=Py(n.unaryFilter.field);return Br.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=Py(n.unaryFilter.field);return Br.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Py(n.unaryFilter.field);return Br.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=Py(n.unaryFilter.field);return Br.create(r,"!=",{nullValue:"NULL_VALUE"});default:return bt()}}function C8(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function p$(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function vs(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=m$(e)),e=S8(n.get(t),e);return m$(e)}function S8(n,e){let t=e;const i=n.length;for(let r=0;r<i;r++){const s=n.charAt(r);switch(s){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=s}}return t}function m$(n){return n+"\x01\x01"}function Vl(n){const e=n.length;if(Lt(e>=2),2===e)return Lt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),En.emptyPath();const t=e-2,i=[];let r="";for(let s=0;s<e;){const a=n.indexOf("\x01",s);switch((a<0||a>t)&&bt(),n.charAt(a+1)){case"\x01":const d=n.substring(s,a);let h;0===r.length?h=d:(r+=d,h=r,r=""),i.push(h);break;case"\x10":r+=n.substring(s,a),r+="\0";break;case"\x11":r+=n.substring(s,a+1);break;default:bt()}s=a+2}return new En(i)}const g$=["userId","batchId"];function _A(n,e){return[n,vs(e)]}function _$(n,e,t){return[n,vs(e),t]}const I8={},T8=["prefixPath","collectionGroup","readTime","documentId"],D8=["prefixPath","collectionGroup","documentId"],A8=["collectionGroup","readTime","prefixPath","documentId"],x8=["canonicalId","targetId"],M8=["targetId","path"],k8=["path","targetId"],R8=["collectionId","parent"],O8=["indexId","uid"],P8=["uid","sequenceNumber"],N8=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],F8=["indexId","uid","orderedDocumentKey"],L8=["userId","collectionPath","documentId"],B8=["userId","collectionPath","largestBatchId"],V8=["userId","collectionGroup","largestBatchId"],y$=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],U8=[...y$,"documentOverlays"],v$=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],b$=v$,$8=[...b$,"indexConfiguration","indexState","indexEntries"];class xO extends dU{constructor(e,t){super(),this.ie=e,this.currentSequenceNumber=t}}function br(n,e){const t=at(n);return za.M(t.ie,e)}class MO{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(e.key)&&i8(s,e,i[r])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=cw(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=cw(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=JU();return this.mutations.forEach(r=>{const s=e.get(r.key),a=s.overlayedDocument;let d=this.applyToLocalView(a,s.mutatedFields);d=t.has(r.key)?null:d;const h=jU(a,d);null!==h&&i.set(r.key,h),a.isValidDocument()||a.convertToNoDocument(Bt.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),rn())}isEqual(e){return this.batchId===e.batchId&&Cy(this.mutations,e.mutations,(t,i)=>GU(t,i))&&Cy(this.baseMutations,e.baseMutations,(t,i)=>GU(t,i))}}class kO{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){Lt(e.mutations.length===i.length);let r=a8;const s=e.mutations;for(let a=0;a<s.length;a++)r=r.insert(s[a].key,i[a].version);return new kO(e,t,i,r)}}class RO{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Hd{constructor(e,t,i,r,s=Bt.min(),a=Bt.min(),d=cr.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=d}withSequenceNumber(e){return new Hd(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Hd(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Hd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class E${constructor(e){this.re=e}}function w$(n,e){const t=e.key,i={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:yA(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())i.document={name:mw(r=n.re,(s=e).key),fields:s.data.value.mapValue.fields,updateTime:pw(r,s.version.toTimestamp())};else if(e.isNoDocument())i.noDocument={path:t.path.toArray(),readTime:Dp(e.version)};else{if(!e.isUnknownDocument())return bt();i.unknownDocument={path:t.path.toArray(),version:Dp(e.version)}}var r,s;return i}function yA(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Dp(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Ap(n){const e=new mi(n.seconds,n.nanoseconds);return Bt.fromTimestamp(e)}function xp(n,e){const t=(e.baseMutations||[]).map(s=>DO(n.re,s));for(let s=0;s<e.mutations.length-1;++s){const a=e.mutations[s];s+1<e.mutations.length&&void 0!==e.mutations[s+1].transform&&(a.updateTransforms=e.mutations[s+1].transform.fieldTransforms,e.mutations.splice(s+1,1),++s)}const i=e.mutations.map(s=>DO(n.re,s)),r=mi.fromMillis(e.localWriteTimeMs);return new MO(e.batchId,r,t,i)}function yw(n){const e=Ap(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Ap(n.lastLimboFreeSnapshotVersion):Bt.min();let i;var r;return void 0!==n.query.documents?(Lt(1===(r=n.query).documents.length),i=ys(Dy(a$(r.documents[0])))):i=ys(h$(n.query)),new Hd(i,n.targetId,0,n.lastListenSequenceNumber,e,t,cr.fromBase64String(n.resumeToken))}function C$(n,e){const t=Dp(e.snapshotVersion),i=Dp(e.lastLimboFreeSnapshotVersion);let r;r=cA(e.target)?d$(n.re,e.target):AO(n.re,e.target);const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Sp(e.target),readTime:t,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function OO(n){const e=h$({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?dA(e,e.limit,"L"):e}function PO(n,e){return new RO(e.largestBatchId,DO(n.re,e.overlayMutation))}function S$(n,e){const t=e.path.lastSegment();return[n,vs(e.path.popLast()),t]}function I$(n,e,t,i){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:Dp(i.readTime),documentKey:vs(i.documentKey.path),largestBatchId:i.largestBatchId}}class z8{getBundleMetadata(e,t){return T$(e).get(t).next(i=>{if(i)return{id:(r=i).bundleId,createTime:Ap(r.createTime),version:r.version};var r})}saveBundleMetadata(e,t){return T$(e).put({bundleId:(i=t).id,createTime:Dp(vr(i.createTime)),version:i.version});var i}getNamedQuery(e,t){return D$(e).get(t).next(i=>{if(i)return{name:(r=i).name,query:OO(r.bundledQuery),readTime:Ap(r.readTime)};var r})}saveNamedQuery(e,t){return D$(e).put({name:(i=t).name,readTime:Dp(vr(i.readTime)),bundledQuery:i.bundledQuery});var i}}function T$(n){return br(n,"bundles")}function D$(n){return br(n,"namedQueries")}class vA{constructor(e,t){this.It=e,this.userId=t}static oe(e,t){return new vA(e,t.uid||"")}getOverlay(e,t){return vw(e).get(S$(this.userId,t)).next(i=>i?PO(this.It,i):null)}getOverlays(e,t){const i=Ll();return pe.forEach(t,r=>this.getOverlay(e,r).next(s=>{null!==s&&i.set(r,s)})).next(()=>i)}saveOverlays(e,t,i){const r=[];return i.forEach((s,a)=>{const d=new RO(t,a);r.push(this.ue(e,d))}),pe.waitFor(r)}removeOverlaysForBatchId(e,t,i){const r=new Set;t.forEach(a=>r.add(vs(a.getCollectionPath())));const s=[];return r.forEach(a=>{const d=IDBKeyRange.bound([this.userId,a,i],[this.userId,a,i+1],!1,!0);s.push(vw(e).Y("collectionPathOverlayIndex",d))}),pe.waitFor(s)}getOverlaysForCollection(e,t,i){const r=Ll(),s=vs(t),a=IDBKeyRange.bound([this.userId,s,i],[this.userId,s,Number.POSITIVE_INFINITY],!0);return vw(e).W("collectionPathOverlayIndex",a).next(d=>{for(const h of d){const p=PO(this.It,h);r.set(p.getKey(),p)}return r})}getOverlaysForCollectionGroup(e,t,i,r){const s=Ll();let a;const d=IDBKeyRange.bound([this.userId,t,i],[this.userId,t,Number.POSITIVE_INFINITY],!0);return vw(e).Z({index:"collectionGroupOverlayIndex",range:d},(h,p,g)=>{const v=PO(this.It,p);s.size()<r||v.largestBatchId===a?(s.set(v.getKey(),v),a=v.largestBatchId):g.done()}).next(()=>s)}ue(e,t){return vw(e).put(function(i,r,s){const[a,d,h]=S$(r,s.mutation.key);return{userId:r,collectionPath:d,documentId:h,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:_w(i.re,s.mutation)}}(this.It,this.userId,t))}}function vw(n){return br(n,"documentOverlays")}class Mp{constructor(){}ce(e,t){this.ae(e,t),t.he()}ae(e,t){if("nullValue"in e)this.le(t,5);else if("booleanValue"in e)this.le(t,10),t.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(t,15),t.fe(Ri(e.integerValue));else if("doubleValue"in e){const i=Ri(e.doubleValue);isNaN(i)?this.le(t,13):(this.le(t,15),nw(i)?t.fe(0):t.fe(i))}else if("timestampValue"in e){const i=e.timestampValue;this.le(t,20),"string"==typeof i?t.de(i):(t.de(`${i.seconds||""}`),t.fe(i.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,t),this.we(t);else if("bytesValue"in e)this.le(t,30),t.me(Ep(e.bytesValue)),this.we(t);else if("referenceValue"in e)this.ge(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.le(t,45),t.fe(i.latitude||0),t.fe(i.longitude||0)}else"mapValue"in e?EU(e)?this.le(t,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,t),this.we(t)):"arrayValue"in e?(this.pe(e.arrayValue,t),this.we(t)):bt()}_e(e,t){this.le(t,25),this.Ie(e,t)}Ie(e,t){t.de(e)}ye(e,t){const i=e.fields||{};this.le(t,55);for(const r of Object.keys(i))this._e(r,t),this.ae(i[r],t)}pe(e,t){const i=e.values||[];this.le(t,50);for(const r of i)this.ae(r,t)}ge(e,t){this.le(t,37),st.fromName(e).path.forEach(i=>{this.le(t,60),this.Ie(i,t)})}le(e,t){e.fe(t)}we(e){e.fe(2)}}function j8(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function A$(n){const e=64-function(t){let i=0;for(let r=0;r<8;++r){const s=j8(255&t[r]);if(i+=s,8!==s)break}return i}(n);return Math.ceil(e/8)}Mp.Te=new Mp;class G8{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ee(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Ae(i.value),i=t.next();this.Re()}be(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Pe(i.value),i=t.next();this.ve()}Ve(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Ae(i);else if(i<2048)this.Ae(960|i>>>6),this.Ae(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Ae(480|i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i);else{const r=t.codePointAt(0);this.Ae(240|r>>>18),this.Ae(128|63&r>>>12),this.Ae(128|63&r>>>6),this.Ae(128|63&r)}}this.Re()}Se(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Pe(i);else if(i<2048)this.Pe(960|i>>>6),this.Pe(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Pe(480|i>>>12),this.Pe(128|63&i>>>6),this.Pe(128|63&i);else{const r=t.codePointAt(0);this.Pe(240|r>>>18),this.Pe(128|63&r>>>12),this.Pe(128|63&r>>>6),this.Pe(128|63&r)}}this.ve()}De(e){const t=this.Ce(e),i=A$(t);this.xe(1+i),this.buffer[this.position++]=255&i;for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=255&t[r]}Ne(e){const t=this.Ce(e),i=A$(t);this.xe(1+i),this.buffer[this.position++]=~(255&i);for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}ke(){this.Oe(255),this.Oe(255)}Me(){this.Fe(255),this.Fe(255)}reset(){this.position=0}seed(e){this.xe(e.length),this.buffer.set(e,this.position),this.position+=e.length}$e(){return this.buffer.slice(0,this.position)}Ce(e){const t=function(r){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,r,!1),new Uint8Array(s.buffer)}(e),i=0!=(128&t[0]);t[0]^=i?255:128;for(let r=1;r<t.length;++r)t[r]^=i?255:0;return t}Ae(e){const t=255&e;0===t?(this.Oe(0),this.Oe(255)):255===t?(this.Oe(255),this.Oe(0)):this.Oe(t)}Pe(e){const t=255&e;0===t?(this.Fe(0),this.Fe(255)):255===t?(this.Fe(255),this.Fe(0)):this.Fe(e)}Re(){this.Oe(0),this.Oe(1)}ve(){this.Fe(0),this.Fe(1)}Oe(e){this.xe(1),this.buffer[this.position++]=e}Fe(e){this.xe(1),this.buffer[this.position++]=~e}xe(e){const t=e+this.position;if(t<=this.buffer.length)return;let i=2*this.buffer.length;i<t&&(i=t);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class W8{constructor(e){this.Be=e}me(e){this.Be.Ee(e)}de(e){this.Be.Ve(e)}fe(e){this.Be.De(e)}he(){this.Be.ke()}}class q8{constructor(e){this.Be=e}me(e){this.Be.be(e)}de(e){this.Be.Se(e)}fe(e){this.Be.Ne(e)}he(){this.Be.Me()}}class bw{constructor(){this.Be=new G8,this.Le=new W8(this.Be),this.Ue=new q8(this.Be)}seed(e){this.Be.seed(e)}qe(e){return 0===e?this.Le:this.Ue}$e(){return this.Be.$e()}reset(){this.Be.reset()}}class kp{constructor(e,t,i,r){this.indexId=e,this.documentKey=t,this.arrayValue=i,this.directionalValue=r}Ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,i=new Uint8Array(t);return i.set(this.directionalValue,0),t!==e?i.set([0],this.directionalValue.length):++i[i.length-1],new kp(this.indexId,this.documentKey,this.arrayValue,i)}}function Rp(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=x$(n.arrayValue,e.arrayValue),0!==t?t:(t=x$(n.directionalValue,e.directionalValue),0!==t?t:st.comparator(n.documentKey,e.documentKey)))}function x$(n,e){for(let t=0;t<n.length&&t<e.length;++t){const i=n[t]-e[t];if(0!==i)return i}return n.length-e.length}class Y8{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ge=e.orderBy,this.Qe=[];for(const t of e.filters){const i=t;i.dt()?this.je=i:this.Qe.push(i)}}We(e){const t=hO(e);if(void 0!==t&&!this.ze(t))return!1;const i=yp(e);let r=0,s=0;for(;r<i.length&&this.ze(i[r]);++r);if(r===i.length)return!0;if(void 0!==this.je){const a=i[r];if(!this.He(this.je,a)||!this.Je(this.Ge[s++],a))return!1;++r}for(;r<i.length;++r){const a=i[r];if(s>=this.Ge.length||!this.Je(this.Ge[s++],a))return!1}return!0}ze(e){for(const t of this.Qe)if(this.He(t,e))return!0;return!1}He(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Je(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class Z8{constructor(){this.Ye=new NO}addToCollectionParentIndex(e,t){return this.Ye.add(t),pe.resolve()}getCollectionParents(e,t){return pe.resolve(this.Ye.getEntries(t))}addFieldIndex(e,t){return pe.resolve()}deleteFieldIndex(e,t){return pe.resolve()}getDocumentsMatchingTarget(e,t){return pe.resolve(null)}getIndexType(e,t){return pe.resolve(0)}getFieldIndexes(e,t){return pe.resolve([])}getNextCollectionGroupToUpdate(e){return pe.resolve(null)}getMinOffset(e,t){return pe.resolve(co.min())}getMinOffsetFromCollectionGroup(e,t){return pe.resolve(co.min())}updateCollectionGroup(e,t,i){return pe.resolve()}updateIndexEntries(e,t){return pe.resolve()}}class NO{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new zn(En.comparator),s=!r.has(i);return this.index[t]=r.add(i),s}has(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new zn(En.comparator)).toArray()}}const bA=new Uint8Array(0);class K8{constructor(e,t){this.user=e,this.databaseId=t,this.Xe=new NO,this.Ze=new $d(i=>Sp(i),(i,r)=>ow(i,r)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Xe.has(t)){const i=t.lastSegment(),r=t.popLast();e.addOnCommittedListener(()=>{this.Xe.add(t)});const s={collectionId:i,parent:vs(r)};return M$(e).put(s)}return pe.resolve()}getCollectionParents(e,t){const i=[],r=IDBKeyRange.bound([t,""],[aU(t),""],!1,!0);return M$(e).W(r).next(s=>{for(const a of s){if(a.collectionId!==t)break;i.push(Vl(a.parent))}return i})}addFieldIndex(e,t){const i=EA(e),r={indexId:(a=t).indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(d=>[d.fieldPath.canonicalString(),d.kind])};var a;delete r.indexId;const s=i.add(r);if(t.indexState){const a=ww(e);return s.next(d=>{a.put(I$(d,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return s.next()}deleteFieldIndex(e,t){const i=EA(e),r=ww(e),s=Ew(e);return i.delete(t.indexId).next(()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const i=Ew(e);let r=!0;const s=new Map;return pe.forEach(this.tn(t),a=>this.en(e,a).next(d=>{r&&(r=!!d),s.set(a,d)})).next(()=>{if(r){let a=rn();const d=[];return pe.forEach(s,(h,p)=>{var g;Ke("IndexedDbIndexManager",`Using index ${g=h,`id=${g.indexId}|cg=${g.collectionGroup}|f=${g.fields.map(U=>`${U.fieldPath}:${U.kind}`).join(",")}`} to execute ${Sp(t)}`);const v=function(U,te){const oe=hO(te);if(void 0===oe)return null;for(const ue of uA(U,oe.fieldPath))switch(ue.op){case"array-contains-any":return ue.value.arrayValue.values||[];case"array-contains":return[ue.value]}return null}(p,h),w=function(U,te){const oe=new Map;for(const ue of yp(te))for(const ye of uA(U,ue.fieldPath))switch(ye.op){case"==":case"in":oe.set(ue.fieldPath.canonicalString(),ye.value);break;case"not-in":case"!=":return oe.set(ue.fieldPath.canonicalString(),ye.value),Array.from(oe.values())}return null}(p,h),D=function(U,te){const oe=[];let ue=!0;for(const ye of yp(te)){const ze=0===ye.kind?TU(U,ye.fieldPath,U.startAt):DU(U,ye.fieldPath,U.startAt);oe.push(ze.value),ue&&(ue=ze.inclusive)}return new Ud(oe,ue)}(p,h),A=function(U,te){const oe=[];let ue=!0;for(const ye of yp(te)){const ze=0===ye.kind?DU(U,ye.fieldPath,U.endAt):TU(U,ye.fieldPath,U.endAt);oe.push(ze.value),ue&&(ue=ze.inclusive)}return new Ud(oe,ue)}(p,h),x=this.nn(h,p,D),k=this.nn(h,p,A),F=this.sn(h,p,w),L=this.rn(h.indexId,v,x,D.inclusive,k,A.inclusive,F);return pe.forEach(L,U=>i.J(U,t.limit).next(te=>{te.forEach(oe=>{const ue=st.fromSegments(oe.documentKey);a.has(ue)||(a=a.add(ue),d.push(ue))})}))}).next(()=>d)}return pe.resolve(null)})}tn(e){let t=this.Ze.get(e);return t||(t=[e],this.Ze.set(e,t),t)}rn(e,t,i,r,s,a,d){const h=(null!=t?t.length:1)*Math.max(i.length,s.length),p=h/(null!=t?t.length:1),g=[];for(let v=0;v<h;++v){const w=t?this.on(t[v/p]):bA,D=this.un(e,w,i[v%p],r),A=this.cn(e,w,s[v%p],a),x=d.map(k=>this.un(e,w,k,!0));g.push(...this.createRange(D,A,x))}return g}un(e,t,i,r){const s=new kp(e,st.empty(),t,i);return r?s:s.Ke()}cn(e,t,i,r){const s=new kp(e,st.empty(),t,i);return r?s.Ke():s}en(e,t){const i=new Y8(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next(s=>{let a=null;for(const d of s)i.We(d)&&(!a||d.fields.length>a.fields.length)&&(a=d);return a})}getIndexType(e,t){let i=2;return pe.forEach(this.tn(t),r=>this.en(e,r).next(s=>{s?0!==i&&s.fields.length<function(a){let d=new zn(Mi.comparator),h=!1;for(const p of a.filters){const g=p;g.field.isKeyField()||("array-contains"===g.op||"array-contains-any"===g.op?h=!0:d=d.add(g.field))}for(const p of a.orderBy)p.field.isKeyField()||(d=d.add(p.field));return d.size+(h?1:0)}(r)&&(i=1):i=0})).next(()=>i)}an(e,t){const i=new bw;for(const r of yp(e)){const s=t.data.field(r.fieldPath);if(null==s)return null;const a=i.qe(r.kind);Mp.Te.ce(s,a)}return i.$e()}on(e){const t=new bw;return Mp.Te.ce(e,t.qe(0)),t.$e()}hn(e,t){const i=new bw;return Mp.Te.ce(Cp(this.databaseId,t),i.qe(function(r){const s=yp(r);return 0===s.length?0:s[s.length-1].kind}(e))),i.$e()}sn(e,t,i){if(null===i)return[];let r=[];r.push(new bw);let s=0;for(const a of yp(e)){const d=i[s++];for(const h of r)if(this.ln(t,a.fieldPath)&&rw(d))r=this.fn(r,a,d);else{const p=h.qe(a.kind);Mp.Te.ce(d,p)}}return this.dn(r)}nn(e,t,i){return this.sn(e,t,i.position)}dn(e){const t=[];for(let i=0;i<e.length;++i)t[i]=e[i].$e();return t}fn(e,t,i){const r=[...e],s=[];for(const a of i.arrayValue.values||[])for(const d of r){const h=new bw;h.seed(d.$e()),Mp.Te.ce(a,h.qe(t.kind)),s.push(h)}return s}ln(e,t){return!!e.filters.find(i=>i instanceof Br&&i.field.isEqual(t)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(e,t){const i=EA(e),r=ww(e);return(t?i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):i.W()).next(s=>{const a=[];return pe.forEach(s,d=>r.get([d.indexId,this.uid]).next(h=>{a.push(function(p,g){const v=g?new XE(g.sequenceNumber,new co(Ap(g.readTime),new st(Vl(g.documentKey)),g.largestBatchId)):XE.empty(),w=p.fields.map(([D,A])=>new rA(Mi.fromServerFormat(D),A));return new iA(p.indexId,p.collectionGroup,w,v)}(d,h))})).next(()=>a)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((i,r)=>{const s=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==s?s:Zt(i.collectionGroup,r.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,i){const r=EA(e),s=ww(e);return this._n(e).next(a=>r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(d=>pe.forEach(d,h=>s.put(I$(h.indexId,this.user,a,i)))))}updateIndexEntries(e,t){const i=new Map;return pe.forEach(t,(r,s)=>{const a=i.get(r.collectionGroup);return(a?pe.resolve(a):this.getFieldIndexes(e,r.collectionGroup)).next(d=>(i.set(r.collectionGroup,d),pe.forEach(d,h=>this.wn(e,r,h).next(p=>{const g=this.mn(s,h);return p.isEqual(g)?pe.resolve():this.gn(e,s,h,p,g)}))))})}yn(e,t,i,r){return Ew(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.hn(i,t.key),documentKey:t.key.path.toArray()})}pn(e,t,i,r){return Ew(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.hn(i,t.key),t.key.path.toArray()])}wn(e,t,i){const r=Ew(e);let s=new zn(Rp);return r.Z({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.hn(i,t)])},(a,d)=>{s=s.add(new kp(i.indexId,t,d.arrayValue,d.directionalValue))}).next(()=>s)}mn(e,t){let i=new zn(Rp);const r=this.an(t,e);if(null==r)return i;const s=hO(t);if(null!=s){const a=e.data.field(s.fieldPath);if(rw(a))for(const d of a.arrayValue.values||[])i=i.add(new kp(t.indexId,e.key,this.on(d),r))}else i=i.add(new kp(t.indexId,e.key,bA,r));return i}gn(e,t,i,r,s){Ke("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const a=[];return function(d,h,p,g,v){const w=d.getIterator(),D=h.getIterator();let A=Sy(w),x=Sy(D);for(;A||x;){let k=!1,F=!1;if(A&&x){const L=p(A,x);L<0?F=!0:L>0&&(k=!0)}else null!=A?F=!0:k=!0;k?(g(x),x=Sy(D)):F?(v(A),A=Sy(w)):(A=Sy(w),x=Sy(D))}}(r,s,Rp,d=>{a.push(this.yn(e,t,i,d))},d=>{a.push(this.pn(e,t,i,d))}),pe.waitFor(a)}_n(e){let t=1;return ww(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,s)=>{s.done(),t=r.sequenceNumber+1}).next(()=>t)}createRange(e,t,i){i=i.sort((a,d)=>Rp(a,d)).filter((a,d,h)=>!d||0!==Rp(a,h[d-1]));const r=[];r.push(e);for(const a of i){const d=Rp(a,e),h=Rp(a,t);if(0===d)r[0]=e.Ke();else if(d>0&&h<0)r.push(a),r.push(a.Ke());else if(h>0)break}r.push(t);const s=[];for(let a=0;a<r.length;a+=2)s.push(IDBKeyRange.bound([r[a].indexId,this.uid,r[a].arrayValue,r[a].directionalValue,bA,[]],[r[a+1].indexId,this.uid,r[a+1].arrayValue,r[a+1].directionalValue,bA,[]]));return s}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(k$)}getMinOffset(e,t){return pe.mapArray(this.tn(t),i=>this.en(e,i).next(r=>r||bt())).next(k$)}}function M$(n){return br(n,"collectionParents")}function Ew(n){return br(n,"indexEntries")}function EA(n){return br(n,"indexConfiguration")}function ww(n){return br(n,"indexState")}function k$(n){Lt(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;fO(r,e)<0&&(e=r),t<r.largestBatchId&&(t=r.largestBatchId)}return new co(e.readTime,e.documentKey,t)}const R$={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class qs{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new qs(e,qs.DEFAULT_COLLECTION_PERCENTILE,qs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function O$(n,e,t){const i=n.store("mutations"),r=n.store("documentMutations"),s=[],a=IDBKeyRange.only(t.batchId);let d=0;const h=i.Z({range:a},(g,v,w)=>(d++,w.delete()));s.push(h.next(()=>{Lt(1===d)}));const p=[];for(const g of t.mutations){const v=_$(e,g.key.path,t.batchId);s.push(r.delete(v)),p.push(g.key)}return pe.waitFor(s).next(()=>p)}function wA(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw bt();e=n.noDocument}return JSON.stringify(e).length}qs.DEFAULT_COLLECTION_PERCENTILE=10,qs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,qs.DEFAULT=new qs(41943040,qs.DEFAULT_COLLECTION_PERCENTILE,qs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),qs.DISABLED=new qs(-1,0,0);class CA{constructor(e,t,i,r){this.userId=e,this.It=t,this.indexManager=i,this.referenceDelegate=r,this.In={}}static oe(e,t,i,r){Lt(""!==e.uid);const s=e.isAuthenticated()?e.uid:"";return new CA(s,t,i,r)}checkEmpty(e){let t=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return zd(e).Z({index:"userMutationsIndex",range:i},(r,s,a)=>{t=!1,a.done()}).next(()=>t)}addMutationBatch(e,t,i,r){const s=Ny(e),a=zd(e);return a.add({}).next(d=>{Lt("number"==typeof d);const h=new MO(d,t,i,r),p=function(w,D,A){const x=A.baseMutations.map(F=>_w(w.re,F)),k=A.mutations.map(F=>_w(w.re,F));return{userId:D,batchId:A.batchId,localWriteTimeMs:A.localWriteTime.toMillis(),baseMutations:x,mutations:k}}(this.It,this.userId,h),g=[];let v=new zn((w,D)=>Zt(w.canonicalString(),D.canonicalString()));for(const w of r){const D=_$(this.userId,w.key.path,d);v=v.add(w.key.path.popLast()),g.push(a.put(p)),g.push(s.put(D,I8))}return v.forEach(w=>{g.push(this.indexManager.addToCollectionParentIndex(e,w))}),e.addOnCommittedListener(()=>{this.In[d]=h.keys()}),pe.waitFor(g).next(()=>h)})}lookupMutationBatch(e,t){return zd(e).get(t).next(i=>i?(Lt(i.userId===this.userId),xp(this.It,i)):null)}Tn(e,t){return this.In[t]?pe.resolve(this.In[t]):this.lookupMutationBatch(e,t).next(i=>{if(i){const r=i.keys();return this.In[t]=r,r}return null})}getNextMutationBatchAfterBatchId(e,t){const i=t+1,r=IDBKeyRange.lowerBound([this.userId,i]);let s=null;return zd(e).Z({index:"userMutationsIndex",range:r},(a,d,h)=>{d.userId===this.userId&&(Lt(d.batchId>=i),s=xp(this.It,d)),h.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return zd(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(r,s,a)=>{i=s.batchId,a.done()}).next(()=>i)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return zd(e).W("userMutationsIndex",t).next(i=>i.map(r=>xp(this.It,r)))}getAllMutationBatchesAffectingDocumentKey(e,t){const i=_A(this.userId,t.path),r=IDBKeyRange.lowerBound(i),s=[];return Ny(e).Z({range:r},(a,d,h)=>{const[p,g,v]=a,w=Vl(g);if(p===this.userId&&t.path.isEqual(w))return zd(e).get(v).next(D=>{if(!D)throw bt();Lt(D.userId===this.userId),s.push(xp(this.It,D))});h.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new zn(Zt);const r=[];return t.forEach(s=>{const a=_A(this.userId,s.path),d=IDBKeyRange.lowerBound(a),h=Ny(e).Z({range:d},(p,g,v)=>{const[w,D,A]=p,x=Vl(D);w===this.userId&&s.path.isEqual(x)?i=i.add(A):v.done()});r.push(h)}),pe.waitFor(r).next(()=>this.En(e,i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1,s=_A(this.userId,i),a=IDBKeyRange.lowerBound(s);let d=new zn(Zt);return Ny(e).Z({range:a},(h,p,g)=>{const[v,w,D]=h,A=Vl(w);v===this.userId&&i.isPrefixOf(A)?A.length===r&&(d=d.add(D)):g.done()}).next(()=>this.En(e,d))}En(e,t){const i=[],r=[];return t.forEach(s=>{r.push(zd(e).get(s).next(a=>{if(null===a)throw bt();Lt(a.userId===this.userId),i.push(xp(this.It,a))}))}),pe.waitFor(r).next(()=>i)}removeMutationBatch(e,t){return O$(e.ie,this.userId,t).next(i=>(e.addOnCommittedListener(()=>{this.An(t.batchId)}),pe.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(e,r))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return pe.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return Ny(e).Z({range:i},(s,a,d)=>{if(s[0]===this.userId){const h=Vl(s[1]);r.push(h)}else d.done()}).next(()=>{Lt(0===r.length)})})}containsKey(e,t){return P$(e,this.userId,t)}Rn(e){return N$(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function P$(n,e,t){const i=_A(e,t.path),r=i[1],s=IDBKeyRange.lowerBound(i);let a=!1;return Ny(n).Z({range:s,X:!0},(d,h,p)=>{const[g,v,w]=d;g===e&&v===r&&(a=!0),p.done()}).next(()=>a)}function zd(n){return br(n,"mutations")}function Ny(n){return br(n,"documentMutations")}function N$(n){return br(n,"mutationQueues")}class Op{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new Op(0)}static vn(){return new Op(-1)}}class Q8{constructor(e,t){this.referenceDelegate=e,this.It=t}allocateTargetId(e){return this.Vn(e).next(t=>{const i=new Op(t.highestTargetId);return t.highestTargetId=i.next(),this.Sn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(t=>Bt.fromTimestamp(new mi(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,i){return this.Vn(e).next(r=>(r.highestListenSequenceNumber=t,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.Sn(e,r)))}addTargetData(e,t){return this.Dn(e,t).next(()=>this.Vn(e).next(i=>(i.targetCount+=1,this.Cn(t,i),this.Sn(e,i))))}updateTargetData(e,t){return this.Dn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Fy(e).delete(t.targetId)).next(()=>this.Vn(e)).next(i=>(Lt(i.targetCount>0),i.targetCount-=1,this.Sn(e,i)))}removeTargets(e,t,i){let r=0;const s=[];return Fy(e).Z((a,d)=>{const h=yw(d);h.sequenceNumber<=t&&null===i.get(h.targetId)&&(r++,s.push(this.removeTargetData(e,h)))}).next(()=>pe.waitFor(s)).next(()=>r)}forEachTarget(e,t){return Fy(e).Z((i,r)=>{const s=yw(r);t(s)})}Vn(e){return F$(e).get("targetGlobalKey").next(t=>(Lt(null!==t),t))}Sn(e,t){return F$(e).put("targetGlobalKey",t)}Dn(e,t){return Fy(e).put(C$(this.It,t))}Cn(e,t){let i=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,i=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.Vn(e).next(t=>t.targetCount)}getTargetData(e,t){const i=Sp(t),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let s=null;return Fy(e).Z({range:r,index:"queryTargetsIndex"},(a,d,h)=>{const p=yw(d);ow(t,p.target)&&(s=p,h.done())}).next(()=>s)}addMatchingKeys(e,t,i){const r=[],s=jd(e);return t.forEach(a=>{const d=vs(a.path);r.push(s.put({targetId:i,path:d})),r.push(this.referenceDelegate.addReference(e,i,a))}),pe.waitFor(r)}removeMatchingKeys(e,t,i){const r=jd(e);return pe.forEach(t,s=>{const a=vs(s.path);return pe.waitFor([r.delete([i,a]),this.referenceDelegate.removeReference(e,i,s)])})}removeMatchingKeysForTargetId(e,t){const i=jd(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(e,t){const i=IDBKeyRange.bound([t],[t+1],!1,!0),r=jd(e);let s=rn();return r.Z({range:i,X:!0},(a,d,h)=>{const p=Vl(a[1]),g=new st(p);s=s.add(g)}).next(()=>s)}containsKey(e,t){const i=vs(t.path),r=IDBKeyRange.bound([i],[aU(i)],!1,!0);let s=0;return jd(e).Z({index:"documentTargetsIndex",X:!0,range:r},([a,d],h,p)=>{0!==a&&(s++,p.done())}).next(()=>s>0)}se(e,t){return Fy(e).get(t).next(i=>i?yw(i):null)}}function Fy(n){return br(n,"targets")}function F$(n){return br(n,"targetGlobal")}function jd(n){return br(n,"targetDocuments")}function L$([n,e],[t,i]){const r=Zt(n,t);return 0===r?Zt(e,i):r}class X8{constructor(e){this.xn=e,this.buffer=new zn(L$),this.Nn=0}kn(){return++this.Nn}On(e){const t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();L$(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class J8{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Mn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}get started(){return null!==this.Mn}Fn(e){var t=this;Ke("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,ee.Z)(function*(){t.Mn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(i){Nd(i)?Ke("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield Pd(i)}yield t.Fn(3e5)}))}}class eY{constructor(e,t){this.$n=e,this.params=t}calculateTargetCount(e,t){return this.$n.Bn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(0===t)return pe.resolve(Gs.at);const i=new X8(t);return this.$n.forEachTarget(e,r=>i.On(r.sequenceNumber)).next(()=>this.$n.Ln(e,r=>i.On(r))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.$n.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.$n.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Ke("LruGarbageCollector","Garbage collection skipped; disabled"),pe.resolve(R$)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(Ke("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),R$):this.Un(e,t))}getCacheSize(e){return this.$n.getCacheSize(e)}Un(e,t){let i,r,s,a,d,h,p;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(v=>(v>this.params.maximumSequenceNumbersToCollect?(Ke("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),r=this.params.maximumSequenceNumbersToCollect):r=v,a=Date.now(),this.nthSequenceNumber(e,r))).next(v=>(i=v,d=Date.now(),this.removeTargets(e,i,t))).next(v=>(s=v,h=Date.now(),this.removeOrphanedDocuments(e,i))).next(v=>(p=Date.now(),uO()<=_r.in.DEBUG&&Ke("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${a-g}ms\n\tDetermined least recently used ${r} in `+(d-a)+`ms\n\tRemoved ${s} targets in `+(h-d)+`ms\n\tRemoved ${v} documents in `+(p-h)+`ms\nTotal Duration: ${p-g}ms`),pe.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:v})))}}class tY{constructor(e,t){this.db=e,this.garbageCollector=new eY(this,t)}Bn(e){const t=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next(i=>t.next(r=>i+r))}qn(e){let t=0;return this.Ln(e,i=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Ln(e,t){return this.Kn(e,(i,r)=>t(r))}addReference(e,t,i){return SA(e,i)}removeReference(e,t,i){return SA(e,i)}removeTargets(e,t,i){return this.db.getTargetCache().removeTargets(e,t,i)}markPotentiallyOrphaned(e,t){return SA(e,t)}Gn(e,t){return function(i,r){let s=!1;return N$(i).tt(a=>P$(i,a,r).next(d=>(d&&(s=!0),pe.resolve(!d)))).next(()=>s)}(e,t)}removeOrphanedDocuments(e,t){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let s=0;return this.Kn(e,(a,d)=>{if(d<=t){const h=this.Gn(e,a).next(p=>{if(!p)return s++,i.getEntry(e,a).next(()=>(i.removeEntry(a,Bt.min()),jd(e).delete([0,vs(a.path)])))});r.push(h)}}).next(()=>pe.waitFor(r)).next(()=>i.apply(e)).next(()=>s)}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,t){return SA(e,t)}Kn(e,t){const i=jd(e);let r,s=Gs.at;return i.Z({index:"documentTargetsIndex"},([a,d],{path:h,sequenceNumber:p})=>{0===a?(s!==Gs.at&&t(new st(Vl(r)),s),s=p,r=h):s=Gs.at}).next(()=>{s!==Gs.at&&t(new st(Vl(r)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function SA(n,e){return jd(n).put((i=n.currentSequenceNumber,{targetId:0,path:vs(e.path),sequenceNumber:i}));var i}class B${constructor(){this.changes=new $d(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ii.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return void 0!==i?pe.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class nY{constructor(e){this.It=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,i){return Pp(e).put(i)}removeEntry(e,t,i){return Pp(e).delete(function(r,s){const a=r.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],yA(s),a[a.length-1]]}(t,i))}updateMetadata(e,t){return this.getMetadata(e).next(i=>(i.byteSize+=t,this.Qn(e,i)))}getEntry(e,t){let i=ii.newInvalidDocument(t);return Pp(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Cw(t))},(r,s)=>{i=this.jn(t,s)}).next(()=>i)}Wn(e,t){let i={size:0,document:ii.newInvalidDocument(t)};return Pp(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Cw(t))},(r,s)=>{i={document:this.jn(t,s),size:wA(s)}}).next(()=>i)}getEntries(e,t){let i=Ws();return this.zn(e,t,(r,s)=>{const a=this.jn(r,s);i=i.insert(r,a)}).next(()=>i)}Hn(e,t){let i=Ws(),r=new ki(st.comparator);return this.zn(e,t,(s,a)=>{const d=this.jn(s,a);i=i.insert(s,d),r=r.insert(s,wA(a))}).next(()=>({documents:i,Jn:r}))}zn(e,t,i){if(t.isEmpty())return pe.resolve();let r=new zn(H$);t.forEach(h=>r=r.add(h));const s=IDBKeyRange.bound(Cw(r.first()),Cw(r.last())),a=r.getIterator();let d=a.getNext();return Pp(e).Z({index:"documentKeyIndex",range:s},(h,p,g)=>{const v=st.fromSegments([...p.prefixPath,p.collectionGroup,p.documentId]);for(;d&&H$(d,v)<0;)i(d,null),d=a.getNext();d&&d.isEqual(v)&&(i(d,p),d=a.hasNext()?a.getNext():null),d?g.j(Cw(d)):g.done()}).next(()=>{for(;d;)i(d,null),d=a.hasNext()?a.getNext():null})}getAllFromCollection(e,t,i){const r=[t.popLast().toArray(),t.lastSegment(),yA(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],s=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Pp(e).W(IDBKeyRange.bound(r,s,!0)).next(a=>{let d=Ws();for(const h of a){const p=this.jn(st.fromSegments(h.prefixPath.concat(h.collectionGroup,h.documentId)),h);d=d.insert(p.key,p)}return d})}getAllFromCollectionGroup(e,t,i,r){let s=Ws();const a=$$(t,i),d=$$(t,co.max());return Pp(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(a,d,!0)},(h,p,g)=>{const v=this.jn(st.fromSegments(p.prefixPath.concat(p.collectionGroup,p.documentId)),p);s=s.insert(v.key,v),s.size===r&&g.done()}).next(()=>s)}newChangeBuffer(e){return new iY(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return U$(e).get("remoteDocumentGlobalKey").next(t=>(Lt(!!t),t))}Qn(e,t){return U$(e).put("remoteDocumentGlobalKey",t)}jn(e,t){if(t){const i=function H8(n,e){let t;if(e.document)t=u$(n.re,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const i=st.fromSegments(e.noDocument.path),r=Ap(e.noDocument.readTime);t=ii.newNoDocument(i,r),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return bt();{const i=st.fromSegments(e.unknownDocument.path),r=Ap(e.unknownDocument.version);t=ii.newUnknownDocument(i,r)}}return e.readTime&&t.setReadTime(function(i){const r=new mi(i[0],i[1]);return Bt.fromTimestamp(r)}(e.readTime)),t}(this.It,t);if(!i.isNoDocument()||!i.version.isEqual(Bt.min()))return i}return ii.newInvalidDocument(e)}}function V$(n){return new nY(n)}class iY extends B${constructor(e,t){super(),this.Yn=e,this.trackRemovals=t,this.Xn=new $d(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(e){const t=[];let i=0,r=new zn((s,a)=>Zt(s.canonicalString(),a.canonicalString()));return this.changes.forEach((s,a)=>{const d=this.Xn.get(s);if(t.push(this.Yn.removeEntry(e,s,d.readTime)),a.isValidDocument()){const h=w$(this.Yn.It,a);r=r.add(s.path.popLast()),i+=wA(h)-d.size,t.push(this.Yn.addEntry(e,s,h))}else if(i-=d.size,this.trackRemovals){const h=w$(this.Yn.It,a.convertToNoDocument(Bt.min()));t.push(this.Yn.addEntry(e,s,h))}}),r.forEach(s=>{t.push(this.Yn.indexManager.addToCollectionParentIndex(e,s))}),t.push(this.Yn.updateMetadata(e,i)),pe.waitFor(t)}getFromCache(e,t){return this.Yn.Wn(e,t).next(i=>(this.Xn.set(t,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(e,t){return this.Yn.Hn(e,t).next(({documents:i,Jn:r})=>(r.forEach((s,a)=>{this.Xn.set(s,{size:a,readTime:i.get(s).readTime})}),i))}}function U$(n){return br(n,"remoteDocumentGlobal")}function Pp(n){return br(n,"remoteDocumentsV14")}function Cw(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function $$(n,e){const t=e.documentKey.path.toArray();return[n,yA(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function H$(n,e){const t=n.path.toArray(),i=e.path.toArray();let r=0;for(let s=0;s<t.length-2&&s<i.length-2;++s)if(r=Zt(t[s],i[s]),r)return r;return r=Zt(t.length,i.length),r||(r=Zt(t[t.length-2],i[i.length-2]),r||Zt(t[t.length-1],i[i.length-1]))}class rY{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class z${constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(i=r,this.getBaseDocument(e,t,i))).next(r=>(null!==i&&cw(i.mutation,r,uo.empty(),mi.now()),r))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,rn()).next(()=>i))}getLocalViewOfDocuments(e,t,i=rn()){const r=Ll();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,i).next(s=>{let a=uw();return s.forEach((d,h)=>{a=a.insert(d,h.overlayedDocument)}),a}))}getOverlayedDocuments(e,t){const i=Ll();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,rn()))}populateOverlays(e,t,i){const r=[];return i.forEach(s=>{t.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(e,r).next(s=>{s.forEach((a,d)=>{t.set(a,d)})})}computeViews(e,t,i,r){let s=Ws();const a=dw(),d=dw();return t.forEach((h,p)=>{const g=i.get(p.key);r.has(p.key)&&(void 0===g||g.mutation instanceof iu)?s=s.insert(p.key,p):void 0!==g&&(a.set(p.key,g.mutation.getFieldMask()),cw(g.mutation,p,g.mutation.getFieldMask(),mi.now()))}),this.recalculateAndSaveOverlays(e,s).next(h=>(h.forEach((p,g)=>a.set(p,g)),t.forEach((p,g)=>{var v;return d.set(p,new rY(g,null!==(v=a.get(p))&&void 0!==v?v:null))}),d))}recalculateAndSaveOverlays(e,t){const i=dw();let r=new ki((a,d)=>a-d),s=rn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(a=>{for(const d of a)d.keys().forEach(h=>{const p=t.get(h);if(null===p)return;let g=i.get(h)||uo.empty();g=d.applyToLocalView(p,g),i.set(h,g);const v=(r.get(d.batchId)||rn()).add(h);r=r.insert(d.batchId,v)})}).next(()=>{const a=[],d=r.getReverseIterator();for(;d.hasNext();){const h=d.getNext(),p=h.key,g=h.value,v=JU();g.forEach(w=>{if(!s.has(w)){const D=jU(t.get(w),i.get(w));null!==D&&v.set(w,D),s=s.add(w)}}),a.push(this.documentOverlayCache.saveOverlays(e,p,v))}return pe.waitFor(a)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i){return st.isDocumentKey((r=t).path)&&null===r.collectionGroup&&0===r.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):EO(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i):this.getDocumentsMatchingCollectionQuery(e,t,i);var r}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next(s=>{const a=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-s.size):pe.resolve(Ll());let d=-1,h=s;return a.next(p=>pe.forEach(p,(g,v)=>(d<v.largestBatchId&&(d=v.largestBatchId),s.get(g)?pe.resolve():this.getBaseDocument(e,g,v).next(w=>{h=h.insert(g,w)}))).next(()=>this.populateOverlays(e,p,s)).next(()=>this.computeViews(e,h,p,rn())).next(g=>({batchId:d,changes:XU(g)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new st(t)).next(i=>{let r=uw();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,t,i){const r=t.collectionGroup;let s=uw();return this.indexManager.getCollectionParents(e,r).next(a=>pe.forEach(a,d=>{const h=(p=t,g=d.child(r),new nu(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt));var p,g;return this.getDocumentsMatchingCollectionQuery(e,h,i).next(p=>{p.forEach((g,v)=>{s=s.insert(g,v)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,i){let r;return this.remoteDocumentCache.getAllFromCollection(e,t.path,i).next(s=>(r=s,this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId))).next(s=>{s.forEach((d,h)=>{const p=h.getKey();null===r.get(p)&&(r=r.insert(p,ii.newInvalidDocument(p)))});let a=uw();return r.forEach((d,h)=>{const p=s.get(d);void 0!==p&&cw(p.mutation,h,uo.empty(),mi.now()),CO(t,h)&&(a=a.insert(d,h))}),a})}getBaseDocument(e,t,i){return null===i||1===i.mutation.type?this.remoteDocumentCache.getEntry(e,t):pe.resolve(ii.newInvalidDocument(t))}}class sY{constructor(e){this.It=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return pe.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var i;return this.Zn.set(t.id,{id:(i=t).id,version:i.version,createTime:vr(i.createTime)}),pe.resolve()}getNamedQuery(e,t){return pe.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(i=t).name,query:OO(i.bundledQuery),readTime:vr(i.readTime)}),pe.resolve();var i}}class oY{constructor(){this.overlays=new ki(st.comparator),this.es=new Map}getOverlay(e,t){return pe.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Ll();return pe.forEach(t,r=>this.getOverlay(e,r).next(s=>{null!==s&&i.set(r,s)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((r,s)=>{this.ue(e,t,s)}),pe.resolve()}removeOverlaysForBatchId(e,t,i){const r=this.es.get(i);return void 0!==r&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.es.delete(i)),pe.resolve()}getOverlaysForCollection(e,t,i){const r=Ll(),s=t.length+1,a=new st(t.child("")),d=this.overlays.getIteratorFrom(a);for(;d.hasNext();){const h=d.getNext().value,p=h.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===s&&h.largestBatchId>i&&r.set(h.getKey(),h)}return pe.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let s=new ki((p,g)=>p-g);const a=this.overlays.getIterator();for(;a.hasNext();){const p=a.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>i){let g=s.get(p.largestBatchId);null===g&&(g=Ll(),s=s.insert(p.largestBatchId,g)),g.set(p.getKey(),p)}}const d=Ll(),h=s.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((p,g)=>d.set(p,g)),!(d.size()>=r)););return pe.resolve(d)}ue(e,t,i){const r=this.overlays.get(i.key);if(null!==r){const a=this.es.get(r.largestBatchId).delete(i.key);this.es.set(r.largestBatchId,a)}this.overlays=this.overlays.insert(i.key,new RO(t,i));let s=this.es.get(t);void 0===s&&(s=rn(),this.es.set(t,s)),this.es.set(t,s.add(i.key))}}class FO{constructor(){this.ns=new zn(Er.ss),this.rs=new zn(Er.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const i=new Er(e,t);this.ns=this.ns.add(i),this.rs=this.rs.add(i)}us(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.cs(new Er(e,t))}hs(e,t){e.forEach(i=>this.removeReference(i,t))}ls(e){const t=new st(new En([])),i=new Er(t,e),r=new Er(t,e+1),s=[];return this.rs.forEachInRange([i,r],a=>{this.cs(a),s.push(a.key)}),s}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new st(new En([])),i=new Er(t,e),r=new Er(t,e+1);let s=rn();return this.rs.forEachInRange([i,r],a=>{s=s.add(a.key)}),s}containsKey(e){const t=new Er(e,0),i=this.ns.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)}}class Er{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return st.comparator(e.key,t.key)||Zt(e._s,t._s)}static os(e,t){return Zt(e._s,t._s)||st.comparator(e.key,t.key)}}class aY{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new zn(Er.ss)}checkEmpty(e){return pe.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,i,r){const s=this.ws;this.ws++;const a=new MO(s,t,i,r);this.mutationQueue.push(a);for(const d of r)this.gs=this.gs.add(new Er(d.key,s)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return pe.resolve(a)}lookupMutationBatch(e,t){return pe.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const r=this.ps(t+1),s=r<0?0:r;return pe.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return pe.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return pe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Er(t,0),r=new Er(t,Number.POSITIVE_INFINITY),s=[];return this.gs.forEachInRange([i,r],a=>{const d=this.ys(a._s);s.push(d)}),pe.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new zn(Zt);return t.forEach(r=>{const s=new Er(r,0),a=new Er(r,Number.POSITIVE_INFINITY);this.gs.forEachInRange([s,a],d=>{i=i.add(d._s)})}),pe.resolve(this.Is(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1;let s=i;st.isDocumentKey(s)||(s=s.child(""));const a=new Er(new st(s),0);let d=new zn(Zt);return this.gs.forEachWhile(h=>{const p=h.key.path;return!!i.isPrefixOf(p)&&(p.length===r&&(d=d.add(h._s)),!0)},a),pe.resolve(this.Is(d))}Is(e){const t=[];return e.forEach(i=>{const r=this.ys(i);null!==r&&t.push(r)}),t}removeMutationBatch(e,t){Lt(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let i=this.gs;return pe.forEach(t.mutations,r=>{const s=new Er(r.key,t.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.gs=i})}An(e){}containsKey(e,t){const i=new Er(t,0),r=this.gs.firstAfterOrEqual(i);return pe.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return pe.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class lY{constructor(e){this.Es=e,this.docs=new ki(st.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,r=this.docs.get(i),s=r?r.size:0,a=this.Es(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return pe.resolve(i?i.document.mutableCopy():ii.newInvalidDocument(t))}getEntries(e,t){let i=Ws();return t.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():ii.newInvalidDocument(r))}),pe.resolve(i)}getAllFromCollection(e,t,i){let r=Ws();const s=new st(t.child("")),a=this.docs.getIteratorFrom(s);for(;a.hasNext();){const{key:d,value:{document:h}}=a.getNext();if(!t.isPrefixOf(d.path))break;d.path.length>t.length+1||fO(cU(h),i)<=0||(r=r.insert(h.key,h.mutableCopy()))}return pe.resolve(r)}getAllFromCollectionGroup(e,t,i,r){bt()}As(e,t){return pe.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new cY(this)}getSize(e){return pe.resolve(this.size)}}class cY extends B${constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this.Yn.addEntry(e,r)):this.Yn.removeEntry(i)}),pe.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class uY{constructor(e){this.persistence=e,this.Rs=new $d(t=>Sp(t),ow),this.lastRemoteSnapshotVersion=Bt.min(),this.highestTargetId=0,this.bs=0,this.Ps=new FO,this.targetCount=0,this.vs=Op.Pn()}forEachTarget(e,t){return this.Rs.forEach((i,r)=>t(r)),pe.resolve()}getLastRemoteSnapshotVersion(e){return pe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return pe.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),pe.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.bs&&(this.bs=t),pe.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new Op(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,pe.resolve()}updateTargetData(e,t){return this.Dn(t),pe.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,pe.resolve()}removeTargets(e,t,i){let r=0;const s=[];return this.Rs.forEach((a,d)=>{d.sequenceNumber<=t&&null===i.get(d.targetId)&&(this.Rs.delete(a),s.push(this.removeMatchingKeysForTargetId(e,d.targetId)),r++)}),pe.waitFor(s).next(()=>r)}getTargetCount(e){return pe.resolve(this.targetCount)}getTargetData(e,t){const i=this.Rs.get(t)||null;return pe.resolve(i)}addMatchingKeys(e,t,i){return this.Ps.us(t,i),pe.resolve()}removeMatchingKeys(e,t,i){this.Ps.hs(t,i);const r=this.persistence.referenceDelegate,s=[];return r&&t.forEach(a=>{s.push(r.markPotentiallyOrphaned(e,a))}),pe.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),pe.resolve()}getMatchingKeysForTargetId(e,t){const i=this.Ps.ds(t);return pe.resolve(i)}containsKey(e,t){return pe.resolve(this.Ps.containsKey(t))}}class j${constructor(e,t){this.Vs={},this.overlays={},this.Ss=new Gs(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new uY(this),this.indexManager=new Z8,this.remoteDocumentCache=new lY(i=>this.referenceDelegate.xs(i)),this.It=new E$(t),this.Ns=new sY(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new oY,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Vs[e.toKey()];return i||(i=new aY(t,this.referenceDelegate),this.Vs[e.toKey()]=i),i}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,i){Ke("MemoryPersistence","Starting transaction:",e);const r=new dY(this.Ss.next());return this.referenceDelegate.ks(),i(r).next(s=>this.referenceDelegate.Os(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Ms(e,t){return pe.or(Object.values(this.Vs).map(i=>()=>i.containsKey(e,t)))}}class dY extends dU{constructor(e){super(),this.currentSequenceNumber=e}}class IA{constructor(e){this.persistence=e,this.Fs=new FO,this.$s=null}static Bs(e){return new IA(e)}get Ls(){if(this.$s)return this.$s;throw bt()}addReference(e,t,i){return this.Fs.addReference(i,t),this.Ls.delete(i.toString()),pe.resolve()}removeReference(e,t,i){return this.Fs.removeReference(i,t),this.Ls.add(i.toString()),pe.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),pe.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(r=>this.Ls.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(s=>this.Ls.add(s.toString()))}).next(()=>i.removeTargetData(e,t))}ks(){this.$s=new Set}Os(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return pe.forEach(this.Ls,i=>{const r=st.fromPath(i);return this.Us(e,r).next(s=>{s||t.removeEntry(r,Bt.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.Us(e,t).next(i=>{i?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}Us(e,t){return pe.or([()=>pe.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ms(e,t)])}}class hY{constructor(e){this.It=e}$(e,t,i,r){const s=new sA("createOrUpgrade",t);var d;i<1&&r>=1&&(e.createObjectStore("owner"),(d=e).createObjectStore("mutationQueues",{keyPath:"userId"}),d.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",g$,{unique:!0}),d.createObjectStore("documentMutations"),G$(e),function(d){d.createObjectStore("remoteDocuments")}(e));let a=pe.resolve();return i<3&&r>=3&&(0!==i&&(function(d){d.deleteObjectStore("targetDocuments"),d.deleteObjectStore("targets"),d.deleteObjectStore("targetGlobal")}(e),G$(e)),a=a.next(()=>function(d){const h=d.store("targetGlobal"),p={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Bt.min().toTimestamp(),targetCount:0};return h.put("targetGlobalKey",p)}(s))),i<4&&r>=4&&(0!==i&&(a=a.next(()=>function(d,h){return h.store("mutations").W().next(p=>{d.deleteObjectStore("mutations"),d.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",g$,{unique:!0});const g=h.store("mutations"),v=p.map(w=>g.put(w));return pe.waitFor(v)})}(e,s))),a=a.next(()=>{!function(d){d.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),i<5&&r>=5&&(a=a.next(()=>this.qs(s))),i<6&&r>=6&&(a=a.next(()=>(function(d){d.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(s)))),i<7&&r>=7&&(a=a.next(()=>this.Gs(s))),i<8&&r>=8&&(a=a.next(()=>this.Qs(e,s))),i<9&&r>=9&&(a=a.next(()=>{!function(d){d.objectStoreNames.contains("remoteDocumentChanges")&&d.deleteObjectStore("remoteDocumentChanges")}(e)})),i<10&&r>=10&&(a=a.next(()=>this.js(s))),i<11&&r>=11&&(a=a.next(()=>{(function(d){d.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(d){d.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),i<12&&r>=12&&(a=a.next(()=>{!function(d){const h=d.createObjectStore("documentOverlays",{keyPath:L8});h.createIndex("collectionPathOverlayIndex",B8,{unique:!1}),h.createIndex("collectionGroupOverlayIndex",V8,{unique:!1})}(e)})),i<13&&r>=13&&(a=a.next(()=>function(d){const h=d.createObjectStore("remoteDocumentsV14",{keyPath:T8});h.createIndex("documentKeyIndex",D8),h.createIndex("collectionGroupIndex",A8)}(e)).next(()=>this.Ws(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(a=a.next(()=>this.zs(e,s))),i<15&&r>=15&&(a=a.next(()=>function(d){d.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),d.createObjectStore("indexState",{keyPath:O8}).createIndex("sequenceNumberIndex",P8,{unique:!1}),d.createObjectStore("indexEntries",{keyPath:N8}).createIndex("documentKeyIndex",F8,{unique:!1})}(e))),a}Ks(e){let t=0;return e.store("remoteDocuments").Z((i,r)=>{t+=wA(r)}).next(()=>{const i={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}qs(e){const t=e.store("mutationQueues"),i=e.store("mutations");return t.W().next(r=>pe.forEach(r,s=>{const a=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return i.W("userMutationsIndex",a).next(d=>pe.forEach(d,h=>{Lt(h.userId===s.userId);const p=xp(this.It,h);return O$(e,s.userId,p).next(()=>{})}))}))}Gs(e){const t=e.store("targetDocuments"),i=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(r=>{const s=[];return i.Z((a,d)=>{const h=new En(a),p=[0,vs(h)];s.push(t.get(p).next(g=>g?pe.resolve():t.put({targetId:0,path:vs(h),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>pe.waitFor(s))})}Qs(e,t){e.createObjectStore("collectionParents",{keyPath:R8});const i=t.store("collectionParents"),r=new NO,s=a=>{if(r.add(a)){const d=a.lastSegment(),h=a.popLast();return i.put({collectionId:d,parent:vs(h)})}};return t.store("remoteDocuments").Z({X:!0},(a,d)=>{const h=new En(a);return s(h.popLast())}).next(()=>t.store("documentMutations").Z({X:!0},([a,d,h],p)=>{const g=Vl(d);return s(g.popLast())}))}js(e){const t=e.store("targets");return t.Z((i,r)=>{const s=yw(r),a=C$(this.It,s);return t.put(a)})}Ws(e,t){const i=t.store("remoteDocuments"),r=[];return i.Z((s,a)=>{const d=t.store("remoteDocumentsV14"),h=(p=a,p.document?new st(En.fromString(p.document.name).popFirst(5)):p.noDocument?st.fromSegments(p.noDocument.path):p.unknownDocument?st.fromSegments(p.unknownDocument.path):bt()).path.toArray();var p;const g={prefixPath:h.slice(0,h.length-2),collectionGroup:h[h.length-2],documentId:h[h.length-1],readTime:a.readTime||[0,0],unknownDocument:a.unknownDocument,noDocument:a.noDocument,document:a.document,hasCommittedMutations:!!a.hasCommittedMutations};r.push(d.put(g))}).next(()=>pe.waitFor(r))}zs(e,t){const i=t.store("mutations"),r=V$(this.It),s=new j$(IA.Bs,this.It.re);return i.W().next(a=>{const d=new Map;return a.forEach(h=>{var p;let g=null!==(p=d.get(h.userId))&&void 0!==p?p:rn();xp(this.It,h).keys().forEach(v=>g=g.add(v)),d.set(h.userId,g)}),pe.forEach(d,(h,p)=>{const g=new yr(p),v=vA.oe(this.It,g),w=s.getIndexManager(g),D=CA.oe(g,this.It,w,s.referenceDelegate);return new z$(r,D,v,w).recalculateAndSaveOverlaysForDocumentKeys(new xO(t,Gs.at),h).next()})})}}function G$(n){n.createObjectStore("targetDocuments",{keyPath:M8}).createIndex("documentTargetsIndex",k8,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",x8,{unique:!0}),n.createObjectStore("targetGlobal")}const LO="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class BO{constructor(e,t,i,r,s,a,d,h,p,g,v=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=i,this.Hs=s,this.window=a,this.document=d,this.Js=p,this.Ys=g,this.Xs=v,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=w=>Promise.resolve(),!BO.C())throw new Ue(be.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new tY(this,r),this.ii=t+"main",this.It=new E$(h),this.ri=new za(this.ii,this.Xs,new hY(this.It)),this.Cs=new Q8(this.referenceDelegate,this.It),this.remoteDocumentCache=V$(this.It),this.Ns=new z8,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===g&&Vi("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ue(be.FAILED_PRECONDITION,LO);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new Gs(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){var t=this;return this.si=function(){var i=(0,ee.Z)(function*(r){if(t.started)return e(r)});return function(r){return i.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(function(){var t=(0,ee.Z)(function*(i){null===i.newVersion&&(yield e())});return function(i){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((0,ee.Z)(function*(){t.started&&(yield t.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>TA(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(t=>this.isPrimary&&!t?this._i(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(Nd(e))return Ke("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Ke("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return Sw(e).get("owner").next(t=>pe.resolve(this.mi(t)))}gi(e){return TA(e).delete(this.clientId)}yi(){var e=this;return(0,ee.Z)(function*(){if(e.isPrimary&&!e.pi(e.ni,18e5)){e.ni=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=br(i,"clientMetadata");return r.W().next(s=>{const a=e.Ii(s,18e5),d=s.filter(h=>-1===a.indexOf(h));return pe.forEach(d,h=>r.delete(h.clientId)).next(()=>d)})}).catch(()=>[]);if(e.oi)for(const i of t)e.oi.removeItem(e.Ti(i.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?pe.resolve(!0):Sw(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)){if(this.mi(t)&&this.networkEnabled)return!0;if(!this.mi(t)){if(!t.allowTabSynchronization)throw new Ue(be.FAILED_PRECONDITION,LO);return!1}}return!(!this.networkEnabled||!this.inForeground)||TA(e).W().next(i=>void 0===this.Ii(i,5e3).find(r=>{if(this.clientId!==r.clientId){const a=!this.inForeground&&r.inForeground,d=this.networkEnabled===r.networkEnabled;if(!this.networkEnabled&&r.networkEnabled||a&&d)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Ke("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,ee.Z)(function*(){e.Ds=!1,e.Ai(),e.ei&&(e.ei.cancel(),e.ei=null),e.Ri(),e.bi(),yield e.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const i=new xO(t,Gs.at);return e._i(i).next(()=>e.gi(i))}),e.ri.close(),e.Pi()})()}Ii(e,t){return e.filter(i=>this.pi(i.updateTimeMs,t)&&!this.Ei(i.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>TA(e).W().next(t=>this.Ii(t,18e5).map(i=>i.clientId)))}get started(){return this.Ds}getMutationQueue(e,t){return CA.oe(e,this.It,t,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new K8(e,this.It.re.databaseId)}getDocumentOverlayCache(e){return vA.oe(this.It,e)}getBundleCache(){return this.Ns}runTransaction(e,t,i){Ke("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",s=15===(a=this.Xs)?$8:14===a?b$:13===a?v$:12===a?U8:11===a?y$:void bt();var a;let d;return this.ri.runTransaction(e,r,s,h=>(d=new xO(h,this.Ss?this.Ss.next():Gs.at),"readwrite-primary"===t?this.fi(d).next(p=>!!p||this.di(d)).next(p=>{if(!p)throw Vi(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new Ue(be.FAILED_PRECONDITION,uU);return i(d)}).next(p=>this.wi(d).next(()=>p)):this.Vi(d).next(()=>i(d)))).then(h=>(d.raiseOnCommittedEvent(),h))}Vi(e){return Sw(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)&&!this.mi(t)&&!(this.Ys||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Ue(be.FAILED_PRECONDITION,LO)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Sw(e).put("owner",t)}static C(){return za.C()}_i(e){const t=Sw(e);return t.get("owner").next(i=>this.mi(i)?(Ke("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):pe.resolve())}pi(e,t){const i=Date.now();return!(e<i-t||e>i&&(Vi(`Detected an update time that is in the future: ${e} > ${i}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,q.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var t;try{const i=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return Ke("IndexedDbPersistence",`Client '${e}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return Vi("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){Vi("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Sw(n){return br(n,"owner")}function TA(n){return br(n,"clientMetadata")}function VO(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class UO{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.Si=i,this.Di=r}static Ci(e,t){let i=rn(),r=rn();for(const s of t.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new UO(e,t.fromCache,i,r)}}class W${constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,i,r){return this.ki(e,t).next(s=>s||this.Oi(e,t,r,i)).next(s=>s||this.Mi(e,t))}ki(e,t){if(RU(t))return pe.resolve(null);let i=ys(t);return this.indexManager.getIndexType(e,i).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=dA(t,null,"F"),i=ys(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(s=>{const a=rn(...s);return this.Ni.getDocuments(e,a).next(d=>this.indexManager.getMinOffset(e,i).next(h=>{const p=this.Fi(t,d);return this.$i(t,p,a,h.readTime)?this.ki(e,dA(t,null,"F")):this.Bi(e,p,t,h)}))})))}Oi(e,t,i,r){return RU(t)||r.isEqual(Bt.min())?this.Mi(e,t):this.Ni.getDocuments(e,i).next(s=>{const a=this.Fi(t,s);return this.$i(t,a,i,r)?this.Mi(e,t):(uO()<=_r.in.DEBUG&&Ke("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),wO(t)),this.Bi(e,a,t,lU(r,-1)))})}Fi(e,t){let i=new zn(NU(e));return t.forEach((r,s)=>{CO(e,s)&&(i=i.add(s))}),i}$i(e,t,i,r){if(null===e.limit)return!1;if(i.size!==t.size)return!0;const s="F"===e.limitType?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Mi(e,t){return uO()<=_r.in.DEBUG&&Ke("QueryEngine","Using full collection scan to execute query:",wO(t)),this.Ni.getDocumentsMatchingQuery(e,t,co.min())}Bi(e,t,i,r){return this.Ni.getDocumentsMatchingQuery(e,i,r).next(s=>(t.forEach(a=>{s=s.insert(a.key,a)}),s))}}class fY{constructor(e,t,i,r){this.persistence=e,this.Li=t,this.It=r,this.Ui=new ki(Zt),this.qi=new $d(s=>Sp(s),ow),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(i)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new z$(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ui))}}function q$(n,e,t,i){return new fY(n,e,t,i)}function Y$(n,e){return $O.apply(this,arguments)}function $O(){return $O=(0,ee.Z)(function*(n,e){const t=at(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,t.Qi(e),t.mutationQueue.getAllMutationBatches(i))).next(s=>{const a=[],d=[];let h=rn();for(const p of r){a.push(p.batchId);for(const g of p.mutations)h=h.add(g.key)}for(const p of s){d.push(p.batchId);for(const g of p.mutations)h=h.add(g.key)}return t.localDocuments.getDocuments(i,h).next(p=>({ji:p,removedBatchIds:a,addedBatchIds:d}))})})}),$O.apply(this,arguments)}function pY(n,e){const t=at(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),s=t.Gi.newChangeBuffer({trackRemovals:!0});return function(a,d,h,p){const g=h.batch,v=g.keys();let w=pe.resolve();return v.forEach(D=>{w=w.next(()=>p.getEntry(d,D)).next(A=>{const x=h.docVersions.get(D);Lt(null!==x),A.version.compareTo(x)<0&&(g.applyToRemoteDocument(A,h),A.isValidDocument()&&(A.setReadTime(h.commitVersion),p.addEntry(A)))})}),w.next(()=>a.mutationQueue.removeMutationBatch(d,g))}(t,i,e,s).next(()=>s.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(a){let d=rn();for(let h=0;h<a.mutationResults.length;++h)a.mutationResults[h].transformResults.length>0&&(d=d.add(a.batch.mutations[h].key));return d}(e))).next(()=>t.localDocuments.getDocuments(i,r))})}function Z$(n){const e=at(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function mY(n,e){const t=at(n),i=e.snapshotVersion;let r=t.Ui;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const a=t.Gi.newChangeBuffer({trackRemovals:!0});r=t.Ui;const d=[];e.targetChanges.forEach((g,v)=>{const w=r.get(v);if(!w)return;d.push(t.Cs.removeMatchingKeys(s,g.removedDocuments,v).next(()=>t.Cs.addMatchingKeys(s,g.addedDocuments,v)));let D=w.withSequenceNumber(s.currentSequenceNumber);var A,x,k;e.targetMismatches.has(v)?D=D.withResumeToken(cr.EMPTY_BYTE_STRING,Bt.min()).withLastLimboFreeSnapshotVersion(Bt.min()):g.resumeToken.approximateByteSize()>0&&(D=D.withResumeToken(g.resumeToken,i)),r=r.insert(v,D),x=D,k=g,(0===(A=w).resumeToken.approximateByteSize()||x.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=3e8||k.addedDocuments.size+k.modifiedDocuments.size+k.removedDocuments.size>0)&&d.push(t.Cs.updateTargetData(s,D))});let h=Ws(),p=rn();if(e.documentUpdates.forEach(g=>{e.resolvedLimboDocuments.has(g)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(s,g))}),d.push(K$(s,a,e.documentUpdates).next(g=>{h=g.Wi,p=g.zi})),!i.isEqual(Bt.min())){const g=t.Cs.getLastRemoteSnapshotVersion(s).next(v=>t.Cs.setTargetsMetadata(s,s.currentSequenceNumber,i));d.push(g)}return pe.waitFor(d).next(()=>a.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,h,p)).next(()=>h)}).then(s=>(t.Ui=r,s))}function K$(n,e,t){let i=rn(),r=rn();return t.forEach(s=>i=i.add(s)),e.getEntries(n,i).next(s=>{let a=Ws();return t.forEach((d,h)=>{const p=s.get(d);h.isFoundDocument()!==p.isFoundDocument()&&(r=r.add(d)),h.isNoDocument()&&h.version.isEqual(Bt.min())?(e.removeEntry(d,h.readTime),a=a.insert(d,h)):!p.isValidDocument()||h.version.compareTo(p.version)>0||0===h.version.compareTo(p.version)&&p.hasPendingWrites?(e.addEntry(h),a=a.insert(d,h)):Ke("LocalStore","Ignoring outdated watch update for ",d,". Current version:",p.version," Watch version:",h.version)}),{Wi:a,zi:r}})}function gY(n,e){const t=at(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function Ly(n,e){const t=at(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.Cs.getTargetData(i,e).next(s=>s?(r=s,pe.resolve(r)):t.Cs.allocateTargetId(i).next(a=>(r=new Hd(e,a,0,i.currentSequenceNumber),t.Cs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=t.Ui.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.Ui=t.Ui.insert(i.targetId,i),t.qi.set(e,i.targetId)),i})}function By(n,e,t){return HO.apply(this,arguments)}function HO(){return HO=(0,ee.Z)(function*(n,e,t){const i=at(n),r=i.Ui.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",s,a=>i.persistence.referenceDelegate.removeTarget(a,r)))}catch(a){if(!Nd(a))throw a;Ke("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}i.Ui=i.Ui.remove(e),i.qi.delete(r.target)}),HO.apply(this,arguments)}function DA(n,e,t){const i=at(n);let r=Bt.min(),s=rn();return i.persistence.runTransaction("Execute query","readonly",a=>function(d,h,p){const g=at(d),v=g.qi.get(p);return void 0!==v?pe.resolve(g.Ui.get(v)):g.Cs.getTargetData(h,p)}(i,a,ys(e)).next(d=>{if(d)return r=d.lastLimboFreeSnapshotVersion,i.Cs.getMatchingKeysForTargetId(a,d.targetId).next(h=>{s=h})}).next(()=>i.Li.getDocumentsMatchingQuery(a,e,t?r:Bt.min(),t?s:rn())).next(d=>(J$(i,PU(e),d),{documents:d,Hi:s})))}function Q$(n,e){const t=at(n),i=at(t.Cs),r=t.Ui.get(e);return r?Promise.resolve(r.target):t.persistence.runTransaction("Get target data","readonly",s=>i.se(s,e).next(a=>a?a.target:null))}function X$(n,e){const t=at(n),i=t.Ki.get(e)||Bt.min();return t.persistence.runTransaction("Get new document changes","readonly",r=>t.Gi.getAllFromCollectionGroup(r,e,lU(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(J$(t,e,r),r))}function J$(n,e,t){let i=n.Ki.get(e)||Bt.min();t.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),n.Ki.set(e,i)}function zO(){return zO=(0,ee.Z)(function*(n,e,t,i){const r=at(n);let s=rn(),a=Ws();for(const p of t){const g=e.Ji(p.metadata.name);p.document&&(s=s.add(g));const v=e.Yi(p);v.setReadTime(e.Xi(p.metadata.readTime)),a=a.insert(g,v)}const d=r.Gi.newChangeBuffer({trackRemovals:!0}),h=yield Ly(r,(p=i,ys(Dy(En.fromString(`__bundle__/docs/${p}`)))));var p;return r.persistence.runTransaction("Apply bundle documents","readwrite",p=>K$(p,d,a).next(g=>(d.apply(p),g)).next(g=>r.Cs.removeMatchingKeysForTargetId(p,h.targetId).next(()=>r.Cs.addMatchingKeys(p,s,h.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(p,g.Wi,g.zi)).next(()=>g.Wi)))}),zO.apply(this,arguments)}function yY(n,e){return jO.apply(this,arguments)}function jO(){return jO=(0,ee.Z)(function*(n,e,t=rn()){const i=yield Ly(n,ys(OO(e.bundledQuery))),r=at(n);return r.persistence.runTransaction("Save named query","readwrite",s=>{const a=vr(e.readTime);if(i.snapshotVersion.compareTo(a)>=0)return r.Ns.saveNamedQuery(s,e);const d=i.withResumeToken(cr.EMPTY_BYTE_STRING,a);return r.Ui=r.Ui.insert(d.targetId,d),r.Cs.updateTargetData(s,d).next(()=>r.Cs.removeMatchingKeysForTargetId(s,i.targetId)).next(()=>r.Cs.addMatchingKeys(s,t,i.targetId)).next(()=>r.Ns.saveNamedQuery(s,e))})}),jO.apply(this,arguments)}function e3(n,e){return`firestore_clients_${n}_${e}`}function t3(n,e,t){let i=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(i+=`_${e.uid}`),i}function GO(n,e){return`firestore_targets_${n}_${e}`}class AA{constructor(e,t,i,r){this.user=e,this.batchId=t,this.state=i,this.error=r}static Zi(e,t,i){const r=JSON.parse(i);let s,a="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return a&&r.error&&(a="string"==typeof r.error.message&&"string"==typeof r.error.code,a&&(s=new Ue(r.error.code,r.error.message))),a?new AA(e,t,r.state,s):(Vi("SharedClientState",`Failed to parse mutation state for ID '${t}': ${i}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Iw{constructor(e,t,i){this.targetId=e,this.state=t,this.error=i}static Zi(e,t){const i=JSON.parse(t);let r,s="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code,s&&(r=new Ue(i.error.code,i.error.message))),s?new Iw(e,i.state,r):(Vi("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class xA{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Zi(e,t){const i=JSON.parse(t);let r="object"==typeof i&&i.activeTargetIds instanceof Array,s=mA();for(let a=0;r&&a<i.activeTargetIds.length;++a)r=_U(i.activeTargetIds[a]),s=s.add(i.activeTargetIds[a]);return r?new xA(e,s):(Vi("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class WO{constructor(e,t){this.clientId=e,this.onlineState=t}static Zi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new WO(t.clientId,t.onlineState):(Vi("SharedClientState",`Failed to parse online state: ${e}`),null)}}class qO{constructor(){this.activeTargetIds=mA()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class YO{constructor(e,t,i,r,s){this.window=e,this.Hs=t,this.persistenceKey=i,this.sr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new ki(Zt),this.started=!1,this.cr=[];const a=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.ar=e3(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new qO),this.lr=new RegExp(`^firestore_clients_${a}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${a}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${a}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(d){return`firestore_bundle_loaded_v2_${d}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,ee.Z)(function*(){const t=yield e.syncEngine.vi();for(const r of t){if(r===e.sr)continue;const s=e.getItem(e3(e.persistenceKey,r));if(s){const a=xA.Zi(r,s);a&&(e.ur=e.ur.insert(a.clientId,a))}}e.gr();const i=e.storage.getItem(e.wr);if(i){const r=e.yr(i);r&&e.pr(r)}for(const r of e.cr)e.rr(r);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let t=!1;return this.ur.forEach((i,r)=>{r.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,t,i){this.Tr(e,t,i),this.Er(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(GO(this.persistenceKey,e));if(i){const r=Iw.Zi(e,i);r&&(t=r.state)}}return this.Ar.er(e),this.gr(),t}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(GO(this.persistenceKey,e))}updateQueryState(e,t,i){this.Rr(e,t,i)}handleUserChange(e,t,i){t.forEach(r=>{this.Er(r)}),this.currentUser=e,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Ke("SharedClientState","READ",e,t),t}setItem(e,t){Ke("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Ke("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){var t=this;const i=e;if(i.storageArea===this.storage){if(Ke("SharedClientState","EVENT",i.key,i.newValue),i.key===this.ar)return void Vi("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,ee.Z)(function*(){if(t.started){if(null!==i.key)if(t.lr.test(i.key)){if(null==i.newValue){const r=t.vr(i.key);return t.Vr(r,null)}{const r=t.Sr(i.key,i.newValue);if(r)return t.Vr(r.clientId,r)}}else if(t.dr.test(i.key)){if(null!==i.newValue){const r=t.Dr(i.key,i.newValue);if(r)return t.Cr(r)}}else if(t._r.test(i.key)){if(null!==i.newValue){const r=t.Nr(i.key,i.newValue);if(r)return t.kr(r)}}else if(i.key===t.wr){if(null!==i.newValue){const r=t.yr(i.newValue);if(r)return t.pr(r)}}else if(i.key===t.hr){const r=function(s){let a=Gs.at;if(null!=s)try{const d=JSON.parse(s);Lt("number"==typeof d),a=d}catch(d){Vi("SharedClientState","Failed to read sequence number from WebStorage",d)}return a}(i.newValue);r!==Gs.at&&t.sequenceNumberHandler(r)}else if(i.key===t.mr){const r=t.Or(i.newValue);yield Promise.all(r.map(s=>t.syncEngine.Mr(s)))}}else t.cr.push(i)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,t,i){const r=new AA(this.currentUser,e,t,i),s=t3(this.persistenceKey,this.currentUser,e);this.setItem(s,r.tr())}Er(e){const t=t3(this.persistenceKey,this.currentUser,e);this.removeItem(t)}br(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:e}))}Rr(e,t,i){const r=GO(this.persistenceKey,e),s=new Iw(e,t,i);this.setItem(r,s.tr())}Pr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}vr(e){const t=this.lr.exec(e);return t?t[1]:null}Sr(e,t){const i=this.vr(e);return xA.Zi(i,t)}Dr(e,t){const i=this.dr.exec(e),r=Number(i[1]);return AA.Zi(new yr(void 0!==i[2]?i[2]:null),r,t)}Nr(e,t){const i=this._r.exec(e),r=Number(i[1]);return Iw.Zi(r,t)}yr(e){return WO.Zi(e)}Or(e){return JSON.parse(e)}Cr(e){var t=this;return(0,ee.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Fr(e.batchId,e.state,e.error);Ke("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,t){const i=t?this.ur.insert(e,t):this.ur.remove(e),r=this.Ir(this.ur),s=this.Ir(i),a=[],d=[];return s.forEach(h=>{r.has(h)||a.push(h)}),r.forEach(h=>{s.has(h)||d.push(h)}),this.syncEngine.Br(a,d).then(()=>{this.ur=i})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let t=mA();return e.forEach((i,r)=>{t=t.unionWith(r.activeTargetIds)}),t}}class n3{constructor(){this.Lr=new qO,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.Lr.er(e),this.Ur[e]||"not-current"}updateQueryState(e,t,i){this.Ur[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.Ur[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new qO,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class vY{qr(e){}shutdown(){}}class i3{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){Ke("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){Ke("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const bY={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class EY{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class wY extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,t,i,r,s){const a=this.ho(e,t);Ke("RestConnection","Sending: ",a,i);const d={};return this.lo(d,r,s),this.fo(e,a,d,i).then(h=>(Ke("RestConnection","Received: ",h),h),h=>{throw _p("RestConnection",`${e} failed with error: `,h,"url: ",a,"request:",i),h})}_o(e,t,i,r,s,a){return this.ao(e,t,i,r,s)}lo(e,t,i){e["X-Goog-Api-Client"]="gl-js/ fire/"+wy,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((r,s)=>e[s]=r),i&&i.headers.forEach((r,s)=>e[s]=r)}ho(e,t){return`${this.oo}/v1/${t}:${bY[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,i,r){return new Promise((s,a)=>{const d=new b5;d.setWithCredentials(!0),d.listenOnce(_5.COMPLETE,()=>{var p;try{switch(d.getLastErrorCode()){case cO.NO_ERROR:const g=d.getResponseJson();Ke("Connection","XHR received:",JSON.stringify(g)),s(g);break;case cO.TIMEOUT:Ke("Connection",'RPC "'+e+'" timed out'),a(new Ue(be.DEADLINE_EXCEEDED,"Request time out"));break;case cO.HTTP_ERROR:const v=d.getStatus();if(Ke("Connection",'RPC "'+e+'" failed with status:',v,"response text:",d.getResponseText()),v>0){let w=d.getResponseJson();Array.isArray(w)&&(w=w[0]);const D=null===(p=w)||void 0===p?void 0:p.error;if(D&&D.status&&D.message){const A=function(x){const k=x.toLowerCase().replace(/_/g,"-");return Object.values(be).indexOf(k)>=0?k:be.UNKNOWN}(D.status);a(new Ue(A,D.message))}else a(new Ue(be.UNKNOWN,"Server responded with status "+d.getStatus()))}else a(new Ue(be.UNAVAILABLE,"Connection failed."));break;default:bt()}}finally{Ke("Connection",'RPC "'+e+'" completed.')}});const h=JSON.stringify(r);d.send(t,"POST",h,i,15)})}wo(e,t,i){const r=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=m5(),a=g5(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(d.xmlHttpFactory=new v5({})),this.lo(d.initMessageHeaders,t,i),d.encodeInitMessageHeaders=!0;const h=r.join("");Ke("Connection","Creating WebChannel: "+h,d);const p=s.createWebChannel(h,d);let g=!1,v=!1;const w=new EY({Hr:A=>{v?Ke("Connection","Not sending because WebChannel is closed:",A):(g||(Ke("Connection","Opening WebChannel transport."),p.open(),g=!0),Ke("Connection","WebChannel sending:",A),p.send(A))},Jr:()=>p.close()}),D=(A,x,k)=>{A.listen(x,F=>{try{k(F)}catch(L){setTimeout(()=>{throw L},0)}})};return D(p,nA.EventType.OPEN,()=>{v||Ke("Connection","WebChannel transport opened.")}),D(p,nA.EventType.CLOSE,()=>{v||(v=!0,Ke("Connection","WebChannel transport closed"),w.io())}),D(p,nA.EventType.ERROR,A=>{v||(v=!0,_p("Connection","WebChannel transport errored:",A),w.io(new Ue(be.UNAVAILABLE,"The operation could not be completed")))}),D(p,nA.EventType.MESSAGE,A=>{var x;if(!v){const k=A.data[0];Lt(!!k);const F=k,L=F.error||(null===(x=F[0])||void 0===x?void 0:x.error);if(L){Ke("Connection","WebChannel received error:",L);const U=L.status;let te=function(ue){const ye=Qi[ue];if(void 0!==ye)return KU(ye)}(U),oe=L.message;void 0===te&&(te=be.INTERNAL,oe="Unknown error status: "+U+" with message "+L.message),v=!0,w.io(new Ue(te,oe)),p.close()}else Ke("Connection","WebChannel received:",k),w.ro(k)}}),D(a,y5.STAT_EVENT,A=>{A.stat===nU.PROXY?Ke("Connection","Detected buffering proxy"):A.stat===nU.NOPROXY&&Ke("Connection","Detected no buffering proxy")}),setTimeout(()=>{w.so()},0),w}}function r3(){return typeof window<"u"?window:null}function MA(){return typeof document<"u"?document:null}function Tw(n){return new f8(n,!0)}class ZO{constructor(e,t,i=1e3,r=1.5,s=6e4){this.Hs=e,this.timerId=t,this.mo=i,this.yo=r,this.po=s,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),i=Math.max(0,Date.now()-this.Eo),r=Math.max(0,t-i);r>0&&Ke("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,r,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class s3{constructor(e,t,i,r,s,a,d,h){this.Hs=e,this.vo=i,this.Vo=r,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=d,this.listener=h,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new ZO(e,t)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return(0,ee.Z)(function*(){e.No()&&(yield e.close(0))})()}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return(0,ee.Z)(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,t){var i=this;return(0,ee.Z)(function*(){i.Lo(),i.Uo(),i.xo.cancel(),i.So++,4!==e?i.xo.reset():t&&t.code===be.RESOURCE_EXHAUSTED?(Vi(t.toString()),Vi("Using maximum backoff delay to prevent overloading the backend."),i.xo.Ao()):t&&t.code===be.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.qo(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.Zr(t)})()}qo(){}auth(){this.state=1;const e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.So===t&&this.Go(i,r)},i=>{e(()=>{const r=new Ue(be.UNKNOWN,"Fetching auth token failed: "+i.message);return this.Qo(r)})})}Go(e,t){const i=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr(()=>{i(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(r=>{i(()=>this.Qo(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Oo(){var e=this;this.state=5,this.xo.Ro((0,ee.Z)(function*(){e.state=0,e.start()}))}Qo(e){return Ke("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget(()=>this.So===e?t():(Ke("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class CY extends s3{constructor(e,t,i,r,s,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,a),this.It=s}jo(e,t){return this.connection.wo("Listen",e,t)}onMessage(e){this.xo.reset();const t=function g8(n,e){let t;if("targetChange"in e){const i="NO_CHANGE"===(h=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===h?1:"REMOVE"===h?2:"CURRENT"===h?3:"RESET"===h?4:bt(),r=e.targetChange.targetIds||[],s=function(h,p){return h.gt?(Lt(void 0===p||"string"==typeof p),cr.fromBase64String(p||"")):(Lt(void 0===p||p instanceof Uint8Array),cr.fromUint8Array(p||new Uint8Array))}(n,e.targetChange.resumeToken),a=e.targetChange.cause,d=a&&function(h){const p=void 0===h.code?be.UNKNOWN:KU(h.code);return new Ue(p,h.message||"")}(a);t=new t$(i,r,s,d||null)}else if("documentChange"in e){const i=e.documentChange,r=Bl(n,i.document.name),s=vr(i.document.updateTime),a=new Lr({mapValue:{fields:i.document.fields}}),d=ii.newFoundDocument(r,s,a);t=new gA(i.targetIds||[],i.removedTargetIds||[],d.key,d)}else if("documentDelete"in e){const i=e.documentDelete,r=Bl(n,i.document),s=i.readTime?vr(i.readTime):Bt.min(),a=ii.newNoDocument(r,s);t=new gA([],i.removedTargetIds||[],a.key,a)}else if("documentRemove"in e){const i=e.documentRemove,r=Bl(n,i.document);t=new gA([],i.removedTargetIds||[],r,null)}else{if(!("filter"in e))return bt();{const i=e.filter,s=new s8(i.count||0);t=new e$(i.targetId,s)}}var h;return t}(this.It,e),i=function(r){if(!("targetChange"in r))return Bt.min();const s=r.targetChange;return s.targetIds&&s.targetIds.length?Bt.min():s.readTime?vr(s.readTime):Bt.min()}(e);return this.listener.Wo(t,i)}zo(e){const t={};t.database=gw(this.It),t.addTarget=function(r,s){let a;const d=s.target;return a=cA(d)?{documents:d$(r,d)}:{query:AO(r,d)},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?a.resumeToken=s$(r,s.resumeToken):s.snapshotVersion.compareTo(Bt.min())>0&&(a.readTime=pw(r,s.snapshotVersion.toTimestamp())),a}(this.It,e);const i=function y8(n,e){const t=function(i,r){switch(r){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return bt()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);i&&(t.labels=i),this.Bo(t)}Ho(e){const t={};t.database=gw(this.It),t.removeTarget=e,this.Bo(t)}}class SY extends s3{constructor(e,t,i,r,s,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,a),this.It=s,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Jo&&this.Xo([])}jo(e,t){return this.connection.wo("Write",e,t)}onMessage(e){if(Lt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const t=function _8(n,e){return n&&n.length>0?(Lt(void 0!==e),n.map(t=>function(i,r){let s=vr(i.updateTime?i.updateTime:r);return s.isEqual(Bt.min())&&(s=vr(r)),new n8(s,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),i=vr(e.commitTime);return this.listener.Zo(i,t)}return Lt(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=gw(this.It),this.Bo(e)}Xo(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>_w(this.It,i))};this.Bo(t)}}class IY extends class{}{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.It=r,this.nu=!1}su(){if(this.nu)throw new Ue(be.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,t,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,s])=>this.connection.ao(e,t,i,r,s)).catch(r=>{throw"FirebaseError"===r.name?(r.code===be.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Ue(be.UNKNOWN,r.toString())})}_o(e,t,i,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection._o(e,t,i,s,a,r)).catch(s=>{throw"FirebaseError"===s.name?(s.code===be.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ue(be.UNKNOWN,s.toString())})}terminate(){this.nu=!0}}class DY{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(Vi(t),this.ou=!1):Ke("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class AY{constructor(e,t,i,r,s){var a=this;this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=s,this.mu.qr(d=>{i.enqueueAndForget((0,ee.Z)(function*(){var h;ru(a)&&(Ke("RemoteStore","Restarting streams for network reachability change."),yield(h=(0,ee.Z)(function*(p){const g=at(p);g._u.add(4),yield Vy(g),g.gu.set("Unknown"),g._u.delete(4),yield Dw(g)}),function(p){return h.apply(this,arguments)})(a))}))}),this.gu=new DY(i,r)}}function Dw(n){return QO.apply(this,arguments)}function QO(){return QO=(0,ee.Z)(function*(n){if(ru(n))for(const e of n.wu)yield e(!0)}),QO.apply(this,arguments)}function Vy(n){return XO.apply(this,arguments)}function XO(){return XO=(0,ee.Z)(function*(n){for(const e of n.wu)yield e(!1)}),XO.apply(this,arguments)}function kA(n,e){const t=at(n);t.du.has(e.targetId)||(t.du.set(e.targetId,e),tP(t)?eP(t):$y(t).ko()&&JO(t,e))}function Aw(n,e){const t=at(n),i=$y(t);t.du.delete(e),i.ko()&&o3(t,e),0===t.du.size&&(i.ko()?i.Fo():ru(t)&&t.gu.set("Unknown"))}function JO(n,e){n.yu.Mt(e.targetId),$y(n).zo(e)}function o3(n,e){n.yu.Mt(e),$y(n).Ho(e)}function eP(n){n.yu=new u8({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),se:e=>n.du.get(e)||null}),$y(n).start(),n.gu.uu()}function tP(n){return ru(n)&&!$y(n).No()&&n.du.size>0}function ru(n){return 0===at(n)._u.size}function a3(n){n.yu=void 0}function xY(n){return nP.apply(this,arguments)}function nP(){return nP=(0,ee.Z)(function*(n){n.du.forEach((e,t)=>{JO(n,e)})}),nP.apply(this,arguments)}function MY(n,e){return iP.apply(this,arguments)}function iP(){return iP=(0,ee.Z)(function*(n,e){a3(n),tP(n)?(n.gu.hu(e),eP(n)):n.gu.set("Unknown")}),iP.apply(this,arguments)}function kY(n,e,t){return rP.apply(this,arguments)}function rP(){return rP=(0,ee.Z)(function*(n,e,t){if(n.gu.set("Online"),e instanceof t$&&2===e.state&&e.cause)try{yield(i=(0,ee.Z)(function*(r,s){const a=s.cause;for(const d of s.targetIds)r.du.has(d)&&(yield r.remoteSyncer.rejectListen(d,a),r.du.delete(d),r.yu.removeTarget(d))}),function(r,s){return i.apply(this,arguments)})(n,e)}catch(i){Ke("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield RA(n,i)}else if(e instanceof gA?n.yu.Gt(e):e instanceof e$?n.yu.Yt(e):n.yu.Wt(e),!t.isEqual(Bt.min()))try{const i=yield Z$(n.localStore);t.compareTo(i)>=0&&(yield function(r,s){const a=r.yu.te(s);return a.targetChanges.forEach((d,h)=>{if(d.resumeToken.approximateByteSize()>0){const p=r.du.get(h);p&&r.du.set(h,p.withResumeToken(d.resumeToken,s))}}),a.targetMismatches.forEach(d=>{const h=r.du.get(d);if(!h)return;r.du.set(d,h.withResumeToken(cr.EMPTY_BYTE_STRING,h.snapshotVersion)),o3(r,d);const p=new Hd(h.target,d,1,h.sequenceNumber);JO(r,p)}),r.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(i){Ke("RemoteStore","Failed to raise snapshot:",i),yield RA(n,i)}var i}),rP.apply(this,arguments)}function RA(n,e,t){return sP.apply(this,arguments)}function sP(){return sP=(0,ee.Z)(function*(n,e,t){if(!Nd(e))throw e;n._u.add(1),yield Vy(n),n.gu.set("Offline"),t||(t=()=>Z$(n.localStore)),n.asyncQueue.enqueueRetryable((0,ee.Z)(function*(){Ke("RemoteStore","Retrying IndexedDB access"),yield t(),n._u.delete(1),yield Dw(n)}))}),sP.apply(this,arguments)}function l3(n,e){return e().catch(t=>RA(n,t,e))}function Uy(n){return oP.apply(this,arguments)}function oP(){return oP=(0,ee.Z)(function*(n){const e=at(n),t=Gd(e);let i=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;RY(e);)try{const r=yield gY(e.localStore,i);if(null===r){0===e.fu.length&&t.Fo();break}i=r.batchId,OY(e,r)}catch(r){yield RA(e,r)}c3(e)&&u3(e)}),oP.apply(this,arguments)}function RY(n){return ru(n)&&n.fu.length<10}function OY(n,e){n.fu.push(e);const t=Gd(n);t.ko()&&t.Yo&&t.Xo(e.mutations)}function c3(n){return ru(n)&&!Gd(n).No()&&n.fu.length>0}function u3(n){Gd(n).start()}function PY(n){return aP.apply(this,arguments)}function aP(){return aP=(0,ee.Z)(function*(n){Gd(n).eu()}),aP.apply(this,arguments)}function NY(n){return lP.apply(this,arguments)}function lP(){return lP=(0,ee.Z)(function*(n){const e=Gd(n);for(const t of n.fu)e.Xo(t.mutations)}),lP.apply(this,arguments)}function FY(n,e,t){return cP.apply(this,arguments)}function cP(){return cP=(0,ee.Z)(function*(n,e,t){const i=n.fu.shift(),r=kO.from(i,e,t);yield l3(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield Uy(n)}),cP.apply(this,arguments)}function LY(n,e){return uP.apply(this,arguments)}function uP(){return uP=(0,ee.Z)(function*(n,e){var t;e&&Gd(n).Yo&&(yield(t=(0,ee.Z)(function*(i,r){if(ZU(s=r.code)&&s!==be.ABORTED){const a=i.fu.shift();Gd(i).Mo(),yield l3(i,()=>i.remoteSyncer.rejectFailedWrite(a.batchId,r)),yield Uy(i)}var s}),function(i,r){return t.apply(this,arguments)})(n,e)),c3(n)&&u3(n)}),uP.apply(this,arguments)}function d3(n,e){return dP.apply(this,arguments)}function dP(){return dP=(0,ee.Z)(function*(n,e){const t=at(n);t.asyncQueue.verifyOperationInProgress(),Ke("RemoteStore","RemoteStore received new credentials");const i=ru(t);t._u.add(3),yield Vy(t),i&&t.gu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t._u.delete(3),yield Dw(t)}),dP.apply(this,arguments)}function hP(n,e){return fP.apply(this,arguments)}function fP(){return fP=(0,ee.Z)(function*(n,e){const t=at(n);e?(t._u.delete(2),yield Dw(t)):e||(t._u.add(2),yield Vy(t),t.gu.set("Unknown"))}),fP.apply(this,arguments)}function $y(n){return n.pu||(n.pu=function(e,t,i){const r=at(e);return r.su(),new CY(t,r.connection,r.authCredentials,r.appCheckCredentials,r.It,i)}(n.datastore,n.asyncQueue,{Yr:xY.bind(null,n),Zr:MY.bind(null,n),Wo:kY.bind(null,n)}),n.wu.push(function(){var e=(0,ee.Z)(function*(t){t?(n.pu.Mo(),tP(n)?eP(n):n.gu.set("Unknown")):(yield n.pu.stop(),a3(n))});return function(t){return e.apply(this,arguments)}}())),n.pu}function Gd(n){return n.Iu||(n.Iu=function(e,t,i){const r=at(e);return r.su(),new SY(t,r.connection,r.authCredentials,r.appCheckCredentials,r.It,i)}(n.datastore,n.asyncQueue,{Yr:PY.bind(null,n),Zr:LY.bind(null,n),tu:NY.bind(null,n),Zo:FY.bind(null,n)}),n.wu.push(function(){var e=(0,ee.Z)(function*(t){t?(n.Iu.Mo(),yield Uy(n)):(yield n.Iu.stop(),n.fu.length>0&&(Ke("RemoteStore",`Stopping write stream with ${n.fu.length} pending writes`),n.fu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Iu}class pP{constructor(e,t,i,r,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new lr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}static createAndSchedule(e,t,i,r,s){const a=Date.now()+i,d=new pP(e,t,a,r,s);return d.start(i),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ue(be.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Hy(n,e){if(Vi("AsyncQueue",`${e}: ${n}`),Nd(n))return new Ue(be.UNAVAILABLE,`${e}: ${n}`);throw n}class zy{constructor(e){this.comparator=e?(t,i)=>e(t,i)||st.comparator(t.key,i.key):(t,i)=>st.comparator(t.key,i.key),this.keyedMap=uw(),this.sortedSet=new ki(this.comparator)}static emptySet(e){return new zy(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof zy)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const i=new zy;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class h3{constructor(){this.Tu=new ki(st.comparator)}track(e){const t=e.doc.key,i=this.Tu.get(t);i?0!==e.type&&3===i.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==i.type?this.Tu=this.Tu.insert(t,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.Tu=this.Tu.remove(t):1===e.type&&2===i.type?this.Tu=this.Tu.insert(t,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):bt():this.Tu=this.Tu.insert(t,e)}Eu(){const e=[];return this.Tu.inorderTraversal((t,i)=>{e.push(i)}),e}}class jy{constructor(e,t,i,r,s,a,d,h,p){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=d,this.excludesMetadataChanges=h,this.hasCachedResults=p}static fromInitialDocuments(e,t,i,r,s){const a=[];return t.forEach(d=>{a.push({type:0,doc:d})}),new jy(e,t,zy.emptySet(t),a,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&aw(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}}class BY{constructor(){this.Au=void 0,this.listeners=[]}}class VY{constructor(){this.queries=new $d(e=>OU(e),aw),this.onlineState="Unknown",this.Ru=new Set}}function mP(n,e){return gP.apply(this,arguments)}function gP(){return gP=(0,ee.Z)(function*(n,e){const t=at(n),i=e.query;let r=!1,s=t.queries.get(i);if(s||(r=!0,s=new BY),r)try{s.Au=yield t.onListen(i)}catch(a){const d=Hy(a,`Initialization of query '${wO(e.query)}' failed`);return void e.onError(d)}t.queries.set(i,s),s.listeners.push(e),e.bu(t.onlineState),s.Au&&e.Pu(s.Au)&&vP(t)}),gP.apply(this,arguments)}function _P(n,e){return yP.apply(this,arguments)}function yP(){return yP=(0,ee.Z)(function*(n,e){const t=at(n),i=e.query;let r=!1;const s=t.queries.get(i);if(s){const a=s.listeners.indexOf(e);a>=0&&(s.listeners.splice(a,1),r=0===s.listeners.length)}if(r)return t.queries.delete(i),t.onUnlisten(i)}),yP.apply(this,arguments)}function UY(n,e){const t=at(n);let i=!1;for(const r of e){const a=t.queries.get(r.query);if(a){for(const d of a.listeners)d.Pu(r)&&(i=!0);a.Au=r}}i&&vP(t)}function $Y(n,e,t){const i=at(n),r=i.queries.get(e);if(r)for(const s of r.listeners)s.onError(t);i.queries.delete(e)}function vP(n){n.Ru.forEach(e=>{e.next()})}class bP{constructor(e,t,i){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=i||{}}Pu(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)3!==r.type&&i.push(r);e=new jy(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){return!e.fromCache||(!this.options.Nu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=jy.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}class HY{constructor(e,t){this.ku=e,this.byteLength=t}Ou(){return"metadata"in this.ku}}class f3{constructor(e){this.It=e}Ji(e){return Bl(this.It,e)}Yi(e){return e.metadata.exists?u$(this.It,e.document,!1):ii.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return vr(e)}}class zY{constructor(e,t,i){this.Mu=e,this.localStore=t,this.It=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=p3(e)}Fu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.ku.namedQuery)this.queries.push(e.ku.namedQuery);else if(e.ku.documentMetadata){this.documents.push({metadata:e.ku.documentMetadata}),e.ku.documentMetadata.exists||++t;const i=En.fromString(e.ku.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else e.ku.document&&(this.documents[this.documents.length-1].document=e.ku.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}$u(e){const t=new Map,i=new f3(this.It);for(const r of e)if(r.metadata.queries){const s=i.Ji(r.metadata.name);for(const a of r.metadata.queries){const d=(t.get(a)||rn()).add(s);t.set(a,d)}}return t}complete(){var e=this;return(0,ee.Z)(function*(){const t=yield function _Y(n,e,t,i){return zO.apply(this,arguments)}(e.localStore,new f3(e.It),e.documents,e.Mu.id),i=e.$u(e.documents);for(const r of e.queries)yield yY(e.localStore,r,i.get(r.name));return e.progress.taskState="Success",{progress:e.progress,Bu:e.collectionGroups,Lu:t}})()}}function p3(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class m3{constructor(e){this.key=e}}class g3{constructor(e){this.key=e}}class _3{constructor(e,t){this.query=e,this.Uu=t,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=rn(),this.mutatedKeys=rn(),this.Gu=NU(e),this.Qu=new zy(this.Gu)}get ju(){return this.Uu}Wu(e,t){const i=t?t.zu:new h3,r=t?t.Qu:this.Qu;let s=t?t.mutatedKeys:this.mutatedKeys,a=r,d=!1;const h="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,p="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((g,v)=>{const w=r.get(g),D=CO(this.query,v)?v:null,A=!!w&&this.mutatedKeys.has(w.key),x=!!D&&(D.hasLocalMutations||this.mutatedKeys.has(D.key)&&D.hasCommittedMutations);let k=!1;w&&D?w.data.isEqual(D.data)?A!==x&&(i.track({type:3,doc:D}),k=!0):this.Hu(w,D)||(i.track({type:2,doc:D}),k=!0,(h&&this.Gu(D,h)>0||p&&this.Gu(D,p)<0)&&(d=!0)):!w&&D?(i.track({type:0,doc:D}),k=!0):w&&!D&&(i.track({type:1,doc:w}),k=!0,(h||p)&&(d=!0)),k&&(D?(a=a.add(D),s=x?s.add(g):s.delete(g)):(a=a.delete(g),s=s.delete(g)))}),null!==this.query.limit)for(;a.size>this.query.limit;){const g="F"===this.query.limitType?a.last():a.first();a=a.delete(g.key),s=s.delete(g.key),i.track({type:1,doc:g})}return{Qu:a,zu:i,$i:d,mutatedKeys:s}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i){const r=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const s=e.zu.Eu();s.sort((p,g)=>function(v,w){const D=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return bt()}};return D(v)-D(w)}(p.type,g.type)||this.Gu(p.doc,g.doc)),this.Ju(i);const a=t?this.Yu():[],d=0===this.Ku.size&&this.current?1:0,h=d!==this.qu;return this.qu=d,0!==s.length||h?{snapshot:new jy(this.query,e.Qu,r,s,e.mutatedKeys,0===d,h,!1,!!i&&i.resumeToken.approximateByteSize()>0),Xu:a}:{Xu:a}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new h3,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.Uu=this.Uu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Uu=this.Uu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=rn(),this.Qu.forEach(i=>{this.Zu(i.key)&&(this.Ku=this.Ku.add(i.key))});const t=[];return e.forEach(i=>{this.Ku.has(i)||t.push(new g3(i))}),this.Ku.forEach(i=>{e.has(i)||t.push(new m3(i))}),t}tc(e){this.Uu=e.Hi,this.Ku=rn();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ec(){return jy.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu,this.hasCachedResults)}}class jY{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class GY{constructor(e){this.key=e,this.nc=!1}}class WY{constructor(e,t,i,r,s,a){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.sc={},this.ic=new $d(d=>OU(d),aw),this.rc=new Map,this.oc=new Set,this.uc=new ki(st.comparator),this.cc=new Map,this.ac=new FO,this.hc={},this.lc=new Map,this.fc=Op.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function qY(n,e){return EP.apply(this,arguments)}function EP(){return EP=(0,ee.Z)(function*(n,e){const t=jP(n);let i,r;const s=t.ic.get(e);if(s)i=s.targetId,t.sharedClientState.addLocalQueryTarget(i),r=s.view.ec();else{const a=yield Ly(t.localStore,ys(e));t.isPrimaryClient&&kA(t.remoteStore,a);const d=t.sharedClientState.addLocalQueryTarget(a.targetId);i=a.targetId,r=yield wP(t,e,i,"current"===d,a.resumeToken)}return r}),EP.apply(this,arguments)}function wP(n,e,t,i,r){return CP.apply(this,arguments)}function CP(){return CP=(0,ee.Z)(function*(n,e,t,i,r){n._c=(v,w,D)=>{return(A=(0,ee.Z)(function*(x,k,F,L){let U=k.view.Wu(F);U.$i&&(U=yield DA(x.localStore,k.query,!1).then(({documents:ue})=>k.view.Wu(ue,U)));const te=L&&L.targetChanges.get(k.targetId),oe=k.view.applyChanges(U,x.isPrimaryClient,te);return OP(x,k.targetId,oe.Xu),oe.snapshot}),function(x,k,F,L){return A.apply(this,arguments)})(n,v,w,D);var A};const s=yield DA(n.localStore,e,!0),a=new _3(e,s.Hi),d=a.Wu(s.documents),h=fw.createSynthesizedTargetChangeForCurrentChange(t,i&&"Offline"!==n.onlineState,r),p=a.applyChanges(d,n.isPrimaryClient,h);OP(n,t,p.Xu);const g=new jY(e,t,a);return n.ic.set(e,g),n.rc.has(t)?n.rc.get(t).push(e):n.rc.set(t,[e]),p.snapshot}),CP.apply(this,arguments)}function YY(n,e){return SP.apply(this,arguments)}function SP(){return SP=(0,ee.Z)(function*(n,e){const t=at(n),i=t.ic.get(e),r=t.rc.get(i.targetId);if(r.length>1)return t.rc.set(i.targetId,r.filter(s=>!aw(s,e))),void t.ic.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(i.targetId),t.sharedClientState.isActiveQueryTarget(i.targetId)||(yield By(t.localStore,i.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(i.targetId),Aw(t.remoteStore,i.targetId),Gy(t,i.targetId)}).catch(Pd))):(Gy(t,i.targetId),yield By(t.localStore,i.targetId,!0))}),SP.apply(this,arguments)}function IP(){return IP=(0,ee.Z)(function*(n,e,t){const i=GP(n);try{const r=yield function(s,a){const d=at(s),h=mi.now(),p=a.reduce((w,D)=>w.add(D.key),rn());let g,v;return d.persistence.runTransaction("Locally write mutations","readwrite",w=>{let D=Ws(),A=rn();return d.Gi.getEntries(w,p).next(x=>{D=x,D.forEach((k,F)=>{F.isValidDocument()||(A=A.add(k))})}).next(()=>d.localDocuments.getOverlayedDocuments(w,D)).next(x=>{g=x;const k=[];for(const F of a){const L=r8(F,g.get(F.key).overlayedDocument);null!=L&&k.push(new iu(F.key,L,SU(L.value.mapValue),gi.exists(!0)))}return d.mutationQueue.addMutationBatch(w,h,k,a)}).next(x=>{v=x;const k=x.applyToLocalDocumentSet(g,A);return d.documentOverlayCache.saveOverlays(w,x.batchId,k)})}).then(()=>({batchId:v.batchId,changes:XU(g)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(s,a,d){let h=s.hc[s.currentUser.toKey()];h||(h=new ki(Zt)),h=h.insert(a,d),s.hc[s.currentUser.toKey()]=h}(i,r.batchId,t),yield su(i,r.changes),yield Uy(i.remoteStore)}catch(r){const s=Hy(r,"Failed to persist write");t.reject(s)}}),IP.apply(this,arguments)}function y3(n,e){return TP.apply(this,arguments)}function TP(){return TP=(0,ee.Z)(function*(n,e){const t=at(n);try{const i=yield mY(t.localStore,e);e.targetChanges.forEach((r,s)=>{const a=t.cc.get(s);a&&(Lt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?a.nc=!0:r.modifiedDocuments.size>0?Lt(a.nc):r.removedDocuments.size>0&&(Lt(a.nc),a.nc=!1))}),yield su(t,i,e)}catch(i){yield Pd(i)}}),TP.apply(this,arguments)}function v3(n,e,t){const i=at(n);if(i.isPrimaryClient&&0===t||!i.isPrimaryClient&&1===t){const r=[];i.ic.forEach((s,a)=>{const d=a.view.bu(e);d.snapshot&&r.push(d.snapshot)}),function(s,a){const d=at(s);d.onlineState=a;let h=!1;d.queries.forEach((p,g)=>{for(const v of g.listeners)v.bu(a)&&(h=!0)}),h&&vP(d)}(i.eventManager,e),r.length&&i.sc.Wo(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function KY(n,e,t){return DP.apply(this,arguments)}function DP(){return DP=(0,ee.Z)(function*(n,e,t){const i=at(n);i.sharedClientState.updateQueryState(e,"rejected",t);const r=i.cc.get(e),s=r&&r.key;if(s){let a=new ki(st.comparator);a=a.insert(s,ii.newNoDocument(s,Bt.min()));const d=rn().add(s),h=new hw(Bt.min(),new Map,new zn(Zt),a,d);yield y3(i,h),i.uc=i.uc.remove(s),i.cc.delete(e),PP(i)}else yield By(i.localStore,e,!1).then(()=>Gy(i,e,t)).catch(Pd)}),DP.apply(this,arguments)}function QY(n,e){return AP.apply(this,arguments)}function AP(){return AP=(0,ee.Z)(function*(n,e){const t=at(n),i=e.batch.batchId;try{const r=yield pY(t.localStore,e);RP(t,i,null),kP(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield su(t,r)}catch(r){yield Pd(r)}}),AP.apply(this,arguments)}function XY(n,e,t){return xP.apply(this,arguments)}function xP(){return xP=(0,ee.Z)(function*(n,e,t){const i=at(n);try{const r=yield function(s,a){const d=at(s);return d.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let p;return d.mutationQueue.lookupMutationBatch(h,a).next(g=>(Lt(null!==g),p=g.keys(),d.mutationQueue.removeMutationBatch(h,g))).next(()=>d.mutationQueue.performConsistencyCheck(h)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(h,p,a)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,p)).next(()=>d.localDocuments.getDocuments(h,p))})}(i.localStore,e);RP(i,e,t),kP(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield su(i,r)}catch(r){yield Pd(r)}}),xP.apply(this,arguments)}function MP(){return MP=(0,ee.Z)(function*(n,e){const t=at(n);ru(t.remoteStore)||Ke("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(s){const a=at(s);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",d=>a.mutationQueue.getHighestUnacknowledgedBatchId(d))}(t.localStore);if(-1===i)return void e.resolve();const r=t.lc.get(i)||[];r.push(e),t.lc.set(i,r)}catch(i){const r=Hy(i,"Initialization of waitForPendingWrites() operation failed");e.reject(r)}}),MP.apply(this,arguments)}function kP(n,e){(n.lc.get(e)||[]).forEach(t=>{t.resolve()}),n.lc.delete(e)}function RP(n,e,t){const i=at(n);let r=i.hc[i.currentUser.toKey()];if(r){const s=r.get(e);s&&(t?s.reject(t):s.resolve(),r=r.remove(e)),i.hc[i.currentUser.toKey()]=r}}function Gy(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.rc.get(e))n.ic.delete(i),t&&n.sc.wc(i,t);n.rc.delete(e),n.isPrimaryClient&&n.ac.ls(e).forEach(i=>{n.ac.containsKey(i)||b3(n,i)})}function b3(n,e){n.oc.delete(e.path.canonicalString());const t=n.uc.get(e);null!==t&&(Aw(n.remoteStore,t),n.uc=n.uc.remove(e),n.cc.delete(t),PP(n))}function OP(n,e,t){for(const i of t)i instanceof m3?(n.ac.addReference(i.key,e),eZ(n,i)):i instanceof g3?(Ke("SyncEngine","Document no longer in limbo: "+i.key),n.ac.removeReference(i.key,e),n.ac.containsKey(i.key)||b3(n,i.key)):bt()}function eZ(n,e){const t=e.key,i=t.path.canonicalString();n.uc.get(t)||n.oc.has(i)||(Ke("SyncEngine","New document in limbo: "+t),n.oc.add(i),PP(n))}function PP(n){for(;n.oc.size>0&&n.uc.size<n.maxConcurrentLimboResolutions;){const e=n.oc.values().next().value;n.oc.delete(e);const t=new st(En.fromString(e)),i=n.fc.next();n.cc.set(i,new GY(t)),n.uc=n.uc.insert(t,i),kA(n.remoteStore,new Hd(ys(Dy(t.path)),i,2,Gs.at))}}function su(n,e,t){return NP.apply(this,arguments)}function NP(){return NP=(0,ee.Z)(function*(n,e,t){const i=at(n),r=[],s=[],a=[];var d;i.ic.isEmpty()||(i.ic.forEach((d,h)=>{a.push(i._c(h,e,t).then(p=>{if((p||t)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(h.targetId,p?.fromCache?"not-current":"current"),p){r.push(p);const g=UO.Ci(h.targetId,p);s.push(g)}}))}),yield Promise.all(a),i.sc.Wo(r),yield(d=(0,ee.Z)(function*(h,p){const g=at(h);try{yield g.persistence.runTransaction("notifyLocalViewChanges","readwrite",v=>pe.forEach(p,w=>pe.forEach(w.Si,D=>g.persistence.referenceDelegate.addReference(v,w.targetId,D)).next(()=>pe.forEach(w.Di,D=>g.persistence.referenceDelegate.removeReference(v,w.targetId,D)))))}catch(v){if(!Nd(v))throw v;Ke("LocalStore","Failed to update sequence numbers: "+v)}for(const v of p){const w=v.targetId;if(!v.fromCache){const D=g.Ui.get(w),x=D.withLastLimboFreeSnapshotVersion(D.snapshotVersion);g.Ui=g.Ui.insert(w,x)}}}),function(h,p){return d.apply(this,arguments)})(i.localStore,s))}),NP.apply(this,arguments)}function tZ(n,e){return FP.apply(this,arguments)}function FP(){return FP=(0,ee.Z)(function*(n,e){const t=at(n);if(!t.currentUser.isEqual(e)){Ke("SyncEngine","User change. New user:",e.toKey());const i=yield Y$(t.localStore,e);t.currentUser=e,(r=t).lc.forEach(a=>{a.forEach(d=>{d.reject(new Ue(be.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.lc.clear(),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield su(t,i.ji)}var r}),FP.apply(this,arguments)}function nZ(n,e){const t=at(n),i=t.cc.get(e);if(i&&i.nc)return rn().add(i.key);{let r=rn();const s=t.rc.get(e);if(!s)return r;for(const a of s){const d=t.ic.get(a);r=r.unionWith(d.view.ju)}return r}}function iZ(n,e){return LP.apply(this,arguments)}function LP(){return LP=(0,ee.Z)(function*(n,e){const t=at(n),i=yield DA(t.localStore,e.query,!0),r=e.view.tc(i);return t.isPrimaryClient&&OP(t,e.targetId,r.Xu),r}),LP.apply(this,arguments)}function rZ(n,e){return BP.apply(this,arguments)}function BP(){return BP=(0,ee.Z)(function*(n,e){const t=at(n);return X$(t.localStore,e).then(i=>su(t,i))}),BP.apply(this,arguments)}function sZ(n,e,t,i){return VP.apply(this,arguments)}function VP(){return VP=(0,ee.Z)(function*(n,e,t,i){const r=at(n),s=yield function(a,d){const h=at(a),p=at(h.mutationQueue);return h.persistence.runTransaction("Lookup mutation documents","readonly",g=>p.Tn(g,d).next(v=>v?h.localDocuments.getDocuments(g,v):pe.resolve(null)))}(r.localStore,e);var d;null!==s?("pending"===t?yield Uy(r.remoteStore):"acknowledged"===t||"rejected"===t?(RP(r,e,i||null),kP(r,e),d=e,at(at(r.localStore).mutationQueue).An(d)):bt(),yield su(r,s)):Ke("SyncEngine","Cannot apply mutation batch with id: "+e)}),VP.apply(this,arguments)}function UP(){return UP=(0,ee.Z)(function*(n,e){const t=at(n);if(jP(t),GP(t),!0===e&&!0!==t.dc){const i=t.sharedClientState.getAllActiveQueryTargets(),r=yield E3(t,i.toArray());t.dc=!0,yield hP(t.remoteStore,!0);for(const s of r)kA(t.remoteStore,s)}else if(!1===e&&!1!==t.dc){const i=[];let r=Promise.resolve();t.rc.forEach((s,a)=>{t.sharedClientState.isLocalQueryTarget(a)?i.push(a):r=r.then(()=>(Gy(t,a),By(t.localStore,a,!0))),Aw(t.remoteStore,a)}),yield r,yield E3(t,i),function(s){const a=at(s);a.cc.forEach((d,h)=>{Aw(a.remoteStore,h)}),a.ac.fs(),a.cc=new Map,a.uc=new ki(st.comparator)}(t),t.dc=!1,yield hP(t.remoteStore,!1)}}),UP.apply(this,arguments)}function E3(n,e,t){return $P.apply(this,arguments)}function $P(){return $P=(0,ee.Z)(function*(n,e,t){const i=at(n),r=[],s=[];for(const a of e){let d;const h=i.rc.get(a);if(h&&0!==h.length){d=yield Ly(i.localStore,ys(h[0]));for(const p of h){const g=i.ic.get(p),v=yield iZ(i,g);v.snapshot&&s.push(v.snapshot)}}else{const p=yield Q$(i.localStore,a);d=yield Ly(i.localStore,p),yield wP(i,w3(p),a,!1,d.resumeToken)}r.push(d)}return i.sc.Wo(s),r}),$P.apply(this,arguments)}function w3(n){return kU(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function aZ(n){const e=at(n);return at(at(e.localStore).persistence).vi()}function lZ(n,e,t,i){return HP.apply(this,arguments)}function HP(){return HP=(0,ee.Z)(function*(n,e,t,i){const r=at(n);if(r.dc)return void Ke("SyncEngine","Ignoring unexpected query state notification.");const s=r.rc.get(e);if(s&&s.length>0)switch(t){case"current":case"not-current":{const a=yield X$(r.localStore,PU(s[0])),d=hw.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,cr.EMPTY_BYTE_STRING);yield su(r,a,d);break}case"rejected":yield By(r.localStore,e,!0),Gy(r,e,i);break;default:bt()}}),HP.apply(this,arguments)}function cZ(n,e,t){return zP.apply(this,arguments)}function zP(){return zP=(0,ee.Z)(function*(n,e,t){const i=jP(n);if(i.dc){for(const r of e){if(i.rc.has(r)){Ke("SyncEngine","Adding an already active target "+r);continue}const s=yield Q$(i.localStore,r),a=yield Ly(i.localStore,s);yield wP(i,w3(s),a.targetId,!1,a.resumeToken),kA(i.remoteStore,a)}for(const r of t)i.rc.has(r)&&(yield By(i.localStore,r,!1).then(()=>{Aw(i.remoteStore,r),Gy(i,r)}).catch(Pd))}}),zP.apply(this,arguments)}function jP(n){const e=at(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=y3.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=nZ.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=KY.bind(null,e),e.sc.Wo=UY.bind(null,e.eventManager),e.sc.wc=$Y.bind(null,e.eventManager),e}function GP(n){const e=at(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=QY.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=XY.bind(null,e),e}class C3{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,ee.Z)(function*(){t.It=Tw(e.databaseInfo.databaseId),t.sharedClientState=t.gc(e),t.persistence=t.yc(e),yield t.persistence.start(),t.localStore=t.Ic(e),t.gcScheduler=t.Tc(e,t.localStore),t.indexBackfillerScheduler=t.Ec(e,t.localStore)})()}Tc(e,t){return null}Ec(e,t){return null}Ic(e){return q$(this.persistence,new W$,e.initialUser,this.It)}yc(e){return new j$(IA.Bs,this.It)}gc(e){return new n3}terminate(){var e=this;return(0,ee.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class S3 extends C3{constructor(e,t,i){super(),this.Ac=e,this.cacheSizeBytes=t,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,i=this;return(0,ee.Z)(function*(){yield t().call(i,e),yield i.Ac.initialize(i,e),yield GP(i.Ac.syncEngine),yield Uy(i.Ac.remoteStore),yield i.persistence.li(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}Ic(e){return q$(this.persistence,new W$,e.initialUser,this.It)}Tc(e,t){return new J8(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Ec(e,t){const i=new F5(t,this.persistence);return new N5(e.asyncQueue,i)}yc(e){const t=VO(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?qs.withCacheSize(this.cacheSizeBytes):qs.DEFAULT;return new BO(this.synchronizeTabs,t,e.clientId,i,e.asyncQueue,r3(),MA(),this.It,this.sharedClientState,!!this.forceOwnership)}gc(e){return new n3}}class dZ extends S3{constructor(e,t){super(e,t,!1),this.Ac=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,i=this;return(0,ee.Z)(function*(){yield t().call(i,e);const r=i.Ac.syncEngine;i.sharedClientState instanceof YO&&(i.sharedClientState.syncEngine={Fr:sZ.bind(null,r),$r:lZ.bind(null,r),Br:cZ.bind(null,r),vi:aZ.bind(null,r),Mr:rZ.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.li(function(){var s=(0,ee.Z)(function*(a){yield function oZ(n,e){return UP.apply(this,arguments)}(i.Ac.syncEngine,a),i.gcScheduler&&(a&&!i.gcScheduler.started?i.gcScheduler.start():a||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(a&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():a||i.indexBackfillerScheduler.stop())});return function(a){return s.apply(this,arguments)}}())})()}gc(e){const t=r3();if(!YO.C(t))throw new Ue(be.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=VO(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new YO(t,e.asyncQueue,i,e.clientId,e.initialUser)}}class WP{initialize(e,t){var i=this;return(0,ee.Z)(function*(){i.localStore||(i.localStore=e.localStore,i.sharedClientState=e.sharedClientState,i.datastore=i.createDatastore(t),i.remoteStore=i.createRemoteStore(t),i.eventManager=i.createEventManager(t),i.syncEngine=i.createSyncEngine(t,!e.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>v3(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=tZ.bind(null,i.syncEngine),yield hP(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(e){return new VY}createDatastore(e){const t=Tw(e.databaseInfo.databaseId),i=new wY(e.databaseInfo);return new IY(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return t=this.localStore,i=this.datastore,r=e.asyncQueue,s=d=>v3(this.syncEngine,d,0),a=i3.C()?new i3:new vY,new AY(t,i,r,s,a);var t,i,r,s,a}createSyncEngine(e,t){return function(i,r,s,a,d,h,p){const g=new WY(i,r,s,a,d,h);return p&&(g.dc=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,ee.Z)(function*(t){const i=at(t);Ke("RemoteStore","RemoteStore shutting down."),i._u.add(5),yield Vy(i),i.mu.shutdown(),i.gu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function qP(n,e,t){if(!t)throw new Ue(be.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function I3(n,e,t,i){if(!0===e&&!0===i)throw new Ue(be.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function T3(n){if(!st.isDocumentKey(n))throw new Ue(be.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function D3(n){if(st.isDocumentKey(n))throw new Ue(be.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function OA(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":bt()}function _n(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ue(be.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=OA(n);throw new Ue(be.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function A3(n,e){if(e<=0)throw new Ue(be.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}const x3=new Map;class M3{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Ue(be.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ue(be.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,I3("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class xw{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new M3({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ue(be.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ue(be.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new M3(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new C5;switch(t.type){case"gapi":return new D5(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Ue(be.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=x3.get(e);t&&(Ke("ComponentProvider","Removing Datastore"),x3.delete(e),t.terminate())}(this),Promise.resolve()}}function k3(n,e,t,i={}){var r;const s=(n=_n(n,xw))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==e&&_p("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},s),{host:`${e}:${t}`,ssl:!1})),i.mockUserToken){let a,d;if("string"==typeof i.mockUserToken)a=i.mockUserToken,d=yr.MOCK_USER;else{a=(0,q.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const h=i.mockUserToken.sub||i.mockUserToken.user_id;if(!h)throw new Ue(be.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new yr(h)}n._authCredentials=new S5(new rU(a,d))}}class ci{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ul(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ci(this.firestore,e,this._key)}}class es{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new es(this.firestore,e,this._query)}}class Ul extends es{constructor(e,t,i){super(e,t,Dy(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ci(this.firestore,null,new st(e))}withConverter(e){return new Ul(this.firestore,e,this._path)}}function YP(n,e,...t){if(n=(0,q.m9)(n),qP("collection","path",e),n instanceof xw){const i=En.fromString(e,...t);return D3(i),new Ul(n,null,i)}{if(!(n instanceof ci||n instanceof Ul))throw new Ue(be.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(En.fromString(e,...t));return D3(i),new Ul(n.firestore,null,i)}}function Mw(n,e,...t){if(n=(0,q.m9)(n),1===arguments.length&&(e=oU.R()),qP("doc","path",e),n instanceof xw){const i=En.fromString(e,...t);return T3(i),new ci(n,null,new st(i))}{if(!(n instanceof ci||n instanceof Ul))throw new Ue(be.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(En.fromString(e,...t));return T3(i),new ci(n.firestore,n instanceof Ul?n.converter:null,new st(i))}}function R3(n,e){return n=(0,q.m9)(n),e=(0,q.m9)(e),(n instanceof ci||n instanceof Ul)&&(e instanceof ci||e instanceof Ul)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function ZP(n,e){return n=(0,q.m9)(n),e=(0,q.m9)(e),n instanceof es&&e instanceof es&&n.firestore===e.firestore&&aw(n._query,e._query)&&n.converter===e.converter}function O3(n,e=10240){let t=0;return{read:()=>(0,ee.Z)(function*(){if(t<n.byteLength){const i={value:n.slice(t,t+e),done:!1};return t+=e,i}return{done:!0}})(),cancel:()=>(0,ee.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class PA{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):Vi("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}Rc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class fZ{constructor(e,t){this.Pc=e,this.It=t,this.metadata=new lr,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then(i=>{i&&i.Ou()?this.metadata.resolve(i.ku.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.ku)}`))},i=>this.metadata.reject(i))}close(){return this.Pc.cancel()}getMetadata(){var e=this;return(0,ee.Z)(function*(){return e.metadata.promise})()}mc(){var e=this;return(0,ee.Z)(function*(){return yield e.getMetadata(),e.Vc()})()}Vc(){var e=this;return(0,ee.Z)(function*(){const t=yield e.Sc();if(null===t)return null;const i=e.vc.decode(t),r=Number(i);isNaN(r)&&e.Dc(`length string (${i}) is not valid number`);const s=yield e.Cc(r);return new HY(JSON.parse(s),t.length+r)})()}xc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Sc(){var e=this;return(0,ee.Z)(function*(){for(;e.xc()<0&&!(yield e.Nc()););if(0===e.buffer.length)return null;const t=e.xc();t<0&&e.Dc("Reached the end of bundle when a length string is expected.");const i=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),i})()}Cc(e){var t=this;return(0,ee.Z)(function*(){for(;t.buffer.length<e;)(yield t.Nc())&&t.Dc("Reached the end of bundle when more is expected.");const i=t.vc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),i})()}Dc(e){throw this.Pc.cancel(),new Error(`Invalid bundle format: ${e}`)}Nc(){var e=this;return(0,ee.Z)(function*(){const t=yield e.Pc.read();if(!t.done){const i=new Uint8Array(e.buffer.length+t.value.length);i.set(e.buffer),i.set(t.value,e.buffer.length),e.buffer=i}return t.done})()}}class gZ{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,ee.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Ue(be.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,ee.Z)(function*(s,a){const d=at(s),h=gw(d.It)+"/documents",p={documents:a.map(D=>mw(d.It,D))},g=yield d._o("BatchGetDocuments",h,p,a.length),v=new Map;g.forEach(D=>{const A=function m8(n,e){return"found"in e?function(t,i){Lt(!!i.found);const r=Bl(t,i.found.name),s=vr(i.found.updateTime),a=new Lr({mapValue:{fields:i.found.fields}});return ii.newFoundDocument(r,s,a)}(n,e):"missing"in e?function(t,i){Lt(!!i.missing),Lt(!!i.readTime);const r=Bl(t,i.missing),s=vr(i.readTime);return ii.newNoDocument(r,s)}(n,e):bt()}(d.It,D);v.set(A.key.toString(),A)});const w=[];return a.forEach(D=>{const A=v.get(D.toString());Lt(!!A),w.push(A)}),w}),function(s,a){return r.apply(this,arguments)})(t.datastore,e);var r;return i.forEach(r=>t.recordVersion(r)),i})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(e.toString())}delete(e){this.write(new Ry(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,ee.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var i;e.mutations.forEach(i=>{t.delete(i.key.toString())}),t.forEach((i,r)=>{const s=st.fromPath(r);e.mutations.push(new SO(s,e.precondition(s)))}),yield(i=(0,ee.Z)(function*(r,s){const a=at(r),d=gw(a.It)+"/documents",h={writes:s.map(p=>_w(a.It,p))};yield a.ao("Commit",d,h)}),function(r,s){return i.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw bt();t=Bt.min()}const i=this.readVersions.get(e.key.toString());if(i){if(!t.isEqual(i))throw new Ue(be.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Bt.min())?gi.exists(!1):gi.updateTime(t):gi.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Bt.min()))throw new Ue(be.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return gi.updateTime(t)}return gi.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class _Z{constructor(e,t,i,r,s){this.asyncQueue=e,this.datastore=t,this.options=i,this.updateFunction=r,this.deferred=s,this.kc=i.maxAttempts,this.xo=new ZO(this.asyncQueue,"transaction_retry")}run(){this.kc-=1,this.Oc()}Oc(){var e=this;this.xo.Ro((0,ee.Z)(function*(){const t=new gZ(e.datastore),i=e.Mc(t);i&&i.then(r=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(r)}).catch(s=>{e.Fc(s)}))}).catch(r=>{e.Fc(r)})}))}Mc(e){try{const t=this.updateFunction(e);return!tw(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Fc(e){this.kc>0&&this.$c(e)?(this.kc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Oc(),Promise.resolve()))):this.deferred.reject(e)}$c(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!ZU(t)}return!1}}class yZ{constructor(e,t,i,r){var s=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=yr.UNAUTHENTICATED,this.clientId=oU.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var a=(0,ee.Z)(function*(d){Ke("FirestoreClient","Received user=",d.uid),yield s.authCredentialListener(d),s.user=d});return function(d){return a.apply(this,arguments)}}()),this.appCheckCredentials.start(i,a=>(Ke("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}getConfiguration(){var e=this;return(0,ee.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ue(be.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new lr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ee.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=Hy(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}function P3(n,e){return KP.apply(this,arguments)}function KP(){return KP=(0,ee.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Ke("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(function(){var r=(0,ee.Z)(function*(s){i.isEqual(s)||(yield Y$(e.localStore,s),i=s)});return function(s){return r.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),KP.apply(this,arguments)}function N3(n,e){return QP.apply(this,arguments)}function QP(){return QP=(0,ee.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield XP(n);Ke("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield e.initialize(t,i),n.setCredentialChangeListener(r=>d3(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>d3(e.remoteStore,s)),n.onlineComponents=e}),QP.apply(this,arguments)}function XP(n){return JP.apply(this,arguments)}function JP(){return JP=(0,ee.Z)(function*(n){return n.offlineComponents||(Ke("FirestoreClient","Using default OfflineComponentProvider"),yield P3(n,new C3)),n.offlineComponents}),JP.apply(this,arguments)}function NA(n){return eN.apply(this,arguments)}function eN(){return eN=(0,ee.Z)(function*(n){return n.onlineComponents||(Ke("FirestoreClient","Using default OnlineComponentProvider"),yield N3(n,new WP)),n.onlineComponents}),eN.apply(this,arguments)}function F3(n){return XP(n).then(e=>e.persistence)}function FA(n){return XP(n).then(e=>e.localStore)}function tN(n){return NA(n).then(e=>e.remoteStore)}function nN(n){return NA(n).then(e=>e.syncEngine)}function Wy(n){return iN.apply(this,arguments)}function iN(){return iN=(0,ee.Z)(function*(n){const e=yield NA(n),t=e.eventManager;return t.onListen=qY.bind(null,e.syncEngine),t.onUnlisten=YY.bind(null,e.syncEngine),t}),iN.apply(this,arguments)}function B3(n,e,t={}){const i=new lr;return n.asyncQueue.enqueueAndForget((0,ee.Z)(function*(){return function(r,s,a,d,h){const p=new PA({next:v=>{s.enqueueAndForget(()=>_P(r,g));const w=v.docs.has(a);!w&&v.fromCache?h.reject(new Ue(be.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&v.fromCache&&d&&"server"===d.source?h.reject(new Ue(be.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(v)},error:v=>h.reject(v)}),g=new bP(Dy(a.path),p,{includeMetadataChanges:!0,Nu:!0});return mP(r,g)}(yield Wy(n),n.asyncQueue,e,t,i)})),i.promise}function V3(n,e,t={}){const i=new lr;return n.asyncQueue.enqueueAndForget((0,ee.Z)(function*(){return function(r,s,a,d,h){const p=new PA({next:v=>{s.enqueueAndForget(()=>_P(r,g)),v.fromCache&&"server"===d.source?h.reject(new Ue(be.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(v)},error:v=>h.reject(v)}),g=new bP(a,p,{includeMetadataChanges:!0,Nu:!0});return mP(r,g)}(yield Wy(n),n.asyncQueue,e,t,i)})),i.promise}class TZ{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.Uc=!1,this.qc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new ZO(this,"async_queue_retry"),this.Wc=()=>{const t=MA();t&&Ke("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.Po()};const e=MA();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.Uc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.Uc){this.Uc=!0,this.Qc=e||!1;const t=MA();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.Uc)return new Promise(()=>{});const t=new lr;return this.Hc(()=>this.Uc&&this.Qc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}Jc(){var e=this;return(0,ee.Z)(function*(){if(0!==e.Lc.length){try{yield e.Lc[0](),e.Lc.shift(),e.xo.reset()}catch(t){if(!Nd(t))throw t;Ke("AsyncQueue","Operation failed with retryable error: "+t)}e.Lc.length>0&&e.xo.Ro(()=>e.Jc())}})()}Hc(e){const t=this.Bc.then(()=>(this.Gc=!0,e().catch(i=>{throw this.Kc=i,this.Gc=!1,Vi("INTERNAL UNHANDLED ERROR: ",function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),a}(i)),i}).then(i=>(this.Gc=!1,i))));return this.Bc=t,t}enqueueAfterDelay(e,t,i){this.zc(),this.jc.indexOf(e)>-1&&(t=0);const r=pP.createAndSchedule(this,e,t,i,s=>this.Yc(s));return this.qc.push(r),r}zc(){this.Kc&&bt()}verifyOperationInProgress(){}Xc(){var e=this;return(0,ee.Z)(function*(){let t;do{t=e.Bc,yield t}while(t!==e.Bc)})()}Zc(e){for(const t of this.qc)if(t.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.qc.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.qc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const t=this.qc.indexOf(e);this.qc.splice(t,1)}}function rN(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const i=e;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class DZ{constructor(){this._progressObserver={},this._taskCompletionResolver=new lr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,i){this._progressObserver={next:e,error:t,complete:i}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class ui extends xw{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=new TZ,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||U3(this),this._firestoreClient.terminate()}}function xZ(n,e){const t="object"==typeof n?n:(0,ot.getApp)(),i="string"==typeof n?n:e||"(default)",r=(0,ot._getProvider)(t,"firestore").getImmediate({identifier:i});if(!r._initialized){const s=(0,q.P0)("firestore");s&&k3(r,...s)}return r}function Ui(n){return n._firestoreClient||U3(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function U3(n){var e;const t=n._freezeSettings(),i=(s=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new V5(n._databaseId,s,n._persistenceKey,(d=t).host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,d.useFetchStreams));var s,d;n._firestoreClient=new yZ(n._authCredentials,n._appCheckCredentials,n._queue,i)}function $3(n,e,t){const i=new lr;return n.asyncQueue.enqueue((0,ee.Z)(function*(){try{yield P3(n,t),yield N3(n,e),i.resolve()}catch(r){const s=r;if(!("FirebaseError"===(a=s).name?a.code===be.FAILED_PRECONDITION||a.code===be.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||22===a.code||20===a.code||11===a.code))throw s;_p("Error enabling offline persistence. Falling back to persistence disabled: "+s),i.reject(s)}var a})).then(()=>i.promise)}function H3(n){if(n._initialized||n._terminated)throw new Ue(be.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class $l{constructor(e){this._byteString=e}static fromBase64String(e){try{return new $l(cr.fromBase64String(e))}catch(t){throw new Ue(be.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new $l(cr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class ou{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Ue(be.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Mi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Np{constructor(e){this._methodName=e}}class LA{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ue(be.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ue(be.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Zt(this._lat,e._lat)||Zt(this._long,e._long)}}const BZ=/^__.*__$/;class VZ{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return null!==this.fieldMask?new iu(e,this.data,this.fieldMask,t,this.fieldTransforms):new ky(e,this.data,t,this.fieldTransforms)}}class z3{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new iu(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function j3(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw bt()}}class BA{constructor(e,t,i,r,s,a){this.settings=e,this.databaseId=t,this.It=i,this.ignoreUndefinedProperties=r,void 0===s&&this.na(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new BA(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ia({path:i,oa:!1});return r.ua(e),r}ca(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ia({path:i,oa:!1});return r.na(),r}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return $A(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(j3(this.sa)&&BZ.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class UZ{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.It=i||Tw(e)}da(e,t,i,r=!1){return new BA({sa:e,methodName:t,fa:i,path:Mi.emptyPath(),oa:!1,la:r},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function Fp(n){const e=n._freezeSettings(),t=Tw(n._databaseId);return new UZ(n._databaseId,!!e.ignoreUndefinedProperties,t)}function VA(n,e,t,i,r,s={}){const a=n.da(s.merge||s.mergeFields?2:0,e,t,r);lN("Data must be an object, but it was:",a,i);const d=q3(i,a);let h,p;if(s.merge)h=new uo(a.fieldMask),p=a.fieldTransforms;else if(s.mergeFields){const g=[];for(const v of s.mergeFields){const w=cN(e,v,t);if(!a.contains(w))throw new Ue(be.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);Z3(g,w)||g.push(w)}h=new uo(g),p=a.fieldTransforms.filter(v=>h.covers(v.field))}else h=null,p=a.fieldTransforms;return new VZ(new Lr(d),h,p)}class kw extends Np{_toFieldTransform(e){if(2!==e.sa)throw e.ha(1===e.sa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof kw}}function G3(n,e,t){return new BA({sa:3,fa:e.settings.fa,methodName:n._methodName,oa:t},e.databaseId,e.It,e.ignoreUndefinedProperties)}class sN extends Np{_toFieldTransform(e){return new lw(e.path,new xy)}isEqual(e){return e instanceof sN}}class $Z extends Np{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=G3(this,e,!0),i=this._a.map(s=>Lp(s,t)),r=new Ip(i);return new lw(e.path,r)}isEqual(e){return this===e}}class HZ extends Np{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=G3(this,e,!0),i=this._a.map(s=>Lp(s,t)),r=new Tp(i);return new lw(e.path,r)}isEqual(e){return this===e}}class zZ extends Np{constructor(e,t){super(e),this.wa=t}_toFieldTransform(e){const t=new My(e.It,BU(e.It,this.wa));return new lw(e.path,t)}isEqual(e){return this===e}}function oN(n,e,t,i){const r=n.da(1,e,t);lN("Data must be an object, but it was:",r,i);const s=[],a=Lr.empty();bp(i,(h,p)=>{const g=UA(e,h,t);p=(0,q.m9)(p);const v=r.ca(g);if(p instanceof kw)s.push(g);else{const w=Lp(p,v);null!=w&&(s.push(g),a.set(g,w))}});const d=new uo(s);return new z3(a,d,r.fieldTransforms)}function aN(n,e,t,i,r,s){const a=n.da(1,e,t),d=[cN(e,i,t)],h=[r];if(s.length%2!=0)throw new Ue(be.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<s.length;w+=2)d.push(cN(e,s[w])),h.push(s[w+1]);const p=[],g=Lr.empty();for(let w=d.length-1;w>=0;--w)if(!Z3(p,d[w])){const D=d[w];let A=h[w];A=(0,q.m9)(A);const x=a.ca(D);if(A instanceof kw)p.push(D);else{const k=Lp(A,x);null!=k&&(p.push(D),g.set(D,k))}}const v=new uo(p);return new z3(g,v,a.fieldTransforms)}function W3(n,e,t,i=!1){return Lp(t,n.da(i?4:3,e))}function Lp(n,e){if(Y3(n=(0,q.m9)(n)))return lN("Unsupported field value:",e,n),q3(n,e);if(n instanceof Np)return function(t,i){if(!j3(i.sa))throw i.ha(`${t._methodName}() can only be used with update() and set()`);if(!i.path)throw i.ha(`${t._methodName}() is not currently supported inside arrays`);const r=t._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.oa&&4!==e.sa)throw e.ha("Nested arrays are not supported");return function(t,i){const r=[];let s=0;for(const a of t){let d=Lp(a,i.aa(s));null==d&&(d={nullValue:"NULL_VALUE"}),r.push(d),s++}return{arrayValue:{values:r}}}(n,e)}return function(t,i){if(null===(t=(0,q.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return BU(i.It,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const r=mi.fromDate(t);return{timestampValue:pw(i.It,r)}}if(t instanceof mi){const r=new mi(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:pw(i.It,r)}}if(t instanceof LA)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof $l)return{bytesValue:s$(i.It,t._byteString)};if(t instanceof ci){const r=i.databaseId,s=t.firestore._databaseId;if(!s.isEqual(r))throw i.ha(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:IO(t.firestore._databaseId||i.databaseId,t._key.path)}}throw i.ha(`Unsupported field value: ${OA(t)}`)}(n,e)}function q3(n,e){const t={};return pU(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):bp(n,(i,r)=>{const s=Lp(r,e.ra(i));null!=s&&(t[i]=s)}),{mapValue:{fields:t}}}function Y3(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof mi||n instanceof LA||n instanceof $l||n instanceof ci||n instanceof Np)}function lN(n,e,t){if(!Y3(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=OA(t);throw e.ha("an object"===i?n+" a custom object":n+" "+i)}var i}function cN(n,e,t){if((e=(0,q.m9)(e))instanceof ou)return e._internalPath;if("string"==typeof e)return UA(n,e);throw $A("Field path arguments must be of type string or ",n,!1,void 0,t)}const jZ=new RegExp("[~\\*/\\[\\]]");function UA(n,e,t){if(e.search(jZ)>=0)throw $A(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new ou(...e.split("."))._internalPath}catch{throw $A(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function $A(n,e,t,i,r){const s=i&&!i.isEmpty(),a=void 0!==r;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let h="";return(s||a)&&(h+=" (found",s&&(h+=` in field ${i}`),a&&(h+=` in document ${r}`),h+=")"),new Ue(be.INVALID_ARGUMENT,d+n+h)}function Z3(n,e){return n.some(t=>t.isEqual(e))}class Rw{constructor(e,t,i,r,s){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new ci(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new GZ(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(HA("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class GZ extends Rw{data(){return super.data()}}function HA(n,e){return"string"==typeof e?UA(n,e):e instanceof ou?e._internalPath:e._delegate._internalPath}function K3(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Ue(be.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ow{}function au(n,...e){for(const t of e)n=t._apply(n);return n}class WZ extends Ow{constructor(e,t,i){super(),this.ma=e,this.ga=t,this.ya=i,this.type="where"}_apply(e){const t=Fp(e.firestore),i=function(r,s,a,d,h,p,g){let v;if(h.isKeyField()){if("array-contains"===p||"array-contains-any"===p)throw new Ue(be.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if("in"===p||"not-in"===p){n4(g,p);const D=[];for(const A of g)D.push(t4(d,r,A));v={arrayValue:{values:D}}}else v=t4(d,r,g)}else"in"!==p&&"not-in"!==p&&"array-contains-any"!==p||n4(g,p),v=W3(a,"where",g,"in"===p||"not-in"===p);const w=Br.create(h,p,v);return function(D,A){if(A.dt()){const k=bO(D);if(null!==k&&!k.isEqual(A.field))throw new Ue(be.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${k.toString()}' and '${A.field.toString()}'`);const F=vO(D);null!==F&&i4(0,A.field,F)}const x=function(k,F){for(const L of k.filters)if(F.indexOf(L.op)>=0)return L.op;return null}(D,function(k){switch(k){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(A.op));if(null!==x)throw new Ue(be.INVALID_ARGUMENT,x===A.op?`Invalid query. You cannot use more than one '${A.op.toString()}' filter.`:`Invalid query. You cannot use '${A.op.toString()}' filters with '${x.toString()}' filters.`)}(r,w),w}(e._query,0,t,e.firestore._databaseId,this.ma,this.ga,this.ya);return new es(e.firestore,e.converter,function(r,s){const a=r.filters.concat([s]);return new nu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),a,r.limit,r.limitType,r.startAt,r.endAt)}(e._query,i))}}class YZ extends Ow{constructor(e,t){super(),this.ma=e,this.pa=t,this.type="orderBy"}_apply(e){const t=function(i,r,s){if(null!==i.startAt)throw new Ue(be.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new Ue(be.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const a=new Ty(r,s);return function(d,h){if(null===vO(d)){const p=bO(d);null!==p&&i4(0,p,h.field)}}(i,a),a}(e._query,this.ma,this.pa);return new es(e.firestore,e.converter,function(i,r){const s=i.explicitOrderBy.concat([r]);return new nu(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}class Q3 extends Ow{constructor(e,t,i){super(),this.type=e,this.Ia=t,this.Ta=i}_apply(e){return new es(e.firestore,e.converter,dA(e._query,this.Ia,this.Ta))}}class X3 extends Ow{constructor(e,t,i){super(),this.type=e,this.Ea=t,this.Aa=i}_apply(e){const t=e4(e,this.type,this.Ea,this.Aa);return new es(e.firestore,e.converter,(r=t,new nu((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class J3 extends Ow{constructor(e,t,i){super(),this.type=e,this.Ea=t,this.Aa=i}_apply(e){const t=e4(e,this.type,this.Ea,this.Aa);return new es(e.firestore,e.converter,(r=t,new nu((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function e4(n,e,t,i){if(t[0]=(0,q.m9)(t[0]),t[0]instanceof Rw)return function(r,s,a,d,h){if(!d)throw new Ue(be.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const p=[];for(const g of Ay(r))if(g.field.isKeyField())p.push(Cp(s,d.key));else{const v=d.data.field(g.field);if(gO(v))throw new Ue(be.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+g.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===v){const w=g.field.canonicalString();throw new Ue(be.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${w}' (used as the orderBy) does not exist.`)}p.push(v)}return new Ud(p,h)}(n._query,n.firestore._databaseId,e,t[0]._document,i);{const r=Fp(n.firestore);return function(s,a,d,h,p,g){const v=s.explicitOrderBy;if(p.length>v.length)throw new Ue(be.INVALID_ARGUMENT,`Too many arguments provided to ${h}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const w=[];for(let D=0;D<p.length;D++){const A=p[D];if(v[D].field.isKeyField()){if("string"!=typeof A)throw new Ue(be.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${h}(), but got a ${typeof A}`);if(!EO(s)&&-1!==A.indexOf("/"))throw new Ue(be.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${h}() must be a plain document ID, but '${A}' contains a slash.`);const x=s.path.child(En.fromString(A));if(!st.isDocumentKey(x))throw new Ue(be.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${h}() must result in a valid document path, but '${x}' is not because it contains an odd number of segments.`);const k=new st(x);w.push(Cp(a,k))}else{const x=W3(d,h,A);w.push(x)}}return new Ud(w,g)}(n._query,n.firestore._databaseId,r,e,t,i)}}function t4(n,e,t){if("string"==typeof(t=(0,q.m9)(t))){if(""===t)throw new Ue(be.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!EO(e)&&-1!==t.indexOf("/"))throw new Ue(be.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(En.fromString(t));if(!st.isDocumentKey(i))throw new Ue(be.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Cp(n,new st(i))}if(t instanceof ci)return Cp(n,t._key);throw new Ue(be.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${OA(t)}.`)}function n4(n,e){if(!Array.isArray(n)||0===n.length)throw new Ue(be.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Ue(be.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function i4(n,e,t){if(!t.isEqual(e))throw new Ue(be.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class uN{convertValue(e,t="none"){switch(wp(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ri(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ep(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw bt()}}convertObject(e,t){const i={};return bp(e.fields,(r,s)=>{i[r]=this.convertValue(s,t)}),i}convertGeoPoint(e){return new LA(Ri(e.latitude),Ri(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=gU(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(ew(e));default:return null}}convertTimestamp(e){const t=Fd(e);return new mi(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=En.fromString(e);Lt(p$(i));const r=new Ld(i.get(1),i.get(3)),s=new st(i.popFirst(5));return r.isEqual(t)||Vi(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}function zA(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class n7 extends uN{constructor(e){super(),this.firestore=e}convertBytes(e){return new $l(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ci(this.firestore,null,t)}}class Bp{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class lu extends Rw{constructor(e,t,i,r,s,a){super(e,t,i,r,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Pw(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(HA("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class Pw extends lu{data(e={}){return super.data(e)}}class Wd{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Bp(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new Pw(this._firestore,this._userDataWriter,i.key,i,new Bp(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ue(be.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>({type:"added",doc:new Pw(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Bp(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:s++}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>r||3!==a.type).map(a=>{const d=new Pw(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Bp(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let h=-1,p=-1;return 0!==a.type&&(h=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),1!==a.type&&(s=s.add(a.doc),p=s.indexOf(a.doc.key)),{type:i7(a.type),doc:d,oldIndex:h,newIndex:p}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function i7(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return bt()}}function r4(n,e){return n instanceof lu&&e instanceof lu?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Wd&&e instanceof Wd&&n._firestore===e._firestore&&ZP(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function s4(n){n=_n(n,ci);const e=_n(n.firestore,ui);return B3(Ui(e),n._key).then(t=>hN(e,n,t))}class qd extends uN{constructor(e){super(),this.firestore=e}convertBytes(e){return new $l(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ci(this.firestore,null,t)}}function dN(n,e,t){n=_n(n,ci);const i=_n(n.firestore,ui),r=zA(n.converter,e,t);return qy(i,[VA(Fp(i),"setDoc",n._key,r,null!==n.converter,t).toMutation(n._key,gi.none())])}function o4(n,e,t,...i){n=_n(n,ci);const r=_n(n.firestore,ui),s=Fp(r);let a;return a="string"==typeof(e=(0,q.m9)(e))||e instanceof ou?aN(s,"updateDoc",n._key,e,t,i):oN(s,"updateDoc",n._key,e),qy(r,[a.toMutation(n._key,gi.exists(!0))])}function jA(n,...e){var t,i,r;n=(0,q.m9)(n);let s={includeMetadataChanges:!1},a=0;"object"!=typeof e[a]||rN(e[a])||(s=e[a],a++);const d={includeMetadataChanges:s.includeMetadataChanges};if(rN(e[a])){const v=e[a];e[a]=null===(t=v.next)||void 0===t?void 0:t.bind(v),e[a+1]=null===(i=v.error)||void 0===i?void 0:i.bind(v),e[a+2]=null===(r=v.complete)||void 0===r?void 0:r.bind(v)}let h,p,g;if(n instanceof ci)p=_n(n.firestore,ui),g=Dy(n._key.path),h={next:v=>{e[a]&&e[a](hN(p,n,v))},error:e[a+1],complete:e[a+2]};else{const v=_n(n,es);p=_n(v.firestore,ui),g=v._query;const w=new qd(p);h={next:D=>{e[a]&&e[a](new Wd(p,w,v,D))},error:e[a+1],complete:e[a+2]},K3(n._query)}return function(v,w,D,A){const x=new PA(A),k=new bP(w,x,D);return v.asyncQueue.enqueueAndForget((0,ee.Z)(function*(){return mP(yield Wy(v),k)})),()=>{x.bc(),v.asyncQueue.enqueueAndForget((0,ee.Z)(function*(){return _P(yield Wy(v),k)}))}}(Ui(p),g,d,h)}function qy(n,e){return function(t,i){const r=new lr;return t.asyncQueue.enqueueAndForget((0,ee.Z)(function*(){return function ZY(n,e,t){return IP.apply(this,arguments)}(yield nN(t),i,r)})),r.promise}(Ui(n),e)}function hN(n,e,t){const i=t.docs.get(e._key),r=new qd(n);return new lu(n,r,e._key,i,new Bp(t.hasPendingWrites,t.fromCache),e.converter)}const h7={maxAttempts:5};class a4{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Fp(e)}set(e,t,i){this._verifyNotCommitted();const r=Yd(e,this._firestore),s=zA(r.converter,t,i),a=VA(this._dataReader,"WriteBatch.set",r._key,s,null!==r.converter,i);return this._mutations.push(a.toMutation(r._key,gi.none())),this}update(e,t,i,...r){this._verifyNotCommitted();const s=Yd(e,this._firestore);let a;return a="string"==typeof(t=(0,q.m9)(t))||t instanceof ou?aN(this._dataReader,"WriteBatch.update",s._key,t,i,r):oN(this._dataReader,"WriteBatch.update",s._key,t),this._mutations.push(a.toMutation(s._key,gi.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Yd(e,this._firestore);return this._mutations=this._mutations.concat(new Ry(t._key,gi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ue(be.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Yd(n,e){if((n=(0,q.m9)(n)).firestore!==e)throw new Ue(be.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class f7 extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Fp(e)}get(e){const t=Yd(e,this._firestore),i=new n7(this._firestore);return this._transaction.lookup([t._key]).then(r=>{if(!r||1!==r.length)return bt();const s=r[0];if(s.isFoundDocument())return new Rw(this._firestore,i,s.key,s,t.converter);if(s.isNoDocument())return new Rw(this._firestore,i,t._key,null,t.converter);throw bt()})}set(e,t,i){const r=Yd(e,this._firestore),s=zA(r.converter,t,i),a=VA(this._dataReader,"Transaction.set",r._key,s,null!==r.converter,i);return this._transaction.set(r._key,a),this}update(e,t,i,...r){const s=Yd(e,this._firestore);let a;return a="string"==typeof(t=(0,q.m9)(t))||t instanceof ou?aN(this._dataReader,"Transaction.update",s._key,t,i,r):oN(this._dataReader,"Transaction.update",s._key,t),this._transaction.update(s._key,a),this}delete(e){const t=Yd(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Yd(e,this._firestore),i=new qd(this._firestore);return super.get(e).then(r=>new lu(this._firestore,i,t._key,r._document,new Bp(!1,!1),t.converter))}}!function(n,e=!0){wy=ot.SDK_VERSION,(0,ot._registerComponent)(new kr.wA("firestore",(t,{instanceIdentifier:i,options:r})=>{const s=t.getProvider("app").getImmediate(),a=new ui(new I5(t.getProvider("auth-internal")),new A5(t.getProvider("app-check-internal")),function(d,h){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new Ue(be.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ld(d.options.projectId,h)}(s,i),s);return r=Object.assign({useFetchStreams:e},r),a._setSettings(r),a},"PUBLIC").setMultipleInstances(!0)),(0,ot.registerVersion)(iU,"3.7.3",n),(0,ot.registerVersion)(iU,"3.7.3","esm2017")}();var b7={includeMetadataChanges:!1};function D7(n,e){return void 0===e&&(e={}),function T7(n){return function fN(n,e){return void 0===e&&(e=b7),new Pn.y(function(t){return{unsubscribe:jA(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)})}})}(n,{includeMetadataChanges:!0}).pipe((0,rt.U)(function(e){return e.docs}))}(n).pipe((0,rt.U)(function(t){return t.map(function(i){return function c4(n,e){void 0===e&&(e={});var t=n.data();return!n.exists()||"object"!=typeof t||null===t||e.idField&&(t[e.idField]=n.id),t}(i,e)})}))}class Zd{constructor(e){return e}}const f4="firestore",gN=new l.OlP("angularfire2.firestore-instances");function M7(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new Zd(i)}}const k7={provide:class A7{constructor(){return Pa(f4)}},deps:[[new l.FiY,gN]]},R7={provide:Zd,useFactory:function x7(n,e){const t=Rr(f4,n,e);return t&&new Zd(t)},deps:[[new l.FiY,gN],mn]};let O7=(()=>{class n{constructor(){(0,ot.registerVersion)("angularfire",Qr.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[R7,k7]}),n})();function P7(n,...e){return{ngModule:O7,providers:[{provide:gN,useFactory:M7(n),multi:!0,deps:[l.R0b,l.zs3,Xr,Na,[new l.FiY,La],[new l.FiY,Fa],...e]}]}}const p4=Qn(D7,!0),m4=Qn(YP,!0),_N=Qn(Mw,!0),N7=Qn(s4,!0),F7=Qn(xZ,!0),L7=Qn(jA,!0),g4=Qn(au,!0),B7=Qn(dN,!0);let _4=(()=>{class n{constructor(){this.books$=new Tt.x}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function V7(n,e){if(1&n&&(l.TgZ(0,"div",3),l._UZ(1,"img",4),l.qZA()),2&n){const t=e.$implicit;l.xp6(1),l.Q6J("src",t.src,l.LSH)}}let yN,U7=(()=>{class n{constructor(){}ngOnInit(){}get catalog(){return[{src:"assets/images/antidepresant.jpg"},{src:"assets/images/brain.jpg"},{src:"assets/images/logic.jpg"},{src:"assets/images/menshe-200.jpg"},{src:"assets/images/parents.jpg"}]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-catalog"]],decls:3,vars:1,consts:[[1,"wrapper","mt-4"],[1,"container","d-flex","justify-between","gap-6"],["class","catalog",4,"ngFor","ngForOf"],[1,"catalog"],["width","200","alt","img",3,"src"]],template:function(t,i){1&t&&(l.TgZ(0,"div",0)(1,"div",1),l.YNc(2,V7,2,1,"div",2),l.qZA()()),2&t&&(l.xp6(2),l.Q6J("ngForOf",i.catalog))},dependencies:[Ar],styles:[".catalog[_ngcontent-%COMP%]{transition-duration:.3s}.catalog[_ngcontent-%COMP%]:hover{cursor:pointer;transition-duration:.3s;box-shadow:1px 4px 8px #223c5033}"]}),n})();try{yN=typeof Intl<"u"&&Intl.v8BreakIterator}catch{yN=!1}let Yy,ts=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?nr(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!yN)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.Lbi))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const y4=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function v4(){if(Yy)return Yy;if("object"!=typeof document||!document)return Yy=new Set(y4),Yy;let n=document.createElement("input");return Yy=new Set(y4.filter(e=>(n.setAttribute("type",e),n.type===e))),Yy}let Nw,Vp,vN;function Fw(n){return function $7(){if(null==Nw&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Nw=!0}))}finally{Nw=Nw||!1}return Nw}()?n:!!n.capture}function H7(){if(null==Vp){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Vp=!1,Vp;if("scrollBehavior"in document.documentElement.style)Vp=!0;else{const n=Element.prototype.scrollTo;Vp=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Vp}function b4(n){if(function z7(){if(null==vN){const n=typeof document<"u"?document.head:null;vN=!(!n||!n.createShadowRoot&&!n.attachShadow)}return vN}()){const e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}function bN(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const e=n.shadowRoot.activeElement;if(e===n)break;n=e}return n}function Up(n){return n.composedPath?n.composedPath()[0]:n.target}function EN(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function Hl(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function ZA(n,e=qc){return(0,Zn.e)((t,i)=>{let r=null,s=null,a=null;const d=()=>{if(r){r.unsubscribe(),r=null;const p=s;s=null,i.next(p)}};function h(){const p=a+n,g=e.now();if(g<p)return r=this.schedule(void 0,p-g),void i.add(r);d()}t.subscribe((0,Hn.x)(i,p=>{s=p,a=e.now(),r||(r=e.schedule(h,n),i.add(r))},()=>{d(),i.complete()},void 0,()=>{s=r=null}))})}function E4(n){return An((e,t)=>n<=t)}function KA(n,e=Ea.y){return n=n??tK,(0,Zn.e)((t,i)=>{let r,s=!0;t.subscribe((0,Hn.x)(i,a=>{const d=e(a);(s||!n(r,d))&&(s=!1,r=d,i.next(a))}))})}function tK(n,e){return n===e}var w4=z(5032);function wi(n){return(0,Zn.e)((e,t)=>{(0,cs.Xf)(n).subscribe((0,Hn.x)(t,()=>t.complete(),w4.Z)),!t.closed&&e.subscribe(t)})}function jn(n){return null!=n&&"false"!=`${n}`}function $p(n,e=0){return function nK(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}function QA(n){return Array.isArray(n)?n:[n]}function Xi(n){return null==n?"":"string"==typeof n?n:`${n}px`}function cu(n){return n instanceof l.SBq?n.nativeElement:n}let C4=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),iK=(()=>{class n{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,i)=>this._cleanupObserver(i))}observe(t){const i=cu(t);return new Pn.y(r=>{const a=this._observeElement(i).subscribe(r);return()=>{a.unsubscribe(),this._unobserveElement(i)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const i=new Tt.x,r=this._mutationObserverFactory.create(s=>i.next(s));r&&r.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:r,stream:i,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:i,stream:r}=this._observedElements.get(t);i&&i.disconnect(),r.complete(),this._observedElements.delete(t)}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(C4))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),rK=(()=>{class n{constructor(t,i,r){this._contentObserver=t,this._elementRef=i,this._ngZone=r,this.event=new l.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(t){this._disabled=jn(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=$p(t),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(ZA(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(iK),l.Y36(l.SBq),l.Y36(l.R0b))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),S4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[C4]}),n})();const I4=new Set;let Zy,sK=(()=>{class n{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):aK}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function oK(n){if(!I4.has(n))try{Zy||(Zy=document.createElement("style"),Zy.setAttribute("type","text/css"),document.head.appendChild(Zy)),Zy.sheet&&(Zy.sheet.insertRule(`@media ${n} {body{ }}`,0),I4.add(n))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ts))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function aK(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let CN=(()=>{class n{constructor(t,i){this._mediaMatcher=t,this._zone=i,this._queries=new Map,this._destroySubject=new Tt.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return T4(QA(t)).some(r=>this._registerQuery(r).mql.matches)}observe(t){let s=Qh(T4(QA(t)).map(a=>this._registerQuery(a).observable));return s=ko(s.pipe(Wt(1)),s.pipe(E4(1),ZA(0))),s.pipe((0,rt.U)(a=>{const d={matches:!1,breakpoints:{}};return a.forEach(({matches:h,query:p})=>{d.matches=d.matches||h,d.breakpoints[p]=h}),d}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const i=this._mediaMatcher.matchMedia(t),s={observable:new Pn.y(a=>{const d=h=>this._zone.run(()=>a.next(h));return i.addListener(d),()=>{i.removeListener(d)}}).pipe(li(i),(0,rt.U)(({matches:a})=>({query:t,matches:a})),wi(this._destroySubject)),mql:i};return this._queries.set(t,s),s}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(sK),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function T4(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}class x4{constructor(e){this._items=e,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new Tt.x,this._typeaheadSubscription=Fi.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=t=>t.disabled,this._pressedLetters=[],this.tabOut=new Tt.x,this.change=new Tt.x,e instanceof l.n_E&&e.changes.subscribe(t=>{if(this._activeItem){const r=t.toArray().indexOf(this._activeItem);r>-1&&r!==this._activeItemIndex&&(this._activeItemIndex=r)}})}skipPredicate(e){return this._skipPredicateFn=e,this}withWrap(e=!0){return this._wrap=e,this}withVerticalOrientation(e=!0){return this._vertical=e,this}withHorizontalOrientation(e){return this._horizontal=e,this}withAllowedModifierKeys(e){return this._allowedModifierKeys=e,this}withTypeAhead(e=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(kn(t=>this._pressedLetters.push(t)),ZA(e),An(()=>this._pressedLetters.length>0),(0,rt.U)(()=>this._pressedLetters.join(""))).subscribe(t=>{const i=this._getItemsArray();for(let r=1;r<i.length+1;r++){const s=(this._activeItemIndex+r)%i.length,a=i[s];if(!this._skipPredicateFn(a)&&0===a.getLabel().toUpperCase().trim().indexOf(t)){this.setActiveItem(s);break}}this._pressedLetters=[]}),this}withHomeAndEnd(e=!0){return this._homeAndEnd=e,this}setActiveItem(e){const t=this._activeItem;this.updateActiveItem(e),this._activeItem!==t&&this.change.next(this._activeItemIndex)}onKeydown(e){const t=e.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(s=>!e[s]||this._allowedModifierKeys.indexOf(s)>-1);switch(t){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;default:return void((r||Hl(e,"shiftKey"))&&(e.key&&1===e.key.length?this._letterKeyStream.next(e.key.toLocaleUpperCase()):(t>=65&&t<=90||t>=48&&t<=57)&&this._letterKeyStream.next(String.fromCharCode(t))))}this._pressedLetters=[],e.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(e){const t=this._getItemsArray(),i="number"==typeof e?e:t.indexOf(e);this._activeItem=t[i]??null,this._activeItemIndex=i}_setActiveItemByDelta(e){this._wrap?this._setActiveInWrapMode(e):this._setActiveInDefaultMode(e)}_setActiveInWrapMode(e){const t=this._getItemsArray();for(let i=1;i<=t.length;i++){const r=(this._activeItemIndex+e*i+t.length)%t.length;if(!this._skipPredicateFn(t[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(e){this._setActiveItemByIndex(this._activeItemIndex+e,e)}_setActiveItemByIndex(e,t){const i=this._getItemsArray();if(i[e]){for(;this._skipPredicateFn(i[e]);)if(!i[e+=t])return;this.setActiveItem(e)}}_getItemsArray(){return this._items instanceof l.n_E?this._items.toArray():this._items}}class dK extends x4{setActiveItem(e){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(e),this.activeItem&&this.activeItem.setActiveStyles()}}class M4 extends x4{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(e){return this._origin=e,this}setActiveItem(e){super.setActiveItem(e),this.activeItem&&this.activeItem.focus(this._origin)}}let XA=(()=>{class n{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function fK(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const i=function hK(n){try{return n.frameElement}catch{return null}}(function EK(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(t));if(i&&(-1===R4(i)||!this.isVisible(i)))return!1;let r=t.nodeName.toLowerCase(),s=R4(t);return t.hasAttribute("contenteditable")?-1!==s:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function vK(n){let e=n.nodeName.toLowerCase(),t="input"===e&&n.type;return"text"===t||"password"===t||"select"===e||"textarea"===e}(t))&&("audio"===r?!!t.hasAttribute("controls")&&-1!==s:"video"===r?-1!==s&&(null!==s||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,i){return function bK(n){return!function mK(n){return function _K(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function pK(n){let e=n.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(n)||function gK(n){return function yK(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||k4(n))}(t)&&!this.isDisabled(t)&&(i?.ignoreVisibility||this.isVisible(t))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ts))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function k4(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let e=n.getAttribute("tabindex");return!(!e||isNaN(parseInt(e,10)))}function R4(n){if(!k4(n))return null;const e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class wK{constructor(e,t,i,r,s=!1){this._element=e,this._checker=t,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,s||this.attachAnchors()}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){const t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){const i=this._getFirstTabbableElement(t);return i?.focus(e),!!i}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){const t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){const t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let i=0;i<t.length;i++){const r=t[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[i]):null;if(r)return r}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let i=t.length-1;i>=0;i--){const r=t[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[i]):null;if(r)return r}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe(Wt(1)).subscribe(e)}}let SN=(()=>{class n{constructor(t,i,r){this._checker=t,this._ngZone=i,this._document=r}create(t,i=!1){return new wK(t,this._checker,this._ngZone,this._document,i)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(XA),l.LFG(l.R0b),l.LFG(we))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function IN(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function TN(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const CK=new l.OlP("cdk-input-modality-detector-options"),SK={ignoreKeys:[18,17,224,91,16]},Ky=Fw({passive:!0,capture:!0});let IK=(()=>{class n{constructor(t,i,r,s){this._platform=t,this._mostRecentTarget=null,this._modality=new On(null),this._lastTouchMs=0,this._onKeydown=a=>{this._options?.ignoreKeys?.some(d=>d===a.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Up(a))},this._onMousedown=a=>{Date.now()-this._lastTouchMs<650||(this._modality.next(IN(a)?"keyboard":"mouse"),this._mostRecentTarget=Up(a))},this._onTouchstart=a=>{TN(a)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Up(a))},this._options={...SK,...s},this.modalityDetected=this._modality.pipe(E4(1)),this.modalityChanged=this.modalityDetected.pipe(KA()),t.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,Ky),r.addEventListener("mousedown",this._onMousedown,Ky),r.addEventListener("touchstart",this._onTouchstart,Ky)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Ky),document.removeEventListener("mousedown",this._onMousedown,Ky),document.removeEventListener("touchstart",this._onTouchstart,Ky))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ts),l.LFG(l.R0b),l.LFG(we),l.LFG(CK,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const TK=new l.OlP("liveAnnouncerElement",{providedIn:"root",factory:function DK(){return null}}),AK=new l.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let DN=(()=>{class n{constructor(t,i,r,s){this._ngZone=i,this._defaultOptions=s,this._document=r,this._liveElement=t||this._createLiveElement()}announce(t,...i){const r=this._defaultOptions;let s,a;return 1===i.length&&"number"==typeof i[0]?a=i[0]:[s,a]=i,this.clear(),clearTimeout(this._previousTimeout),s||(s=r&&r.politeness?r.politeness:"polite"),null==a&&r&&(a=r.duration),this._liveElement.setAttribute("aria-live",s),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(d=>this._currentResolve=d)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=t,"number"==typeof a&&(this._previousTimeout=setTimeout(()=>this.clear(),a)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const t="cdk-live-announcer-element",i=this._document.getElementsByClassName(t),r=this._document.createElement("div");for(let s=0;s<i.length;s++)i[s].remove();return r.classList.add(t),r.classList.add("cdk-visually-hidden"),r.setAttribute("aria-atomic","true"),r.setAttribute("aria-live","polite"),this._document.body.appendChild(r),r}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(TK,8),l.LFG(l.R0b),l.LFG(we),l.LFG(AK,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const xK=new l.OlP("cdk-focus-monitor-default-options"),JA=Fw({passive:!0,capture:!0});let Kd=(()=>{class n{constructor(t,i,r,s,a){this._ngZone=t,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Tt.x,this._rootNodeFocusAndBlurListener=d=>{for(let p=Up(d);p;p=p.parentElement)"focus"===d.type?this._onFocus(d,p):this._onBlur(d,p)},this._document=s,this._detectionMode=a?.detectionMode||0}monitor(t,i=!1){const r=cu(t);if(!this._platform.isBrowser||1!==r.nodeType)return tt(null);const s=b4(r)||this._getDocument(),a=this._elementInfo.get(r);if(a)return i&&(a.checkChildren=!0),a.subject;const d={checkChildren:i,subject:new Tt.x,rootNode:s};return this._elementInfo.set(r,d),this._registerGlobalListeners(d),d.subject}stopMonitoring(t){const i=cu(t),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(t,i,r){const s=cu(t);s===this._getDocument().activeElement?this._getClosestElementsInfo(s).forEach(([d,h])=>this._originChanged(d,i,h)):(this._setOrigin(i),"function"==typeof s.focus&&s.focus(r))}ngOnDestroy(){this._elementInfo.forEach((t,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,i){t.classList.toggle("cdk-focused",!!i),t.classList.toggle("cdk-touch-focused","touch"===i),t.classList.toggle("cdk-keyboard-focused","keyboard"===i),t.classList.toggle("cdk-mouse-focused","mouse"===i),t.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(t,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,i){const r=this._elementInfo.get(i),s=Up(t);!r||!r.checkChildren&&i!==s||this._originChanged(i,this._getFocusOrigin(s),r)}_onBlur(t,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&t.relatedTarget instanceof Node&&i.contains(t.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(t,i){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(i))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const i=t.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,JA),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,JA)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(wi(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(t){const i=t.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,JA),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,JA),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,i,r){this._setClasses(t,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(t){const i=[];return this._elementInfo.forEach((r,s)=>{(s===t||r.checkChildren&&s.contains(t))&&i.push([s,r])}),i}_isLastInteractionFromInputLabel(t){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===t||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName||t.disabled)return!1;const s=t.labels;if(s)for(let a=0;a<s.length;a++)if(s[a].contains(i))return!0;return!1}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.R0b),l.LFG(ts),l.LFG(IK),l.LFG(we,8),l.LFG(xK,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const P4="cdk-high-contrast-black-on-white",N4="cdk-high-contrast-white-on-black",AN="cdk-high-contrast-active";let F4=(()=>{class n{constructor(t,i){this._platform=t,this._document=i,this._breakpointSubscription=(0,l.f3M)(CN).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(t):null,s=(r&&r.backgroundColor||"").replace(/ /g,"");switch(t.remove(),s){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(AN,P4,N4),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?t.add(AN,P4):2===i&&t.add(AN,N4)}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ts),l.LFG(we))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),MK=(()=>{class n{constructor(t){t._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(F4))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[S4]}),n})();const kK=new l.OlP("cdk-dir-doc",{providedIn:"root",factory:function RK(){return(0,l.f3M)(we)}}),OK=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Hp=(()=>{class n{constructor(t){if(this.value="ltr",this.change=new l.vpe,t){const r=t.documentElement?t.documentElement.dir:null;this.value=function PK(n){const e=n?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?OK.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||r||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(kK,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),$w=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();function NK(n,e){if(1&n&&l._UZ(0,"mat-pseudo-checkbox",4),2&n){const t=l.oxw();l.Q6J("state",t.selected?"checked":"unchecked")("disabled",t.disabled)}}function FK(n,e){if(1&n&&(l.TgZ(0,"span",5),l._uU(1),l.qZA()),2&n){const t=l.oxw();l.xp6(1),l.hij("(",t.group.label,")")}}const LK=["*"],VK=new l.OlP("mat-sanity-checks",{providedIn:"root",factory:function BK(){return!0}});let Vn=(()=>{class n{constructor(t,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!EN()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(F4),l.LFG(VK,8),l.LFG(we))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[$w,$w]}),n})();function xN(n){return class extends n{constructor(...e){super(...e),this._disabled=!1}get disabled(){return this._disabled}set disabled(e){this._disabled=jn(e)}}}function ex(n,e){return class extends n{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const i=t||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}}}function Qy(n){return class extends n{constructor(...e){super(...e),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=jn(e)}}}function V4(n,e=0){return class extends n{constructor(...t){super(...t),this._tabIndex=e,this.defaultTabIndex=e}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(t){this._tabIndex=null!=t?$p(t):this.defaultTabIndex}}}function U4(n){return class extends n{constructor(...e){super(...e),this.errorState=!1}updateErrorState(){const e=this.errorState,s=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);s!==e&&(this.errorState=s,this.stateChanges.next())}}}let MN=(()=>{class n{isErrorState(t,i){return!!(t&&t.invalid&&(t.touched||i&&i.submitted))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),$K=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["","mat-line",""],["","matLine",""]],hostAttrs:[1,"mat-line"]}),n})();function Hw(n,e,t){n.nativeElement.classList.toggle(e,t)}let $4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Vn,Vn]}),n})();class zK{constructor(e,t,i,r=!1){this._renderer=e,this.element=t,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const H4={enterDuration:225,exitDuration:150},kN=Fw({passive:!0}),z4=["mousedown","touchstart"],j4=["mouseup","mouseleave","touchend","touchcancel"];class GK{constructor(e,t,i,r){this._target=e,this._ngZone=t,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=cu(i))}fadeInRipple(e,t,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s={...H4,...i.animation};i.centered&&(e=r.left+r.width/2,t=r.top+r.height/2);const a=i.radius||function WK(n,e,t){const i=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),r=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(i*i+r*r)}(e,t,r),d=e-r.left,h=t-r.top,p=s.enterDuration,g=document.createElement("div");g.classList.add("mat-ripple-element"),g.style.left=d-a+"px",g.style.top=h-a+"px",g.style.height=2*a+"px",g.style.width=2*a+"px",null!=i.color&&(g.style.backgroundColor=i.color),g.style.transitionDuration=`${p}ms`,this._containerElement.appendChild(g);const v=window.getComputedStyle(g),D=v.transitionDuration,A="none"===v.transitionProperty||"0s"===D||"0s, 0s"===D,x=new zK(this,g,i,A);g.style.transform="scale3d(1, 1, 1)",x.state=0,i.persistent||(this._mostRecentTransientRipple=x);let k=null;return!A&&(p||s.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const F=()=>this._finishRippleTransition(x),L=()=>this._destroyRipple(x);g.addEventListener("transitionend",F),g.addEventListener("transitioncancel",L),k={onTransitionEnd:F,onTransitionCancel:L}}),this._activeRipples.set(x,k),(A||!p)&&this._finishRippleTransition(x),x}fadeOutRipple(e){if(2===e.state||3===e.state)return;const t=e.element,i={...H4,...e.config.animation};t.style.transitionDuration=`${i.exitDuration}ms`,t.style.opacity="0",e.state=2,(e._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=cu(e);!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,this._registerEvents(z4))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(j4),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){0===e.state?this._startFadeOutTransition(e):2===e.state&&this._destroyRipple(e)}_startFadeOutTransition(e){const t=e===this._mostRecentTransientRipple,{persistent:i}=e.config;e.state=1,!i&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=3,null!==t&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel)),e.element.remove()}_onMousedown(e){const t=IN(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!TN(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let i=0;i<t.length;i++)this.fadeInRipple(t[i].clientX,t[i].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_registerEvents(e){this._ngZone.runOutsideAngular(()=>{e.forEach(t=>{this._triggerElement.addEventListener(t,this,kN)})})}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){this._triggerElement&&(z4.forEach(e=>{this._triggerElement.removeEventListener(e,this,kN)}),this._pointerUpEventsRegistered&&j4.forEach(e=>{this._triggerElement.removeEventListener(e,this,kN)}))}}const qK=new l.OlP("mat-ripple-global-options");let Xy=(()=>{class n{constructor(t,i,r,s,a){this._elementRef=t,this._animationMode=a,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new GK(this,i,t,r)}get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,i=0,r){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,i,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...t})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.R0b),l.Y36(ts),l.Y36(qK,8),l.Y36(l.QbO,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,i){2&t&&l.ekj("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),Jy=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Vn,Vn]}),n})(),G4=(()=>{class n{constructor(t){this._animationMode=t,this.state="unchecked",this.disabled=!1}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.QbO,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(t,i){2&t&&l.ekj("mat-pseudo-checkbox-indeterminate","indeterminate"===i.state)("mat-pseudo-checkbox-checked","checked"===i.state)("mat-pseudo-checkbox-disabled",i.disabled)("_mat-animation-noopable","NoopAnimations"===i._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(t,i){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}'],encapsulation:2,changeDetection:0}),n})(),RN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Vn]}),n})();const W4=new l.OlP("MAT_OPTION_PARENT_COMPONENT"),q4=new l.OlP("MatOptgroup");let YK=0;class ZK{constructor(e,t=!1){this.source=e,this.isUserInput=t}}let KK=(()=>{class n{constructor(t,i,r,s){this._element=t,this._changeDetectorRef=i,this._parent=r,this.group=s,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+YK++,this.onSelectionChange=new l.vpe,this._stateChanges=new Tt.x}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(t){this._disabled=jn(t)}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(t,i){const r=this._getHostElement();"function"==typeof r.focus&&r.focus(i)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(t){(13===t.keyCode||32===t.keyCode)&&!Hl(t)&&(this._selectViaInteraction(),t.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const t=this.viewValue;t!==this._mostRecentViewValue&&(this._mostRecentViewValue=t,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(t=!1){this.onSelectionChange.emit(new ZK(this,t))}}return n.\u0275fac=function(t){l.$Z()},n.\u0275dir=l.lG2({type:n,inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}}),n})(),Y4=(()=>{class n extends KK{constructor(t,i,r,s){super(t,i,r,s)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.sBO),l.Y36(W4,8),l.Y36(q4,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(t,i){1&t&&l.NdJ("click",function(){return i._selectViaInteraction()})("keydown",function(s){return i._handleKeydown(s)}),2&t&&(l.Ikx("id",i.id),l.uIk("tabindex",i._getTabIndex())("aria-selected",i._getAriaSelected())("aria-disabled",i.disabled.toString()),l.ekj("mat-selected",i.selected)("mat-option-multiple",i.multiple)("mat-active",i.active)("mat-option-disabled",i.disabled))},exportAs:["matOption"],features:[l.qOj],ngContentSelectors:LK,decls:5,vars:4,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["class","cdk-visually-hidden",4,"ngIf"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"],[1,"cdk-visually-hidden"]],template:function(t,i){1&t&&(l.F$t(),l.YNc(0,NK,1,2,"mat-pseudo-checkbox",0),l.TgZ(1,"span",1),l.Hsn(2),l.qZA(),l.YNc(3,FK,2,1,"span",2),l._UZ(4,"div",3)),2&t&&(l.Q6J("ngIf",i.multiple),l.xp6(3),l.Q6J("ngIf",i.group&&i.group._inert),l.xp6(1),l.Q6J("matRippleTrigger",i._getHostElement())("matRippleDisabled",i.disabled||i.disableRipple))},dependencies:[Xy,In,G4],styles:['.mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.mat-option.mat-active::before{content:""}.cdk-high-contrast-active .mat-option[aria-disabled=true]{opacity:.5}.cdk-high-contrast-active .mat-option.mat-selected:not(.mat-option-multiple)::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .cdk-high-contrast-active .mat-option.mat-selected:not(.mat-option-multiple)::after{right:auto;left:16px}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}'],encapsulation:2,changeDetection:0}),n})();function Z4(n,e,t){if(t.length){let i=e.toArray(),r=t.toArray(),s=0;for(let a=0;a<n+1;a++)i[a].group&&i[a].group===r[s]&&s++;return s}return 0}let K4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Jy,ai,Vn,RN]}),n})();const XK=["mat-button",""],JK=["*"],tQ=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],nQ=ex(xN(Qy(class{constructor(n){this._elementRef=n}})));let zw=(()=>{class n extends nQ{constructor(t,i,r){super(t),this._focusMonitor=i,this._animationMode=r,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const s of tQ)this._hasHostAttributes(s)&&this._getHostElement().classList.add(s);t.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t,i){t?this._focusMonitor.focusVia(this._getHostElement(),t,i):this._getHostElement().focus(i)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(i=>this._getHostElement().hasAttribute(i))}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(Kd),l.Y36(l.QbO,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,i){if(1&t&&l.Gf(Xy,5),2&t){let r;l.iGM(r=l.CRH())&&(i.ripple=r.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(t,i){2&t&&(l.uIk("disabled",i.disabled||null),l.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-button-disabled",i.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[l.qOj],attrs:XK,ngContentSelectors:JK,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,i){1&t&&(l.F$t(),l.TgZ(0,"span",0),l.Hsn(1),l.qZA(),l._UZ(2,"span",1)(3,"span",2)),2&t&&(l.xp6(2),l.ekj("mat-button-ripple-round",i.isRoundButton||i.isIconButton),l.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",i.isIconButton)("matRippleTrigger",i._getHostElement()))},dependencies:[Xy],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}.mat-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.mat-flat-button::before,.mat-raised-button::before,.mat-fab::before,.mat-mini-fab::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-stroked-button::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),uu=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Jy,Vn,Vn]}),n})();function iQ(n,e){if(1&n&&(l.TgZ(0,"div",6),l._uU(1),l.qZA()),2&n){const t=l.oxw();l.xp6(1),l.Oqu(null==t.book?null:t.book.date)}}let rQ=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-product-card-in-main"]],inputs:{book:"book"},decls:20,vars:8,consts:[[1,"wrapper","pointer","d-flex","flex-col","gap-1","text-align-center",3,"routerLink"],[1,"p-2"],["alt","","width","166",1,"content-center",3,"src"],[1,"title","heading"],[1,"d-flex","flex-col"],["class","description",4,"ngIf"],[1,"description"],[1,"d-flex","justify-between"],[1,"d-flex","gap-2"],[1,"price"],[1,"old_price"],[1,"pr-2","pl-2"],["mat-button","",1,"to-cart"]],template:function(t,i){1&t&&(l.TgZ(0,"div",0)(1,"div",1),l._UZ(2,"img",2),l.TgZ(3,"div",3),l._uU(4),l.qZA(),l.TgZ(5,"div",4),l.YNc(6,iQ,2,1,"div",5),l.TgZ(7,"div",6),l._uU(8),l.qZA()(),l.TgZ(9,"div",7)(10,"div",8)(11,"div",9),l._uU(12),l.qZA(),l.TgZ(13,"div",10),l._uU(14),l.qZA()(),l.TgZ(15,"div"),l._uU(16),l.qZA()()(),l.TgZ(17,"div",11)(18,"button",12),l._uU(19,"\u0412 \u043a\u043e\u0440\u0437\u0438\u043d\u0443"),l.qZA()()()),2&t&&(l.Q6J("routerLink","/product-detail/"+i.book.sku),l.xp6(2),l.Q6J("src",i.book.img_url,l.LSH),l.xp6(2),l.Oqu(i.book.title),l.xp6(2),l.Q6J("ngIf",null==i.book?null:i.book.date),l.xp6(2),l.Oqu(i.book.author),l.xp6(4),l.Oqu(i.book.price),l.xp6(2),l.Oqu(null==i.book?null:i.book.old_price),l.xp6(2),l.Oqu(0!==i.book.count?"\u041d\u0430 \u0441\u043a\u043b\u0430\u0434\u0435":"\u041d\u0435\u0442 \u0432 \u043d\u0430\u043b\u0438\u0447\u0438\u0439"))},dependencies:[In,zw,sd],styles:[".wrapper[_ngcontent-%COMP%]{width:228px;height:390px;box-sizing:border-box;box-shadow:0 0 5px #0000001a;background:#fff;border-radius:10px;border:1px solid #fdfdfd;overflow:hidden;margin-bottom:30px;transition:.2s ease}.wrapper[_ngcontent-%COMP%]:hover{transition:.2s ease;height:420px;margin-bottom:0}.wrapper[_ngcontent-%COMP%]:hover   .to-cart[_ngcontent-%COMP%]{opacity:1;transition:.2s}.title[_ngcontent-%COMP%]{color:#0a78d6;text-decoration:none}.title[_ngcontent-%COMP%]:hover{color:var(--brand_yellow)}.description[_ngcontent-%COMP%]{text-align:center;font-size:10px;color:#777}.price[_ngcontent-%COMP%]{font-size:14px;color:#af0000}.to-cart[_ngcontent-%COMP%]{width:100%;background:var(--brand_yellow);border-radius:1rem;opacity:0;transition:.2s}.heading[_ngcontent-%COMP%]{height:40px;overflow:hidden}"]}),n})();function Q4(n){return null!==n&&"object"==typeof n&&"constructor"in n&&n.constructor===Object}function ON(n={},e={}){Object.keys(e).forEach(t=>{typeof n[t]>"u"?n[t]=e[t]:Q4(e[t])&&Q4(n[t])&&Object.keys(e[t]).length>0&&ON(n[t],e[t])})}const X4={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector:()=>null,querySelectorAll:()=>[],getElementById:()=>null,createEvent:()=>({initEvent(){}}),createElement:()=>({children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName:()=>[]}),createElementNS:()=>({}),importNode:()=>null,location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function wr(){const n=typeof document<"u"?document:{};return ON(n,X4),n}const sQ={document:X4,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle:()=>({getPropertyValue:()=>""}),Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia:()=>({}),requestAnimationFrame:n=>typeof setTimeout>"u"?(n(),null):setTimeout(n,0),cancelAnimationFrame(n){typeof setTimeout>"u"||clearTimeout(n)}};function ur(){const n=typeof window<"u"?window:{};return ON(n,sQ),n}class Qd extends Array{constructor(e){"number"==typeof e?super(e):(super(...e||[]),function oQ(n){const e=n.__proto__;Object.defineProperty(n,"__proto__",{get:()=>e,set(t){e.__proto__=t}})}(this))}}function jw(n=[]){const e=[];return n.forEach(t=>{Array.isArray(t)?e.push(...jw(t)):e.push(t)}),e}function J4(n,e){return Array.prototype.filter.call(n,e)}function Kt(n,e){const t=ur(),i=wr();let r=[];if(!e&&n instanceof Qd)return n;if(!n)return new Qd(r);if("string"==typeof n){const s=n.trim();if(s.indexOf("<")>=0&&s.indexOf(">")>=0){let a="div";0===s.indexOf("<li")&&(a="ul"),0===s.indexOf("<tr")&&(a="tbody"),(0===s.indexOf("<td")||0===s.indexOf("<th"))&&(a="tr"),0===s.indexOf("<tbody")&&(a="table"),0===s.indexOf("<option")&&(a="select");const d=i.createElement(a);d.innerHTML=s;for(let h=0;h<d.childNodes.length;h+=1)r.push(d.childNodes[h])}else r=function cQ(n,e){if("string"!=typeof n)return[n];const t=[],i=e.querySelectorAll(n);for(let r=0;r<i.length;r+=1)t.push(i[r]);return t}(n.trim(),e||i)}else if(n.nodeType||n===t||n===i)r.push(n);else if(Array.isArray(n)){if(n instanceof Qd)return n;r=n}return new Qd(function aQ(n){const e=[];for(let t=0;t<n.length;t+=1)-1===e.indexOf(n[t])&&e.push(n[t]);return e}(r))}Kt.fn=Qd.prototype;const WQ="resize scroll".split(" ");function Oi(n){return function e(...t){if(typeof t[0]>"u"){for(let i=0;i<this.length;i+=1)WQ.indexOf(n)<0&&(n in this[i]?this[i][n]():Kt(this[i]).trigger(n));return this}return this.on(n,...t)}}Oi("click"),Oi("blur"),Oi("focus"),Oi("focusin"),Oi("focusout"),Oi("keyup"),Oi("keydown"),Oi("keypress"),Oi("submit"),Oi("change"),Oi("mousedown"),Oi("mousemove"),Oi("mouseup"),Oi("mouseenter"),Oi("mouseleave"),Oi("mouseout"),Oi("mouseover"),Oi("touchstart"),Oi("touchend"),Oi("touchmove"),Oi("resize"),Oi("scroll");const eH={addClass:function uQ(...n){const e=jw(n.map(t=>t.split(" ")));return this.forEach(t=>{t.classList.add(...e)}),this},removeClass:function dQ(...n){const e=jw(n.map(t=>t.split(" ")));return this.forEach(t=>{t.classList.remove(...e)}),this},hasClass:function fQ(...n){const e=jw(n.map(t=>t.split(" ")));return J4(this,t=>e.filter(i=>t.classList.contains(i)).length>0).length>0},toggleClass:function hQ(...n){const e=jw(n.map(t=>t.split(" ")));this.forEach(t=>{e.forEach(i=>{t.classList.toggle(i)})})},attr:function pQ(n,e){if(1===arguments.length&&"string"==typeof n)return this[0]?this[0].getAttribute(n):void 0;for(let t=0;t<this.length;t+=1)if(2===arguments.length)this[t].setAttribute(n,e);else for(const i in n)this[t][i]=n[i],this[t].setAttribute(i,n[i]);return this},removeAttr:function mQ(n){for(let e=0;e<this.length;e+=1)this[e].removeAttribute(n);return this},transform:function gQ(n){for(let e=0;e<this.length;e+=1)this[e].style.transform=n;return this},transition:function _Q(n){for(let e=0;e<this.length;e+=1)this[e].style.transitionDuration="string"!=typeof n?`${n}ms`:n;return this},on:function yQ(...n){let[e,t,i,r]=n;function s(p){const g=p.target;if(!g)return;const v=p.target.dom7EventData||[];if(v.indexOf(p)<0&&v.unshift(p),Kt(g).is(t))i.apply(g,v);else{const w=Kt(g).parents();for(let D=0;D<w.length;D+=1)Kt(w[D]).is(t)&&i.apply(w[D],v)}}function a(p){const g=p&&p.target&&p.target.dom7EventData||[];g.indexOf(p)<0&&g.unshift(p),i.apply(this,g)}"function"==typeof n[1]&&([e,i,r]=n,t=void 0),r||(r=!1);const d=e.split(" ");let h;for(let p=0;p<this.length;p+=1){const g=this[p];if(t)for(h=0;h<d.length;h+=1){const v=d[h];g.dom7LiveListeners||(g.dom7LiveListeners={}),g.dom7LiveListeners[v]||(g.dom7LiveListeners[v]=[]),g.dom7LiveListeners[v].push({listener:i,proxyListener:s}),g.addEventListener(v,s,r)}else for(h=0;h<d.length;h+=1){const v=d[h];g.dom7Listeners||(g.dom7Listeners={}),g.dom7Listeners[v]||(g.dom7Listeners[v]=[]),g.dom7Listeners[v].push({listener:i,proxyListener:a}),g.addEventListener(v,a,r)}}return this},off:function vQ(...n){let[e,t,i,r]=n;"function"==typeof n[1]&&([e,i,r]=n,t=void 0),r||(r=!1);const s=e.split(" ");for(let a=0;a<s.length;a+=1){const d=s[a];for(let h=0;h<this.length;h+=1){const p=this[h];let g;if(!t&&p.dom7Listeners?g=p.dom7Listeners[d]:t&&p.dom7LiveListeners&&(g=p.dom7LiveListeners[d]),g&&g.length)for(let v=g.length-1;v>=0;v-=1){const w=g[v];i&&w.listener===i||i&&w.listener&&w.listener.dom7proxy&&w.listener.dom7proxy===i?(p.removeEventListener(d,w.proxyListener,r),g.splice(v,1)):i||(p.removeEventListener(d,w.proxyListener,r),g.splice(v,1))}}}return this},trigger:function bQ(...n){const e=ur(),t=n[0].split(" "),i=n[1];for(let r=0;r<t.length;r+=1){const s=t[r];for(let a=0;a<this.length;a+=1){const d=this[a];if(e.CustomEvent){const h=new e.CustomEvent(s,{detail:i,bubbles:!0,cancelable:!0});d.dom7EventData=n.filter((p,g)=>g>0),d.dispatchEvent(h),d.dom7EventData=[],delete d.dom7EventData}}}return this},transitionEnd:function EQ(n){const e=this;return n&&e.on("transitionend",function t(i){i.target===this&&(n.call(this,i),e.off("transitionend",t))}),this},outerWidth:function wQ(n){if(this.length>0){if(n){const e=this.styles();return this[0].offsetWidth+parseFloat(e.getPropertyValue("margin-right"))+parseFloat(e.getPropertyValue("margin-left"))}return this[0].offsetWidth}return null},outerHeight:function CQ(n){if(this.length>0){if(n){const e=this.styles();return this[0].offsetHeight+parseFloat(e.getPropertyValue("margin-top"))+parseFloat(e.getPropertyValue("margin-bottom"))}return this[0].offsetHeight}return null},styles:function IQ(){const n=ur();return this[0]?n.getComputedStyle(this[0],null):{}},offset:function SQ(){if(this.length>0){const n=ur(),e=wr(),t=this[0],i=t.getBoundingClientRect(),r=e.body;return{top:i.top+(t===n?n.scrollY:t.scrollTop)-(t.clientTop||r.clientTop||0),left:i.left+(t===n?n.scrollX:t.scrollLeft)-(t.clientLeft||r.clientLeft||0)}}return null},css:function TQ(n,e){const t=ur();let i;if(1===arguments.length){if("string"!=typeof n){for(i=0;i<this.length;i+=1)for(const r in n)this[i].style[r]=n[r];return this}if(this[0])return t.getComputedStyle(this[0],null).getPropertyValue(n)}if(2===arguments.length&&"string"==typeof n){for(i=0;i<this.length;i+=1)this[i].style[n]=e;return this}return this},each:function DQ(n){return n?(this.forEach((e,t)=>{n.apply(e,[e,t])}),this):this},html:function xQ(n){if(typeof n>"u")return this[0]?this[0].innerHTML:null;for(let e=0;e<this.length;e+=1)this[e].innerHTML=n;return this},text:function MQ(n){if(typeof n>"u")return this[0]?this[0].textContent.trim():null;for(let e=0;e<this.length;e+=1)this[e].textContent=n;return this},is:function kQ(n){const e=ur(),t=wr(),i=this[0];let r,s;if(!i||typeof n>"u")return!1;if("string"==typeof n){if(i.matches)return i.matches(n);if(i.webkitMatchesSelector)return i.webkitMatchesSelector(n);if(i.msMatchesSelector)return i.msMatchesSelector(n);for(r=Kt(n),s=0;s<r.length;s+=1)if(r[s]===i)return!0;return!1}if(n===t)return i===t;if(n===e)return i===e;if(n.nodeType||n instanceof Qd){for(r=n.nodeType?[n]:n,s=0;s<r.length;s+=1)if(r[s]===i)return!0;return!1}return!1},index:function RQ(){let e,n=this[0];if(n){for(e=0;null!==(n=n.previousSibling);)1===n.nodeType&&(e+=1);return e}},eq:function OQ(n){if(typeof n>"u")return this;const e=this.length;if(n>e-1)return Kt([]);if(n<0){const t=e+n;return Kt(t<0?[]:[this[t]])}return Kt([this[n]])},append:function PQ(...n){let e;const t=wr();for(let i=0;i<n.length;i+=1){e=n[i];for(let r=0;r<this.length;r+=1)if("string"==typeof e){const s=t.createElement("div");for(s.innerHTML=e;s.firstChild;)this[r].appendChild(s.firstChild)}else if(e instanceof Qd)for(let s=0;s<e.length;s+=1)this[r].appendChild(e[s]);else this[r].appendChild(e)}return this},prepend:function NQ(n){const e=wr();let t,i;for(t=0;t<this.length;t+=1)if("string"==typeof n){const r=e.createElement("div");for(r.innerHTML=n,i=r.childNodes.length-1;i>=0;i-=1)this[t].insertBefore(r.childNodes[i],this[t].childNodes[0])}else if(n instanceof Qd)for(i=0;i<n.length;i+=1)this[t].insertBefore(n[i],this[t].childNodes[0]);else this[t].insertBefore(n,this[t].childNodes[0]);return this},next:function FQ(n){return this.length>0?n?this[0].nextElementSibling&&Kt(this[0].nextElementSibling).is(n)?Kt([this[0].nextElementSibling]):Kt([]):Kt(this[0].nextElementSibling?[this[0].nextElementSibling]:[]):Kt([])},nextAll:function LQ(n){const e=[];let t=this[0];if(!t)return Kt([]);for(;t.nextElementSibling;){const i=t.nextElementSibling;n?Kt(i).is(n)&&e.push(i):e.push(i),t=i}return Kt(e)},prev:function BQ(n){if(this.length>0){const e=this[0];return n?e.previousElementSibling&&Kt(e.previousElementSibling).is(n)?Kt([e.previousElementSibling]):Kt([]):Kt(e.previousElementSibling?[e.previousElementSibling]:[])}return Kt([])},prevAll:function VQ(n){const e=[];let t=this[0];if(!t)return Kt([]);for(;t.previousElementSibling;){const i=t.previousElementSibling;n?Kt(i).is(n)&&e.push(i):e.push(i),t=i}return Kt(e)},parent:function UQ(n){const e=[];for(let t=0;t<this.length;t+=1)null!==this[t].parentNode&&(n?Kt(this[t].parentNode).is(n)&&e.push(this[t].parentNode):e.push(this[t].parentNode));return Kt(e)},parents:function $Q(n){const e=[];for(let t=0;t<this.length;t+=1){let i=this[t].parentNode;for(;i;)n?Kt(i).is(n)&&e.push(i):e.push(i),i=i.parentNode}return Kt(e)},closest:function HQ(n){let e=this;return typeof n>"u"?Kt([]):(e.is(n)||(e=e.parents(n).eq(0)),e)},find:function zQ(n){const e=[];for(let t=0;t<this.length;t+=1){const i=this[t].querySelectorAll(n);for(let r=0;r<i.length;r+=1)e.push(i[r])}return Kt(e)},children:function jQ(n){const e=[];for(let t=0;t<this.length;t+=1){const i=this[t].children;for(let r=0;r<i.length;r+=1)(!n||Kt(i[r]).is(n))&&e.push(i[r])}return Kt(e)},filter:function AQ(n){return Kt(J4(this,n))},remove:function GQ(){for(let n=0;n<this.length;n+=1)this[n].parentNode&&this[n].parentNode.removeChild(this[n]);return this}};Object.keys(eH).forEach(n=>{Object.defineProperty(Kt.fn,n,{value:eH[n],writable:!0})});const Yt=Kt;function ev(n,e=0){return setTimeout(n,e)}function Gw(){return Date.now()}function PN(n,e="x"){const t=ur();let i,r,s;const a=function YQ(n){const e=ur();let t;return e.getComputedStyle&&(t=e.getComputedStyle(n,null)),!t&&n.currentStyle&&(t=n.currentStyle),t||(t=n.style),t}(n);return t.WebKitCSSMatrix?(r=a.transform||a.webkitTransform,r.split(",").length>6&&(r=r.split(", ").map(d=>d.replace(",",".")).join(", ")),s=new t.WebKitCSSMatrix("none"===r?"":r)):(s=a.MozTransform||a.OTransform||a.MsTransform||a.msTransform||a.transform||a.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),i=s.toString().split(",")),"x"===e&&(r=t.WebKitCSSMatrix?s.m41:16===i.length?parseFloat(i[12]):parseFloat(i[4])),"y"===e&&(r=t.WebKitCSSMatrix?s.m42:16===i.length?parseFloat(i[13]):parseFloat(i[5])),r||0}function Ww(n){return"object"==typeof n&&null!==n&&n.constructor&&"Object"===Object.prototype.toString.call(n).slice(8,-1)}function ZQ(n){return typeof window<"u"&&typeof window.HTMLElement<"u"?n instanceof HTMLElement:n&&(1===n.nodeType||11===n.nodeType)}function ho(...n){const e=Object(n[0]),t=["__proto__","constructor","prototype"];for(let i=1;i<n.length;i+=1){const r=n[i];if(null!=r&&!ZQ(r)){const s=Object.keys(Object(r)).filter(a=>t.indexOf(a)<0);for(let a=0,d=s.length;a<d;a+=1){const h=s[a],p=Object.getOwnPropertyDescriptor(r,h);void 0!==p&&p.enumerable&&(Ww(e[h])&&Ww(r[h])?r[h].__swiper__?e[h]=r[h]:ho(e[h],r[h]):!Ww(e[h])&&Ww(r[h])?(e[h]={},r[h].__swiper__?e[h]=r[h]:ho(e[h],r[h])):e[h]=r[h])}}}return e}function qw(n,e,t){n.style.setProperty(e,t)}function tH({swiper:n,targetPosition:e,side:t}){const i=ur(),r=-n.translate;let a,s=null;const d=n.params.speed;n.wrapperEl.style.scrollSnapType="none",i.cancelAnimationFrame(n.cssModeFrameID);const h=e>r?"next":"prev",p=(v,w)=>"next"===h&&v>=w||"prev"===h&&v<=w,g=()=>{a=(new Date).getTime(),null===s&&(s=a);const v=Math.max(Math.min((a-s)/d,1),0),w=.5-Math.cos(v*Math.PI)/2;let D=r+w*(e-r);if(p(D,e)&&(D=e),n.wrapperEl.scrollTo({[t]:D}),p(D,e))return n.wrapperEl.style.overflow="hidden",n.wrapperEl.style.scrollSnapType="",setTimeout(()=>{n.wrapperEl.style.overflow="",n.wrapperEl.scrollTo({[t]:D})}),void i.cancelAnimationFrame(n.cssModeFrameID);n.cssModeFrameID=i.requestAnimationFrame(g)};g()}let NN,FN,LN;function nH(){return NN||(NN=function KQ(){const n=ur(),e=wr();return{smoothScroll:e.documentElement&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in n||n.DocumentTouch&&e instanceof n.DocumentTouch),passiveListener:function(){let i=!1;try{const r=Object.defineProperty({},"passive",{get(){i=!0}});n.addEventListener("testPassiveListener",null,r)}catch{}return i}(),gestures:"ongesturestart"in n}}()),NN}const i9={on(n,e,t){const i=this;if(!i.eventsListeners||i.destroyed||"function"!=typeof e)return i;const r=t?"unshift":"push";return n.split(" ").forEach(s=>{i.eventsListeners[s]||(i.eventsListeners[s]=[]),i.eventsListeners[s][r](e)}),i},once(n,e,t){const i=this;if(!i.eventsListeners||i.destroyed||"function"!=typeof e)return i;function r(...s){i.off(n,r),r.__emitterProxy&&delete r.__emitterProxy,e.apply(i,s)}return r.__emitterProxy=e,i.on(n,r,t)},onAny(n,e){const t=this;if(!t.eventsListeners||t.destroyed||"function"!=typeof n)return t;const i=e?"unshift":"push";return t.eventsAnyListeners.indexOf(n)<0&&t.eventsAnyListeners[i](n),t},offAny(n){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const t=e.eventsAnyListeners.indexOf(n);return t>=0&&e.eventsAnyListeners.splice(t,1),e},off(n,e){const t=this;return!t.eventsListeners||t.destroyed||!t.eventsListeners||n.split(" ").forEach(i=>{typeof e>"u"?t.eventsListeners[i]=[]:t.eventsListeners[i]&&t.eventsListeners[i].forEach((r,s)=>{(r===e||r.__emitterProxy&&r.__emitterProxy===e)&&t.eventsListeners[i].splice(s,1)})}),t},emit(...n){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsListeners)return e;let t,i,r;return"string"==typeof n[0]||Array.isArray(n[0])?(t=n[0],i=n.slice(1,n.length),r=e):(t=n[0].events,i=n[0].data,r=n[0].context||e),i.unshift(r),(Array.isArray(t)?t:t.split(" ")).forEach(a=>{e.eventsAnyListeners&&e.eventsAnyListeners.length&&e.eventsAnyListeners.forEach(d=>{d.apply(r,[a,...i])}),e.eventsListeners&&e.eventsListeners[a]&&e.eventsListeners[a].forEach(d=>{d.apply(r,i)})}),e}},f9={updateSize:function r9(){const n=this;let e,t;const i=n.$el;e=typeof n.params.width<"u"&&null!==n.params.width?n.params.width:i[0].clientWidth,t=typeof n.params.height<"u"&&null!==n.params.height?n.params.height:i[0].clientHeight,!(0===e&&n.isHorizontal()||0===t&&n.isVertical())&&(e=e-parseInt(i.css("padding-left")||0,10)-parseInt(i.css("padding-right")||0,10),t=t-parseInt(i.css("padding-top")||0,10)-parseInt(i.css("padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(t)&&(t=0),Object.assign(n,{width:e,height:t,size:n.isHorizontal()?e:t}))},updateSlides:function s9(){const n=this;function e($e){return n.isHorizontal()?$e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[$e]}function t($e,ge){return parseFloat($e.getPropertyValue(e(ge))||0)}const i=n.params,{$wrapperEl:r,size:s,rtlTranslate:a,wrongRTL:d}=n,h=n.virtual&&i.virtual.enabled,p=h?n.virtual.slides.length:n.slides.length,g=r.children(`.${n.params.slideClass}`),v=h?n.virtual.slides.length:g.length;let w=[];const D=[],A=[];let x=i.slidesOffsetBefore;"function"==typeof x&&(x=i.slidesOffsetBefore.call(n));let k=i.slidesOffsetAfter;"function"==typeof k&&(k=i.slidesOffsetAfter.call(n));const F=n.snapGrid.length,L=n.slidesGrid.length;let U=i.spaceBetween,te=-x,oe=0,ue=0;if(typeof s>"u")return;"string"==typeof U&&U.indexOf("%")>=0&&(U=parseFloat(U.replace("%",""))/100*s),n.virtualSize=-U,g.css(a?{marginLeft:"",marginBottom:"",marginTop:""}:{marginRight:"",marginBottom:"",marginTop:""}),i.centeredSlides&&i.cssMode&&(qw(n.wrapperEl,"--swiper-centered-offset-before",""),qw(n.wrapperEl,"--swiper-centered-offset-after",""));const ye=i.grid&&i.grid.rows>1&&n.grid;let ze;ye&&n.grid.initSlides(v);const it="auto"===i.slidesPerView&&i.breakpoints&&Object.keys(i.breakpoints).filter($e=>typeof i.breakpoints[$e].slidesPerView<"u").length>0;for(let $e=0;$e<v;$e+=1){ze=0;const ge=g.eq($e);if(ye&&n.grid.updateSlide($e,ge,v,e),"none"!==ge.css("display")){if("auto"===i.slidesPerView){it&&(g[$e].style[e("width")]="");const ae=getComputedStyle(ge[0]),Ee=ge[0].style.transform,_t=ge[0].style.webkitTransform;if(Ee&&(ge[0].style.transform="none"),_t&&(ge[0].style.webkitTransform="none"),i.roundLengths)ze=n.isHorizontal()?ge.outerWidth(!0):ge.outerHeight(!0);else{const kt=t(ae,"width"),J=t(ae,"padding-left"),Ie=t(ae,"padding-right"),Ce=t(ae,"margin-left"),pt=t(ae,"margin-right"),Ut=ae.getPropertyValue("box-sizing");if(Ut&&"border-box"===Ut)ze=kt+Ce+pt;else{const{clientWidth:di,offsetWidth:$i}=ge[0];ze=kt+J+Ie+Ce+pt+($i-di)}}Ee&&(ge[0].style.transform=Ee),_t&&(ge[0].style.webkitTransform=_t),i.roundLengths&&(ze=Math.floor(ze))}else ze=(s-(i.slidesPerView-1)*U)/i.slidesPerView,i.roundLengths&&(ze=Math.floor(ze)),g[$e]&&(g[$e].style[e("width")]=`${ze}px`);g[$e]&&(g[$e].swiperSlideSize=ze),A.push(ze),i.centeredSlides?(te=te+ze/2+oe/2+U,0===oe&&0!==$e&&(te=te-s/2-U),0===$e&&(te=te-s/2-U),Math.abs(te)<.001&&(te=0),i.roundLengths&&(te=Math.floor(te)),ue%i.slidesPerGroup==0&&w.push(te),D.push(te)):(i.roundLengths&&(te=Math.floor(te)),(ue-Math.min(n.params.slidesPerGroupSkip,ue))%n.params.slidesPerGroup==0&&w.push(te),D.push(te),te=te+ze+U),n.virtualSize+=ze+U,oe=ze,ue+=1}}if(n.virtualSize=Math.max(n.virtualSize,s)+k,a&&d&&("slide"===i.effect||"coverflow"===i.effect)&&r.css({width:`${n.virtualSize+i.spaceBetween}px`}),i.setWrapperSize&&r.css({[e("width")]:`${n.virtualSize+i.spaceBetween}px`}),ye&&n.grid.updateWrapperSize(ze,w,e),!i.centeredSlides){const $e=[];for(let ge=0;ge<w.length;ge+=1){let ae=w[ge];i.roundLengths&&(ae=Math.floor(ae)),w[ge]<=n.virtualSize-s&&$e.push(ae)}w=$e,Math.floor(n.virtualSize-s)-Math.floor(w[w.length-1])>1&&w.push(n.virtualSize-s)}if(0===w.length&&(w=[0]),0!==i.spaceBetween){const $e=n.isHorizontal()&&a?"marginLeft":e("marginRight");g.filter((ge,ae)=>!i.cssMode||ae!==g.length-1).css({[$e]:`${U}px`})}if(i.centeredSlides&&i.centeredSlidesBounds){let $e=0;A.forEach(ae=>{$e+=ae+(i.spaceBetween?i.spaceBetween:0)}),$e-=i.spaceBetween;const ge=$e-s;w=w.map(ae=>ae<0?-x:ae>ge?ge+k:ae)}if(i.centerInsufficientSlides){let $e=0;if(A.forEach(ge=>{$e+=ge+(i.spaceBetween?i.spaceBetween:0)}),$e-=i.spaceBetween,$e<s){const ge=(s-$e)/2;w.forEach((ae,Ee)=>{w[Ee]=ae-ge}),D.forEach((ae,Ee)=>{D[Ee]=ae+ge})}}if(Object.assign(n,{slides:g,snapGrid:w,slidesGrid:D,slidesSizesGrid:A}),i.centeredSlides&&i.cssMode&&!i.centeredSlidesBounds){qw(n.wrapperEl,"--swiper-centered-offset-before",-w[0]+"px"),qw(n.wrapperEl,"--swiper-centered-offset-after",n.size/2-A[A.length-1]/2+"px");const $e=-n.snapGrid[0],ge=-n.slidesGrid[0];n.snapGrid=n.snapGrid.map(ae=>ae+$e),n.slidesGrid=n.slidesGrid.map(ae=>ae+ge)}if(v!==p&&n.emit("slidesLengthChange"),w.length!==F&&(n.params.watchOverflow&&n.checkOverflow(),n.emit("snapGridLengthChange")),D.length!==L&&n.emit("slidesGridLengthChange"),i.watchSlidesProgress&&n.updateSlidesOffset(),!(h||i.cssMode||"slide"!==i.effect&&"fade"!==i.effect)){const $e=`${i.containerModifierClass}backface-hidden`,ge=n.$el.hasClass($e);v<=i.maxBackfaceHiddenSlides?ge||n.$el.addClass($e):ge&&n.$el.removeClass($e)}},updateAutoHeight:function o9(n){const e=this,t=[],i=e.virtual&&e.params.virtual.enabled;let s,r=0;"number"==typeof n?e.setTransition(n):!0===n&&e.setTransition(e.params.speed);const a=d=>i?e.slides.filter(h=>parseInt(h.getAttribute("data-swiper-slide-index"),10)===d)[0]:e.slides.eq(d)[0];if("auto"!==e.params.slidesPerView&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||Yt([])).each(d=>{t.push(d)});else for(s=0;s<Math.ceil(e.params.slidesPerView);s+=1){const d=e.activeIndex+s;if(d>e.slides.length&&!i)break;t.push(a(d))}else t.push(a(e.activeIndex));for(s=0;s<t.length;s+=1)if(typeof t[s]<"u"){const d=t[s].offsetHeight;r=d>r?d:r}(r||0===r)&&e.$wrapperEl.css("height",`${r}px`)},updateSlidesOffset:function a9(){const n=this,e=n.slides;for(let t=0;t<e.length;t+=1)e[t].swiperSlideOffset=n.isHorizontal()?e[t].offsetLeft:e[t].offsetTop},updateSlidesProgress:function l9(n=this&&this.translate||0){const e=this,t=e.params,{slides:i,rtlTranslate:r,snapGrid:s}=e;if(0===i.length)return;typeof i[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let a=-n;r&&(a=n),i.removeClass(t.slideVisibleClass),e.visibleSlidesIndexes=[],e.visibleSlides=[];for(let d=0;d<i.length;d+=1){const h=i[d];let p=h.swiperSlideOffset;t.cssMode&&t.centeredSlides&&(p-=i[0].swiperSlideOffset);const g=(a+(t.centeredSlides?e.minTranslate():0)-p)/(h.swiperSlideSize+t.spaceBetween),v=(a-s[0]+(t.centeredSlides?e.minTranslate():0)-p)/(h.swiperSlideSize+t.spaceBetween),w=-(a-p),D=w+e.slidesSizesGrid[d];(w>=0&&w<e.size-1||D>1&&D<=e.size||w<=0&&D>=e.size)&&(e.visibleSlides.push(h),e.visibleSlidesIndexes.push(d),i.eq(d).addClass(t.slideVisibleClass)),h.progress=r?-g:g,h.originalProgress=r?-v:v}e.visibleSlides=Yt(e.visibleSlides)},updateProgress:function c9(n){const e=this;if(typeof n>"u"){const p=e.rtlTranslate?-1:1;n=e&&e.translate&&e.translate*p||0}const t=e.params,i=e.maxTranslate()-e.minTranslate();let{progress:r,isBeginning:s,isEnd:a}=e;const d=s,h=a;0===i?(r=0,s=!0,a=!0):(r=(n-e.minTranslate())/i,s=r<=0,a=r>=1),Object.assign(e,{progress:r,isBeginning:s,isEnd:a}),(t.watchSlidesProgress||t.centeredSlides&&t.autoHeight)&&e.updateSlidesProgress(n),s&&!d&&e.emit("reachBeginning toEdge"),a&&!h&&e.emit("reachEnd toEdge"),(d&&!s||h&&!a)&&e.emit("fromEdge"),e.emit("progress",r)},updateSlidesClasses:function u9(){const n=this,{slides:e,params:t,$wrapperEl:i,activeIndex:r,realIndex:s}=n,a=n.virtual&&t.virtual.enabled;let d;e.removeClass(`${t.slideActiveClass} ${t.slideNextClass} ${t.slidePrevClass} ${t.slideDuplicateActiveClass} ${t.slideDuplicateNextClass} ${t.slideDuplicatePrevClass}`),d=a?n.$wrapperEl.find(`.${t.slideClass}[data-swiper-slide-index="${r}"]`):e.eq(r),d.addClass(t.slideActiveClass),t.loop&&(d.hasClass(t.slideDuplicateClass)?i.children(`.${t.slideClass}:not(.${t.slideDuplicateClass})[data-swiper-slide-index="${s}"]`).addClass(t.slideDuplicateActiveClass):i.children(`.${t.slideClass}.${t.slideDuplicateClass}[data-swiper-slide-index="${s}"]`).addClass(t.slideDuplicateActiveClass));let h=d.nextAll(`.${t.slideClass}`).eq(0).addClass(t.slideNextClass);t.loop&&0===h.length&&(h=e.eq(0),h.addClass(t.slideNextClass));let p=d.prevAll(`.${t.slideClass}`).eq(0).addClass(t.slidePrevClass);t.loop&&0===p.length&&(p=e.eq(-1),p.addClass(t.slidePrevClass)),t.loop&&(h.hasClass(t.slideDuplicateClass)?i.children(`.${t.slideClass}:not(.${t.slideDuplicateClass})[data-swiper-slide-index="${h.attr("data-swiper-slide-index")}"]`).addClass(t.slideDuplicateNextClass):i.children(`.${t.slideClass}.${t.slideDuplicateClass}[data-swiper-slide-index="${h.attr("data-swiper-slide-index")}"]`).addClass(t.slideDuplicateNextClass),p.hasClass(t.slideDuplicateClass)?i.children(`.${t.slideClass}:not(.${t.slideDuplicateClass})[data-swiper-slide-index="${p.attr("data-swiper-slide-index")}"]`).addClass(t.slideDuplicatePrevClass):i.children(`.${t.slideClass}.${t.slideDuplicateClass}[data-swiper-slide-index="${p.attr("data-swiper-slide-index")}"]`).addClass(t.slideDuplicatePrevClass)),n.emitSlidesClasses()},updateActiveIndex:function d9(n){const e=this,t=e.rtlTranslate?e.translate:-e.translate,{slidesGrid:i,snapGrid:r,params:s,activeIndex:a,realIndex:d,snapIndex:h}=e;let g,p=n;if(typeof p>"u"){for(let w=0;w<i.length;w+=1)typeof i[w+1]<"u"?t>=i[w]&&t<i[w+1]-(i[w+1]-i[w])/2?p=w:t>=i[w]&&t<i[w+1]&&(p=w+1):t>=i[w]&&(p=w);s.normalizeSlideIndex&&(p<0||typeof p>"u")&&(p=0)}if(r.indexOf(t)>=0)g=r.indexOf(t);else{const w=Math.min(s.slidesPerGroupSkip,p);g=w+Math.floor((p-w)/s.slidesPerGroup)}if(g>=r.length&&(g=r.length-1),p===a)return void(g!==h&&(e.snapIndex=g,e.emit("snapIndexChange")));const v=parseInt(e.slides.eq(p).attr("data-swiper-slide-index")||p,10);Object.assign(e,{snapIndex:g,realIndex:v,previousIndex:a,activeIndex:p}),e.emit("activeIndexChange"),e.emit("snapIndexChange"),d!==v&&e.emit("realIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&e.emit("slideChange")},updateClickedSlide:function h9(n){const e=this,t=e.params,i=Yt(n).closest(`.${t.slideClass}`)[0];let s,r=!1;if(i)for(let a=0;a<e.slides.length;a+=1)if(e.slides[a]===i){r=!0,s=a;break}if(!i||!r)return e.clickedSlide=void 0,void(e.clickedIndex=void 0);e.clickedSlide=i,e.clickedIndex=e.virtual&&e.params.virtual.enabled?parseInt(Yt(i).attr("data-swiper-slide-index"),10):s,t.slideToClickedSlide&&void 0!==e.clickedIndex&&e.clickedIndex!==e.activeIndex&&e.slideToClickedSlide()}},v9={getTranslate:function p9(n=(this.isHorizontal()?"x":"y")){const{params:t,rtlTranslate:i,translate:r,$wrapperEl:s}=this;if(t.virtualTranslate)return i?-r:r;if(t.cssMode)return r;let a=PN(s[0],n);return i&&(a=-a),a||0},setTranslate:function m9(n,e){const t=this,{rtlTranslate:i,params:r,$wrapperEl:s,wrapperEl:a,progress:d}=t;let v,h=0,p=0;t.isHorizontal()?h=i?-n:n:p=n,r.roundLengths&&(h=Math.floor(h),p=Math.floor(p)),r.cssMode?a[t.isHorizontal()?"scrollLeft":"scrollTop"]=t.isHorizontal()?-h:-p:r.virtualTranslate||s.transform(`translate3d(${h}px, ${p}px, 0px)`),t.previousTranslate=t.translate,t.translate=t.isHorizontal()?h:p;const w=t.maxTranslate()-t.minTranslate();v=0===w?0:(n-t.minTranslate())/w,v!==d&&t.updateProgress(n),t.emit("setTranslate",t.translate,e)},minTranslate:function g9(){return-this.snapGrid[0]},maxTranslate:function _9(){return-this.snapGrid[this.snapGrid.length-1]},translateTo:function y9(n=0,e=this.params.speed,t=!0,i=!0,r){const s=this,{params:a,wrapperEl:d}=s;if(s.animating&&a.preventInteractionOnTransition)return!1;const h=s.minTranslate(),p=s.maxTranslate();let g;if(g=i&&n>h?h:i&&n<p?p:n,s.updateProgress(g),a.cssMode){const v=s.isHorizontal();if(0===e)d[v?"scrollLeft":"scrollTop"]=-g;else{if(!s.support.smoothScroll)return tH({swiper:s,targetPosition:-g,side:v?"left":"top"}),!0;d.scrollTo({[v?"left":"top"]:-g,behavior:"smooth"})}return!0}return 0===e?(s.setTransition(0),s.setTranslate(g),t&&(s.emit("beforeTransitionStart",e,r),s.emit("transitionEnd"))):(s.setTransition(e),s.setTranslate(g),t&&(s.emit("beforeTransitionStart",e,r),s.emit("transitionStart")),s.animating||(s.animating=!0,s.onTranslateToWrapperTransitionEnd||(s.onTranslateToWrapperTransitionEnd=function(w){!s||s.destroyed||w.target===this&&(s.$wrapperEl[0].removeEventListener("transitionend",s.onTranslateToWrapperTransitionEnd),s.$wrapperEl[0].removeEventListener("webkitTransitionEnd",s.onTranslateToWrapperTransitionEnd),s.onTranslateToWrapperTransitionEnd=null,delete s.onTranslateToWrapperTransitionEnd,t&&s.emit("transitionEnd"))}),s.$wrapperEl[0].addEventListener("transitionend",s.onTranslateToWrapperTransitionEnd),s.$wrapperEl[0].addEventListener("webkitTransitionEnd",s.onTranslateToWrapperTransitionEnd))),!0}};function iH({swiper:n,runCallbacks:e,direction:t,step:i}){const{activeIndex:r,previousIndex:s}=n;let a=t;if(a||(a=r>s?"next":r<s?"prev":"reset"),n.emit(`transition${i}`),e&&r!==s){if("reset"===a)return void n.emit(`slideResetTransition${i}`);n.emit(`slideChangeTransition${i}`),n.emit("next"===a?`slideNextTransition${i}`:`slidePrevTransition${i}`)}}const C9={setTransition:function b9(n,e){const t=this;t.params.cssMode||t.$wrapperEl.transition(n),t.emit("setTransition",n,e)},transitionStart:function E9(n=!0,e){const t=this,{params:i}=t;i.cssMode||(i.autoHeight&&t.updateAutoHeight(),iH({swiper:t,runCallbacks:n,direction:e,step:"Start"}))},transitionEnd:function w9(n=!0,e){const t=this,{params:i}=t;t.animating=!1,!i.cssMode&&(t.setTransition(0),iH({swiper:t,runCallbacks:n,direction:e,step:"End"}))}},k9={slideTo:function S9(n=0,e=this.params.speed,t=!0,i,r){if("number"!=typeof n&&"string"!=typeof n)throw new Error(`The 'index' argument cannot have type other than 'number' or 'string'. [${typeof n}] given.`);if("string"==typeof n){const U=parseInt(n,10);if(!isFinite(U))throw new Error(`The passed-in 'index' (string) couldn't be converted to 'number'. [${n}] given.`);n=U}const s=this;let a=n;a<0&&(a=0);const{params:d,snapGrid:h,slidesGrid:p,previousIndex:g,activeIndex:v,rtlTranslate:w,wrapperEl:D,enabled:A}=s;if(s.animating&&d.preventInteractionOnTransition||!A&&!i&&!r)return!1;const x=Math.min(s.params.slidesPerGroupSkip,a);let k=x+Math.floor((a-x)/s.params.slidesPerGroup);k>=h.length&&(k=h.length-1);const F=-h[k];if(d.normalizeSlideIndex)for(let U=0;U<p.length;U+=1){const te=-Math.floor(100*F),oe=Math.floor(100*p[U]),ue=Math.floor(100*p[U+1]);typeof p[U+1]<"u"?te>=oe&&te<ue-(ue-oe)/2?a=U:te>=oe&&te<ue&&(a=U+1):te>=oe&&(a=U)}if(s.initialized&&a!==v&&(!s.allowSlideNext&&F<s.translate&&F<s.minTranslate()||!s.allowSlidePrev&&F>s.translate&&F>s.maxTranslate()&&(v||0)!==a))return!1;let L;if(a!==(g||0)&&t&&s.emit("beforeSlideChangeStart"),s.updateProgress(F),L=a>v?"next":a<v?"prev":"reset",w&&-F===s.translate||!w&&F===s.translate)return s.updateActiveIndex(a),d.autoHeight&&s.updateAutoHeight(),s.updateSlidesClasses(),"slide"!==d.effect&&s.setTranslate(F),"reset"!==L&&(s.transitionStart(t,L),s.transitionEnd(t,L)),!1;if(d.cssMode){const U=s.isHorizontal(),te=w?F:-F;if(0===e){const oe=s.virtual&&s.params.virtual.enabled;oe&&(s.wrapperEl.style.scrollSnapType="none",s._immediateVirtual=!0),D[U?"scrollLeft":"scrollTop"]=te,oe&&requestAnimationFrame(()=>{s.wrapperEl.style.scrollSnapType="",s._swiperImmediateVirtual=!1})}else{if(!s.support.smoothScroll)return tH({swiper:s,targetPosition:te,side:U?"left":"top"}),!0;D.scrollTo({[U?"left":"top"]:te,behavior:"smooth"})}return!0}return s.setTransition(e),s.setTranslate(F),s.updateActiveIndex(a),s.updateSlidesClasses(),s.emit("beforeTransitionStart",e,i),s.transitionStart(t,L),0===e?s.transitionEnd(t,L):s.animating||(s.animating=!0,s.onSlideToWrapperTransitionEnd||(s.onSlideToWrapperTransitionEnd=function(te){!s||s.destroyed||te.target===this&&(s.$wrapperEl[0].removeEventListener("transitionend",s.onSlideToWrapperTransitionEnd),s.$wrapperEl[0].removeEventListener("webkitTransitionEnd",s.onSlideToWrapperTransitionEnd),s.onSlideToWrapperTransitionEnd=null,delete s.onSlideToWrapperTransitionEnd,s.transitionEnd(t,L))}),s.$wrapperEl[0].addEventListener("transitionend",s.onSlideToWrapperTransitionEnd),s.$wrapperEl[0].addEventListener("webkitTransitionEnd",s.onSlideToWrapperTransitionEnd)),!0},slideToLoop:function I9(n=0,e=this.params.speed,t=!0,i){if("string"==typeof n){const a=parseInt(n,10);if(!isFinite(a))throw new Error(`The passed-in 'index' (string) couldn't be converted to 'number'. [${n}] given.`);n=a}const r=this;let s=n;return r.params.loop&&(s+=r.loopedSlides),r.slideTo(s,e,t,i)},slideNext:function T9(n=this.params.speed,e=!0,t){const i=this,{animating:r,enabled:s,params:a}=i;if(!s)return i;let d=a.slidesPerGroup;"auto"===a.slidesPerView&&1===a.slidesPerGroup&&a.slidesPerGroupAuto&&(d=Math.max(i.slidesPerViewDynamic("current",!0),1));const h=i.activeIndex<a.slidesPerGroupSkip?1:d;if(a.loop){if(r&&a.loopPreventsSlide)return!1;i.loopFix(),i._clientLeft=i.$wrapperEl[0].clientLeft}return i.slideTo(a.rewind&&i.isEnd?0:i.activeIndex+h,n,e,t)},slidePrev:function D9(n=this.params.speed,e=!0,t){const i=this,{params:r,animating:s,snapGrid:a,slidesGrid:d,rtlTranslate:h,enabled:p}=i;if(!p)return i;if(r.loop){if(s&&r.loopPreventsSlide)return!1;i.loopFix(),i._clientLeft=i.$wrapperEl[0].clientLeft}function v(k){return k<0?-Math.floor(Math.abs(k)):Math.floor(k)}const w=v(h?i.translate:-i.translate),D=a.map(k=>v(k));let A=a[D.indexOf(w)-1];if(typeof A>"u"&&r.cssMode){let k;a.forEach((F,L)=>{w>=F&&(k=L)}),typeof k<"u"&&(A=a[k>0?k-1:k])}let x=0;return typeof A<"u"&&(x=d.indexOf(A),x<0&&(x=i.activeIndex-1),"auto"===r.slidesPerView&&1===r.slidesPerGroup&&r.slidesPerGroupAuto&&(x=x-i.slidesPerViewDynamic("previous",!0)+1,x=Math.max(x,0))),i.slideTo(r.rewind&&i.isBeginning?i.params.virtual&&i.params.virtual.enabled&&i.virtual?i.virtual.slides.length-1:i.slides.length-1:x,n,e,t)},slideReset:function A9(n=this.params.speed,e=!0,t){return this.slideTo(this.activeIndex,n,e,t)},slideToClosest:function x9(n=this.params.speed,e=!0,t,i=.5){const r=this;let s=r.activeIndex;const a=Math.min(r.params.slidesPerGroupSkip,s),d=a+Math.floor((s-a)/r.params.slidesPerGroup),h=r.rtlTranslate?r.translate:-r.translate;if(h>=r.snapGrid[d]){const p=r.snapGrid[d];h-p>(r.snapGrid[d+1]-p)*i&&(s+=r.params.slidesPerGroup)}else{const p=r.snapGrid[d-1];h-p<=(r.snapGrid[d]-p)*i&&(s-=r.params.slidesPerGroup)}return s=Math.max(s,0),s=Math.min(s,r.slidesGrid.length-1),r.slideTo(s,n,e,t)},slideToClickedSlide:function M9(){const n=this,{params:e,$wrapperEl:t}=n,i="auto"===e.slidesPerView?n.slidesPerViewDynamic():e.slidesPerView;let s,r=n.clickedIndex;if(e.loop){if(n.animating)return;s=parseInt(Yt(n.clickedSlide).attr("data-swiper-slide-index"),10),e.centeredSlides?r<n.loopedSlides-i/2||r>n.slides.length-n.loopedSlides+i/2?(n.loopFix(),r=t.children(`.${e.slideClass}[data-swiper-slide-index="${s}"]:not(.${e.slideDuplicateClass})`).eq(0).index(),ev(()=>{n.slideTo(r)})):n.slideTo(r):r>n.slides.length-i?(n.loopFix(),r=t.children(`.${e.slideClass}[data-swiper-slide-index="${s}"]:not(.${e.slideDuplicateClass})`).eq(0).index(),ev(()=>{n.slideTo(r)})):n.slideTo(r)}else n.slideTo(r)}},N9={loopCreate:function R9(){const n=this,e=wr(),{params:t,$wrapperEl:i}=n,r=i.children().length>0?Yt(i.children()[0].parentNode):i;r.children(`.${t.slideClass}.${t.slideDuplicateClass}`).remove();let s=r.children(`.${t.slideClass}`);if(t.loopFillGroupWithBlank){const h=t.slidesPerGroup-s.length%t.slidesPerGroup;if(h!==t.slidesPerGroup){for(let p=0;p<h;p+=1){const g=Yt(e.createElement("div")).addClass(`${t.slideClass} ${t.slideBlankClass}`);r.append(g)}s=r.children(`.${t.slideClass}`)}}"auto"===t.slidesPerView&&!t.loopedSlides&&(t.loopedSlides=s.length),n.loopedSlides=Math.ceil(parseFloat(t.loopedSlides||t.slidesPerView,10)),n.loopedSlides+=t.loopAdditionalSlides,n.loopedSlides>s.length&&n.params.loopedSlidesLimit&&(n.loopedSlides=s.length);const a=[],d=[];s.each((h,p)=>{Yt(h).attr("data-swiper-slide-index",p)});for(let h=0;h<n.loopedSlides;h+=1){const p=h-Math.floor(h/s.length)*s.length;d.push(s.eq(p)[0]),a.unshift(s.eq(s.length-p-1)[0])}for(let h=0;h<d.length;h+=1)r.append(Yt(d[h].cloneNode(!0)).addClass(t.slideDuplicateClass));for(let h=a.length-1;h>=0;h-=1)r.prepend(Yt(a[h].cloneNode(!0)).addClass(t.slideDuplicateClass))},loopFix:function O9(){const n=this;n.emit("beforeLoopFix");const{activeIndex:e,slides:t,loopedSlides:i,allowSlidePrev:r,allowSlideNext:s,snapGrid:a,rtlTranslate:d}=n;let h;n.allowSlidePrev=!0,n.allowSlideNext=!0;const g=-a[e]-n.getTranslate();e<i?(h=t.length-3*i+e,h+=i,n.slideTo(h,0,!1,!0)&&0!==g&&n.setTranslate((d?-n.translate:n.translate)-g)):e>=t.length-i&&(h=-t.length+e+i,h+=i,n.slideTo(h,0,!1,!0)&&0!==g&&n.setTranslate((d?-n.translate:n.translate)-g)),n.allowSlidePrev=r,n.allowSlideNext=s,n.emit("loopFix")},loopDestroy:function P9(){const{$wrapperEl:e,params:t,slides:i}=this;e.children(`.${t.slideClass}.${t.slideDuplicateClass},.${t.slideClass}.${t.slideBlankClass}`).remove(),i.removeAttr("data-swiper-slide-index")}};function U9(n){const e=this,t=wr(),i=ur(),r=e.touchEventsData,{params:s,touches:a,enabled:d}=e;if(!d||e.animating&&s.preventInteractionOnTransition)return;!e.animating&&s.cssMode&&s.loop&&e.loopFix();let h=n;h.originalEvent&&(h=h.originalEvent);let p=Yt(h.target);if("wrapper"===s.touchEventsTarget&&!p.closest(e.wrapperEl).length||(r.isTouchEvent="touchstart"===h.type,!r.isTouchEvent&&"which"in h&&3===h.which)||!r.isTouchEvent&&"button"in h&&h.button>0||r.isTouched&&r.isMoved)return;const g=!!s.noSwipingClass&&""!==s.noSwipingClass,v=n.composedPath?n.composedPath():n.path;g&&h.target&&h.target.shadowRoot&&v&&(p=Yt(v[0]));const w=s.noSwipingSelector?s.noSwipingSelector:`.${s.noSwipingClass}`;if(s.noSwiping&&(h.target&&h.target.shadowRoot?function V9(n,e=this){return function t(i){if(!i||i===wr()||i===ur())return null;i.assignedSlot&&(i=i.assignedSlot);const r=i.closest(n);return r||i.getRootNode?r||t(i.getRootNode().host):null}(e)}(w,p[0]):p.closest(w)[0]))return void(e.allowClick=!0);if(s.swipeHandler&&!p.closest(s.swipeHandler)[0])return;a.currentX="touchstart"===h.type?h.targetTouches[0].pageX:h.pageX,a.currentY="touchstart"===h.type?h.targetTouches[0].pageY:h.pageY;const A=a.currentX,x=a.currentY,k=s.edgeSwipeDetection||s.iOSEdgeSwipeDetection,F=s.edgeSwipeThreshold||s.iOSEdgeSwipeThreshold;if(k&&(A<=F||A>=i.innerWidth-F)){if("prevent"!==k)return;n.preventDefault()}if(Object.assign(r,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),a.startX=A,a.startY=x,r.touchStartTime=Gw(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,s.threshold>0&&(r.allowThresholdMove=!1),"touchstart"!==h.type){let L=!0;p.is(r.focusableElements)&&(L=!1,"SELECT"===p[0].nodeName&&(r.isTouched=!1)),t.activeElement&&Yt(t.activeElement).is(r.focusableElements)&&t.activeElement!==p[0]&&t.activeElement.blur();const U=L&&e.allowTouchMove&&s.touchStartPreventDefault;(s.touchStartForcePreventDefault||U)&&!p[0].isContentEditable&&h.preventDefault()}e.params.freeMode&&e.params.freeMode.enabled&&e.freeMode&&e.animating&&!s.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",h)}function $9(n){const e=wr(),t=this,i=t.touchEventsData,{params:r,touches:s,rtlTranslate:a,enabled:d}=t;if(!d)return;let h=n;if(h.originalEvent&&(h=h.originalEvent),!i.isTouched)return void(i.startMoving&&i.isScrolling&&t.emit("touchMoveOpposite",h));if(i.isTouchEvent&&"touchmove"!==h.type)return;const p="touchmove"===h.type&&h.targetTouches&&(h.targetTouches[0]||h.changedTouches[0]),g="touchmove"===h.type?p.pageX:h.pageX,v="touchmove"===h.type?p.pageY:h.pageY;if(h.preventedByNestedSwiper)return s.startX=g,void(s.startY=v);if(!t.allowTouchMove)return Yt(h.target).is(i.focusableElements)||(t.allowClick=!1),void(i.isTouched&&(Object.assign(s,{startX:g,startY:v,currentX:g,currentY:v}),i.touchStartTime=Gw()));if(i.isTouchEvent&&r.touchReleaseOnEdges&&!r.loop)if(t.isVertical()){if(v<s.startY&&t.translate<=t.maxTranslate()||v>s.startY&&t.translate>=t.minTranslate())return i.isTouched=!1,void(i.isMoved=!1)}else if(g<s.startX&&t.translate<=t.maxTranslate()||g>s.startX&&t.translate>=t.minTranslate())return;if(i.isTouchEvent&&e.activeElement&&h.target===e.activeElement&&Yt(h.target).is(i.focusableElements))return i.isMoved=!0,void(t.allowClick=!1);if(i.allowTouchCallbacks&&t.emit("touchMove",h),h.targetTouches&&h.targetTouches.length>1)return;s.currentX=g,s.currentY=v;const w=s.currentX-s.startX,D=s.currentY-s.startY;if(t.params.threshold&&Math.sqrt(w**2+D**2)<t.params.threshold)return;if(typeof i.isScrolling>"u"){let F;t.isHorizontal()&&s.currentY===s.startY||t.isVertical()&&s.currentX===s.startX?i.isScrolling=!1:w*w+D*D>=25&&(F=180*Math.atan2(Math.abs(D),Math.abs(w))/Math.PI,i.isScrolling=t.isHorizontal()?F>r.touchAngle:90-F>r.touchAngle)}if(i.isScrolling&&t.emit("touchMoveOpposite",h),typeof i.startMoving>"u"&&(s.currentX!==s.startX||s.currentY!==s.startY)&&(i.startMoving=!0),i.isScrolling)return void(i.isTouched=!1);if(!i.startMoving)return;t.allowClick=!1,!r.cssMode&&h.cancelable&&h.preventDefault(),r.touchMoveStopPropagation&&!r.nested&&h.stopPropagation(),i.isMoved||(r.loop&&!r.cssMode&&t.loopFix(),i.startTranslate=t.getTranslate(),t.setTransition(0),t.animating&&t.$wrapperEl.trigger("webkitTransitionEnd transitionend"),i.allowMomentumBounce=!1,r.grabCursor&&(!0===t.allowSlideNext||!0===t.allowSlidePrev)&&t.setGrabCursor(!0),t.emit("sliderFirstMove",h)),t.emit("sliderMove",h),i.isMoved=!0;let A=t.isHorizontal()?w:D;s.diff=A,A*=r.touchRatio,a&&(A=-A),t.swipeDirection=A>0?"prev":"next",i.currentTranslate=A+i.startTranslate;let x=!0,k=r.resistanceRatio;if(r.touchReleaseOnEdges&&(k=0),A>0&&i.currentTranslate>t.minTranslate()?(x=!1,r.resistance&&(i.currentTranslate=t.minTranslate()-1+(-t.minTranslate()+i.startTranslate+A)**k)):A<0&&i.currentTranslate<t.maxTranslate()&&(x=!1,r.resistance&&(i.currentTranslate=t.maxTranslate()+1-(t.maxTranslate()-i.startTranslate-A)**k)),x&&(h.preventedByNestedSwiper=!0),!t.allowSlideNext&&"next"===t.swipeDirection&&i.currentTranslate<i.startTranslate&&(i.currentTranslate=i.startTranslate),!t.allowSlidePrev&&"prev"===t.swipeDirection&&i.currentTranslate>i.startTranslate&&(i.currentTranslate=i.startTranslate),!t.allowSlidePrev&&!t.allowSlideNext&&(i.currentTranslate=i.startTranslate),r.threshold>0){if(!(Math.abs(A)>r.threshold||i.allowThresholdMove))return void(i.currentTranslate=i.startTranslate);if(!i.allowThresholdMove)return i.allowThresholdMove=!0,s.startX=s.currentX,s.startY=s.currentY,i.currentTranslate=i.startTranslate,void(s.diff=t.isHorizontal()?s.currentX-s.startX:s.currentY-s.startY)}!r.followFinger||r.cssMode||((r.freeMode&&r.freeMode.enabled&&t.freeMode||r.watchSlidesProgress)&&(t.updateActiveIndex(),t.updateSlidesClasses()),t.params.freeMode&&r.freeMode.enabled&&t.freeMode&&t.freeMode.onTouchMove(),t.updateProgress(i.currentTranslate),t.setTranslate(i.currentTranslate))}function H9(n){const e=this,t=e.touchEventsData,{params:i,touches:r,rtlTranslate:s,slidesGrid:a,enabled:d}=e;if(!d)return;let h=n;if(h.originalEvent&&(h=h.originalEvent),t.allowTouchCallbacks&&e.emit("touchEnd",h),t.allowTouchCallbacks=!1,!t.isTouched)return t.isMoved&&i.grabCursor&&e.setGrabCursor(!1),t.isMoved=!1,void(t.startMoving=!1);i.grabCursor&&t.isMoved&&t.isTouched&&(!0===e.allowSlideNext||!0===e.allowSlidePrev)&&e.setGrabCursor(!1);const p=Gw(),g=p-t.touchStartTime;if(e.allowClick){const L=h.path||h.composedPath&&h.composedPath();e.updateClickedSlide(L&&L[0]||h.target),e.emit("tap click",h),g<300&&p-t.lastClickTime<300&&e.emit("doubleTap doubleClick",h)}if(t.lastClickTime=Gw(),ev(()=>{e.destroyed||(e.allowClick=!0)}),!t.isTouched||!t.isMoved||!e.swipeDirection||0===r.diff||t.currentTranslate===t.startTranslate)return t.isTouched=!1,t.isMoved=!1,void(t.startMoving=!1);let v;if(t.isTouched=!1,t.isMoved=!1,t.startMoving=!1,v=i.followFinger?s?e.translate:-e.translate:-t.currentTranslate,i.cssMode)return;if(e.params.freeMode&&i.freeMode.enabled)return void e.freeMode.onTouchEnd({currentPos:v});let w=0,D=e.slidesSizesGrid[0];for(let L=0;L<a.length;L+=L<i.slidesPerGroupSkip?1:i.slidesPerGroup){const U=L<i.slidesPerGroupSkip-1?1:i.slidesPerGroup;typeof a[L+U]<"u"?v>=a[L]&&v<a[L+U]&&(w=L,D=a[L+U]-a[L]):v>=a[L]&&(w=L,D=a[a.length-1]-a[a.length-2])}let A=null,x=null;i.rewind&&(e.isBeginning?x=e.params.virtual&&e.params.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(A=0));const k=(v-a[w])/D,F=w<i.slidesPerGroupSkip-1?1:i.slidesPerGroup;if(g>i.longSwipesMs){if(!i.longSwipes)return void e.slideTo(e.activeIndex);"next"===e.swipeDirection&&e.slideTo(k>=i.longSwipesRatio?i.rewind&&e.isEnd?A:w+F:w),"prev"===e.swipeDirection&&(k>1-i.longSwipesRatio?e.slideTo(w+F):null!==x&&k<0&&Math.abs(k)>i.longSwipesRatio?e.slideTo(x):e.slideTo(w))}else{if(!i.shortSwipes)return void e.slideTo(e.activeIndex);!e.navigation||h.target!==e.navigation.nextEl&&h.target!==e.navigation.prevEl?("next"===e.swipeDirection&&e.slideTo(null!==A?A:w+F),"prev"===e.swipeDirection&&e.slideTo(null!==x?x:w)):e.slideTo(h.target===e.navigation.nextEl?w+F:w)}}function rH(){const n=this,{params:e,el:t}=n;if(t&&0===t.offsetWidth)return;e.breakpoints&&n.setBreakpoint();const{allowSlideNext:i,allowSlidePrev:r,snapGrid:s}=n;n.allowSlideNext=!0,n.allowSlidePrev=!0,n.updateSize(),n.updateSlides(),n.updateSlidesClasses(),n.slideTo(("auto"===e.slidesPerView||e.slidesPerView>1)&&n.isEnd&&!n.isBeginning&&!n.params.centeredSlides?n.slides.length-1:n.activeIndex,0,!1,!0),n.autoplay&&n.autoplay.running&&n.autoplay.paused&&n.autoplay.run(),n.allowSlidePrev=r,n.allowSlideNext=i,n.params.watchOverflow&&s!==n.snapGrid&&n.checkOverflow()}function z9(n){const e=this;!e.enabled||e.allowClick||(e.params.preventClicks&&n.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(n.stopPropagation(),n.stopImmediatePropagation()))}function j9(){const n=this,{wrapperEl:e,rtlTranslate:t,enabled:i}=n;if(!i)return;let r;n.previousTranslate=n.translate,n.translate=n.isHorizontal()?-e.scrollLeft:-e.scrollTop,0===n.translate&&(n.translate=0),n.updateActiveIndex(),n.updateSlidesClasses();const s=n.maxTranslate()-n.minTranslate();r=0===s?0:(n.translate-n.minTranslate())/s,r!==n.progress&&n.updateProgress(t?-n.translate:n.translate),n.emit("setTranslate",n.translate,!1)}let sH=!1;function G9(){}const oH=(n,e)=>{const t=wr(),{params:i,touchEvents:r,el:s,wrapperEl:a,device:d,support:h}=n,p=!!i.nested,g="on"===e?"addEventListener":"removeEventListener",v=e;if(h.touch){const w=!("touchstart"!==r.start||!h.passiveListener||!i.passiveListeners)&&{passive:!0,capture:!1};s[g](r.start,n.onTouchStart,w),s[g](r.move,n.onTouchMove,h.passiveListener?{passive:!1,capture:p}:p),s[g](r.end,n.onTouchEnd,w),r.cancel&&s[g](r.cancel,n.onTouchEnd,w)}else s[g](r.start,n.onTouchStart,!1),t[g](r.move,n.onTouchMove,p),t[g](r.end,n.onTouchEnd,!1);(i.preventClicks||i.preventClicksPropagation)&&s[g]("click",n.onClick,!0),i.cssMode&&a[g]("scroll",n.onScroll),n[v](i.updateOnWindowResize?d.ios||d.android?"resize orientationchange observerUpdate":"resize observerUpdate":"observerUpdate",rH,!0)},Y9={attachEvents:function W9(){const n=this,e=wr(),{params:t,support:i}=n;n.onTouchStart=U9.bind(n),n.onTouchMove=$9.bind(n),n.onTouchEnd=H9.bind(n),t.cssMode&&(n.onScroll=j9.bind(n)),n.onClick=z9.bind(n),i.touch&&!sH&&(e.addEventListener("touchstart",G9),sH=!0),oH(n,"on")},detachEvents:function q9(){oH(this,"off")}},aH=(n,e)=>n.grid&&e.grid&&e.grid.rows>1,Q9={setBreakpoint:function Z9(){const n=this,{activeIndex:e,initialized:t,loopedSlides:i=0,params:r,$el:s}=n,a=r.breakpoints;if(!a||a&&0===Object.keys(a).length)return;const d=n.getBreakpoint(a,n.params.breakpointsBase,n.el);if(!d||n.currentBreakpoint===d)return;const p=(d in a?a[d]:void 0)||n.originalParams,g=aH(n,r),v=aH(n,p),w=r.enabled;g&&!v?(s.removeClass(`${r.containerModifierClass}grid ${r.containerModifierClass}grid-column`),n.emitContainerClasses()):!g&&v&&(s.addClass(`${r.containerModifierClass}grid`),(p.grid.fill&&"column"===p.grid.fill||!p.grid.fill&&"column"===r.grid.fill)&&s.addClass(`${r.containerModifierClass}grid-column`),n.emitContainerClasses()),["navigation","pagination","scrollbar"].forEach(k=>{const F=r[k]&&r[k].enabled,L=p[k]&&p[k].enabled;F&&!L&&n[k].disable(),!F&&L&&n[k].enable()});const D=p.direction&&p.direction!==r.direction,A=r.loop&&(p.slidesPerView!==r.slidesPerView||D);D&&t&&n.changeDirection(),ho(n.params,p);const x=n.params.enabled;Object.assign(n,{allowTouchMove:n.params.allowTouchMove,allowSlideNext:n.params.allowSlideNext,allowSlidePrev:n.params.allowSlidePrev}),w&&!x?n.disable():!w&&x&&n.enable(),n.currentBreakpoint=d,n.emit("_beforeBreakpoint",p),A&&t&&(n.loopDestroy(),n.loopCreate(),n.updateSlides(),n.slideTo(e-i+n.loopedSlides,0,!1)),n.emit("breakpoint",p)},getBreakpoint:function K9(n,e="window",t){if(!n||"container"===e&&!t)return;let i=!1;const r=ur(),s="window"===e?r.innerHeight:t.clientHeight,a=Object.keys(n).map(d=>{if("string"==typeof d&&0===d.indexOf("@")){const h=parseFloat(d.substr(1));return{value:s*h,point:d}}return{value:d,point:d}});a.sort((d,h)=>parseInt(d.value,10)-parseInt(h.value,10));for(let d=0;d<a.length;d+=1){const{point:h,value:p}=a[d];"window"===e?r.matchMedia(`(min-width: ${p}px)`).matches&&(i=h):p<=t.clientWidth&&(i=h)}return i||"max"}},tX={addClasses:function J9(){const n=this,{classNames:e,params:t,rtl:i,$el:r,device:s,support:a}=n,d=function X9(n,e){const t=[];return n.forEach(i=>{"object"==typeof i?Object.keys(i).forEach(r=>{i[r]&&t.push(e+r)}):"string"==typeof i&&t.push(e+i)}),t}(["initialized",t.direction,{"pointer-events":!a.touch},{"free-mode":n.params.freeMode&&t.freeMode.enabled},{autoheight:t.autoHeight},{rtl:i},{grid:t.grid&&t.grid.rows>1},{"grid-column":t.grid&&t.grid.rows>1&&"column"===t.grid.fill},{android:s.android},{ios:s.ios},{"css-mode":t.cssMode},{centered:t.cssMode&&t.centeredSlides},{"watch-progress":t.watchSlidesProgress}],t.containerModifierClass);e.push(...d),r.addClass([...e].join(" ")),n.emitContainerClasses()},removeClasses:function eX(){const{$el:e,classNames:t}=this;e.removeClass(t.join(" ")),this.emitContainerClasses()}},rX={loadImage:function nX(n,e,t,i,r,s){const a=ur();let d;function h(){s&&s()}Yt(n).parent("picture")[0]||n.complete&&r||!e?h():(d=new a.Image,d.onload=h,d.onerror=h,i&&(d.sizes=i),t&&(d.srcset=t),e&&(d.src=e))},preloadImages:function iX(){const n=this;function e(){typeof n>"u"||null===n||!n||n.destroyed||(void 0!==n.imagesLoaded&&(n.imagesLoaded+=1),n.imagesLoaded===n.imagesToLoad.length&&(n.params.updateOnImagesReady&&n.update(),n.emit("imagesReady")))}n.imagesToLoad=n.$el.find("img");for(let t=0;t<n.imagesToLoad.length;t+=1){const i=n.imagesToLoad[t];n.loadImage(i,i.currentSrc||i.getAttribute("src"),i.srcset||i.getAttribute("srcset"),i.sizes||i.getAttribute("sizes"),!0,e)}}},lH={init:!0,direction:"horizontal",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:0,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,preloadImages:!0,updateOnImagesReady:!0,loop:!1,loopAdditionalSlides:0,loopedSlides:null,loopedSlidesLimit:!0,loopFillGroupWithBlank:!1,loopPreventsSlide:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-invisible-blank",slideActiveClass:"swiper-slide-active",slideDuplicateActiveClass:"swiper-slide-duplicate-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",slideNextClass:"swiper-slide-next",slideDuplicateNextClass:"swiper-slide-duplicate-next",slidePrevClass:"swiper-slide-prev",slideDuplicatePrevClass:"swiper-slide-duplicate-prev",wrapperClass:"swiper-wrapper",runCallbacksOnInit:!0,_emitClasses:!1};function aX(n,e){return function(i={}){const r=Object.keys(i)[0],s=i[r];"object"==typeof s&&null!==s?(["navigation","pagination","scrollbar"].indexOf(r)>=0&&!0===n[r]&&(n[r]={auto:!0}),r in n&&"enabled"in s?(!0===n[r]&&(n[r]={enabled:!0}),"object"==typeof n[r]&&!("enabled"in n[r])&&(n[r].enabled=!0),n[r]||(n[r]={enabled:!1}),ho(e,i)):ho(e,i)):ho(e,i)}}const BN={eventsEmitter:i9,update:f9,translate:v9,transition:C9,slide:k9,loop:N9,grabCursor:{setGrabCursor:function F9(n){const e=this;if(e.support.touch||!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const t="container"===e.params.touchEventsTarget?e.el:e.wrapperEl;t.style.cursor="move",t.style.cursor=n?"grabbing":"grab"},unsetGrabCursor:function L9(){const n=this;n.support.touch||n.params.watchOverflow&&n.isLocked||n.params.cssMode||(n["container"===n.params.touchEventsTarget?"el":"wrapperEl"].style.cursor="")}},events:Y9,breakpoints:Q9,checkOverflow:{checkOverflow:function sX(){const n=this,{isLocked:e,params:t}=n,{slidesOffsetBefore:i}=t;if(i){const r=n.slides.length-1;n.isLocked=n.size>n.slidesGrid[r]+n.slidesSizesGrid[r]+2*i}else n.isLocked=1===n.snapGrid.length;!0===t.allowSlideNext&&(n.allowSlideNext=!n.isLocked),!0===t.allowSlidePrev&&(n.allowSlidePrev=!n.isLocked),e&&e!==n.isLocked&&(n.isEnd=!1),e!==n.isLocked&&n.emit(n.isLocked?"lock":"unlock")}},classes:tX,images:rX},VN={};class qo{constructor(...e){let t,i;if(1===e.length&&e[0].constructor&&"Object"===Object.prototype.toString.call(e[0]).slice(8,-1)?i=e[0]:[t,i]=e,i||(i={}),i=ho({},i),t&&!i.el&&(i.el=t),i.el&&Yt(i.el).length>1){const d=[];return Yt(i.el).each(h=>{const p=ho({},i,{el:h});d.push(new qo(p))}),d}const r=this;r.__swiper__=!0,r.support=nH(),r.device=function XQ(n={}){return FN||(FN=function QQ({userAgent:n}={}){const e=nH(),t=ur(),i=t.navigator.platform,r=n||t.navigator.userAgent,s={ios:!1,android:!1},a=t.screen.width,d=t.screen.height,h=r.match(/(Android);?[\s\/]+([\d.]+)?/);let p=r.match(/(iPad).*OS\s([\d_]+)/);const g=r.match(/(iPod)(.*OS\s([\d_]+))?/),v=!p&&r.match(/(iPhone\sOS|iOS)\s([\d_]+)/),w="Win32"===i;let D="MacIntel"===i;return!p&&D&&e.touch&&["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"].indexOf(`${a}x${d}`)>=0&&(p=r.match(/(Version)\/([\d.]+)/),p||(p=[0,1,"13_0_0"]),D=!1),h&&!w&&(s.os="android",s.android=!0),(p||v||g)&&(s.os="ios",s.ios=!0),s}(n)),FN}({userAgent:i.userAgent}),r.browser=function e9(){return LN||(LN=function JQ(){const n=ur();return{isSafari:function e(){const t=n.navigator.userAgent.toLowerCase();return t.indexOf("safari")>=0&&t.indexOf("chrome")<0&&t.indexOf("android")<0}(),isWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(n.navigator.userAgent)}}()),LN}(),r.eventsListeners={},r.eventsAnyListeners=[],r.modules=[...r.__modules__],i.modules&&Array.isArray(i.modules)&&r.modules.push(...i.modules);const s={};r.modules.forEach(d=>{d({swiper:r,extendParams:aX(i,s),on:r.on.bind(r),once:r.once.bind(r),off:r.off.bind(r),emit:r.emit.bind(r)})});const a=ho({},lH,s);return r.params=ho({},a,VN,i),r.originalParams=ho({},r.params),r.passedParams=ho({},i),r.params&&r.params.on&&Object.keys(r.params.on).forEach(d=>{r.on(d,r.params.on[d])}),r.params&&r.params.onAny&&r.onAny(r.params.onAny),r.$=Yt,Object.assign(r,{enabled:r.params.enabled,el:t,classNames:[],slides:Yt(),slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal:()=>"horizontal"===r.params.direction,isVertical:()=>"vertical"===r.params.direction,activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,allowSlideNext:r.params.allowSlideNext,allowSlidePrev:r.params.allowSlidePrev,touchEvents:function(){const h=["touchstart","touchmove","touchend","touchcancel"],p=["pointerdown","pointermove","pointerup"];return r.touchEventsTouch={start:h[0],move:h[1],end:h[2],cancel:h[3]},r.touchEventsDesktop={start:p[0],move:p[1],end:p[2]},r.support.touch||!r.params.simulateTouch?r.touchEventsTouch:r.touchEventsDesktop}(),touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:r.params.focusableElements,lastClickTime:Gw(),clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,isTouchEvent:void 0,startMoving:void 0},allowClick:!0,allowTouchMove:r.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),r.emit("_swiper"),r.params.init&&r.init(),r}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;!e.enabled||(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,t){const i=this;e=Math.min(Math.max(e,0),1);const r=i.minTranslate(),a=(i.maxTranslate()-r)*e+r;i.translateTo(a,typeof t>"u"?0:t),i.updateActiveIndex(),i.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=e.el.className.split(" ").filter(i=>0===i.indexOf("swiper")||0===i.indexOf(e.params.containerModifierClass));e.emit("_containerClasses",t.join(" "))}getSlideClasses(e){const t=this;return t.destroyed?"":e.className.split(" ").filter(i=>0===i.indexOf("swiper-slide")||0===i.indexOf(t.params.slideClass)).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=[];e.slides.each(i=>{const r=e.getSlideClasses(i);t.push({slideEl:i,classNames:r}),e.emit("_slideClass",i,r)}),e.emit("_slideClasses",t)}slidesPerViewDynamic(e="current",t=!1){const{params:r,slides:s,slidesGrid:a,slidesSizesGrid:d,size:h,activeIndex:p}=this;let g=1;if(r.centeredSlides){let w,v=s[p].swiperSlideSize;for(let D=p+1;D<s.length;D+=1)s[D]&&!w&&(v+=s[D].swiperSlideSize,g+=1,v>h&&(w=!0));for(let D=p-1;D>=0;D-=1)s[D]&&!w&&(v+=s[D].swiperSlideSize,g+=1,v>h&&(w=!0))}else if("current"===e)for(let v=p+1;v<s.length;v+=1)(t?a[v]+d[v]-a[p]<h:a[v]-a[p]<h)&&(g+=1);else for(let v=p-1;v>=0;v-=1)a[p]-a[v]<h&&(g+=1);return g}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:t,params:i}=e;function r(){const d=Math.min(Math.max(e.rtlTranslate?-1*e.translate:e.translate,e.maxTranslate()),e.minTranslate());e.setTranslate(d),e.updateActiveIndex(),e.updateSlidesClasses()}let s;i.breakpoints&&e.setBreakpoint(),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses(),e.params.freeMode&&e.params.freeMode.enabled?(r(),e.params.autoHeight&&e.updateAutoHeight()):(s=e.slideTo(("auto"===e.params.slidesPerView||e.params.slidesPerView>1)&&e.isEnd&&!e.params.centeredSlides?e.slides.length-1:e.activeIndex,0,!1,!0),s||r()),i.watchOverflow&&t!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,t=!0){const i=this,r=i.params.direction;return e||(e="horizontal"===r?"vertical":"horizontal"),e===r||"horizontal"!==e&&"vertical"!==e||(i.$el.removeClass(`${i.params.containerModifierClass}${r}`).addClass(`${i.params.containerModifierClass}${e}`),i.emitContainerClasses(),i.params.direction=e,i.slides.each(s=>{"vertical"===e?s.style.width="":s.style.height=""}),i.emit("changeDirection"),t&&i.update()),i}changeLanguageDirection(e){const t=this;t.rtl&&"rtl"===e||!t.rtl&&"ltr"===e||(t.rtl="rtl"===e,t.rtlTranslate="horizontal"===t.params.direction&&t.rtl,t.rtl?(t.$el.addClass(`${t.params.containerModifierClass}rtl`),t.el.dir="rtl"):(t.$el.removeClass(`${t.params.containerModifierClass}rtl`),t.el.dir="ltr"),t.update())}mount(e){const t=this;if(t.mounted)return!0;const i=Yt(e||t.params.el);if(!(e=i[0]))return!1;e.swiper=t;const r=()=>`.${(t.params.wrapperClass||"").trim().split(" ").join(".")}`;let a=(()=>{if(e&&e.shadowRoot&&e.shadowRoot.querySelector){const d=Yt(e.shadowRoot.querySelector(r()));return d.children=h=>i.children(h),d}return i.children?i.children(r()):Yt(i).children(r())})();if(0===a.length&&t.params.createElements){const h=wr().createElement("div");a=Yt(h),h.className=t.params.wrapperClass,i.append(h),i.children(`.${t.params.slideClass}`).each(p=>{a.append(p)})}return Object.assign(t,{$el:i,el:e,$wrapperEl:a,wrapperEl:a[0],mounted:!0,rtl:"rtl"===e.dir.toLowerCase()||"rtl"===i.css("direction"),rtlTranslate:"horizontal"===t.params.direction&&("rtl"===e.dir.toLowerCase()||"rtl"===i.css("direction")),wrongRTL:"-webkit-box"===a.css("display")}),!0}init(e){const t=this;return t.initialized||!1===t.mount(e)||(t.emit("beforeInit"),t.params.breakpoints&&t.setBreakpoint(),t.addClasses(),t.params.loop&&t.loopCreate(),t.updateSize(),t.updateSlides(),t.params.watchOverflow&&t.checkOverflow(),t.params.grabCursor&&t.enabled&&t.setGrabCursor(),t.params.preloadImages&&t.preloadImages(),t.slideTo(t.params.loop?t.params.initialSlide+t.loopedSlides:t.params.initialSlide,0,t.params.runCallbacksOnInit,!1,!0),t.attachEvents(),t.initialized=!0,t.emit("init"),t.emit("afterInit")),t}destroy(e=!0,t=!0){const i=this,{params:r,$el:s,$wrapperEl:a,slides:d}=i;return typeof i.params>"u"||i.destroyed||(i.emit("beforeDestroy"),i.initialized=!1,i.detachEvents(),r.loop&&i.loopDestroy(),t&&(i.removeClasses(),s.removeAttr("style"),a.removeAttr("style"),d&&d.length&&d.removeClass([r.slideVisibleClass,r.slideActiveClass,r.slideNextClass,r.slidePrevClass].join(" ")).removeAttr("style").removeAttr("data-swiper-slide-index")),i.emit("destroy"),Object.keys(i.eventsListeners).forEach(h=>{i.off(h)}),!1!==e&&(i.$el[0].swiper=null,function qQ(n){const e=n;Object.keys(e).forEach(t=>{try{e[t]=null}catch{}try{delete e[t]}catch{}})}(i)),i.destroyed=!0),null}static extendDefaults(e){ho(VN,e)}static get extendedDefaults(){return VN}static get defaults(){return lH}static installModule(e){qo.prototype.__modules__||(qo.prototype.__modules__=[]);const t=qo.prototype.__modules__;"function"==typeof e&&t.indexOf(e)<0&&t.push(e)}static use(e){return Array.isArray(e)?(e.forEach(t=>qo.installModule(t)),qo):(qo.installModule(e),qo)}}Object.keys(BN).forEach(n=>{Object.keys(BN[n]).forEach(e=>{qo.prototype[e]=BN[n][e]})}),qo.use([function t9({swiper:n,on:e,emit:t}){const i=ur();let r=null,s=null;const a=()=>{!n||n.destroyed||!n.initialized||(t("beforeResize"),t("resize"))},p=()=>{!n||n.destroyed||!n.initialized||t("orientationchange")};e("init",()=>{n.params.resizeObserver&&typeof i.ResizeObserver<"u"?!n||n.destroyed||!n.initialized||(r=new ResizeObserver(g=>{s=i.requestAnimationFrame(()=>{const{width:v,height:w}=n;let D=v,A=w;g.forEach(({contentBoxSize:x,contentRect:k,target:F})=>{F&&F!==n.el||(D=k?k.width:(x[0]||x).inlineSize,A=k?k.height:(x[0]||x).blockSize)}),(D!==v||A!==w)&&a()})}),r.observe(n.el)):(i.addEventListener("resize",a),i.addEventListener("orientationchange",p))}),e("destroy",()=>{s&&i.cancelAnimationFrame(s),r&&r.unobserve&&n.el&&(r.unobserve(n.el),r=null),i.removeEventListener("resize",a),i.removeEventListener("orientationchange",p)})},function n9({swiper:n,extendParams:e,on:t,emit:i}){const r=[],s=ur(),a=(p,g={})=>{const w=new(s.MutationObserver||s.WebkitMutationObserver)(D=>{if(1===D.length)return void i("observerUpdate",D[0]);const A=function(){i("observerUpdate",D[0])};s.requestAnimationFrame?s.requestAnimationFrame(A):s.setTimeout(A,0)});w.observe(p,{attributes:typeof g.attributes>"u"||g.attributes,childList:typeof g.childList>"u"||g.childList,characterData:typeof g.characterData>"u"||g.characterData}),r.push(w)};e({observer:!1,observeParents:!1,observeSlideChildren:!1}),t("init",()=>{if(n.params.observer){if(n.params.observeParents){const p=n.$el.parents();for(let g=0;g<p.length;g+=1)a(p[g])}a(n.$el[0],{childList:n.params.observeSlideChildren}),a(n.$wrapperEl[0],{attributes:!1})}}),t("destroy",()=>{r.forEach(p=>{p.disconnect()}),r.splice(0,r.length)})}]);const Yw=qo;function UN(n,e,t,i){const r=wr();return n.params.createElements&&Object.keys(i).forEach(s=>{if(!t[s]&&!0===t.auto){let a=n.$el.children(`.${i[s]}`)[0];a||(a=r.createElement("div"),a.className=i[s],n.$el.append(a)),t[s]=a,e[s]=a}}),t}function du(n=""){return`.${n.trim().replace(/([\.:!\/])/g,"\\$1").replace(/ /g,".")}`}const _X=["prevElRef"],yX=["nextElRef"],vX=["scrollbarElRef"],bX=["paginationElRef"];function EX(n,e){1&n&&(l.ynx(0),l._UZ(1,"div",6,7)(3,"div",8,9),l.BQk())}function wX(n,e){1&n&&l._UZ(0,"div",10,11)}function CX(n,e){1&n&&l._UZ(0,"div",12,13)}function SX(n,e){}function IX(n,e){1&n&&l.YNc(0,SX,0,0,"ng-template")}function TX(n,e){}function DX(n,e){1&n&&l.YNc(0,TX,0,0,"ng-template")}function AX(n,e){}function xX(n,e){1&n&&l.YNc(0,AX,0,0,"ng-template")}function MX(n,e){}const cH=function(n){return{$implicit:n}};function kX(n,e){if(1&n&&(l.TgZ(0,"div",3),l.YNc(1,MX,0,0,"ng-template",18),l.qZA()),2&n){const t=l.oxw().$implicit,i=l.oxw(2);l.Q6J("ngClass",i.zoomContainerClass),l.xp6(1),l.Q6J("ngTemplateOutlet",t.template)("ngTemplateOutletContext",l.VKq(3,cH,t.slideData))}}function RX(n,e){}function OX(n,e){if(1&n&&(l.ynx(0),l.YNc(1,RX,0,0,"ng-template",18),l.BQk()),2&n){const t=l.oxw().$implicit;l.xp6(1),l.Q6J("ngTemplateOutlet",t.template)("ngTemplateOutletContext",l.VKq(2,cH,t.slideData))}}function PX(n,e){if(1&n&&(l.TgZ(0,"div",15),l.YNc(1,kX,2,5,"div",16),l.YNc(2,OX,2,4,"ng-container",17),l.qZA()),2&n){const t=e.$implicit,i=l.oxw().key,r=l.oxw();l.Akn(r.style),l.Q6J("ngClass",(t.class?t.class+" ":"")+r.slideClass+(""!==i?" "+r.slideDuplicateClass:""))("ngSwitch",t.zoom),l.uIk("data-swiper-slide-index",t.virtualIndex?t.virtualIndex:t.slideIndex)("data-swiper-autoplay",t.autoplayDelay),l.xp6(1),l.Q6J("ngSwitchCase",!0)}}function NX(n,e){1&n&&(l.YNc(0,PX,3,7,"div",14),l.ALo(1,"async")),2&n&&l.Q6J("ngForOf",l.lcZ(1,1,e.loopSlides))}const FX=[[["","slot","container-start"]],[["","slot","wrapper-start"]],[["","slot","wrapper-end"]],[["","slot","container-end"]]],LX=function(n){return{loopSlides:n,key:"prepend"}},BX=function(n){return{loopSlides:n,key:""}},VX=function(n){return{loopSlides:n,key:"append"}},UX=["[slot=container-start]","[slot=wrapper-start]","[slot=wrapper-end]","[slot=container-end]"],uH=["init","enabled","_direction","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_preloadImages","updateOnImagesReady","_loop","_loopAdditionalSlides","_loopedSlides","_loopedSlidesLimit","_loopFillGroupWithBlank","loopPreventsSlide","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideBlankClass","slideActiveClass","slideDuplicateActiveClass","slideVisibleClass","slideDuplicateClass","slideNextClass","slideDuplicateNextClass","slidePrevClass","slideDuplicatePrevClass","wrapperClass","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","lazy","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","on"];function tv(n){return"object"==typeof n&&null!==n&&n.constructor&&"Object"===Object.prototype.toString.call(n).slice(8,-1)}function $N(n){return typeof n<"u"&&"boolean"!=typeof n&&!0===n.enabled}function dH(n,e,t){return!0===tx(n)&&e&&!e.el||!("boolean"!=typeof e&&e.el!==t?.nativeElement&&("string"==typeof e.el||"object"==typeof e.el))}function Xd(n,e){const t=["__proto__","constructor","prototype"];Object.keys(e).filter(i=>t.indexOf(i)<0).forEach(i=>{typeof n[i]>"u"?n[i]=e[i]:n[i]&&!e[i]||(tv(e[i])&&tv(n[i])&&Object.keys(e[i]).length>0?e[i].__swiper__?n[i]=e[i]:Xd(n[i],e[i]):n[i]=e[i])})}function tx(n){return null!=n&&"false"!=`${n}`}const $X=["pagination","navigation","scrollbar","virtual"];function nx(n,e={}){return tv(n)?n:!0===tx(n)&&e}function HN(n={}){const e={on:{}},t={};Xd(e,Yw.defaults),Xd(e,Yw.extendedDefaults),e._emitClasses=!0,e.init=!1;const i={},r=uH.map(s=>s.replace(/_/,""));return Object.keys(n).forEach(s=>{const a=s.replace(/^_/,"");r.indexOf(a)>=0?tv(n[s])?(e[a]={},t[a]={},Xd(e[a],n[s]),Xd(t[a],n[s])):(e[a]=n[s],t[a]=n[s]):i[a]=n[s]}),["navigation","pagination","scrollbar"].forEach(s=>{!0===e[s]&&(e[s]={}),!1===e[s]&&delete e[s]}),{params:e,passedParams:t,rest:i}}uH.map(n=>n.replace(/_/,""));let zN=(()=>{class n{constructor(t){this.template=t,this.class="",this.autoplayDelay=null,this.slideData={isActive:!1,isPrev:!1,isNext:!1,isVisible:!1,isDuplicate:!1}}set ngClass(t){this.class=[this.class||"",t].join(" ")}set zoom(t){this._zoom=tx(t)}get zoom(){return this._zoom}get classNames(){return this._classNames}set classNames(t){this._classNames!==t&&(this._classNames=t,this.slideData={isActive:this._hasClass(["swiper-slide-active","swiper-slide-duplicate-active"]),isVisible:this._hasClass(["swiper-slide-visible"]),isDuplicate:this._hasClass(["swiper-slide-duplicate"]),isPrev:this._hasClass(["swiper-slide-prev","swiper-slide-duplicate-prev"]),isNext:this._hasClass(["swiper-slide-next","swiper-slide-duplicate-next"])})}_hasClass(t){return t.some(i=>this._classNames.indexOf(i)>=0)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["ng-template","swiperSlide",""]],inputs:{virtualIndex:"virtualIndex",class:"class",ngClass:"ngClass",autoplayDelay:["data-swiper-autoplay","autoplayDelay"],zoom:"zoom"}}),n})(),hH=(()=>{class n{constructor(t,i,r,s){this._ngZone=t,this.elementRef=i,this._changeDetectorRef=r,this._platformId=s,this.slideClass="swiper-slide",this.wrapperClass="swiper-wrapper",this.showNavigation=!0,this.showPagination=!0,this.showScrollbar=!0,this.s__beforeBreakpoint=new l.vpe,this.s__containerClasses=new l.vpe,this.s__slideClass=new l.vpe,this.s__swiper=new l.vpe,this.s_activeIndexChange=new l.vpe,this.s_afterInit=new l.vpe,this.s_autoplay=new l.vpe,this.s_autoplayStart=new l.vpe,this.s_autoplayStop=new l.vpe,this.s_autoplayPause=new l.vpe,this.s_autoplayResume=new l.vpe,this.s_beforeDestroy=new l.vpe,this.s_beforeInit=new l.vpe,this.s_beforeLoopFix=new l.vpe,this.s_beforeResize=new l.vpe,this.s_beforeSlideChangeStart=new l.vpe,this.s_beforeTransitionStart=new l.vpe,this.s_breakpoint=new l.vpe,this.s_changeDirection=new l.vpe,this.s_click=new l.vpe,this.s_doubleTap=new l.vpe,this.s_doubleClick=new l.vpe,this.s_destroy=new l.vpe,this.s_fromEdge=new l.vpe,this.s_hashChange=new l.vpe,this.s_hashSet=new l.vpe,this.s_imagesReady=new l.vpe,this.s_init=new l.vpe,this.s_keyPress=new l.vpe,this.s_lazyImageLoad=new l.vpe,this.s_lazyImageReady=new l.vpe,this.s_loopFix=new l.vpe,this.s_momentumBounce=new l.vpe,this.s_navigationHide=new l.vpe,this.s_navigationShow=new l.vpe,this.s_navigationPrev=new l.vpe,this.s_navigationNext=new l.vpe,this.s_observerUpdate=new l.vpe,this.s_orientationchange=new l.vpe,this.s_paginationHide=new l.vpe,this.s_paginationRender=new l.vpe,this.s_paginationShow=new l.vpe,this.s_paginationUpdate=new l.vpe,this.s_progress=new l.vpe,this.s_reachBeginning=new l.vpe,this.s_reachEnd=new l.vpe,this.s_realIndexChange=new l.vpe,this.s_resize=new l.vpe,this.s_scroll=new l.vpe,this.s_scrollbarDragEnd=new l.vpe,this.s_scrollbarDragMove=new l.vpe,this.s_scrollbarDragStart=new l.vpe,this.s_setTransition=new l.vpe,this.s_setTranslate=new l.vpe,this.s_slideChange=new l.vpe,this.s_slideChangeTransitionEnd=new l.vpe,this.s_slideChangeTransitionStart=new l.vpe,this.s_slideNextTransitionEnd=new l.vpe,this.s_slideNextTransitionStart=new l.vpe,this.s_slidePrevTransitionEnd=new l.vpe,this.s_slidePrevTransitionStart=new l.vpe,this.s_slideResetTransitionStart=new l.vpe,this.s_slideResetTransitionEnd=new l.vpe,this.s_sliderMove=new l.vpe,this.s_sliderFirstMove=new l.vpe,this.s_slidesLengthChange=new l.vpe,this.s_slidesGridLengthChange=new l.vpe,this.s_snapGridLengthChange=new l.vpe,this.s_snapIndexChange=new l.vpe,this.s_tap=new l.vpe,this.s_toEdge=new l.vpe,this.s_touchEnd=new l.vpe,this.s_touchMove=new l.vpe,this.s_touchMoveOpposite=new l.vpe,this.s_touchStart=new l.vpe,this.s_transitionEnd=new l.vpe,this.s_transitionStart=new l.vpe,this.s_update=new l.vpe,this.s_zoomChange=new l.vpe,this.s_swiper=new l.vpe,this.s_lock=new l.vpe,this.s_unlock=new l.vpe,this._activeSlides=new Tt.x,this.containerClasses="swiper",this.slidesChanges=a=>{this.slides=a.map((d,h)=>(d.slideIndex=h,d.classNames=this.slideClass||"",d)),this.loop&&!this.loopedSlides&&this.calcLoopedSlides(),this.virtual?this.swiperRef&&this.swiperRef.virtual&&this._ngZone.runOutsideAngular(()=>{this.swiperRef.virtual.slides=this.slides,this.swiperRef.virtual.update(!0)}):this.loopedSlides&&(this.prependSlides=tt(this.slides.slice(this.slides.length-this.loopedSlides)),this.appendSlides=tt(this.slides.slice(0,this.loopedSlides))),this._changeDetectorRef.detectChanges()},this.style=null,this.updateVirtualSlides=a=>{!this.swiperRef||this.currentVirtualData&&this.currentVirtualData.from===a.from&&this.currentVirtualData.to===a.to&&this.currentVirtualData.offset===a.offset||(this.style=this.swiperRef.isHorizontal()?{[this.swiperRef.rtlTranslate?"right":"left"]:`${a.offset}px`}:{top:`${a.offset}px`},this.currentVirtualData=a,this._activeSlides.next(a.slides),this._ngZone.run(()=>{this._changeDetectorRef.detectChanges()}),this._ngZone.runOutsideAngular(()=>{this.swiperRef.updateSlides(),this.swiperRef.updateProgress(),this.swiperRef.updateSlidesClasses(),$N(this.swiperRef.params.lazy)&&this.swiperRef.lazy.load(),this.swiperRef.virtual.update(!0)}))}}set navigation(t){var i,r,s;const a="boolean"!=typeof this._navigation&&""!==this._navigation?null===(i=this._navigation)||void 0===i?void 0:i.nextEl:null,d="boolean"!=typeof this._navigation&&""!==this._navigation?null===(r=this._navigation)||void 0===r?void 0:r.prevEl:null;this._navigation=nx(t,{nextEl:a||null,prevEl:d||null}),this.showNavigation=!(!0!==tx(t)||this._navigation&&"boolean"!=typeof this._navigation&&this._navigation.prevEl!==(null===(s=this._prevElRef)||void 0===s?void 0:s.nativeElement)&&(null!==this._navigation.prevEl||null!==this._navigation.nextEl)&&("string"==typeof this._navigation.nextEl||"string"==typeof this._navigation.prevEl||"object"==typeof this._navigation.nextEl||"object"==typeof this._navigation.prevEl))}get navigation(){return this._navigation}set pagination(t){var i;const r="boolean"!=typeof this._pagination&&""!==this._pagination?null===(i=this._pagination)||void 0===i?void 0:i.el:null;this._pagination=nx(t,{el:r||null}),this.showPagination=dH(t,this._pagination,this._paginationElRef)}get pagination(){return this._pagination}set scrollbar(t){var i;const r="boolean"!=typeof this._scrollbar&&""!==this._scrollbar?null===(i=this._scrollbar)||void 0===i?void 0:i.el:null;this._scrollbar=nx(t,{el:r||null}),this.showScrollbar=dH(t,this._scrollbar,this._scrollbarElRef)}get scrollbar(){return this._scrollbar}set virtual(t){this._virtual=nx(t)}get virtual(){return this._virtual}set config(t){this.updateSwiper(t);const{params:i}=HN(t);Object.assign(this,i)}set prevElRef(t){this._prevElRef=t,this._setElement(t,this.navigation,"navigation","prevEl")}set nextElRef(t){this._nextElRef=t,this._setElement(t,this.navigation,"navigation","nextEl")}set scrollbarElRef(t){this._scrollbarElRef=t,this._setElement(t,this.scrollbar,"scrollbar")}set paginationElRef(t){this._paginationElRef=t,this._setElement(t,this.pagination,"pagination")}get activeSlides(){return this.virtual?this._activeSlides:tt(this.slides)}get zoomContainerClass(){return this.zoom&&"boolean"!=typeof this.zoom?this.zoom.containerClass:"swiper-zoom-container"}_setElement(t,i,r,s="el"){if(!i||!t)return;if(t.nativeElement){if(i[s]===t.nativeElement)return;i[s]=t.nativeElement}const a={};a[r]=!0,this.updateInitSwiper(a)}ngOnInit(){const{params:t}=HN(this);Object.assign(this,t)}ngAfterViewInit(){this.childrenSlidesInit(),this.initSwiper(),this._changeDetectorRef.detectChanges(),setTimeout(()=>{this.s_swiper.emit(this.swiperRef)})}childrenSlidesInit(){this.slidesChanges(this.slidesEl),this.slidesEl.changes.subscribe(this.slidesChanges)}get isSwiperActive(){return this.swiperRef&&!this.swiperRef.destroyed}initSwiper(){const{params:t}=HN(this);Object.assign(this,t),this._ngZone.runOutsideAngular(()=>{t.init=!1,t.virtual||(t.observer=!0),t.onAny=(h,...p)=>{const g=this["s_"+h];g&&g.emit([...p])},Object.assign(t.on,{_containerClasses:(h,p)=>{setTimeout(()=>{this.containerClasses=p})},_slideClasses:(h,p)=>{p.forEach(({slideEl:g,classNames:v},w)=>{const D=g.getAttribute("data-swiper-slide-index"),A=D?parseInt(D):w;if(this.virtual){const x=this.slides.find(k=>k.virtualIndex&&k.virtualIndex===A);if(x)return void(x.classNames=v)}this.slides[A]&&(this.slides[A].classNames=v)}),this._changeDetectorRef.detectChanges()}});const a=new Yw(t);a.loopCreate=()=>{},a.loopDestroy=()=>{},t.loop&&(a.loopedSlides=this.loopedSlides);const d=$N(a.params.virtual);if(a.virtual&&d){a.virtual.slides=this.slides;const h={cache:!1,slides:this.slides,renderExternal:this.updateVirtualSlides,renderExternalUpdate:!1};Xd(a.params.virtual,h),Xd(a.originalParams.virtual,h)}if(nr(this._platformId)){this.swiperRef=a.init(this.elementRef.nativeElement);const h=$N(this.swiperRef.params.virtual);this.swiperRef.virtual&&h&&this.swiperRef.virtual.update(!0),this._changeDetectorRef.detectChanges()}})}ngOnChanges(t){this.updateSwiper(t),this._changeDetectorRef.detectChanges()}updateInitSwiper(t){!t||!this.swiperRef||this.swiperRef.destroyed||this._ngZone.runOutsideAngular(()=>{const{pagination:r,navigation:s,scrollbar:a,thumbs:h}=this.swiperRef;t.pagination&&(this.pagination&&"boolean"!=typeof this.pagination&&this.pagination.el&&r&&!r.el?(this.updateParameter("pagination",this.pagination),r.init(),r.render(),r.update()):(r.destroy(),r.el=null)),t.scrollbar&&(this.scrollbar&&"boolean"!=typeof this.scrollbar&&this.scrollbar.el&&a&&!a.el?(this.updateParameter("scrollbar",this.scrollbar),a.init(),a.updateSize(),a.setTranslate()):(a.destroy(),a.el=null)),t.navigation&&(this.navigation&&"boolean"!=typeof this.navigation&&this.navigation.prevEl&&this.navigation.nextEl&&s&&!s.prevEl&&!s.nextEl?(this.updateParameter("navigation",this.navigation),s.init(),s.update()):s.prevEl&&s.nextEl&&(s.destroy(),s.nextEl=null,s.prevEl=null)),t.thumbs&&this.thumbs&&this.thumbs.swiper&&(this.updateParameter("thumbs",this.thumbs),h.init()&&h.update(!0)),t.controller&&this.controller&&this.controller.control&&(this.swiperRef.controller.control=this.controller.control),this.swiperRef.update()})}updateSwiper(t){this._ngZone.runOutsideAngular(()=>{var i,r;if(!t.config&&t&&this.swiperRef&&!this.swiperRef.destroyed){for(const s in t){if($X.indexOf(s)>=0)continue;const a=null!==(r=null===(i=t[s])||void 0===i?void 0:i.currentValue)&&void 0!==r?r:t[s];this.updateParameter(s,a)}t.allowSlideNext&&(this.swiperRef.allowSlideNext=this.allowSlideNext),t.allowSlidePrev&&(this.swiperRef.allowSlidePrev=this.allowSlidePrev),t.direction&&this.swiperRef.changeDirection(this.direction,!1),t.breakpoints&&(this.loop&&!this.loopedSlides&&this.calcLoopedSlides(),this.swiperRef.currentBreakpoint=null,this.swiperRef.setBreakpoint()),(t.thumbs||t.controller)&&this.updateInitSwiper(t),this.swiperRef.update()}})}calcLoopedSlides(){if(!this.loop)return!1;let t=this.slidesPerView;if(this.breakpoints){const r=Yw.prototype.getBreakpoint(this.breakpoints),s=r in this.breakpoints?this.breakpoints[r]:void 0;s&&s.slidesPerView&&(t=s.slidesPerView)}if("auto"===t)return this.loopedSlides=this.slides.length,this.slides.length;let i=this.loopedSlides||t;return!!i&&(this.loopAdditionalSlides&&(i+=this.loopAdditionalSlides),i>this.slides.length&&(i=this.slides.length),this.loopedSlides=i,!0)}updateParameter(t,i){if(!this.swiperRef||this.swiperRef.destroyed)return;const r=t.replace(/^_/,""),s=tv(this.swiperRef.params[r]);"enabled"!==r?s&&tv(i)?Xd(this.swiperRef.params[r],i):this.swiperRef.params[r]=i:!0===i?this.swiperRef.enable():!1===i&&this.swiperRef.disable()}ngOnDestroy(){this._ngZone.runOutsideAngular(()=>{var t;null===(t=this.swiperRef)||void 0===t||t.destroy(!0,!1)})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.R0b),l.Y36(l.SBq),l.Y36(l.sBO),l.Y36(l.Lbi))},n.\u0275cmp=l.Xpm({type:n,selectors:[["swiper"],["","swiper",""]],contentQueries:function(t,i,r){if(1&t&&l.Suo(r,zN,4),2&t){let s;l.iGM(s=l.CRH())&&(i.slidesEl=s)}},viewQuery:function(t,i){if(1&t&&(l.Gf(_X,5),l.Gf(yX,5),l.Gf(vX,5),l.Gf(bX,5)),2&t){let r;l.iGM(r=l.CRH())&&(i.prevElRef=r.first),l.iGM(r=l.CRH())&&(i.nextElRef=r.first),l.iGM(r=l.CRH())&&(i.scrollbarElRef=r.first),l.iGM(r=l.CRH())&&(i.paginationElRef=r.first)}},hostVars:2,hostBindings:function(t,i){2&t&&l.Tol(i.containerClasses)},inputs:{enabled:"enabled",on:"on",direction:"direction",touchEventsTarget:"touchEventsTarget",initialSlide:"initialSlide",speed:"speed",cssMode:"cssMode",updateOnWindowResize:"updateOnWindowResize",resizeObserver:"resizeObserver",nested:"nested",focusableElements:"focusableElements",width:"width",height:"height",preventInteractionOnTransition:"preventInteractionOnTransition",userAgent:"userAgent",url:"url",edgeSwipeDetection:"edgeSwipeDetection",edgeSwipeThreshold:"edgeSwipeThreshold",freeMode:"freeMode",autoHeight:"autoHeight",setWrapperSize:"setWrapperSize",virtualTranslate:"virtualTranslate",effect:"effect",breakpoints:"breakpoints",spaceBetween:"spaceBetween",slidesPerView:"slidesPerView",maxBackfaceHiddenSlides:"maxBackfaceHiddenSlides",grid:"grid",slidesPerGroup:"slidesPerGroup",slidesPerGroupSkip:"slidesPerGroupSkip",centeredSlides:"centeredSlides",centeredSlidesBounds:"centeredSlidesBounds",slidesOffsetBefore:"slidesOffsetBefore",slidesOffsetAfter:"slidesOffsetAfter",normalizeSlideIndex:"normalizeSlideIndex",centerInsufficientSlides:"centerInsufficientSlides",watchOverflow:"watchOverflow",roundLengths:"roundLengths",touchRatio:"touchRatio",touchAngle:"touchAngle",simulateTouch:"simulateTouch",shortSwipes:"shortSwipes",longSwipes:"longSwipes",longSwipesRatio:"longSwipesRatio",longSwipesMs:"longSwipesMs",followFinger:"followFinger",allowTouchMove:"allowTouchMove",threshold:"threshold",touchMoveStopPropagation:"touchMoveStopPropagation",touchStartPreventDefault:"touchStartPreventDefault",touchStartForcePreventDefault:"touchStartForcePreventDefault",touchReleaseOnEdges:"touchReleaseOnEdges",uniqueNavElements:"uniqueNavElements",resistance:"resistance",resistanceRatio:"resistanceRatio",watchSlidesProgress:"watchSlidesProgress",grabCursor:"grabCursor",preventClicks:"preventClicks",preventClicksPropagation:"preventClicksPropagation",slideToClickedSlide:"slideToClickedSlide",preloadImages:"preloadImages",updateOnImagesReady:"updateOnImagesReady",loop:"loop",loopAdditionalSlides:"loopAdditionalSlides",loopedSlides:"loopedSlides",loopedSlidesLimit:"loopedSlidesLimit",loopFillGroupWithBlank:"loopFillGroupWithBlank",loopPreventsSlide:"loopPreventsSlide",rewind:"rewind",allowSlidePrev:"allowSlidePrev",allowSlideNext:"allowSlideNext",swipeHandler:"swipeHandler",noSwiping:"noSwiping",noSwipingClass:"noSwipingClass",noSwipingSelector:"noSwipingSelector",passiveListeners:"passiveListeners",containerModifierClass:"containerModifierClass",slideClass:"slideClass",slideBlankClass:"slideBlankClass",slideActiveClass:"slideActiveClass",slideDuplicateActiveClass:"slideDuplicateActiveClass",slideVisibleClass:"slideVisibleClass",slideDuplicateClass:"slideDuplicateClass",slideNextClass:"slideNextClass",slideDuplicateNextClass:"slideDuplicateNextClass",slidePrevClass:"slidePrevClass",slideDuplicatePrevClass:"slideDuplicatePrevClass",wrapperClass:"wrapperClass",runCallbacksOnInit:"runCallbacksOnInit",observeParents:"observeParents",observeSlideChildren:"observeSlideChildren",a11y:"a11y",autoplay:"autoplay",controller:"controller",coverflowEffect:"coverflowEffect",cubeEffect:"cubeEffect",fadeEffect:"fadeEffect",flipEffect:"flipEffect",creativeEffect:"creativeEffect",cardsEffect:"cardsEffect",hashNavigation:"hashNavigation",history:"history",keyboard:"keyboard",lazy:"lazy",mousewheel:"mousewheel",parallax:"parallax",thumbs:"thumbs",zoom:"zoom",class:"class",id:"id",navigation:"navigation",pagination:"pagination",scrollbar:"scrollbar",virtual:"virtual",config:"config"},outputs:{s__beforeBreakpoint:"_beforeBreakpoint",s__containerClasses:"_containerClasses",s__slideClass:"_slideClass",s__swiper:"_swiper",s_activeIndexChange:"activeIndexChange",s_afterInit:"afterInit",s_autoplay:"autoplay",s_autoplayStart:"autoplayStart",s_autoplayStop:"autoplayStop",s_autoplayPause:"autoplayPause",s_autoplayResume:"autoplayResume",s_beforeDestroy:"beforeDestroy",s_beforeInit:"beforeInit",s_beforeLoopFix:"beforeLoopFix",s_beforeResize:"beforeResize",s_beforeSlideChangeStart:"beforeSlideChangeStart",s_beforeTransitionStart:"beforeTransitionStart",s_breakpoint:"breakpoint",s_changeDirection:"changeDirection",s_click:"click",s_doubleTap:"doubleTap",s_doubleClick:"doubleClick",s_destroy:"destroy",s_fromEdge:"fromEdge",s_hashChange:"hashChange",s_hashSet:"hashSet",s_imagesReady:"imagesReady",s_init:"init",s_keyPress:"keyPress",s_lazyImageLoad:"lazyImageLoad",s_lazyImageReady:"lazyImageReady",s_loopFix:"loopFix",s_momentumBounce:"momentumBounce",s_navigationHide:"navigationHide",s_navigationShow:"navigationShow",s_navigationPrev:"navigationPrev",s_navigationNext:"navigationNext",s_observerUpdate:"observerUpdate",s_orientationchange:"orientationchange",s_paginationHide:"paginationHide",s_paginationRender:"paginationRender",s_paginationShow:"paginationShow",s_paginationUpdate:"paginationUpdate",s_progress:"progress",s_reachBeginning:"reachBeginning",s_reachEnd:"reachEnd",s_realIndexChange:"realIndexChange",s_resize:"resize",s_scroll:"scroll",s_scrollbarDragEnd:"scrollbarDragEnd",s_scrollbarDragMove:"scrollbarDragMove",s_scrollbarDragStart:"scrollbarDragStart",s_setTransition:"setTransition",s_setTranslate:"setTranslate",s_slideChange:"slideChange",s_slideChangeTransitionEnd:"slideChangeTransitionEnd",s_slideChangeTransitionStart:"slideChangeTransitionStart",s_slideNextTransitionEnd:"slideNextTransitionEnd",s_slideNextTransitionStart:"slideNextTransitionStart",s_slidePrevTransitionEnd:"slidePrevTransitionEnd",s_slidePrevTransitionStart:"slidePrevTransitionStart",s_slideResetTransitionStart:"slideResetTransitionStart",s_slideResetTransitionEnd:"slideResetTransitionEnd",s_sliderMove:"sliderMove",s_sliderFirstMove:"sliderFirstMove",s_slidesLengthChange:"slidesLengthChange",s_slidesGridLengthChange:"slidesGridLengthChange",s_snapGridLengthChange:"snapGridLengthChange",s_snapIndexChange:"snapIndexChange",s_tap:"tap",s_toEdge:"toEdge",s_touchEnd:"touchEnd",s_touchMove:"touchMove",s_touchMoveOpposite:"touchMoveOpposite",s_touchStart:"touchStart",s_transitionEnd:"transitionEnd",s_transitionStart:"transitionStart",s_update:"update",s_zoomChange:"zoomChange",s_swiper:"swiper",s_lock:"lock",s_unlock:"unlock"},features:[l.TTD],ngContentSelectors:UX,decls:13,vars:17,consts:[[4,"ngIf"],["class","swiper-scrollbar",4,"ngIf"],["class","swiper-pagination",4,"ngIf"],[3,"ngClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["slidesTemplate",""],[1,"swiper-button-prev"],["prevElRef",""],[1,"swiper-button-next"],["nextElRef",""],[1,"swiper-scrollbar"],["scrollbarElRef",""],[1,"swiper-pagination"],["paginationElRef",""],[3,"ngClass","style","ngSwitch",4,"ngFor","ngForOf"],[3,"ngClass","ngSwitch"],[3,"ngClass",4,"ngSwitchCase"],[4,"ngSwitchDefault"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,i){if(1&t&&(l.F$t(FX),l.Hsn(0),l.YNc(1,EX,5,0,"ng-container",0),l.YNc(2,wX,2,0,"div",1),l.YNc(3,CX,2,0,"div",2),l.TgZ(4,"div",3),l.Hsn(5,1),l.YNc(6,IX,1,0,null,4),l.YNc(7,DX,1,0,null,4),l.YNc(8,xX,1,0,null,4),l.Hsn(9,2),l.qZA(),l.Hsn(10,3),l.YNc(11,NX,2,3,"ng-template",null,5,l.W1O)),2&t){const r=l.MAs(12);l.xp6(1),l.Q6J("ngIf",i.navigation&&i.showNavigation),l.xp6(1),l.Q6J("ngIf",i.scrollbar&&i.showScrollbar),l.xp6(1),l.Q6J("ngIf",i.pagination&&i.showPagination),l.xp6(1),l.Q6J("ngClass",i.wrapperClass),l.uIk("id",i.id),l.xp6(2),l.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",l.VKq(11,LX,i.prependSlides)),l.xp6(1),l.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",l.VKq(13,BX,i.activeSlides)),l.xp6(1),l.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",l.VKq(15,VX,i.appendSlides))}},dependencies:[In,yn,Ka,Ar,os,wo,Co,mm],styles:["swiper{display:block}\n"],encapsulation:2,changeDetection:0}),n})(),fH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[ai]]}),n})();function HX(n,e){if(1&n&&l._UZ(0,"app-product-card-in-main",6),2&n){const t=l.oxw().$implicit;l.Q6J("book",t)}}function zX(n,e){1&n&&(l.ynx(0),l.YNc(1,HX,1,1,"ng-template",5),l.BQk())}let jX=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-all-products-main"]],inputs:{books:"books",title:"title"},decls:6,vars:5,consts:[[1,"container"],[1,"title-of-main-products","pb-4"],[1,"d-flex"],[3,"slidesPerView","spaceBetween"],[4,"ngFor","ngForOf"],["swiperSlide",""],[3,"book"]],template:function(t,i){1&t&&(l.TgZ(0,"div",0)(1,"div",1),l._uU(2),l.qZA(),l.TgZ(3,"div",2)(4,"swiper",3),l.YNc(5,zX,2,0,"ng-container",4),l.qZA()()()),2&t&&(l.xp6(2),l.AsE("",i.title," (",null==i.books?null:i.books.length,")"),l.xp6(2),l.Q6J("slidesPerView",4)("spaceBetween",50),l.xp6(1),l.Q6J("ngForOf",i.books))},dependencies:[Ar,rQ,hH,zN]}),n})();function GX(n,e){1&n&&(l.TgZ(0,"div",7),l._UZ(1,"img",12)(2,"div",9),l.qZA())}function WX(n,e){1&n&&(l.TgZ(0,"div",7),l._UZ(1,"img",13)(2,"div",9),l.qZA())}function qX(n,e){1&n&&(l.TgZ(0,"div",7),l._UZ(1,"img",14)(2,"div",9),l.qZA())}function YX(n,e){1&n&&(l.TgZ(0,"div",7),l._UZ(1,"img",15)(2,"div",9),l.qZA())}const ZX=function(){return{delay:100,disableOnInteraction:!1}},KX=function(){return{clickable:!0}};Yw.use([function cX({swiper:n,extendParams:e,on:t,emit:i}){function r(D){let A;return D&&(A=Yt(D),n.params.uniqueNavElements&&"string"==typeof D&&A.length>1&&1===n.$el.find(D).length&&(A=n.$el.find(D))),A}function s(D,A){const x=n.params.navigation;D&&D.length>0&&(D[A?"addClass":"removeClass"](x.disabledClass),D[0]&&"BUTTON"===D[0].tagName&&(D[0].disabled=A),n.params.watchOverflow&&n.enabled&&D[n.isLocked?"addClass":"removeClass"](x.lockClass))}function a(){if(n.params.loop)return;const{$nextEl:D,$prevEl:A}=n.navigation;s(A,n.isBeginning&&!n.params.rewind),s(D,n.isEnd&&!n.params.rewind)}function d(D){D.preventDefault(),(!n.isBeginning||n.params.loop||n.params.rewind)&&(n.slidePrev(),i("navigationPrev"))}function h(D){D.preventDefault(),(!n.isEnd||n.params.loop||n.params.rewind)&&(n.slideNext(),i("navigationNext"))}function p(){const D=n.params.navigation;if(n.params.navigation=UN(n,n.originalParams.navigation,n.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!D.nextEl&&!D.prevEl)return;const A=r(D.nextEl),x=r(D.prevEl);A&&A.length>0&&A.on("click",h),x&&x.length>0&&x.on("click",d),Object.assign(n.navigation,{$nextEl:A,nextEl:A&&A[0],$prevEl:x,prevEl:x&&x[0]}),n.enabled||(A&&A.addClass(D.lockClass),x&&x.addClass(D.lockClass))}function g(){const{$nextEl:D,$prevEl:A}=n.navigation;D&&D.length&&(D.off("click",h),D.removeClass(n.params.navigation.disabledClass)),A&&A.length&&(A.off("click",d),A.removeClass(n.params.navigation.disabledClass))}e({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),n.navigation={nextEl:null,$nextEl:null,prevEl:null,$prevEl:null},t("init",()=>{!1===n.params.navigation.enabled?w():(p(),a())}),t("toEdge fromEdge lock unlock",()=>{a()}),t("destroy",()=>{g()}),t("enable disable",()=>{const{$nextEl:D,$prevEl:A}=n.navigation;D&&D[n.enabled?"removeClass":"addClass"](n.params.navigation.lockClass),A&&A[n.enabled?"removeClass":"addClass"](n.params.navigation.lockClass)}),t("click",(D,A)=>{const{$nextEl:x,$prevEl:k}=n.navigation,F=A.target;if(n.params.navigation.hideOnClick&&!Yt(F).is(k)&&!Yt(F).is(x)){if(n.pagination&&n.params.pagination&&n.params.pagination.clickable&&(n.pagination.el===F||n.pagination.el.contains(F)))return;let L;x?L=x.hasClass(n.params.navigation.hiddenClass):k&&(L=k.hasClass(n.params.navigation.hiddenClass)),i(!0===L?"navigationShow":"navigationHide"),x&&x.toggleClass(n.params.navigation.hiddenClass),k&&k.toggleClass(n.params.navigation.hiddenClass)}});const w=()=>{n.$el.addClass(n.params.navigation.navigationDisabledClass),g()};Object.assign(n.navigation,{enable:()=>{n.$el.removeClass(n.params.navigation.navigationDisabledClass),p(),a()},disable:w,update:a,init:p,destroy:g})},function uX({swiper:n,extendParams:e,on:t,emit:i}){const r="swiper-pagination";e({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:x=>x,formatFractionTotal:x=>x,bulletClass:`${r}-bullet`,bulletActiveClass:`${r}-bullet-active`,modifierClass:`${r}-`,currentClass:`${r}-current`,totalClass:`${r}-total`,hiddenClass:`${r}-hidden`,progressbarFillClass:`${r}-progressbar-fill`,progressbarOppositeClass:`${r}-progressbar-opposite`,clickableClass:`${r}-clickable`,lockClass:`${r}-lock`,horizontalClass:`${r}-horizontal`,verticalClass:`${r}-vertical`,paginationDisabledClass:`${r}-disabled`}}),n.pagination={el:null,$el:null,bullets:[]};let s,a=0;function d(){return!n.params.pagination.el||!n.pagination.el||!n.pagination.$el||0===n.pagination.$el.length}function h(x,k){const{bulletActiveClass:F}=n.params.pagination;x[k]().addClass(`${F}-${k}`)[k]().addClass(`${F}-${k}-${k}`)}function p(){const x=n.rtl,k=n.params.pagination;if(d())return;const F=n.virtual&&n.params.virtual.enabled?n.virtual.slides.length:n.slides.length,L=n.pagination.$el;let U;const te=n.params.loop?Math.ceil((F-2*n.loopedSlides)/n.params.slidesPerGroup):n.snapGrid.length;if(n.params.loop?(U=Math.ceil((n.activeIndex-n.loopedSlides)/n.params.slidesPerGroup),U>F-1-2*n.loopedSlides&&(U-=F-2*n.loopedSlides),U>te-1&&(U-=te),U<0&&"bullets"!==n.params.paginationType&&(U=te+U)):U=typeof n.snapIndex<"u"?n.snapIndex:n.activeIndex||0,"bullets"===k.type&&n.pagination.bullets&&n.pagination.bullets.length>0){const oe=n.pagination.bullets;let ue,ye,ze;if(k.dynamicBullets&&(s=oe.eq(0)[n.isHorizontal()?"outerWidth":"outerHeight"](!0),L.css(n.isHorizontal()?"width":"height",s*(k.dynamicMainBullets+4)+"px"),k.dynamicMainBullets>1&&void 0!==n.previousIndex&&(a+=U-(n.previousIndex-n.loopedSlides||0),a>k.dynamicMainBullets-1?a=k.dynamicMainBullets-1:a<0&&(a=0)),ue=Math.max(U-a,0),ye=ue+(Math.min(oe.length,k.dynamicMainBullets)-1),ze=(ye+ue)/2),oe.removeClass(["","-next","-next-next","-prev","-prev-prev","-main"].map(it=>`${k.bulletActiveClass}${it}`).join(" ")),L.length>1)oe.each(it=>{const $e=Yt(it),ge=$e.index();ge===U&&$e.addClass(k.bulletActiveClass),k.dynamicBullets&&(ge>=ue&&ge<=ye&&$e.addClass(`${k.bulletActiveClass}-main`),ge===ue&&h($e,"prev"),ge===ye&&h($e,"next"))});else{const it=oe.eq(U),$e=it.index();if(it.addClass(k.bulletActiveClass),k.dynamicBullets){const ge=oe.eq(ue),ae=oe.eq(ye);for(let Ee=ue;Ee<=ye;Ee+=1)oe.eq(Ee).addClass(`${k.bulletActiveClass}-main`);if(n.params.loop)if($e>=oe.length){for(let Ee=k.dynamicMainBullets;Ee>=0;Ee-=1)oe.eq(oe.length-Ee).addClass(`${k.bulletActiveClass}-main`);oe.eq(oe.length-k.dynamicMainBullets-1).addClass(`${k.bulletActiveClass}-prev`)}else h(ge,"prev"),h(ae,"next");else h(ge,"prev"),h(ae,"next")}}if(k.dynamicBullets){const it=Math.min(oe.length,k.dynamicMainBullets+4),$e=(s*it-s)/2-ze*s,ge=x?"right":"left";oe.css(n.isHorizontal()?ge:"top",`${$e}px`)}}if("fraction"===k.type&&(L.find(du(k.currentClass)).text(k.formatFractionCurrent(U+1)),L.find(du(k.totalClass)).text(k.formatFractionTotal(te))),"progressbar"===k.type){let oe;oe=k.progressbarOpposite?n.isHorizontal()?"vertical":"horizontal":n.isHorizontal()?"horizontal":"vertical";const ue=(U+1)/te;let ye=1,ze=1;"horizontal"===oe?ye=ue:ze=ue,L.find(du(k.progressbarFillClass)).transform(`translate3d(0,0,0) scaleX(${ye}) scaleY(${ze})`).transition(n.params.speed)}"custom"===k.type&&k.renderCustom?(L.html(k.renderCustom(n,U+1,te)),i("paginationRender",L[0])):i("paginationUpdate",L[0]),n.params.watchOverflow&&n.enabled&&L[n.isLocked?"addClass":"removeClass"](k.lockClass)}function g(){const x=n.params.pagination;if(d())return;const k=n.virtual&&n.params.virtual.enabled?n.virtual.slides.length:n.slides.length,F=n.pagination.$el;let L="";if("bullets"===x.type){let U=n.params.loop?Math.ceil((k-2*n.loopedSlides)/n.params.slidesPerGroup):n.snapGrid.length;n.params.freeMode&&n.params.freeMode.enabled&&!n.params.loop&&U>k&&(U=k);for(let te=0;te<U;te+=1)L+=x.renderBullet?x.renderBullet.call(n,te,x.bulletClass):`<${x.bulletElement} class="${x.bulletClass}"></${x.bulletElement}>`;F.html(L),n.pagination.bullets=F.find(du(x.bulletClass))}"fraction"===x.type&&(L=x.renderFraction?x.renderFraction.call(n,x.currentClass,x.totalClass):`<span class="${x.currentClass}"></span> / <span class="${x.totalClass}"></span>`,F.html(L)),"progressbar"===x.type&&(L=x.renderProgressbar?x.renderProgressbar.call(n,x.progressbarFillClass):`<span class="${x.progressbarFillClass}"></span>`,F.html(L)),"custom"!==x.type&&i("paginationRender",n.pagination.$el[0])}function v(){n.params.pagination=UN(n,n.originalParams.pagination,n.params.pagination,{el:"swiper-pagination"});const x=n.params.pagination;if(!x.el)return;let k=Yt(x.el);0!==k.length&&(n.params.uniqueNavElements&&"string"==typeof x.el&&k.length>1&&(k=n.$el.find(x.el),k.length>1&&(k=k.filter(F=>Yt(F).parents(".swiper")[0]===n.el))),"bullets"===x.type&&x.clickable&&k.addClass(x.clickableClass),k.addClass(x.modifierClass+x.type),k.addClass(n.isHorizontal()?x.horizontalClass:x.verticalClass),"bullets"===x.type&&x.dynamicBullets&&(k.addClass(`${x.modifierClass}${x.type}-dynamic`),a=0,x.dynamicMainBullets<1&&(x.dynamicMainBullets=1)),"progressbar"===x.type&&x.progressbarOpposite&&k.addClass(x.progressbarOppositeClass),x.clickable&&k.on("click",du(x.bulletClass),function(L){L.preventDefault();let U=Yt(this).index()*n.params.slidesPerGroup;n.params.loop&&(U+=n.loopedSlides),n.slideTo(U)}),Object.assign(n.pagination,{$el:k,el:k[0]}),n.enabled||k.addClass(x.lockClass))}function w(){const x=n.params.pagination;if(d())return;const k=n.pagination.$el;k.removeClass(x.hiddenClass),k.removeClass(x.modifierClass+x.type),k.removeClass(n.isHorizontal()?x.horizontalClass:x.verticalClass),n.pagination.bullets&&n.pagination.bullets.removeClass&&n.pagination.bullets.removeClass(x.bulletActiveClass),x.clickable&&k.off("click",du(x.bulletClass))}t("init",()=>{!1===n.params.pagination.enabled?A():(v(),g(),p())}),t("activeIndexChange",()=>{(n.params.loop||typeof n.snapIndex>"u")&&p()}),t("snapIndexChange",()=>{n.params.loop||p()}),t("slidesLengthChange",()=>{n.params.loop&&(g(),p())}),t("snapGridLengthChange",()=>{n.params.loop||(g(),p())}),t("destroy",()=>{w()}),t("enable disable",()=>{const{$el:x}=n.pagination;x&&x[n.enabled?"removeClass":"addClass"](n.params.pagination.lockClass)}),t("lock unlock",()=>{p()}),t("click",(x,k)=>{const F=k.target,{$el:L}=n.pagination;if(n.params.pagination.el&&n.params.pagination.hideOnClick&&L&&L.length>0&&!Yt(F).hasClass(n.params.pagination.bulletClass)){if(n.navigation&&(n.navigation.nextEl&&F===n.navigation.nextEl||n.navigation.prevEl&&F===n.navigation.prevEl))return;const U=L.hasClass(n.params.pagination.hiddenClass);i(!0===U?"paginationShow":"paginationHide"),L.toggleClass(n.params.pagination.hiddenClass)}});const A=()=>{n.$el.addClass(n.params.pagination.paginationDisabledClass),n.pagination.$el&&n.pagination.$el.addClass(n.params.pagination.paginationDisabledClass),w()};Object.assign(n.pagination,{enable:()=>{n.$el.removeClass(n.params.pagination.paginationDisabledClass),n.pagination.$el&&n.pagination.$el.removeClass(n.params.pagination.paginationDisabledClass),v(),g(),p()},disable:A,render:g,update:p,init:v,destroy:w})},function dX({swiper:n,extendParams:e,on:t,emit:i}){const r=wr();let h,p,g,v,s=!1,a=null,d=null;function w(){if(!n.params.scrollbar.el||!n.scrollbar.el)return;const{scrollbar:ge,rtlTranslate:ae,progress:Ee}=n,{$dragEl:_t,$el:kt}=ge,J=n.params.scrollbar;let Ie=p,Ce=(g-p)*Ee;ae?(Ce=-Ce,Ce>0?(Ie=p-Ce,Ce=0):-Ce+p>g&&(Ie=g+Ce)):Ce<0?(Ie=p+Ce,Ce=0):Ce+p>g&&(Ie=g-Ce),n.isHorizontal()?(_t.transform(`translate3d(${Ce}px, 0, 0)`),_t[0].style.width=`${Ie}px`):(_t.transform(`translate3d(0px, ${Ce}px, 0)`),_t[0].style.height=`${Ie}px`),J.hide&&(clearTimeout(a),kt[0].style.opacity=1,a=setTimeout(()=>{kt[0].style.opacity=0,kt.transition(400)},1e3))}function A(){if(!n.params.scrollbar.el||!n.scrollbar.el)return;const{scrollbar:ge}=n,{$dragEl:ae,$el:Ee}=ge;ae[0].style.width="",ae[0].style.height="",g=n.isHorizontal()?Ee[0].offsetWidth:Ee[0].offsetHeight,v=n.size/(n.virtualSize+n.params.slidesOffsetBefore-(n.params.centeredSlides?n.snapGrid[0]:0)),p="auto"===n.params.scrollbar.dragSize?g*v:parseInt(n.params.scrollbar.dragSize,10),n.isHorizontal()?ae[0].style.width=`${p}px`:ae[0].style.height=`${p}px`,Ee[0].style.display=v>=1?"none":"",n.params.scrollbar.hide&&(Ee[0].style.opacity=0),n.params.watchOverflow&&n.enabled&&ge.$el[n.isLocked?"addClass":"removeClass"](n.params.scrollbar.lockClass)}function x(ge){return n.isHorizontal()?"touchstart"===ge.type||"touchmove"===ge.type?ge.targetTouches[0].clientX:ge.clientX:"touchstart"===ge.type||"touchmove"===ge.type?ge.targetTouches[0].clientY:ge.clientY}function k(ge){const{scrollbar:ae,rtlTranslate:Ee}=n,{$el:_t}=ae;let kt;kt=(x(ge)-_t.offset()[n.isHorizontal()?"left":"top"]-(null!==h?h:p/2))/(g-p),kt=Math.max(Math.min(kt,1),0),Ee&&(kt=1-kt);const J=n.minTranslate()+(n.maxTranslate()-n.minTranslate())*kt;n.updateProgress(J),n.setTranslate(J),n.updateActiveIndex(),n.updateSlidesClasses()}function F(ge){const ae=n.params.scrollbar,{scrollbar:Ee,$wrapperEl:_t}=n,{$el:kt,$dragEl:J}=Ee;s=!0,h=ge.target===J[0]||ge.target===J?x(ge)-ge.target.getBoundingClientRect()[n.isHorizontal()?"left":"top"]:null,ge.preventDefault(),ge.stopPropagation(),_t.transition(100),J.transition(100),k(ge),clearTimeout(d),kt.transition(0),ae.hide&&kt.css("opacity",1),n.params.cssMode&&n.$wrapperEl.css("scroll-snap-type","none"),i("scrollbarDragStart",ge)}function L(ge){const{scrollbar:ae,$wrapperEl:Ee}=n,{$el:_t,$dragEl:kt}=ae;!s||(ge.preventDefault?ge.preventDefault():ge.returnValue=!1,k(ge),Ee.transition(0),_t.transition(0),kt.transition(0),i("scrollbarDragMove",ge))}function U(ge){const ae=n.params.scrollbar,{scrollbar:Ee,$wrapperEl:_t}=n,{$el:kt}=Ee;!s||(s=!1,n.params.cssMode&&(n.$wrapperEl.css("scroll-snap-type",""),_t.transition("")),ae.hide&&(clearTimeout(d),d=ev(()=>{kt.css("opacity",0),kt.transition(400)},1e3)),i("scrollbarDragEnd",ge),ae.snapOnRelease&&n.slideToClosest())}function te(ge){const{scrollbar:ae,touchEventsTouch:Ee,touchEventsDesktop:_t,params:kt,support:J}=n,Ie=ae.$el;if(!Ie)return;const Ce=Ie[0],pt=!(!J.passiveListener||!kt.passiveListeners)&&{passive:!1,capture:!1},Ut=!(!J.passiveListener||!kt.passiveListeners)&&{passive:!0,capture:!1};if(!Ce)return;const di="on"===ge?"addEventListener":"removeEventListener";J.touch?(Ce[di](Ee.start,F,pt),Ce[di](Ee.move,L,pt),Ce[di](Ee.end,U,Ut)):(Ce[di](_t.start,F,pt),r[di](_t.move,L,pt),r[di](_t.end,U,Ut))}function ye(){const{scrollbar:ge,$el:ae}=n;n.params.scrollbar=UN(n,n.originalParams.scrollbar,n.params.scrollbar,{el:"swiper-scrollbar"});const Ee=n.params.scrollbar;if(!Ee.el)return;let _t=Yt(Ee.el);n.params.uniqueNavElements&&"string"==typeof Ee.el&&_t.length>1&&1===ae.find(Ee.el).length&&(_t=ae.find(Ee.el)),_t.addClass(n.isHorizontal()?Ee.horizontalClass:Ee.verticalClass);let kt=_t.find(`.${n.params.scrollbar.dragClass}`);0===kt.length&&(kt=Yt(`<div class="${n.params.scrollbar.dragClass}"></div>`),_t.append(kt)),Object.assign(ge,{$el:_t,el:_t[0],$dragEl:kt,dragEl:kt[0]}),Ee.draggable&&function oe(){!n.params.scrollbar.el||!n.scrollbar.el||te("on")}(),_t&&_t[n.enabled?"removeClass":"addClass"](n.params.scrollbar.lockClass)}function ze(){const ge=n.params.scrollbar,ae=n.scrollbar.$el;ae&&ae.removeClass(n.isHorizontal()?ge.horizontalClass:ge.verticalClass),function ue(){!n.params.scrollbar.el||!n.scrollbar.el||te("off")}()}e({scrollbar:{el:null,dragSize:"auto",hide:!1,draggable:!1,snapOnRelease:!0,lockClass:"swiper-scrollbar-lock",dragClass:"swiper-scrollbar-drag",scrollbarDisabledClass:"swiper-scrollbar-disabled",horizontalClass:"swiper-scrollbar-horizontal",verticalClass:"swiper-scrollbar-vertical"}}),n.scrollbar={el:null,dragEl:null,$el:null,$dragEl:null},t("init",()=>{!1===n.params.scrollbar.enabled?$e():(ye(),A(),w())}),t("update resize observerUpdate lock unlock",()=>{A()}),t("setTranslate",()=>{w()}),t("setTransition",(ge,ae)=>{!function D(ge){!n.params.scrollbar.el||!n.scrollbar.el||n.scrollbar.$dragEl.transition(ge)}(ae)}),t("enable disable",()=>{const{$el:ge}=n.scrollbar;ge&&ge[n.enabled?"removeClass":"addClass"](n.params.scrollbar.lockClass)}),t("destroy",()=>{ze()});const $e=()=>{n.$el.addClass(n.params.scrollbar.scrollbarDisabledClass),n.scrollbar.$el&&n.scrollbar.$el.addClass(n.params.scrollbar.scrollbarDisabledClass),ze()};Object.assign(n.scrollbar,{enable:()=>{n.$el.removeClass(n.params.scrollbar.scrollbarDisabledClass),n.scrollbar.$el&&n.scrollbar.$el.removeClass(n.params.scrollbar.scrollbarDisabledClass),ye(),A(),w()},disable:$e,updateSize:A,setTranslate:w,init:ye,destroy:ze})},function pX({swiper:n,extendParams:e,on:t}){e({a11y:{enabled:!0,notificationClass:"swiper-notification",prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",paginationBulletMessage:"Go to slide {{index}}",slideLabelMessage:"{{index}} / {{slidesLength}}",containerMessage:null,containerRoleDescriptionMessage:null,itemRoleDescriptionMessage:null,slideRole:"group",id:null}}),n.a11y={clicked:!1};let i=null;function r(ae){const Ee=i;0!==Ee.length&&(Ee.html(""),Ee.html(ae))}function a(ae){ae.attr("tabIndex","0")}function d(ae){ae.attr("tabIndex","-1")}function h(ae,Ee){ae.attr("role",Ee)}function p(ae,Ee){ae.attr("aria-roledescription",Ee)}function v(ae,Ee){ae.attr("aria-label",Ee)}function A(ae){ae.attr("aria-disabled",!0)}function x(ae){ae.attr("aria-disabled",!1)}function k(ae){if(13!==ae.keyCode&&32!==ae.keyCode)return;const Ee=n.params.a11y,_t=Yt(ae.target);n.navigation&&n.navigation.$nextEl&&_t.is(n.navigation.$nextEl)&&(n.isEnd&&!n.params.loop||n.slideNext(),r(n.isEnd?Ee.lastSlideMessage:Ee.nextSlideMessage)),n.navigation&&n.navigation.$prevEl&&_t.is(n.navigation.$prevEl)&&(n.isBeginning&&!n.params.loop||n.slidePrev(),r(n.isBeginning?Ee.firstSlideMessage:Ee.prevSlideMessage)),n.pagination&&_t.is(du(n.params.pagination.bulletClass))&&_t[0].click()}function L(){return n.pagination&&n.pagination.bullets&&n.pagination.bullets.length}function U(){return L()&&n.params.pagination.clickable}const oe=(ae,Ee,_t)=>{a(ae),"BUTTON"!==ae[0].tagName&&(h(ae,"button"),ae.on("keydown",k)),v(ae,_t),function g(ae,Ee){ae.attr("aria-controls",Ee)}(ae,Ee)},ue=()=>{n.a11y.clicked=!0},ye=()=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{n.a11y.clicked=!1})})},ze=ae=>{if(n.a11y.clicked)return;const Ee=ae.target.closest(`.${n.params.slideClass}`);if(!Ee||!n.slides.includes(Ee))return;const _t=n.slides.indexOf(Ee)===n.activeIndex,kt=n.params.watchSlidesProgress&&n.visibleSlides&&n.visibleSlides.includes(Ee);_t||kt||(n.isHorizontal()?n.el.scrollLeft=0:n.el.scrollTop=0,n.slideTo(n.slides.indexOf(Ee),0))},it=()=>{const ae=n.params.a11y;ae.itemRoleDescriptionMessage&&p(Yt(n.slides),ae.itemRoleDescriptionMessage),ae.slideRole&&h(Yt(n.slides),ae.slideRole);const Ee=n.params.loop?n.slides.filter(_t=>!_t.classList.contains(n.params.slideDuplicateClass)).length:n.slides.length;ae.slideLabelMessage&&n.slides.each((_t,kt)=>{const J=Yt(_t),Ie=n.params.loop?parseInt(J.attr("data-swiper-slide-index"),10):kt;v(J,ae.slideLabelMessage.replace(/\{\{index\}\}/,Ie+1).replace(/\{\{slidesLength\}\}/,Ee))})};t("beforeInit",()=>{i=Yt(`<span class="${n.params.a11y.notificationClass}" aria-live="assertive" aria-atomic="true"></span>`)}),t("afterInit",()=>{!n.params.a11y.enabled||(()=>{const ae=n.params.a11y;n.$el.append(i);const Ee=n.$el;ae.containerRoleDescriptionMessage&&p(Ee,ae.containerRoleDescriptionMessage),ae.containerMessage&&v(Ee,ae.containerMessage);const _t=n.$wrapperEl,kt=ae.id||_t.attr("id")||`swiper-wrapper-${function s(ae=16){return"x".repeat(ae).replace(/x/g,()=>Math.round(16*Math.random()).toString(16))}(16)}`,J=n.params.autoplay&&n.params.autoplay.enabled?"off":"polite";let Ie,Ce;(function w(ae,Ee){ae.attr("id",Ee)})(_t,kt),function D(ae,Ee){ae.attr("aria-live",Ee)}(_t,J),it(),n.navigation&&n.navigation.$nextEl&&(Ie=n.navigation.$nextEl),n.navigation&&n.navigation.$prevEl&&(Ce=n.navigation.$prevEl),Ie&&Ie.length&&oe(Ie,kt,ae.nextSlideMessage),Ce&&Ce.length&&oe(Ce,kt,ae.prevSlideMessage),U()&&n.pagination.$el.on("keydown",du(n.params.pagination.bulletClass),k),n.$el.on("focus",ze,!0),n.$el.on("pointerdown",ue,!0),n.$el.on("pointerup",ye,!0)})()}),t("slidesLengthChange snapGridLengthChange slidesGridLengthChange",()=>{!n.params.a11y.enabled||it()}),t("fromEdge toEdge afterInit lock unlock",()=>{!n.params.a11y.enabled||function F(){if(n.params.loop||n.params.rewind||!n.navigation)return;const{$nextEl:ae,$prevEl:Ee}=n.navigation;Ee&&Ee.length>0&&(n.isBeginning?(A(Ee),d(Ee)):(x(Ee),a(Ee))),ae&&ae.length>0&&(n.isEnd?(A(ae),d(ae)):(x(ae),a(ae)))}()}),t("paginationUpdate",()=>{!n.params.a11y.enabled||function te(){const ae=n.params.a11y;!L()||n.pagination.bullets.each(Ee=>{const _t=Yt(Ee);n.params.pagination.clickable&&(a(_t),n.params.pagination.renderBullet||(h(_t,"button"),v(_t,ae.paginationBulletMessage.replace(/\{\{index\}\}/,_t.index()+1)))),_t.is(`.${n.params.pagination.bulletActiveClass}`)?_t.attr("aria-current","true"):_t.removeAttr("aria-current")})}()}),t("destroy",()=>{!n.params.a11y.enabled||function ge(){let ae,Ee;i&&i.length>0&&i.remove(),n.navigation&&n.navigation.$nextEl&&(ae=n.navigation.$nextEl),n.navigation&&n.navigation.$prevEl&&(Ee=n.navigation.$prevEl),ae&&ae.off("keydown",k),Ee&&Ee.off("keydown",k),U()&&n.pagination.$el.off("keydown",du(n.params.pagination.bulletClass),k),n.$el.off("focus",ze,!0),n.$el.off("pointerdown",ue,!0),n.$el.off("pointerup",ye,!0)}()})},function lX({swiper:n,extendParams:e,on:t,emit:i}){let r;function s(v,w){const D=n.params.virtual;if(D.cache&&n.virtual.cache[w])return n.virtual.cache[w];const A=Yt(D.renderSlide?D.renderSlide.call(n,v,w):`<div class="${n.params.slideClass}" data-swiper-slide-index="${w}">${v}</div>`);return A.attr("data-swiper-slide-index")||A.attr("data-swiper-slide-index",w),D.cache&&(n.virtual.cache[w]=A),A}function a(v){const{slidesPerView:w,slidesPerGroup:D,centeredSlides:A}=n.params,{addSlidesBefore:x,addSlidesAfter:k}=n.params.virtual,{from:F,to:L,slides:U,slidesGrid:te,offset:oe}=n.virtual;n.params.cssMode||n.updateActiveIndex();const ue=n.activeIndex||0;let ye,ze,it;ye=n.rtlTranslate?"right":n.isHorizontal()?"left":"top",A?(ze=Math.floor(w/2)+D+k,it=Math.floor(w/2)+D+x):(ze=w+(D-1)+k,it=D+x);const $e=Math.max((ue||0)-it,0),ge=Math.min((ue||0)+ze,U.length-1),ae=(n.slidesGrid[$e]||0)-(n.slidesGrid[0]||0);function Ee(){n.updateSlides(),n.updateProgress(),n.updateSlidesClasses(),n.lazy&&n.params.lazy.enabled&&n.lazy.load(),i("virtualUpdate")}if(Object.assign(n.virtual,{from:$e,to:ge,offset:ae,slidesGrid:n.slidesGrid}),F===$e&&L===ge&&!v)return n.slidesGrid!==te&&ae!==oe&&n.slides.css(ye,`${ae}px`),n.updateProgress(),void i("virtualUpdate");if(n.params.virtual.renderExternal)return n.params.virtual.renderExternal.call(n,{offset:ae,from:$e,to:ge,slides:function(){const Ie=[];for(let Ce=$e;Ce<=ge;Ce+=1)Ie.push(U[Ce]);return Ie}()}),void(n.params.virtual.renderExternalUpdate?Ee():i("virtualUpdate"));const _t=[],kt=[];if(v)n.$wrapperEl.find(`.${n.params.slideClass}`).remove();else for(let J=F;J<=L;J+=1)(J<$e||J>ge)&&n.$wrapperEl.find(`.${n.params.slideClass}[data-swiper-slide-index="${J}"]`).remove();for(let J=0;J<U.length;J+=1)J>=$e&&J<=ge&&(typeof L>"u"||v?kt.push(J):(J>L&&kt.push(J),J<F&&_t.push(J)));kt.forEach(J=>{n.$wrapperEl.append(s(U[J],J))}),_t.sort((J,Ie)=>Ie-J).forEach(J=>{n.$wrapperEl.prepend(s(U[J],J))}),n.$wrapperEl.children(".swiper-slide").css(ye,`${ae}px`),Ee()}e({virtual:{enabled:!1,slides:[],cache:!0,renderSlide:null,renderExternal:null,renderExternalUpdate:!0,addSlidesBefore:0,addSlidesAfter:0}}),n.virtual={cache:{},from:void 0,to:void 0,slides:[],offset:0,slidesGrid:[]},t("beforeInit",()=>{!n.params.virtual.enabled||(n.virtual.slides=n.params.virtual.slides,n.classNames.push(`${n.params.containerModifierClass}virtual`),n.params.watchSlidesProgress=!0,n.originalParams.watchSlidesProgress=!0,n.params.initialSlide||a())}),t("setTranslate",()=>{!n.params.virtual.enabled||(n.params.cssMode&&!n._immediateVirtual?(clearTimeout(r),r=setTimeout(()=>{a()},100)):a())}),t("init update resize",()=>{!n.params.virtual.enabled||n.params.cssMode&&qw(n.wrapperEl,"--swiper-virtual-size",`${n.virtualSize}px`)}),Object.assign(n.virtual,{appendSlide:function d(v){if("object"==typeof v&&"length"in v)for(let w=0;w<v.length;w+=1)v[w]&&n.virtual.slides.push(v[w]);else n.virtual.slides.push(v);a(!0)},prependSlide:function h(v){const w=n.activeIndex;let D=w+1,A=1;if(Array.isArray(v)){for(let x=0;x<v.length;x+=1)v[x]&&n.virtual.slides.unshift(v[x]);D=w+v.length,A=v.length}else n.virtual.slides.unshift(v);if(n.params.virtual.cache){const x=n.virtual.cache,k={};Object.keys(x).forEach(F=>{const L=x[F],U=L.attr("data-swiper-slide-index");U&&L.attr("data-swiper-slide-index",parseInt(U,10)+A),k[parseInt(F,10)+A]=L}),n.virtual.cache=k}a(!0),n.slideTo(D,0)},removeSlide:function p(v){if(typeof v>"u"||null===v)return;let w=n.activeIndex;if(Array.isArray(v))for(let D=v.length-1;D>=0;D-=1)n.virtual.slides.splice(v[D],1),n.params.virtual.cache&&delete n.virtual.cache[v[D]],v[D]<w&&(w-=1),w=Math.max(w,0);else n.virtual.slides.splice(v,1),n.params.virtual.cache&&delete n.virtual.cache[v],v<w&&(w-=1),w=Math.max(w,0);a(!0),n.slideTo(w,0)},removeAllSlides:function g(){n.virtual.slides=[],n.params.virtual.cache&&(n.virtual.cache={}),a(!0),n.slideTo(0,0)},update:a})},function hX({swiper:n,extendParams:e,on:t,emit:i}){const r=ur();e({zoom:{enabled:!1,maxRatio:3,minRatio:1,toggle:!0,containerClass:"swiper-zoom-container",zoomedSlideClass:"swiper-slide-zoomed"}}),n.zoom={enabled:!1};let d,h,p,s=1,a=!1;const g={$slideEl:void 0,slideWidth:void 0,slideHeight:void 0,$imageEl:void 0,$imageWrapEl:void 0,maxRatio:3},v={isTouched:void 0,isMoved:void 0,currentX:void 0,currentY:void 0,minX:void 0,minY:void 0,maxX:void 0,maxY:void 0,width:void 0,height:void 0,startX:void 0,startY:void 0,touchesStart:{},touchesCurrent:{}},w={x:void 0,y:void 0,prevPositionX:void 0,prevPositionY:void 0,prevTime:void 0};let D=1;function A(J){return J.targetTouches.length<2?1:Math.sqrt((J.targetTouches[1].pageX-J.targetTouches[0].pageX)**2+(J.targetTouches[1].pageY-J.targetTouches[0].pageY)**2)}function x(J){const Ce=n.params.zoom;if(h=!1,p=!1,!n.support.gestures){if("touchstart"!==J.type||"touchstart"===J.type&&J.targetTouches.length<2)return;h=!0,g.scaleStart=A(J)}g.$slideEl&&g.$slideEl.length||(g.$slideEl=Yt(J.target).closest(`.${n.params.slideClass}`),0===g.$slideEl.length&&(g.$slideEl=n.slides.eq(n.activeIndex)),g.$imageEl=g.$slideEl.find(`.${Ce.containerClass}`).eq(0).find("picture, img, svg, canvas, .swiper-zoom-target").eq(0),g.$imageWrapEl=g.$imageEl.parent(`.${Ce.containerClass}`),g.maxRatio=g.$imageWrapEl.attr("data-swiper-zoom")||Ce.maxRatio,0!==g.$imageWrapEl.length)?(g.$imageEl&&g.$imageEl.transition(0),a=!0):g.$imageEl=void 0}function k(J){const Ie=n.support,Ce=n.params.zoom,pt=n.zoom;if(!Ie.gestures){if("touchmove"!==J.type||"touchmove"===J.type&&J.targetTouches.length<2)return;p=!0,g.scaleMove=A(J)}g.$imageEl&&0!==g.$imageEl.length?(pt.scale=Ie.gestures?J.scale*s:g.scaleMove/g.scaleStart*s,pt.scale>g.maxRatio&&(pt.scale=g.maxRatio-1+(pt.scale-g.maxRatio+1)**.5),pt.scale<Ce.minRatio&&(pt.scale=Ce.minRatio+1-(Ce.minRatio-pt.scale+1)**.5),g.$imageEl.transform(`translate3d(0,0,0) scale(${pt.scale})`)):"gesturechange"===J.type&&x(J)}function F(J){const pt=n.params.zoom,Ut=n.zoom;if(!n.support.gestures){if(!h||!p||"touchend"!==J.type||"touchend"===J.type&&J.changedTouches.length<2&&!n.device.android)return;h=!1,p=!1}!g.$imageEl||0===g.$imageEl.length||(Ut.scale=Math.max(Math.min(Ut.scale,g.maxRatio),pt.minRatio),g.$imageEl.transition(n.params.speed).transform(`translate3d(0,0,0) scale(${Ut.scale})`),s=Ut.scale,a=!1,1===Ut.scale&&(g.$slideEl=void 0))}function U(J){const Ie=n.zoom;if(!g.$imageEl||0===g.$imageEl.length||(n.allowClick=!1,!v.isTouched||!g.$slideEl))return;v.isMoved||(v.width=g.$imageEl[0].offsetWidth,v.height=g.$imageEl[0].offsetHeight,v.startX=PN(g.$imageWrapEl[0],"x")||0,v.startY=PN(g.$imageWrapEl[0],"y")||0,g.slideWidth=g.$slideEl[0].offsetWidth,g.slideHeight=g.$slideEl[0].offsetHeight,g.$imageWrapEl.transition(0));const Ce=v.width*Ie.scale,pt=v.height*Ie.scale;if(!(Ce<g.slideWidth&&pt<g.slideHeight)){if(v.minX=Math.min(g.slideWidth/2-Ce/2,0),v.maxX=-v.minX,v.minY=Math.min(g.slideHeight/2-pt/2,0),v.maxY=-v.minY,v.touchesCurrent.x="touchmove"===J.type?J.targetTouches[0].pageX:J.pageX,v.touchesCurrent.y="touchmove"===J.type?J.targetTouches[0].pageY:J.pageY,!v.isMoved&&!a){if(n.isHorizontal()&&(Math.floor(v.minX)===Math.floor(v.startX)&&v.touchesCurrent.x<v.touchesStart.x||Math.floor(v.maxX)===Math.floor(v.startX)&&v.touchesCurrent.x>v.touchesStart.x))return void(v.isTouched=!1);if(!n.isHorizontal()&&(Math.floor(v.minY)===Math.floor(v.startY)&&v.touchesCurrent.y<v.touchesStart.y||Math.floor(v.maxY)===Math.floor(v.startY)&&v.touchesCurrent.y>v.touchesStart.y))return void(v.isTouched=!1)}J.cancelable&&J.preventDefault(),J.stopPropagation(),v.isMoved=!0,v.currentX=v.touchesCurrent.x-v.touchesStart.x+v.startX,v.currentY=v.touchesCurrent.y-v.touchesStart.y+v.startY,v.currentX<v.minX&&(v.currentX=v.minX+1-(v.minX-v.currentX+1)**.8),v.currentX>v.maxX&&(v.currentX=v.maxX-1+(v.currentX-v.maxX+1)**.8),v.currentY<v.minY&&(v.currentY=v.minY+1-(v.minY-v.currentY+1)**.8),v.currentY>v.maxY&&(v.currentY=v.maxY-1+(v.currentY-v.maxY+1)**.8),w.prevPositionX||(w.prevPositionX=v.touchesCurrent.x),w.prevPositionY||(w.prevPositionY=v.touchesCurrent.y),w.prevTime||(w.prevTime=Date.now()),w.x=(v.touchesCurrent.x-w.prevPositionX)/(Date.now()-w.prevTime)/2,w.y=(v.touchesCurrent.y-w.prevPositionY)/(Date.now()-w.prevTime)/2,Math.abs(v.touchesCurrent.x-w.prevPositionX)<2&&(w.x=0),Math.abs(v.touchesCurrent.y-w.prevPositionY)<2&&(w.y=0),w.prevPositionX=v.touchesCurrent.x,w.prevPositionY=v.touchesCurrent.y,w.prevTime=Date.now(),g.$imageWrapEl.transform(`translate3d(${v.currentX}px, ${v.currentY}px,0)`)}}function oe(){const J=n.zoom;g.$slideEl&&n.previousIndex!==n.activeIndex&&(g.$imageEl&&g.$imageEl.transform("translate3d(0,0,0) scale(1)"),g.$imageWrapEl&&g.$imageWrapEl.transform("translate3d(0,0,0)"),J.scale=1,s=1,g.$slideEl=void 0,g.$imageEl=void 0,g.$imageWrapEl=void 0)}function ue(J){const Ie=n.zoom,Ce=n.params.zoom;if(g.$slideEl||(J&&J.target&&(g.$slideEl=Yt(J.target).closest(`.${n.params.slideClass}`)),g.$slideEl||(g.$slideEl=n.params.virtual&&n.params.virtual.enabled&&n.virtual?n.$wrapperEl.children(`.${n.params.slideActiveClass}`):n.slides.eq(n.activeIndex)),g.$imageEl=g.$slideEl.find(`.${Ce.containerClass}`).eq(0).find("picture, img, svg, canvas, .swiper-zoom-target").eq(0),g.$imageWrapEl=g.$imageEl.parent(`.${Ce.containerClass}`)),!g.$imageEl||0===g.$imageEl.length||!g.$imageWrapEl||0===g.$imageWrapEl.length)return;let pt,Ut,di,$i,vo,Gn,ta,yu,dr,rc,Ds,fm,yh,GM,mV,gV,_V,yV;n.params.cssMode&&(n.wrapperEl.style.overflow="hidden",n.wrapperEl.style.touchAction="none"),g.$slideEl.addClass(`${Ce.zoomedSlideClass}`),typeof v.touchesStart.x>"u"&&J?(pt="touchend"===J.type?J.changedTouches[0].pageX:J.pageX,Ut="touchend"===J.type?J.changedTouches[0].pageY:J.pageY):(pt=v.touchesStart.x,Ut=v.touchesStart.y),Ie.scale=g.$imageWrapEl.attr("data-swiper-zoom")||Ce.maxRatio,s=g.$imageWrapEl.attr("data-swiper-zoom")||Ce.maxRatio,J?(_V=g.$slideEl[0].offsetWidth,yV=g.$slideEl[0].offsetHeight,di=g.$slideEl.offset().left+r.scrollX,$i=g.$slideEl.offset().top+r.scrollY,vo=di+_V/2-pt,Gn=$i+yV/2-Ut,dr=g.$imageEl[0].offsetWidth,rc=g.$imageEl[0].offsetHeight,Ds=dr*Ie.scale,fm=rc*Ie.scale,yh=Math.min(_V/2-Ds/2,0),GM=Math.min(yV/2-fm/2,0),mV=-yh,gV=-GM,ta=vo*Ie.scale,yu=Gn*Ie.scale,ta<yh&&(ta=yh),ta>mV&&(ta=mV),yu<GM&&(yu=GM),yu>gV&&(yu=gV)):(ta=0,yu=0),g.$imageWrapEl.transition(300).transform(`translate3d(${ta}px, ${yu}px,0)`),g.$imageEl.transition(300).transform(`translate3d(0,0,0) scale(${Ie.scale})`)}function ye(){const J=n.zoom,Ie=n.params.zoom;g.$slideEl||(g.$slideEl=n.params.virtual&&n.params.virtual.enabled&&n.virtual?n.$wrapperEl.children(`.${n.params.slideActiveClass}`):n.slides.eq(n.activeIndex),g.$imageEl=g.$slideEl.find(`.${Ie.containerClass}`).eq(0).find("picture, img, svg, canvas, .swiper-zoom-target").eq(0),g.$imageWrapEl=g.$imageEl.parent(`.${Ie.containerClass}`)),g.$imageEl&&0!==g.$imageEl.length&&g.$imageWrapEl&&0!==g.$imageWrapEl.length&&(n.params.cssMode&&(n.wrapperEl.style.overflow="",n.wrapperEl.style.touchAction=""),J.scale=1,s=1,g.$imageWrapEl.transition(300).transform("translate3d(0,0,0)"),g.$imageEl.transition(300).transform("translate3d(0,0,0) scale(1)"),g.$slideEl.removeClass(`${Ie.zoomedSlideClass}`),g.$slideEl=void 0)}function ze(J){const Ie=n.zoom;Ie.scale&&1!==Ie.scale?ye():ue(J)}function it(){const J=n.support;return{passiveListener:!("touchstart"!==n.touchEvents.start||!J.passiveListener||!n.params.passiveListeners)&&{passive:!0,capture:!1},activeListenerWithCapture:!J.passiveListener||{passive:!1,capture:!0}}}function $e(){return`.${n.params.slideClass}`}function ge(J){const{passiveListener:Ie}=it(),Ce=$e();n.$wrapperEl[J]("gesturestart",Ce,x,Ie),n.$wrapperEl[J]("gesturechange",Ce,k,Ie),n.$wrapperEl[J]("gestureend",Ce,F,Ie)}function ae(){d||(d=!0,ge("on"))}function Ee(){!d||(d=!1,ge("off"))}function _t(){const J=n.zoom;if(J.enabled)return;J.enabled=!0;const Ie=n.support,{passiveListener:Ce,activeListenerWithCapture:pt}=it(),Ut=$e();Ie.gestures?(n.$wrapperEl.on(n.touchEvents.start,ae,Ce),n.$wrapperEl.on(n.touchEvents.end,Ee,Ce)):"touchstart"===n.touchEvents.start&&(n.$wrapperEl.on(n.touchEvents.start,Ut,x,Ce),n.$wrapperEl.on(n.touchEvents.move,Ut,k,pt),n.$wrapperEl.on(n.touchEvents.end,Ut,F,Ce),n.touchEvents.cancel&&n.$wrapperEl.on(n.touchEvents.cancel,Ut,F,Ce)),n.$wrapperEl.on(n.touchEvents.move,`.${n.params.zoom.containerClass}`,U,pt)}function kt(){const J=n.zoom;if(!J.enabled)return;const Ie=n.support;J.enabled=!1;const{passiveListener:Ce,activeListenerWithCapture:pt}=it(),Ut=$e();Ie.gestures?(n.$wrapperEl.off(n.touchEvents.start,ae,Ce),n.$wrapperEl.off(n.touchEvents.end,Ee,Ce)):"touchstart"===n.touchEvents.start&&(n.$wrapperEl.off(n.touchEvents.start,Ut,x,Ce),n.$wrapperEl.off(n.touchEvents.move,Ut,k,pt),n.$wrapperEl.off(n.touchEvents.end,Ut,F,Ce),n.touchEvents.cancel&&n.$wrapperEl.off(n.touchEvents.cancel,Ut,F,Ce)),n.$wrapperEl.off(n.touchEvents.move,`.${n.params.zoom.containerClass}`,U,pt)}Object.defineProperty(n.zoom,"scale",{get:()=>D,set(J){D!==J&&i("zoomChange",J,g.$imageEl?g.$imageEl[0]:void 0,g.$slideEl?g.$slideEl[0]:void 0),D=J}}),t("init",()=>{n.params.zoom.enabled&&_t()}),t("destroy",()=>{kt()}),t("touchStart",(J,Ie)=>{!n.zoom.enabled||function L(J){!g.$imageEl||0===g.$imageEl.length||v.isTouched||(n.device.android&&J.cancelable&&J.preventDefault(),v.isTouched=!0,v.touchesStart.x="touchstart"===J.type?J.targetTouches[0].pageX:J.pageX,v.touchesStart.y="touchstart"===J.type?J.targetTouches[0].pageY:J.pageY)}(Ie)}),t("touchEnd",(J,Ie)=>{!n.zoom.enabled||function te(){const J=n.zoom;if(!g.$imageEl||0===g.$imageEl.length)return;if(!v.isTouched||!v.isMoved)return v.isTouched=!1,void(v.isMoved=!1);v.isTouched=!1,v.isMoved=!1;let Ie=300,Ce=300;const Ut=v.currentX+w.x*Ie,$i=v.currentY+w.y*Ce;0!==w.x&&(Ie=Math.abs((Ut-v.currentX)/w.x)),0!==w.y&&(Ce=Math.abs(($i-v.currentY)/w.y));const vo=Math.max(Ie,Ce);v.currentX=Ut,v.currentY=$i;const ta=v.height*J.scale;v.minX=Math.min(g.slideWidth/2-v.width*J.scale/2,0),v.maxX=-v.minX,v.minY=Math.min(g.slideHeight/2-ta/2,0),v.maxY=-v.minY,v.currentX=Math.max(Math.min(v.currentX,v.maxX),v.minX),v.currentY=Math.max(Math.min(v.currentY,v.maxY),v.minY),g.$imageWrapEl.transition(vo).transform(`translate3d(${v.currentX}px, ${v.currentY}px,0)`)}()}),t("doubleTap",(J,Ie)=>{!n.animating&&n.params.zoom.enabled&&n.zoom.enabled&&n.params.zoom.toggle&&ze(Ie)}),t("transitionEnd",()=>{n.zoom.enabled&&n.params.zoom.enabled&&oe()}),t("slideChange",()=>{n.zoom.enabled&&n.params.zoom.enabled&&n.params.cssMode&&oe()}),Object.assign(n.zoom,{enable:_t,disable:kt,in:ue,out:ye,toggle:ze})},function mX({swiper:n,extendParams:e,on:t,emit:i}){let r;function s(){if(!n.size)return n.autoplay.running=!1,void(n.autoplay.paused=!1);const x=n.slides.eq(n.activeIndex);let k=n.params.autoplay.delay;x.attr("data-swiper-autoplay")&&(k=x.attr("data-swiper-autoplay")||n.params.autoplay.delay),clearTimeout(r),r=ev(()=>{let F;n.params.autoplay.reverseDirection?n.params.loop?(n.loopFix(),F=n.slidePrev(n.params.speed,!0,!0),i("autoplay")):n.isBeginning?n.params.autoplay.stopOnLastSlide?d():(F=n.slideTo(n.slides.length-1,n.params.speed,!0,!0),i("autoplay")):(F=n.slidePrev(n.params.speed,!0,!0),i("autoplay")):n.params.loop?(n.loopFix(),F=n.slideNext(n.params.speed,!0,!0),i("autoplay")):n.isEnd?n.params.autoplay.stopOnLastSlide?d():(F=n.slideTo(0,n.params.speed,!0,!0),i("autoplay")):(F=n.slideNext(n.params.speed,!0,!0),i("autoplay")),(n.params.cssMode&&n.autoplay.running||!1===F)&&s()},k)}function a(){return!(typeof r<"u"||n.autoplay.running||(n.autoplay.running=!0,i("autoplayStart"),s(),0))}function d(){return!(!n.autoplay.running||typeof r>"u"||(r&&(clearTimeout(r),r=void 0),n.autoplay.running=!1,i("autoplayStop"),0))}function h(x){!n.autoplay.running||n.autoplay.paused||(r&&clearTimeout(r),n.autoplay.paused=!0,0!==x&&n.params.autoplay.waitForTransition?["transitionend","webkitTransitionEnd"].forEach(k=>{n.$wrapperEl[0].addEventListener(k,g)}):(n.autoplay.paused=!1,s()))}function p(){const x=wr();"hidden"===x.visibilityState&&n.autoplay.running&&h(),"visible"===x.visibilityState&&n.autoplay.paused&&(s(),n.autoplay.paused=!1)}function g(x){!n||n.destroyed||!n.$wrapperEl||x.target===n.$wrapperEl[0]&&(["transitionend","webkitTransitionEnd"].forEach(k=>{n.$wrapperEl[0].removeEventListener(k,g)}),n.autoplay.paused=!1,n.autoplay.running?s():d())}function v(){n.params.autoplay.disableOnInteraction?d():(i("autoplayPause"),h()),["transitionend","webkitTransitionEnd"].forEach(x=>{n.$wrapperEl[0].removeEventListener(x,g)})}function w(){n.params.autoplay.disableOnInteraction||(n.autoplay.paused=!1,i("autoplayResume"),s())}n.autoplay={running:!1,paused:!1},e({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!0,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}}),t("init",()=>{n.params.autoplay.enabled&&(a(),wr().addEventListener("visibilitychange",p),function D(){n.params.autoplay.pauseOnMouseEnter&&(n.$el.on("mouseenter",v),n.$el.on("mouseleave",w))}())}),t("beforeTransitionStart",(x,k,F)=>{n.autoplay.running&&(F||!n.params.autoplay.disableOnInteraction?n.autoplay.pause(k):d())}),t("sliderFirstMove",()=>{n.autoplay.running&&(n.params.autoplay.disableOnInteraction?d():h())}),t("touchEnd",()=>{n.params.cssMode&&n.autoplay.paused&&!n.params.autoplay.disableOnInteraction&&s()}),t("destroy",()=>{(function A(){n.$el.off("mouseenter",v),n.$el.off("mouseleave",w)})(),n.autoplay.running&&d(),wr().removeEventListener("visibilitychange",p)}),Object.assign(n.autoplay,{pause:h,run:s,start:a,stop:d})},function gX({swiper:n,extendParams:e,on:t}){e({thumbs:{swiper:null,multipleActiveThumbs:!0,autoScrollOffset:0,slideThumbActiveClass:"swiper-slide-thumb-active",thumbsContainerClass:"swiper-thumbs"}});let i=!1,r=!1;function s(){const h=n.thumbs.swiper;if(!h||h.destroyed)return;const p=h.clickedIndex,g=h.clickedSlide;if(g&&Yt(g).hasClass(n.params.thumbs.slideThumbActiveClass)||typeof p>"u"||null===p)return;let v;if(v=h.params.loop?parseInt(Yt(h.clickedSlide).attr("data-swiper-slide-index"),10):p,n.params.loop){let w=n.activeIndex;n.slides.eq(w).hasClass(n.params.slideDuplicateClass)&&(n.loopFix(),n._clientLeft=n.$wrapperEl[0].clientLeft,w=n.activeIndex);const D=n.slides.eq(w).prevAll(`[data-swiper-slide-index="${v}"]`).eq(0).index(),A=n.slides.eq(w).nextAll(`[data-swiper-slide-index="${v}"]`).eq(0).index();v=typeof D>"u"?A:typeof A>"u"?D:A-w<w-D?A:D}n.slideTo(v)}function a(){const{thumbs:h}=n.params;if(i)return!1;i=!0;const p=n.constructor;if(h.swiper instanceof p)n.thumbs.swiper=h.swiper,Object.assign(n.thumbs.swiper.originalParams,{watchSlidesProgress:!0,slideToClickedSlide:!1}),Object.assign(n.thumbs.swiper.params,{watchSlidesProgress:!0,slideToClickedSlide:!1});else if(Ww(h.swiper)){const g=Object.assign({},h.swiper);Object.assign(g,{watchSlidesProgress:!0,slideToClickedSlide:!1}),n.thumbs.swiper=new p(g),r=!0}return n.thumbs.swiper.$el.addClass(n.params.thumbs.thumbsContainerClass),n.thumbs.swiper.on("tap",s),!0}function d(h){const p=n.thumbs.swiper;if(!p||p.destroyed)return;const g="auto"===p.params.slidesPerView?p.slidesPerViewDynamic():p.params.slidesPerView;let v=1;const w=n.params.thumbs.slideThumbActiveClass;if(n.params.slidesPerView>1&&!n.params.centeredSlides&&(v=n.params.slidesPerView),n.params.thumbs.multipleActiveThumbs||(v=1),v=Math.floor(v),p.slides.removeClass(w),p.params.loop||p.params.virtual&&p.params.virtual.enabled)for(let x=0;x<v;x+=1)p.$wrapperEl.children(`[data-swiper-slide-index="${n.realIndex+x}"]`).addClass(w);else for(let x=0;x<v;x+=1)p.slides.eq(n.realIndex+x).addClass(w);const D=n.params.thumbs.autoScrollOffset,A=D&&!p.params.loop;if(n.realIndex!==p.realIndex||A){let k,F,x=p.activeIndex;if(p.params.loop){p.slides.eq(x).hasClass(p.params.slideDuplicateClass)&&(p.loopFix(),p._clientLeft=p.$wrapperEl[0].clientLeft,x=p.activeIndex);const L=p.slides.eq(x).prevAll(`[data-swiper-slide-index="${n.realIndex}"]`).eq(0).index(),U=p.slides.eq(x).nextAll(`[data-swiper-slide-index="${n.realIndex}"]`).eq(0).index();k=typeof L>"u"?U:typeof U>"u"?L:U-x==x-L?p.params.slidesPerGroup>1?U:x:U-x<x-L?U:L,F=n.activeIndex>n.previousIndex?"next":"prev"}else k=n.realIndex,F=k>n.previousIndex?"next":"prev";A&&(k+="next"===F?D:-1*D),p.visibleSlidesIndexes&&p.visibleSlidesIndexes.indexOf(k)<0&&(p.params.centeredSlides&&(k=k>x?k-Math.floor(g/2)+1:k+Math.floor(g/2)-1),p.slideTo(k,h?0:void 0))}}n.thumbs={swiper:null},t("beforeInit",()=>{const{thumbs:h}=n.params;!h||!h.swiper||(a(),d(!0))}),t("slideChange update resize observerUpdate",()=>{d()}),t("setTransition",(h,p)=>{const g=n.thumbs.swiper;!g||g.destroyed||g.setTransition(p)}),t("beforeDestroy",()=>{const h=n.thumbs.swiper;!h||h.destroyed||r&&h.destroy()}),Object.assign(n.thumbs,{init:a,update:d})},function fX({swiper:n,extendParams:e,on:t}){function i(h,p){const g=function(){let A,x,k;return(F,L)=>{for(x=-1,A=F.length;A-x>1;)k=A+x>>1,F[k]<=L?x=k:A=k;return A}}();let v,w;return this.x=h,this.y=p,this.lastIndex=h.length-1,this.interpolate=function(A){return A?(w=g(this.x,A),v=w-1,(A-this.x[v])*(this.y[w]-this.y[v])/(this.x[w]-this.x[v])+this.y[v]):0},this}function d(){!n.controller.control||n.controller.spline&&(n.controller.spline=void 0,delete n.controller.spline)}e({controller:{control:void 0,inverse:!1,by:"slide"}}),n.controller={control:void 0},t("beforeInit",()=>{n.controller.control=n.params.controller.control}),t("update",()=>{d()}),t("resize",()=>{d()}),t("observerUpdate",()=>{d()}),t("setTranslate",(h,p,g)=>{!n.controller.control||n.controller.setTranslate(p,g)}),t("setTransition",(h,p,g)=>{!n.controller.control||n.controller.setTransition(p,g)}),Object.assign(n.controller,{setTranslate:function s(h,p){const g=n.controller.control;let v,w;const D=n.constructor;function A(x){const k=n.rtlTranslate?-n.translate:n.translate;"slide"===n.params.controller.by&&(function r(h){n.controller.spline||(n.controller.spline=n.params.loop?new i(n.slidesGrid,h.slidesGrid):new i(n.snapGrid,h.snapGrid))}(x),w=-n.controller.spline.interpolate(-k)),(!w||"container"===n.params.controller.by)&&(v=(x.maxTranslate()-x.minTranslate())/(n.maxTranslate()-n.minTranslate()),w=(k-n.minTranslate())*v+x.minTranslate()),n.params.controller.inverse&&(w=x.maxTranslate()-w),x.updateProgress(w),x.setTranslate(w,n),x.updateActiveIndex(),x.updateSlidesClasses()}if(Array.isArray(g))for(let x=0;x<g.length;x+=1)g[x]!==p&&g[x]instanceof D&&A(g[x]);else g instanceof D&&p!==g&&A(g)},setTransition:function a(h,p){const g=n.constructor,v=n.controller.control;let w;function D(A){A.setTransition(h,n),0!==h&&(A.transitionStart(),A.params.autoHeight&&ev(()=>{A.updateAutoHeight()}),A.$wrapperEl.transitionEnd(()=>{!v||(A.params.loop&&"slide"===n.params.controller.by&&A.loopFix(),A.transitionEnd())}))}if(Array.isArray(v))for(w=0;w<v.length;w+=1)v[w]!==p&&v[w]instanceof g&&D(v[w]);else v instanceof g&&p!==v&&D(v)}})}]);let QX=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-banner"]],decls:16,vars:9,consts:[[1,"wrapper"],[1,"d-flex","justify-between"],[1,"banner"],[3,"loop","autoHeight","allowTouchMove","spaceBetween","autoplay","pagination","navigation"],["data-swiper-autoplay","6000","swiperSlide",""],["data-swiper-autoplay","10000","class","swiper-slide","swiperSlide",""],[1,"mini-banners","height","d-flex","flex-col"],[1,"relative"],["src","assets/images/banner-5.jpg","width","350","alt",""],[1,"hover-state"],[1,"spacer"],["src","assets/images/banner-6.jpg","width","350","alt",""],["src","assets/images/banner-1.jpg","width","750","alt",""],["src","assets/images/banner-2.jpg","width","750","alt",""],["src","assets/images/banner-3.jpg","width","750","alt",""],["src","assets/images/banner-4.jpg","width","750","alt",""]],template:function(t,i){1&t&&(l.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"swiper",3),l.YNc(4,GX,3,0,"ng-template",4),l.YNc(5,WX,3,0,"ng-template",5),l.YNc(6,qX,3,0,"ng-template",5),l.YNc(7,YX,3,0,"ng-template",5),l.qZA()(),l.TgZ(8,"div",6)(9,"div",7),l._UZ(10,"img",8)(11,"div",9),l.qZA(),l._UZ(12,"div",10),l.TgZ(13,"div",7),l._UZ(14,"img",11)(15,"div",9),l.qZA()()()()),2&t&&(l.xp6(3),l.Q6J("loop",!0)("autoHeight",!0)("allowTouchMove",!0)("spaceBetween",20)("autoplay",l.DdM(7,ZX))("pagination",l.DdM(8,KX))("navigation",!1))},dependencies:[hH,zN],styles:[".swiper-container[_ngcontent-%COMP%]{width:100%;height:300px;margin:50px auto}.swiper-slide[_ngcontent-%COMP%]{background:#f1f1f1;color:#000;text-align:center;line-height:300px}img[_ngcontent-%COMP%]{border-radius:1rem}.hover-state[_ngcontent-%COMP%]{position:absolute;z-index:12;background:#000;inset:0;border-radius:1rem;cursor:pointer;opacity:0;transition:.3s ease}.hover-state[_ngcontent-%COMP%]:hover{opacity:.3;transition:.3s ease}.img[_ngcontent-%COMP%]{background:#000}.banner[_ngcontent-%COMP%]{max-width:750px}.mini-banners[_ngcontent-%COMP%]{height:317px}"]}),n})();const XX=[{path:"main",component:(()=>{class n{constructor(t,i){this.firestore=t,this.listenerService=i}ngOnInit(){this.getBooks(),this.subjectBooks?.subscribe(t=>{this.books=t,this.listenerService.books$.next(t)})}getBooks(){this.subjectBooks=p4(g4(m4(this.firestore,"/books")),{idField:"id"})}get newest(){return this.books?.filter(t=>"newest"==t?.chapter)}get popular_psychology(){return this.books?.filter(t=>"popular_psychology"==t?.chapter)}get recipe(){return this.books?.filter(t=>"recipe"==t?.chapter)}get investments(){return this.books?.filter(t=>"investments"==t?.chapter)}get prose_chosen(){return this.books?.filter(t=>"prose_chosen"==t?.chapter)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Zd),l.Y36(_4))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-main"]],decls:17,vars:13,consts:[[1,"container"],[1,"d-flex","justify-between","width"],[1,"filters","spacer","width"],[1,"main","d-flex","flex-col","gap-6"],[1,"fz-6","mt-4"],[1,"grey-text"],[1,"pt-4","pb-4"],[3,"books","title"]],template:function(t,i){1&t&&(l.TgZ(0,"div",0)(1,"div",1),l._UZ(2,"div",2),l.TgZ(3,"div",3)(4,"div",4),l._uU(5,"\u041a\u043d\u0438\u0433\u0438: "),l.TgZ(6,"span",5),l._uU(7),l.qZA()(),l.TgZ(8,"div",6),l._UZ(9,"app-banner"),l.qZA(),l._UZ(10,"app-catalog")(11,"app-all-products-main",7)(12,"app-all-products-main",7)(13,"app-all-products-main",7)(14,"app-all-products-main",7)(15,"app-all-products-main",7)(16,"app-all-products-main",7),l.qZA()()()),2&t&&(l.xp6(7),l.Oqu(null==i.books?null:i.books.length),l.xp6(4),l.Q6J("books",i.books)("title","\u0412\u0441\u0435 \u0442\u043e\u0432\u0430\u0440\u044b"),l.xp6(1),l.Q6J("books",i.newest)("title","\u041a\u043d\u0438\u0436\u043d\u044b\u0435 \u043d\u043e\u0432\u0438\u043d\u043a\u0438"),l.xp6(1),l.Q6J("books",i.popular_psychology)("title","\u041f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u0430\u044f \u043f\u0441\u0438\u0445\u043e\u043b\u043e\u0433\u0438\u044f 2022"),l.xp6(1),l.Q6J("books",i.recipe)("title","\u041d\u0438 \u043e\u0434\u0438\u043d \u0440\u0435\u0446\u0435\u043f\u0442 \u043d\u0435 \u0431\u0443\u0434\u0435\u0442 \u043f\u043e\u0442\u0435\u0440\u044f\u043d!"),l.xp6(1),l.Q6J("books",i.investments)("title","\u0412\u0441\u0435 \u043e\u0431 \u0438\u043d\u0432\u0435\u0441\u0442\u0438\u0446\u0438\u044f\u0445"),l.xp6(1),l.Q6J("books",i.prose_chosen)("title","\u041f\u0440\u043e\u0437\u0430, \u043a\u043e\u0442\u043e\u0440\u0443\u044e \u0432\u044b\u0431\u0438\u0440\u0430\u044e\u0442"))},dependencies:[U7,jX,QX],styles:[".filters[_ngcontent-%COMP%]{width:200px!important}.main[_ngcontent-%COMP%]{max-width:1150px}"]}),n})()},{path:"product-detail/:id",component:(()=>{class n{constructor(t,i){this.firestore=t,this.activatedRoute=i}ngOnInit(){var t=this;return(0,ee.Z)(function*(){L7(_N(t.firestore,"books",t.activatedRoute.snapshot.params.id.toString()),s=>{t.book=s.data(),console.log(t.book)})})()}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Zd),l.Y36(hl))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-product-detail"]],decls:2,vars:0,template:function(t,i){1&t&&(l.TgZ(0,"p"),l._uU(1,"product-detail works!"),l.qZA())}}),n})()},{path:"",redirectTo:"main",pathMatch:"full"}];let JX=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[zb.forRoot(XX),zb]}),n})();var eJ=z(3532);function jN(n=0,e,t=IT){let i=-1;return null!=e&&((0,eJ.K)(e)?t=e:i=e),new Pn.y(r=>{let s=function tJ(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;s<0&&(s=0);let a=0;return t.schedule(function(){r.closed||(r.next(a++),0<=i?this.schedule(void 0,i):r.complete())},s)})}function pH(n,e){return e?t=>ko(e.pipe(Wt(1),function iJ(){return(0,Zn.e)((n,e)=>{n.subscribe((0,Hn.x)(e,w4.Z))})}()),t.pipe(pH(n))):(0,fi.z)((t,i)=>n(t,i).pipe(Wt(1),$u(t)))}function GN(n,e=qc){const t=jN(n,e);return pH(()=>t)}var rJ=z(1144);const sJ=["addListener","removeListener"],oJ=["addEventListener","removeEventListener"],aJ=["on","off"];function ix(n,e,t,i){if((0,ji.m)(t)&&(i=t,t=void 0),i)return ix(n,e,t).pipe(Yh(i));const[r,s]=function uJ(n){return(0,ji.m)(n.addEventListener)&&(0,ji.m)(n.removeEventListener)}(n)?oJ.map(a=>d=>n[a](e,d,t)):function lJ(n){return(0,ji.m)(n.addListener)&&(0,ji.m)(n.removeListener)}(n)?sJ.map(mH(n,e)):function cJ(n){return(0,ji.m)(n.on)&&(0,ji.m)(n.off)}(n)?aJ.map(mH(n,e)):[];if(!r&&(0,rJ.z)(n))return(0,fi.z)(a=>ix(a,e,t))((0,cs.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new Pn.y(a=>{const d=(...h)=>a.next(1<h.length?h:h[0]);return r(d),()=>s(d)})}function mH(n,e){return t=>i=>n[t](e,i)}const Zw={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:i}=Zw;i&&(e=i.requestAnimationFrame,t=i.cancelAnimationFrame);const r=e(s=>{t=void 0,n(s)});return new Fi.w0(()=>t?.(r))},requestAnimationFrame(...n){const{delegate:e}=Zw;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=Zw;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};new class hJ extends d_{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class dJ extends u_{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=Zw.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:s}=e;null!=t&&(null===(r=s[s.length-1])||void 0===r?void 0:r.id)!==t&&(Zw.cancelAnimationFrame(t),e._scheduled=void 0)}});let WN,pJ=1;const rx={};function gH(n){return n in rx&&(delete rx[n],!0)}const mJ={setImmediate(n){const e=pJ++;return rx[e]=!0,WN||(WN=Promise.resolve()),WN.then(()=>gH(e)&&n()),e},clearImmediate(n){gH(n)}},{setImmediate:gJ,clearImmediate:_J}=mJ,sx={setImmediate(...n){const{delegate:e}=sx;return(e?.setImmediate||gJ)(...n)},clearImmediate(n){const{delegate:e}=sx;return(e?.clearImmediate||_J)(n)},delegate:void 0},qN=new class vJ extends d_{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class yJ extends u_{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=sx.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:s}=e;null!=t&&(null===(r=s[s.length-1])||void 0===r?void 0:r.id)!==t&&(sx.clearImmediate(t),e._scheduled=void 0)}});function _H(n,e=qc){return function bJ(n){return(0,Zn.e)((e,t)=>{let i=!1,r=null,s=null,a=!1;const d=()=>{if(s?.unsubscribe(),s=null,i){i=!1;const p=r;r=null,t.next(p)}a&&t.complete()},h=()=>{s=null,a&&t.complete()};e.subscribe((0,Hn.x)(t,p=>{i=!0,r=p,s||(0,cs.Xf)(n(p)).subscribe(s=(0,Hn.x)(t,d,h))},()=>{a=!0,(!i||!s||s.closed)&&t.complete()}))})}(()=>jN(n,e))}let wJ=(()=>{class n{constructor(t,i,r){this._ngZone=t,this._platform=i,this._scrolled=new Tt.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const i=this.scrollContainers.get(t);i&&(i.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new Pn.y(i=>{this._globalSubscription||this._addGlobalListener();const r=t>0?this._scrolled.pipe(_H(t)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):tt()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(t,i){const r=this.getAncestorScrollContainers(t);return this.scrolled(i).pipe(An(s=>!s||r.indexOf(s)>-1))}getAncestorScrollContainers(t){const i=[];return this.scrollContainers.forEach((r,s)=>{this._scrollableContainsElement(s,t)&&i.push(s)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,i){let r=cu(i),s=t.getElementRef().nativeElement;do{if(r==s)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>ix(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.R0b),l.LFG(ts),l.LFG(we,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ox=(()=>{class n{constructor(t,i,r){this._platform=t,this._change=new Tt.x,this._changeListener=s=>{this._change.next(s)},this._document=r,i.runOutsideAngular(()=>{if(t.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+r,right:t.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,i=this._getWindow(),r=t.documentElement,s=r.getBoundingClientRect();return{top:-s.top||t.body.scrollTop||i.scrollY||r.scrollTop||0,left:-s.left||t.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(_H(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ts),l.LFG(l.R0b),l.LFG(we,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ax=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})(),yH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[$w,ax,$w,ax]}),n})();class YN{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class Kw extends YN{constructor(e,t,i,r){super(),this.component=e,this.viewContainerRef=t,this.injector=i,this.componentFactoryResolver=r}}class Qw extends YN{constructor(e,t,i,r){super(),this.templateRef=e,this.viewContainerRef=t,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class SJ extends YN{constructor(e){super(),this.element=e instanceof l.SBq?e.nativeElement:e}}class lx{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof Kw?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof Qw?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof SJ?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class IJ extends lx{constructor(e,t,i,r,s){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=a=>{const d=a.element,h=this._document.createComment("dom-portal");d.parentNode.insertBefore(h,d),this.outletElement.appendChild(d),this._attachedPortal=a,super.setDisposeFn(()=>{h.parentNode&&h.parentNode.replaceChild(d,h)})},this._document=s}attachComponentPortal(e){const i=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let r;return e.viewContainerRef?(r=e.viewContainerRef.createComponent(i,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector),this.setDisposeFn(()=>r.destroy())):(r=i.create(e.injector||this._defaultInjector||l.zs3.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=e,r}attachTemplatePortal(e){let t=e.viewContainerRef,i=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=t.indexOf(i);-1!==r&&t.remove(r)}),this._attachedPortal=e,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let Xw=(()=>{class n extends lx{constructor(t,i,r){super(),this._componentFactoryResolver=t,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new l.vpe,this.attachDomPortal=s=>{const a=s.element,d=this._document.createComment("dom-portal");s.setAttachedHost(this),a.parentNode.insertBefore(d,a),this._getRootNode().appendChild(a),this._attachedPortal=s,super.setDisposeFn(()=>{d.parentNode&&d.parentNode.replaceChild(a,d)})},this._document=r}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(t){t.setAttachedHost(this);const i=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,s=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),a=i.createComponent(s,i.length,t.injector||i.injector);return i!==this._viewContainerRef&&this._getRootNode().appendChild(a.hostView.rootNodes[0]),super.setDisposeFn(()=>a.destroy()),this._attachedPortal=t,this._attachedRef=a,this.attached.emit(a),a}attachTemplatePortal(t){t.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l._Vd),l.Y36(l.s_b),l.Y36(we))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[l.qOj]}),n})(),Jw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();var zl=z(6451);const vH=H7();class TJ{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=Xi(-this._previousScrollPosition.left),e.style.top=Xi(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,i=e.style,r=this._document.body.style,s=i.scrollBehavior||"",a=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),vH&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),vH&&(i.scrollBehavior=s,r.scrollBehavior=a)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,i=this._viewportRuler.getViewportSize();return t.scrollHeight>i.height||t.scrollWidth>i.width}}class DJ{constructor(e,t,i,r){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class bH{enable(){}disable(){}attach(){}}function ZN(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function EH(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class AJ{constructor(e,t,i,r){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();ZN(t,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let xJ=(()=>{class n{constructor(t,i,r,s){this._scrollDispatcher=t,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new bH,this.close=a=>new DJ(this._scrollDispatcher,this._ngZone,this._viewportRuler,a),this.block=()=>new TJ(this._viewportRuler,this._document),this.reposition=a=>new AJ(this._scrollDispatcher,this._viewportRuler,this._ngZone,a),this._document=s}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(wJ),l.LFG(ox),l.LFG(l.R0b),l.LFG(we))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class eC{constructor(e){if(this.scrollStrategy=new bH,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const i of t)void 0!==e[i]&&(this[i]=e[i])}}}class MJ{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let wH=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const i=this._attachedOverlays.indexOf(t);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(we))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),kJ=(()=>{class n extends wH{constructor(t,i){super(t),this._ngZone=i,this._keydownListener=r=>{const s=this._attachedOverlays;for(let a=s.length-1;a>-1;a--)if(s[a]._keydownEvents.observers.length>0){const d=s[a]._keydownEvents;this._ngZone?this._ngZone.run(()=>d.next(r)):d.next(r);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(we),l.LFG(l.R0b,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),RJ=(()=>{class n extends wH{constructor(t,i,r){super(t),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=Up(s)},this._clickListener=s=>{const a=Up(s),d="click"===s.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:a;this._pointerDownEventTarget=null;const h=this._attachedOverlays.slice();for(let p=h.length-1;p>-1;p--){const g=h[p];if(g._outsidePointerEvents.observers.length<1||!g.hasAttached())continue;if(g.overlayElement.contains(a)||g.overlayElement.contains(d))break;const v=g._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>v.next(s)):v.next(s)}}}add(t){if(super.add(t),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(we),l.LFG(ts),l.LFG(l.R0b,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),cx=(()=>{class n{constructor(t,i){this._platform=i,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||EN()){const r=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let s=0;s<r.length;s++)r[s].remove()}const i=this._document.createElement("div");i.classList.add(t),EN()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(we),l.LFG(ts))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class tC{constructor(e,t,i,r,s,a,d,h,p,g=!1){this._portalOutlet=e,this._host=t,this._pane=i,this._config=r,this._ngZone=s,this._keyboardDispatcher=a,this._document=d,this._location=h,this._outsideClickDispatcher=p,this._animationsDisabled=g,this._backdropElement=null,this._backdropClick=new Tt.x,this._attachments=new Tt.x,this._detachments=new Tt.x,this._locationChanges=Fi.w0.EMPTY,this._backdropClickHandler=v=>this._backdropClick.next(v),this._backdropTransitionendHandler=v=>{this._disposeBackdrop(v.target)},this._keydownEvents=new Tt.x,this._outsidePointerEvents=new Tt.x,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Wt(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof t?.onDestroy&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config={...this._config,...e},this._updateElementSize()}setDirection(e){this._config={...this._config,direction:e},this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=Xi(this._config.width),e.height=Xi(this._config.height),e.minWidth=Xi(this._config.minWidth),e.minHeight=Xi(this._config.minHeight),e.maxWidth=Xi(this._config.maxWidth),e.maxHeight=Xi(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(e){if(this._animationsDisabled)return void this._disposeBackdrop(e);e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,t,i){const r=QA(t||[]).filter(s=>!!s);r.length&&(i?e.classList.add(...r):e.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(wi((0,zl.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const CH="cdk-overlay-connected-position-bounding-box",OJ=/([A-Za-z%]+)$/;class PJ{constructor(e,t,i,r,s){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Tt.x,this._resizeSubscription=Fi.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}get positions(){return this._preferredPositions}attach(e){this._validatePositions(),e.hostElement.classList.add(CH),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,i=this._viewportRect,r=this._containerRect,s=[];let a;for(let d of this._preferredPositions){let h=this._getOriginPoint(e,r,d),p=this._getOverlayPoint(h,t,d),g=this._getOverlayFit(p,t,i,d);if(g.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(d,h);this._canFitWithFlexibleDimensions(g,p,i)?s.push({position:d,origin:h,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(h,d)}):(!a||a.overlayFit.visibleArea<g.visibleArea)&&(a={overlayFit:g,overlayPoint:p,originPoint:h,position:d,overlayRect:t})}if(s.length){let d=null,h=-1;for(const p of s){const g=p.boundingBoxRect.width*p.boundingBoxRect.height*(p.position.weight||1);g>h&&(h=g,d=p)}return this._isPushed=!1,void this._applyPosition(d.position,d.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(a.position,a.originPoint);this._applyPosition(a.position,a.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&zp(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(CH),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,i){let r,s;if("center"==i.originX)r=e.left+e.width/2;else{const a=this._isRtl()?e.right:e.left,d=this._isRtl()?e.left:e.right;r="start"==i.originX?a:d}return t.left<0&&(r-=t.left),s="center"==i.originY?e.top+e.height/2:"top"==i.originY?e.top:e.bottom,t.top<0&&(s-=t.top),{x:r,y:s}}_getOverlayPoint(e,t,i){let r,s;return r="center"==i.overlayX?-t.width/2:"start"===i.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,s="center"==i.overlayY?-t.height/2:"top"==i.overlayY?0:-t.height,{x:e.x+r,y:e.y+s}}_getOverlayFit(e,t,i,r){const s=IH(t);let{x:a,y:d}=e,h=this._getOffset(r,"x"),p=this._getOffset(r,"y");h&&(a+=h),p&&(d+=p);let w=0-d,D=d+s.height-i.height,A=this._subtractOverflows(s.width,0-a,a+s.width-i.width),x=this._subtractOverflows(s.height,w,D),k=A*x;return{visibleArea:k,isCompletelyWithinViewport:s.width*s.height===k,fitsInViewportVertically:x===s.height,fitsInViewportHorizontally:A==s.width}}_canFitWithFlexibleDimensions(e,t,i){if(this._hasFlexibleDimensions){const r=i.bottom-t.y,s=i.right-t.x,a=SH(this._overlayRef.getConfig().minHeight),d=SH(this._overlayRef.getConfig().minWidth),p=e.fitsInViewportHorizontally||null!=d&&d<=s;return(e.fitsInViewportVertically||null!=a&&a<=r)&&p}return!1}_pushOverlayOnScreen(e,t,i){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const r=IH(t),s=this._viewportRect,a=Math.max(e.x+r.width-s.width,0),d=Math.max(e.y+r.height-s.height,0),h=Math.max(s.top-i.top-e.y,0),p=Math.max(s.left-i.left-e.x,0);let g=0,v=0;return g=r.width<=s.width?p||-a:e.x<this._viewportMargin?s.left-i.left-e.x:0,v=r.height<=s.height?h||-d:e.y<this._viewportMargin?s.top-i.top-e.y:0,this._previousPushAmount={x:g,y:v},{x:e.x+g,y:e.y+v}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new MJ(e,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=e.overlayY;i="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let s=0;s<t.length;s++)t[s].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(e,t){const i=this._viewportRect,r=this._isRtl();let s,a,d,g,v,w;if("top"===t.overlayY)a=e.y,s=i.height-a+this._viewportMargin;else if("bottom"===t.overlayY)d=i.height-e.y+2*this._viewportMargin,s=i.height-d+this._viewportMargin;else{const D=Math.min(i.bottom-e.y+i.top,e.y),A=this._lastBoundingBoxSize.height;s=2*D,a=e.y-D,s>A&&!this._isInitialRender&&!this._growAfterOpen&&(a=e.y-A/2)}if("end"===t.overlayX&&!r||"start"===t.overlayX&&r)w=i.width-e.x+this._viewportMargin,g=e.x-this._viewportMargin;else if("start"===t.overlayX&&!r||"end"===t.overlayX&&r)v=e.x,g=i.right-e.x;else{const D=Math.min(i.right-e.x+i.left,e.x),A=this._lastBoundingBoxSize.width;g=2*D,v=e.x-D,g>A&&!this._isInitialRender&&!this._growAfterOpen&&(v=e.x-A/2)}return{top:a,left:v,bottom:d,right:w,width:g,height:s}}_setBoundingBoxStyles(e,t){const i=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const s=this._overlayRef.getConfig().maxHeight,a=this._overlayRef.getConfig().maxWidth;r.height=Xi(i.height),r.top=Xi(i.top),r.bottom=Xi(i.bottom),r.width=Xi(i.width),r.left=Xi(i.left),r.right=Xi(i.right),r.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",r.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",s&&(r.maxHeight=Xi(s)),a&&(r.maxWidth=Xi(a))}this._lastBoundingBoxSize=i,zp(this._boundingBox.style,r)}_resetBoundingBoxStyles(){zp(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){zp(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const i={},r=this._hasExactPosition(),s=this._hasFlexibleDimensions,a=this._overlayRef.getConfig();if(r){const g=this._viewportRuler.getViewportScrollPosition();zp(i,this._getExactOverlayY(t,e,g)),zp(i,this._getExactOverlayX(t,e,g))}else i.position="static";let d="",h=this._getOffset(t,"x"),p=this._getOffset(t,"y");h&&(d+=`translateX(${h}px) `),p&&(d+=`translateY(${p}px)`),i.transform=d.trim(),a.maxHeight&&(r?i.maxHeight=Xi(a.maxHeight):s&&(i.maxHeight="")),a.maxWidth&&(r?i.maxWidth=Xi(a.maxWidth):s&&(i.maxWidth="")),zp(this._pane.style,i)}_getExactOverlayY(e,t,i){let r={top:"",bottom:""},s=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),"bottom"===e.overlayY?r.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":r.top=Xi(s.y),r}_getExactOverlayX(e,t,i){let a,r={left:"",right:""},s=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),a=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===a?r.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":r.left=Xi(s.x),r}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:EH(e,i),isOriginOutsideView:ZN(e,i),isOverlayClipped:EH(t,i),isOverlayOutsideView:ZN(t,i)}}_subtractOverflows(e,...t){return t.reduce((i,r)=>i-Math.max(r,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+e-this._viewportMargin,bottom:i.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?e.offsetX??this._offsetX:e.offsetY??this._offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&QA(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof l.SBq)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,i=e.height||0;return{top:e.y,bottom:e.y+i,left:e.x,right:e.x+t,height:i,width:t}}}function zp(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function SH(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(OJ);return t&&"px"!==t?null:parseFloat(e)}return n||null}function IH(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const TH="cdk-global-overlay-wrapper";class NJ{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(TH),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:s,maxWidth:a,maxHeight:d}=i,h=!("100%"!==r&&"100vw"!==r||a&&"100%"!==a&&"100vw"!==a),p=!("100%"!==s&&"100vh"!==s||d&&"100%"!==d&&"100vh"!==d),g=this._xPosition,v=this._xOffset,w="rtl"===this._overlayRef.getConfig().direction;let D="",A="",x="";h?x="flex-start":"center"===g?(x="center",w?A=v:D=v):w?"left"===g||"end"===g?(x="flex-end",D=v):("right"===g||"start"===g)&&(x="flex-start",A=v):"left"===g||"start"===g?(x="flex-start",D=v):("right"===g||"end"===g)&&(x="flex-end",A=v),e.position=this._cssPosition,e.marginLeft=h?"0":D,e.marginTop=p?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=h?"0":A,t.justifyContent=x,t.alignItems=p?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,i=t.style;t.classList.remove(TH),i.justifyContent=i.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let FJ=(()=>{class n{constructor(t,i,r,s){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=s}global(){return new NJ}flexibleConnectedTo(t){return new PJ(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ox),l.LFG(we),l.LFG(ts),l.LFG(cx))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),LJ=0,Yo=(()=>{class n{constructor(t,i,r,s,a,d,h,p,g,v,w,D){this.scrollStrategies=t,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=s,this._keyboardDispatcher=a,this._injector=d,this._ngZone=h,this._document=p,this._directionality=g,this._location=v,this._outsideClickDispatcher=w,this._animationsModuleType=D}create(t){const i=this._createHostElement(),r=this._createPaneElement(i),s=this._createPortalOutlet(r),a=new eC(t);return a.direction=a.direction||this._directionality.value,new tC(s,i,r,a,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(t){const i=this._document.createElement("div");return i.id="cdk-overlay-"+LJ++,i.classList.add("cdk-overlay-pane"),t.appendChild(i),i}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(l.z2F)),new IJ(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(xJ),l.LFG(cx),l.LFG(l._Vd),l.LFG(FJ),l.LFG(kJ),l.LFG(l.zs3),l.LFG(l.R0b),l.LFG(we),l.LFG(Hp),l.LFG(Ge),l.LFG(RJ),l.LFG(l.QbO,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const BJ=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],DH=new l.OlP("cdk-connected-overlay-scroll-strategy");let AH=(()=>{class n{constructor(t){this.elementRef=t}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),n})(),xH=(()=>{class n{constructor(t,i,r,s,a){this._overlay=t,this._dir=a,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=Fi.w0.EMPTY,this._attachSubscription=Fi.w0.EMPTY,this._detachSubscription=Fi.w0.EMPTY,this._positionSubscription=Fi.w0.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new l.vpe,this.positionChange=new l.vpe,this.attach=new l.vpe,this.detach=new l.vpe,this.overlayKeydown=new l.vpe,this.overlayOutsideClick=new l.vpe,this._templatePortal=new Qw(i,r),this._scrollStrategyFactory=s,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX(t){this._offsetX=t,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(t){this._offsetY=t,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(t){this._hasBackdrop=jn(t)}get lockPosition(){return this._lockPosition}set lockPosition(t){this._lockPosition=jn(t)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(t){this._flexibleDimensions=jn(t)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(t){this._growAfterOpen=jn(t)}get push(){return this._push}set push(t){this._push=jn(t)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(t){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),t.origin&&this.open&&this._position.apply()),t.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=BJ);const t=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=t.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=t.detachments().subscribe(()=>this.detach.emit()),t.keydownEvents().subscribe(i=>{this.overlayKeydown.next(i),27===i.keyCode&&!this.disableClose&&!Hl(i)&&(i.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(i=>{this.overlayOutsideClick.next(i)})}_buildConfig(){const t=this._position=this.positionStrategy||this._createPositionStrategy(),i=new eC({direction:this._dir,positionStrategy:t,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(i.width=this.width),(this.height||0===this.height)&&(i.height=this.height),(this.minWidth||0===this.minWidth)&&(i.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(i.minHeight=this.minHeight),this.backdropClass&&(i.backdropClass=this.backdropClass),this.panelClass&&(i.panelClass=this.panelClass),i}_updatePositionStrategy(t){const i=this.positions.map(r=>({originX:r.originX,originY:r.originY,overlayX:r.overlayX,overlayY:r.overlayY,offsetX:r.offsetX||this.offsetX,offsetY:r.offsetY||this.offsetY,panelClass:r.panelClass||void 0}));return t.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(i).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const t=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(t),t}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof AH?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(t=>{this.backdropClick.emit(t)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(al(()=>this.positionChange.observers.length>0)).subscribe(t=>{this.positionChange.emit(t),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Yo),l.Y36(l.Rgc),l.Y36(l.s_b),l.Y36(DH),l.Y36(Hp,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[l.TTD]}),n})();const UJ={provide:DH,deps:[Yo],useFactory:function VJ(n){return()=>n.scrollStrategies.reposition()}};let nC=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[Yo,UJ],imports:[$w,Jw,yH,yH]}),n})();function $J(n,e){}class ux{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0}}let MH=(()=>{class n extends lx{constructor(t,i,r,s,a,d,h,p){super(),this._elementRef=t,this._focusTrapFactory=i,this._config=s,this._interactivityChecker=a,this._ngZone=d,this._overlayRef=h,this._focusMonitor=p,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=g=>{this._portalOutlet.hasAttached();const v=this._portalOutlet.attachDomPortal(g);return this._contentAttached(),v},this._ariaLabelledBy=this._config.ariaLabelledBy||null,this._document=r}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(t){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachComponentPortal(t);return this._contentAttached(),i}attachTemplatePortal(t){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachTemplatePortal(t);return this._contentAttached(),i}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(t,i){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{t.removeEventListener("blur",r),t.removeEventListener("mousedown",r),t.removeAttribute("tabindex")};t.addEventListener("blur",r),t.addEventListener("mousedown",r)})),t.focus(i)}_focusByCssSelector(t,i){let r=this._elementRef.nativeElement.querySelector(t);r&&this._forceFocus(r,i)}_trapFocus(){const t=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||t.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{i||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const t=this._config.restoreFocus;let i=null;if("string"==typeof t?i=this._document.querySelector(t):"boolean"==typeof t?i=t?this._elementFocusedBeforeDialogWasOpened:null:t&&(i=t),this._config.restoreFocus&&i&&"function"==typeof i.focus){const r=bN(),s=this._elementRef.nativeElement;(!r||r===this._document.body||r===s||s.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(i,this._closeInteractionType),this._closeInteractionType=null):i.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const t=this._elementRef.nativeElement,i=bN();return t===i||t.contains(i)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=bN())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(SN),l.Y36(we,8),l.Y36(ux),l.Y36(XA),l.Y36(l.R0b),l.Y36(tC),l.Y36(Kd))},n.\u0275cmp=l.Xpm({type:n,selectors:[["cdk-dialog-container"]],viewQuery:function(t,i){if(1&t&&l.Gf(Xw,7),2&t){let r;l.iGM(r=l.CRH())&&(i._portalOutlet=r.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(t,i){2&t&&l.uIk("id",i._config.id||null)("role",i._config.role)("aria-modal",i._config.ariaModal)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null)},features:[l.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,i){1&t&&l.YNc(0,$J,0,0,"ng-template",0)},dependencies:[Xw],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2}),n})();class KN{constructor(e,t){this.overlayRef=e,this.config=t,this.closed=new Tt.x,this.disableClose=t.disableClose,this.backdropClick=e.backdropClick(),this.keydownEvents=e.keydownEvents(),this.outsidePointerEvents=e.outsidePointerEvents(),this.id=t.id,this.keydownEvents.subscribe(i=>{27===i.keyCode&&!this.disableClose&&!Hl(i)&&(i.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})})}close(e,t){if(this.containerInstance){const i=this.closed;this.containerInstance._closeInteractionType=t?.focusOrigin||"program",this.overlayRef.dispose(),i.next(e),i.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(e="",t=""){return this.overlayRef.updateSize({width:e,height:t}),this}addPanelClass(e){return this.overlayRef.addPanelClass(e),this}removePanelClass(e){return this.overlayRef.removePanelClass(e),this}}const kH=new l.OlP("DialogScrollStrategy"),HJ=new l.OlP("DialogData"),zJ=new l.OlP("DefaultDialogConfig"),GJ={provide:kH,deps:[Yo],useFactory:function jJ(n){return()=>n.scrollStrategies.block()}};let WJ=0,RH=(()=>{class n{constructor(t,i,r,s,a,d){this._overlay=t,this._injector=i,this._defaultOptions=r,this._parentDialog=s,this._overlayContainer=a,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Tt.x,this._afterOpenedAtThisLevel=new Tt.x,this._ariaHiddenElements=new Map,this.afterAllClosed=no(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(li(void 0))),this._scrollStrategy=d}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}open(t,i){(i={...this._defaultOptions||new ux,...i}).id=i.id||"cdk-dialog-"+WJ++,i.id&&this.getDialogById(i.id);const s=this._getOverlayConfig(i),a=this._overlay.create(s),d=new KN(a,i),h=this._attachContainer(a,d,i);return d.containerInstance=h,this._attachDialogContent(t,d,h,i),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(d),d.closed.subscribe(()=>this._removeOpenDialog(d,!0)),this.afterOpened.next(d),d}closeAll(){QN(this.openDialogs,t=>t.close())}getDialogById(t){return this.openDialogs.find(i=>i.id===t)}ngOnDestroy(){QN(this._openDialogsAtThisLevel,t=>{!1===t.config.closeOnDestroy&&this._removeOpenDialog(t,!1)}),QN(this._openDialogsAtThisLevel,t=>t.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(t){const i=new eC({positionStrategy:t.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,width:t.width,height:t.height,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(i.backdropClass=t.backdropClass),i}_attachContainer(t,i,r){const s=r.injector||r.viewContainerRef?.injector,a=[{provide:ux,useValue:r},{provide:KN,useValue:i},{provide:tC,useValue:t}];let d;r.container?"function"==typeof r.container?d=r.container:(d=r.container.type,a.push(...r.container.providers(r))):d=MH;const h=new Kw(d,r.viewContainerRef,l.zs3.create({parent:s||this._injector,providers:a}),r.componentFactoryResolver);return t.attach(h).instance}_attachDialogContent(t,i,r,s){if(t instanceof l.Rgc){const a=this._createInjector(s,i,r,void 0);let d={$implicit:s.data,dialogRef:i};s.templateContext&&(d={...d,..."function"==typeof s.templateContext?s.templateContext():s.templateContext}),r.attachTemplatePortal(new Qw(t,null,d,a))}else{const a=this._createInjector(s,i,r,this._injector),d=r.attachComponentPortal(new Kw(t,s.viewContainerRef,a,s.componentFactoryResolver));i.componentInstance=d.instance}}_createInjector(t,i,r,s){const a=t.injector||t.viewContainerRef?.injector,d=[{provide:HJ,useValue:t.data},{provide:KN,useValue:i}];return t.providers&&("function"==typeof t.providers?d.push(...t.providers(i,t,r)):d.push(...t.providers)),t.direction&&(!a||!a.get(Hp,null,l.XFs.Optional))&&d.push({provide:Hp,useValue:{value:t.direction,change:tt()}}),l.zs3.create({parent:a||s,providers:d})}_removeOpenDialog(t,i){const r=this.openDialogs.indexOf(t);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((s,a)=>{s?a.setAttribute("aria-hidden",s):a.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),i&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const t=this._overlayContainer.getContainerElement();if(t.parentElement){const i=t.parentElement.children;for(let r=i.length-1;r>-1;r--){const s=i[r];s!==t&&"SCRIPT"!==s.nodeName&&"STYLE"!==s.nodeName&&!s.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(s,s.getAttribute("aria-hidden")),s.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Yo),l.LFG(l.zs3),l.LFG(zJ,8),l.LFG(n,12),l.LFG(cx),l.LFG(kH))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function QN(n,e){let t=n.length;for(;t--;)e(n[t])}let qJ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[RH,GJ],imports:[nC,Jw,MK,Jw]}),n})();class OH{}const hu="*";function jp(n,e){return{type:7,name:n,definitions:e,options:{}}}function jl(n,e=null){return{type:4,styles:e,timings:n}}function PH(n,e=null){return{type:3,steps:n,options:e}}function NH(n,e=null){return{type:2,steps:n,options:e}}function Ji(n){return{type:6,styles:n,offset:null}}function Gl(n,e,t){return{type:0,name:n,styles:e,options:t}}function ja(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function XN(n=null){return{type:9,options:n}}function JN(n,e,t=null){return{type:11,selector:n,animation:e,options:t}}function FH(n){Promise.resolve().then(n)}class iC{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){FH(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class LH{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,r=0;const s=this.players.length;0==s?FH(()=>this._onFinish()):this.players.forEach(a=>{a.onDone(()=>{++t==s&&this._onFinish()}),a.onDestroy(()=>{++i==s&&this._onDestroy()}),a.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((a,d)=>Math.max(a,d.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){const e=this.players.reduce((t,i)=>null===t||i.totalTime>t.totalTime?i:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}function ZJ(n,e){}const nv={params:{enterAnimationDuration:"150ms",exitAnimationDuration:"75ms"}},KJ={dialogContainer:jp("dialogContainer",[Gl("void, exit",Ji({opacity:0,transform:"scale(0.7)"})),Gl("enter",Ji({transform:"none"})),ja("* => enter",PH([jl("{{enterAnimationDuration}} cubic-bezier(0, 0, 0.2, 1)",Ji({transform:"none",opacity:1})),JN("@*",XN(),{optional:!0})]),nv),ja("* => void, * => exit",PH([jl("{{exitAnimationDuration}} cubic-bezier(0.4, 0.0, 0.2, 1)",Ji({opacity:0})),JN("@*",XN(),{optional:!0})]),nv)])};class dx{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0,this.enterAnimationDuration=nv.params.enterAnimationDuration,this.exitAnimationDuration=nv.params.exitAnimationDuration}}let QJ=(()=>{class n extends MH{constructor(t,i,r,s,a,d,h,p){super(t,i,r,s,a,d,h,p),this._animationStateChanged=new l.vpe}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(t){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:t})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(SN),l.Y36(we,8),l.Y36(dx),l.Y36(XA),l.Y36(l.R0b),l.Y36(tC),l.Y36(Kd))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ng-component"]],features:[l.qOj],decls:0,vars:0,template:function(t,i){},encapsulation:2}),n})(),XJ=(()=>{class n extends QJ{constructor(t,i,r,s,a,d,h,p,g){super(t,i,r,s,a,d,h,g),this._changeDetectorRef=p,this._state="enter"}_onAnimationDone({toState:t,totalTime:i}){"enter"===t?this._openAnimationDone(i):"exit"===t&&this._animationStateChanged.next({state:"closed",totalTime:i})}_onAnimationStart({toState:t,totalTime:i}){"enter"===t?this._animationStateChanged.next({state:"opening",totalTime:i}):("exit"===t||"void"===t)&&this._animationStateChanged.next({state:"closing",totalTime:i})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}_getAnimationState(){return{value:this._state,params:{enterAnimationDuration:this._config.enterAnimationDuration||nv.params.enterAnimationDuration,exitAnimationDuration:this._config.exitAnimationDuration||nv.params.exitAnimationDuration}}}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(SN),l.Y36(we,8),l.Y36(dx),l.Y36(XA),l.Y36(l.R0b),l.Y36(tC),l.Y36(l.sBO),l.Y36(Kd))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-dialog-container"],hostVars:7,hostBindings:function(t,i){1&t&&l.WFA("@dialogContainer.start",function(s){return i._onAnimationStart(s)})("@dialogContainer.done",function(s){return i._onAnimationDone(s)}),2&t&&(l.Ikx("id",i._config.id),l.uIk("aria-modal",i._config.ariaModal)("role",i._config.role)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null),l.d8E("@dialogContainer",i._getAnimationState()))},features:[l.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,i){1&t&&l.YNc(0,ZJ,0,0,"ng-template",0)},dependencies:[Xw],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions.mat-dialog-actions-align-center,.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions.mat-dialog-actions-align-end,.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}"],encapsulation:2,data:{animation:[KJ.dialogContainer]}}),n})();class hx{constructor(e,t,i){this._ref=e,this._containerInstance=i,this._afterOpened=new Tt.x,this._beforeClosed=new Tt.x,this._state=0,this.disableClose=t.disableClose,this.id=e.id,i._animationStateChanged.pipe(An(r=>"opened"===r.state),Wt(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),i._animationStateChanged.pipe(An(r=>"closed"===r.state),Wt(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),e.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),(0,zl.T)(this.backdropClick(),this.keydownEvents().pipe(An(r=>27===r.keyCode&&!this.disableClose&&!Hl(r)))).subscribe(r=>{this.disableClose||(r.preventDefault(),function JJ(n,e,t){n._closeInteractionType=e,n.close(t)}(this,"keydown"===r.type?"keyboard":"mouse"))})}close(e){this._result=e,this._containerInstance._animationStateChanged.pipe(An(t=>"closing"===t.state),Wt(1)).subscribe(t=>{this._beforeClosed.next(e),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),t.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(e){let t=this._ref.config.positionStrategy;return e&&(e.left||e.right)?e.left?t.left(e.left):t.right(e.right):t.centerHorizontally(),e&&(e.top||e.bottom)?e.top?t.top(e.top):t.bottom(e.bottom):t.centerVertically(),this._ref.updatePosition(),this}updateSize(e="",t=""){return this._ref.updateSize(e,t),this}addPanelClass(e){return this._ref.addPanelClass(e),this}removePanelClass(e){return this._ref.removePanelClass(e),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}const BH=new l.OlP("MatDialogData"),eee=new l.OlP("mat-dialog-default-options"),VH=new l.OlP("mat-dialog-scroll-strategy"),nee={provide:VH,deps:[Yo],useFactory:function tee(n){return()=>n.scrollStrategies.block()}};let iee=0,ree=(()=>{class n{constructor(t,i,r,s,a,d,h,p,g,v){this._overlay=t,this._defaultOptions=r,this._parentDialog=s,this._dialogRefConstructor=h,this._dialogContainerType=p,this._dialogDataToken=g,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Tt.x,this._afterOpenedAtThisLevel=new Tt.x,this._idPrefix="mat-dialog-",this.afterAllClosed=no(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(li(void 0))),this._scrollStrategy=d,this._dialog=i.get(RH)}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(t,i){let r;(i={...this._defaultOptions||new dx,...i}).id=i.id||`${this._idPrefix}${iee++}`,i.scrollStrategy=i.scrollStrategy||this._scrollStrategy();const s=this._dialog.open(t,{...i,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:dx,useValue:i},{provide:ux,useValue:i}]},templateContext:()=>({dialogRef:r}),providers:(a,d,h)=>(r=new this._dialogRefConstructor(a,i,h),r.updatePosition(i?.position),[{provide:this._dialogContainerType,useValue:h},{provide:this._dialogDataToken,useValue:d.data},{provide:this._dialogRefConstructor,useValue:r}])});return r.componentInstance=s.componentInstance,this.openDialogs.push(r),this.afterOpened.next(r),r.afterClosed().subscribe(()=>{const a=this.openDialogs.indexOf(r);a>-1&&(this.openDialogs.splice(a,1),this.openDialogs.length||this._getAfterAllClosed().next())}),r}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(i=>i.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(t){let i=t.length;for(;i--;)t[i].close()}}return n.\u0275fac=function(t){l.$Z()},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),UH=(()=>{class n extends ree{constructor(t,i,r,s,a,d,h,p){super(t,i,s,d,h,a,hx,XJ,BH,p)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Yo),l.LFG(l.zs3),l.LFG(Ge,8),l.LFG(eee,8),l.LFG(VH),l.LFG(n,12),l.LFG(cx),l.LFG(l.QbO,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),see=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[UH,nee],imports:[qJ,nC,Jw,Vn,Vn]}),n})();class tF{constructor(e=!1,t,i=!0,r){this._multiple=e,this._emitChanges=i,this.compareWith=r,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new Tt.x,t&&t.length&&(e?t.forEach(s=>this._markSelected(s)):this._markSelected(t[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...e){this._verifyValueAssignment(e),e.forEach(i=>this._markSelected(i));const t=this._hasQueuedChanges();return this._emitChangeEvent(),t}deselect(...e){this._verifyValueAssignment(e),e.forEach(i=>this._unmarkSelected(i));const t=this._hasQueuedChanges();return this._emitChangeEvent(),t}setSelection(...e){this._verifyValueAssignment(e);const t=this.selected,i=new Set(e);e.forEach(s=>this._markSelected(s)),t.filter(s=>!i.has(s)).forEach(s=>this._unmarkSelected(s));const r=this._hasQueuedChanges();return this._emitChangeEvent(),r}toggle(e){return this.isSelected(e)?this.deselect(e):this.select(e)}clear(e=!0){this._unmarkAll();const t=this._hasQueuedChanges();return e&&this._emitChangeEvent(),t}isSelected(e){if(this.compareWith){for(const t of this._selection)if(this.compareWith(t,e))return!0;return!1}return this._selection.has(e)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(e){this._multiple&&this.selected&&this._selected.sort(e)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(e){this.isSelected(e)||(this._multiple||this._unmarkAll(),this.isSelected(e)||this._selection.add(e),this._emitChanges&&this._selectedToEmit.push(e))}_unmarkSelected(e){this.isSelected(e)&&(this._selection.delete(e),this._emitChanges&&this._deselectedToEmit.push(e))}_unmarkAll(){this.isEmpty()||this._selection.forEach(e=>this._unmarkSelected(e))}_verifyValueAssignment(e){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}}let oee=(()=>{class n{constructor(){this._listeners=[]}notify(t,i){for(let r of this._listeners)r(t,i)}listen(t){return this._listeners.push(t),()=>{this._listeners=this._listeners.filter(i=>t!==i)}}ngOnDestroy(){this._listeners=[]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function $H(...n){const e=(0,Ps.jO)(n),{args:t,keys:i}=ba(n),r=new Pn.y(s=>{const{length:a}=t;if(!a)return void s.complete();const d=new Array(a);let h=a,p=a;for(let g=0;g<a;g++){let v=!1;(0,cs.Xf)(t[g]).subscribe((0,Hn.x)(s,w=>{v||(v=!0,p--),d[g]=w},()=>h--,void 0,()=>{(!h||!v)&&(p||s.next(i?Zh(i,d):d),s.complete())}))}});return e?r.pipe(Yh(e)):r}let HH=(()=>{class n{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Qsj),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n}),n})(),Gp=(()=>{class n extends HH{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,features:[l.qOj]}),n})();const Zo=new l.OlP("NgValueAccessor"),lee={provide:Zo,useExisting:(0,l.Gpc)(()=>Wp),multi:!0},uee=new l.OlP("CompositionEventMode");let Wp=(()=>{class n extends HH{constructor(t,i,r){super(t,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function cee(){const n=H()?H().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(uee,8))},n.\u0275dir=l.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,i){1&t&&l.NdJ("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[l._Bn([lee]),l.qOj]}),n})();function Jd(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function jH(n){return null!=n&&"number"==typeof n.length}const ns=new l.OlP("NgValidators"),eh=new l.OlP("NgAsyncValidators"),hee=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class _i{static min(e){return function GH(n){return e=>{if(Jd(e.value)||Jd(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function WH(n){return e=>{if(Jd(e.value)||Jd(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function qH(n){return Jd(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function YH(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function ZH(n){return Jd(n.value)||hee.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function KH(n){return e=>Jd(e.value)||!jH(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function QH(n){return e=>jH(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function XH(n){if(!n)return fx;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),i=>{if(Jd(i.value))return null;const r=i.value;return e.test(r)?null:{pattern:{requiredPattern:t,actualValue:r}}}}(e)}static nullValidator(e){return null}static compose(e){return rz(e)}static composeAsync(e){return sz(e)}}function fx(n){return null}function JH(n){return null!=n}function ez(n){return(0,l.QGY)(n)?(0,hn.D)(n):n}function tz(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function nz(n,e){return e.map(t=>t(n))}function iz(n){return n.map(e=>function fee(n){return!n.validate}(e)?e:t=>e.validate(t))}function rz(n){if(!n)return null;const e=n.filter(JH);return 0==e.length?null:function(t){return tz(nz(t,e))}}function nF(n){return null!=n?rz(iz(n)):null}function sz(n){if(!n)return null;const e=n.filter(JH);return 0==e.length?null:function(t){return $H(nz(t,e).map(ez)).pipe((0,rt.U)(tz))}}function iF(n){return null!=n?sz(iz(n)):null}function oz(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function az(n){return n._rawValidators}function lz(n){return n._rawAsyncValidators}function rF(n){return n?Array.isArray(n)?n:[n]:[]}function px(n,e){return Array.isArray(n)?n.includes(e):n===e}function cz(n,e){const t=rF(e);return rF(n).forEach(r=>{px(t,r)||t.push(r)}),t}function uz(n,e){return rF(e).filter(t=>!px(n,t))}class dz{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=nF(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=iF(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class bs extends dz{get formDirective(){return null}get path(){return null}}class Wl extends dz{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class hz{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let rC=(()=>{class n extends hz{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Wl,2))},n.\u0275dir=l.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,i){2&t&&l.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[l.qOj]}),n})(),mx=(()=>{class n extends hz{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(bs,10))},n.\u0275dir=l.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,i){2&t&&l.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[l.qOj]}),n})();const sC="VALID",_x="INVALID",iv="PENDING",oC="DISABLED";function lF(n){return(yx(n)?n.validators:n)||null}function pz(n){return Array.isArray(n)?nF(n):n||null}function cF(n,e){return(yx(e)?e.asyncValidators:n)||null}function mz(n){return Array.isArray(n)?iF(n):n||null}function yx(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class yz{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=pz(this._rawValidators),this._composedAsyncValidatorFn=mz(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===sC}get invalid(){return this.status===_x}get pending(){return this.status==iv}get disabled(){return this.status===oC}get enabled(){return this.status!==oC}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=pz(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=mz(e)}addValidators(e){this.setValidators(cz(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(cz(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(uz(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(uz(e,this._rawAsyncValidators))}hasValidator(e){return px(this._rawValidators,e)}hasAsyncValidator(e){return px(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=iv,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=oC,this.errors=null,this._forEachChild(i=>{i.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=sC,this._forEachChild(i=>{i.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===sC||this.status===iv)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?oC:sC}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=iv,this._hasOwnPendingAsyncValidator=!0;const t=ez(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(e,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new l.vpe,this.statusChanges=new l.vpe}_calculateStatus(){return this._allControlsDisabled()?oC:this.errors?_x:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(iv)?iv:this._anyControlsHaveStatus(_x)?_x:sC}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){yx(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}}class rv extends yz{constructor(e,t,i){super(lF(t),cF(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function _z(n,e,t){n._forEachChild((i,r)=>{if(void 0===t[r])throw new l.vHH(1002,"")})})(this,0,e),Object.keys(e).forEach(i=>{(function gz(n,e,t){const i=n.controls;if(!(e?Object.keys(i):i).length)throw new l.vHH(1e3,"");if(!i[t])throw new l.vHH(1001,"")})(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(i=>{const r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>!!i._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,i]of Object.entries(this.controls))if(this.contains(t)&&e(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,i,r)=>((i.enabled||this.disabled)&&(t[r]=i.value),t))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,s)=>{i=t(i,r,s)}),i}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}function vx(n,e){return[...e.path,n]}function aC(n,e){uF(n,e),e.valueAccessor.writeValue(n.value),n.disabled&&e.valueAccessor.setDisabledState?.(!0),function wee(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&vz(n,e)})}(n,e),function See(n,e){const t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function Cee(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&vz(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function Eee(n,e){if(e.valueAccessor.setDisabledState){const t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function bx(n,e,t=!0){const i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),wx(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Ex(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function uF(n,e){const t=az(n);null!==e.validator?n.setValidators(oz(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const i=lz(n);null!==e.asyncValidator?n.setAsyncValidators(oz(i,e.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();Ex(e._rawValidators,r),Ex(e._rawAsyncValidators,r)}function wx(n,e){let t=!1;if(null!==n){if(null!==e.validator){const r=az(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(a=>a!==e.validator);s.length!==r.length&&(t=!0,n.setValidators(s))}}if(null!==e.asyncValidator){const r=lz(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(a=>a!==e.asyncValidator);s.length!==r.length&&(t=!0,n.setAsyncValidators(s))}}}const i=()=>{};return Ex(e._rawValidators,i),Ex(e._rawAsyncValidators,i),t}function vz(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function bz(n,e){uF(n,e)}function dF(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}function wz(n,e){n._syncPendingControls(),e.forEach(t=>{const i=t.control;"submit"===i.updateOn&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function hF(n,e){if(!e)return null;let t,i,r;return Array.isArray(e),e.forEach(s=>{s.constructor===Wp?t=s:function Dee(n){return Object.getPrototypeOf(n.constructor)===Gp}(s)?i=s:r=s}),r||i||t||null}const xee={provide:bs,useExisting:(0,l.Gpc)(()=>cC)},lC=(()=>Promise.resolve())();let cC=(()=>{class n extends bs{constructor(t,i){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new l.vpe,this.form=new rv({},nF(t),iF(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){lC.then(()=>{const i=this._findContainer(t.path);t.control=i.registerControl(t.name,t.control),aC(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){lC.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){lC.then(()=>{const i=this._findContainer(t.path),r=new rv({});bz(r,t),i.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){lC.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,i){lC.then(()=>{this.form.get(t.path).setValue(i)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,wz(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(ns,10),l.Y36(eh,10))},n.\u0275dir=l.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,i){1&t&&l.NdJ("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l._Bn([xee]),l.qOj]}),n})();function Cz(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function Sz(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const on=class extends yz{constructor(e=null,t,i){super(lF(t),cF(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),yx(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=Sz(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Cz(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Cz(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){Sz(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},Ree={provide:Wl,useExisting:(0,l.Gpc)(()=>fF)},Dz=(()=>Promise.resolve())();let fF=(()=>{class n extends Wl{constructor(t,i,r,s,a){super(),this._changeDetectorRef=a,this.control=new on,this._registered=!1,this.update=new l.vpe,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=hF(0,s)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const i=t.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),dF(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){aC(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){Dz.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const i=t.isDisabled.currentValue,r=0!==i&&(0,l.D6c)(i);Dz.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?vx(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(bs,9),l.Y36(ns,10),l.Y36(eh,10),l.Y36(Zo,10),l.Y36(l.sBO,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[l._Bn([Ree]),l.qOj,l.TTD]}),n})(),Cx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),xz=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const pF=new l.OlP("NgModelWithFormControlWarning"),Bee={provide:bs,useExisting:(0,l.Gpc)(()=>th)};let th=(()=>{class n extends bs{constructor(t,i){super(),this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new l.vpe,this._setValidators(t),this._setAsyncValidators(i)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(wx(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const i=this.form.get(t.path);return aC(i,t),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),i}getControl(t){return this.form.get(t.path)}removeControl(t){bx(t.control||null,t,!1),function Aee(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,i){this.form.get(t.path).setValue(i)}onSubmit(t){return this.submitted=!0,wz(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const i=t.control,r=this.form.get(t.path);i!==r&&(bx(i||null,t),(n=>n instanceof on)(r)&&(aC(r,t),t.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const i=this.form.get(t.path);bz(i,t),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const i=this.form.get(t.path);i&&function Iee(n,e){return wx(n,e)}(i,t)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){uF(this.form,this),this._oldForm&&wx(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(ns,10),l.Y36(eh,10))},n.\u0275dir=l.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,i){1&t&&l.NdJ("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l._Bn([Bee]),l.qOj,l.TTD]}),n})();const $ee={provide:Wl,useExisting:(0,l.Gpc)(()=>uC)};let uC=(()=>{class n extends Wl{constructor(t,i,r,s,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.update=new l.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=hF(0,s)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),dF(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return vx(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(l.Y36(bs,13),l.Y36(ns,10),l.Y36(eh,10),l.Y36(Zo,10),l.Y36(pF,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[l._Bn([$ee]),l.qOj,l.TTD]}),n})(),Gz=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[xz]}),n})(),bF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Gz]}),n})(),EF=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:pF,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Gz]}),n})();const ite=["input"],rte=function(n){return{enterDuration:n}},ste=["*"],ote=new l.OlP("mat-radio-default-options",{providedIn:"root",factory:function ate(){return{color:"accent"}}});let Wz=0;const lte={provide:Zo,useExisting:(0,l.Gpc)(()=>Zz),multi:!0};class qz{constructor(e,t){this.source=e,this.value=t}}const Yz=new l.OlP("MatRadioGroup");let cte=(()=>{class n{constructor(t){this._changeDetector=t,this._value=null,this._name="mat-radio-group-"+Wz++,this._selected=null,this._isInitialized=!1,this._labelPosition="after",this._disabled=!1,this._required=!1,this._controlValueAccessorChangeFn=()=>{},this.onTouched=()=>{},this.change=new l.vpe}get name(){return this._name}set name(t){this._name=t,this._updateRadioButtonNames()}get labelPosition(){return this._labelPosition}set labelPosition(t){this._labelPosition="before"===t?"before":"after",this._markRadiosForCheck()}get value(){return this._value}set value(t){this._value!==t&&(this._value=t,this._updateSelectedRadioFromValue(),this._checkSelectedRadioButton())}_checkSelectedRadioButton(){this._selected&&!this._selected.checked&&(this._selected.checked=!0)}get selected(){return this._selected}set selected(t){this._selected=t,this.value=t?t.value:null,this._checkSelectedRadioButton()}get disabled(){return this._disabled}set disabled(t){this._disabled=jn(t),this._markRadiosForCheck()}get required(){return this._required}set required(t){this._required=jn(t),this._markRadiosForCheck()}ngAfterContentInit(){this._isInitialized=!0}_touch(){this.onTouched&&this.onTouched()}_updateRadioButtonNames(){this._radios&&this._radios.forEach(t=>{t.name=this.name,t._markForCheck()})}_updateSelectedRadioFromValue(){this._radios&&(null===this._selected||this._selected.value!==this._value)&&(this._selected=null,this._radios.forEach(i=>{i.checked=this.value===i.value,i.checked&&(this._selected=i)}))}_emitChangeEvent(){this._isInitialized&&this.change.emit(new qz(this._selected,this._value))}_markRadiosForCheck(){this._radios&&this._radios.forEach(t=>t._markForCheck())}writeValue(t){this.value=t,this._changeDetector.markForCheck()}registerOnChange(t){this._controlValueAccessorChangeFn=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetector.markForCheck()}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.sBO))},n.\u0275dir=l.lG2({type:n,inputs:{color:"color",name:"name",labelPosition:"labelPosition",value:"value",selected:"selected",disabled:"disabled",required:"required"},outputs:{change:"change"}}),n})(),Zz=(()=>{class n extends cte{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["mat-radio-group"]],contentQueries:function(t,i,r){if(1&t&&l.Suo(r,Kz,5),2&t){let s;l.iGM(s=l.CRH())&&(i._radios=s)}},hostAttrs:["role","radiogroup",1,"mat-radio-group"],exportAs:["matRadioGroup"],features:[l._Bn([lte,{provide:Yz,useExisting:n}]),l.qOj]}),n})();class ute{constructor(e){this._elementRef=e}}const dte=Qy(V4(ute));let hte=(()=>{class n extends dte{constructor(t,i,r,s,a,d,h,p){super(i),this._changeDetector=r,this._focusMonitor=s,this._radioDispatcher=a,this._providerOverride=h,this._uniqueId="mat-radio-"+ ++Wz,this.id=this._uniqueId,this.change=new l.vpe,this._checked=!1,this._value=null,this._removeUniqueSelectionListener=()=>{},this.radioGroup=t,this._noopAnimations="NoopAnimations"===d,p&&(this.tabIndex=$p(p,0)),this._removeUniqueSelectionListener=a.listen((g,v)=>{g!==this.id&&v===this.name&&(this.checked=!1)})}get checked(){return this._checked}set checked(t){const i=jn(t);this._checked!==i&&(this._checked=i,i&&this.radioGroup&&this.radioGroup.value!==this.value?this.radioGroup.selected=this:!i&&this.radioGroup&&this.radioGroup.value===this.value&&(this.radioGroup.selected=null),i&&this._radioDispatcher.notify(this.id,this.name),this._changeDetector.markForCheck())}get value(){return this._value}set value(t){this._value!==t&&(this._value=t,null!==this.radioGroup&&(this.checked||(this.checked=this.radioGroup.value===t),this.checked&&(this.radioGroup.selected=this)))}get labelPosition(){return this._labelPosition||this.radioGroup&&this.radioGroup.labelPosition||"after"}set labelPosition(t){this._labelPosition=t}get disabled(){return this._disabled||null!==this.radioGroup&&this.radioGroup.disabled}set disabled(t){this._setDisabled(jn(t))}get required(){return this._required||this.radioGroup&&this.radioGroup.required}set required(t){this._required=jn(t)}get color(){return this._color||this.radioGroup&&this.radioGroup.color||this._providerOverride&&this._providerOverride.color||"accent"}set color(t){this._color=t}get inputId(){return`${this.id||this._uniqueId}-input`}focus(t,i){i?this._focusMonitor.focusVia(this._inputElement,i,t):this._inputElement.nativeElement.focus(t)}_markForCheck(){this._changeDetector.markForCheck()}ngOnInit(){this.radioGroup&&(this.checked=this.radioGroup.value===this._value,this.checked&&(this.radioGroup.selected=this),this.name=this.radioGroup.name)}ngDoCheck(){this._updateTabIndex()}ngAfterViewInit(){this._updateTabIndex(),this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{!t&&this.radioGroup&&this.radioGroup._touch()})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._removeUniqueSelectionListener()}_emitChangeEvent(){this.change.emit(new qz(this,this._value))}_isRippleDisabled(){return this.disableRipple||this.disabled}_onInputClick(t){t.stopPropagation()}_onInputInteraction(t){if(t.stopPropagation(),!this.checked&&!this.disabled){const i=this.radioGroup&&this.value!==this.radioGroup.value;this.checked=!0,this._emitChangeEvent(),this.radioGroup&&(this.radioGroup._controlValueAccessorChangeFn(this.value),i&&this.radioGroup._emitChangeEvent())}}_setDisabled(t){this._disabled!==t&&(this._disabled=t,this._changeDetector.markForCheck())}_updateTabIndex(){const t=this.radioGroup;let i;if(i=t&&t.selected&&!this.disabled?t.selected===this?this.tabIndex:-1:this.tabIndex,i!==this._previousTabIndex){const r=this._inputElement?.nativeElement;r&&(r.setAttribute("tabindex",i+""),this._previousTabIndex=i)}}}return n.\u0275fac=function(t){l.$Z()},n.\u0275dir=l.lG2({type:n,viewQuery:function(t,i){if(1&t&&l.Gf(ite,5),2&t){let r;l.iGM(r=l.CRH())&&(i._inputElement=r.first)}},inputs:{id:"id",name:"name",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],checked:"checked",value:"value",labelPosition:"labelPosition",disabled:"disabled",required:"required",color:"color"},outputs:{change:"change"},features:[l.qOj]}),n})(),Kz=(()=>{class n extends hte{constructor(t,i,r,s,a,d,h,p){super(t,i,r,s,a,d,h,p)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Yz,8),l.Y36(l.SBq),l.Y36(l.sBO),l.Y36(Kd),l.Y36(oee),l.Y36(l.QbO,8),l.Y36(ote,8),l.$8M("tabindex"))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-radio-button"]],hostAttrs:[1,"mat-radio-button"],hostVars:17,hostBindings:function(t,i){1&t&&l.NdJ("focus",function(){return i._inputElement.nativeElement.focus()}),2&t&&(l.uIk("tabindex",null)("id",i.id)("aria-label",null)("aria-labelledby",null)("aria-describedby",null),l.ekj("mat-radio-checked",i.checked)("mat-radio-disabled",i.disabled)("_mat-animation-noopable",i._noopAnimations)("mat-primary","primary"===i.color)("mat-accent","accent"===i.color)("mat-warn","warn"===i.color))},inputs:{disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matRadioButton"],features:[l.qOj],ngContentSelectors:ste,decls:13,vars:19,consts:[[1,"mat-radio-label"],["label",""],[1,"mat-radio-container"],[1,"mat-radio-outer-circle"],[1,"mat-radio-inner-circle"],["type","radio",1,"mat-radio-input",3,"id","checked","disabled","required","change","click"],["input",""],["mat-ripple","",1,"mat-radio-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered","matRippleRadius","matRippleAnimation"],[1,"mat-ripple-element","mat-radio-persistent-ripple"],[1,"mat-radio-label-content"],[2,"display","none"]],template:function(t,i){if(1&t&&(l.F$t(),l.TgZ(0,"label",0,1)(2,"span",2),l._UZ(3,"span",3)(4,"span",4),l.TgZ(5,"input",5,6),l.NdJ("change",function(s){return i._onInputInteraction(s)})("click",function(s){return i._onInputClick(s)}),l.qZA(),l.TgZ(7,"span",7),l._UZ(8,"span",8),l.qZA()(),l.TgZ(9,"span",9)(10,"span",10),l._uU(11,"\xa0"),l.qZA(),l.Hsn(12),l.qZA()()),2&t){const r=l.MAs(1);l.uIk("for",i.inputId),l.xp6(5),l.Q6J("id",i.inputId)("checked",i.checked)("disabled",i.disabled)("required",i.required),l.uIk("name",i.name)("value",i.value)("aria-label",i.ariaLabel)("aria-labelledby",i.ariaLabelledby)("aria-describedby",i.ariaDescribedby),l.xp6(2),l.Q6J("matRippleTrigger",r)("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",!0)("matRippleRadius",20)("matRippleAnimation",l.VKq(17,rte,i._noopAnimations?0:150)),l.xp6(2),l.ekj("mat-radio-label-before","before"==i.labelPosition)}},dependencies:[Xy],styles:['.mat-radio-button{display:inline-block;-webkit-tap-highlight-color:rgba(0,0,0,0);outline:0}.mat-radio-label{-webkit-user-select:none;user-select:none;cursor:pointer;display:inline-flex;align-items:center;white-space:nowrap;vertical-align:middle;width:100%}.mat-radio-container{box-sizing:border-box;display:inline-block;position:relative;width:20px;height:20px;flex-shrink:0}.mat-radio-outer-circle{box-sizing:border-box;display:block;height:20px;left:0;position:absolute;top:0;transition:border-color ease 280ms;width:20px;border-width:2px;border-style:solid;border-radius:50%}._mat-animation-noopable .mat-radio-outer-circle{transition:none}.mat-radio-inner-circle{border-radius:50%;box-sizing:border-box;display:block;height:20px;left:0;position:absolute;top:0;opacity:0;transition:transform ease 280ms,background-color ease 280ms,opacity linear 1ms 280ms;width:20px;transform:scale(0.001);-webkit-print-color-adjust:exact;color-adjust:exact}.mat-radio-checked .mat-radio-inner-circle{transform:scale(0.5);opacity:1;transition:transform ease 280ms,background-color ease 280ms}.cdk-high-contrast-active .mat-radio-checked .mat-radio-inner-circle{border:solid 10px}._mat-animation-noopable .mat-radio-inner-circle{transition:none}.mat-radio-label-content{-webkit-user-select:auto;user-select:auto;display:inline-block;order:0;line-height:inherit;padding-left:8px;padding-right:0}[dir=rtl] .mat-radio-label-content{padding-right:8px;padding-left:0}.mat-radio-label-content.mat-radio-label-before{order:-1;padding-left:0;padding-right:8px}[dir=rtl] .mat-radio-label-content.mat-radio-label-before{padding-right:0;padding-left:8px}.mat-radio-disabled,.mat-radio-disabled .mat-radio-label{cursor:default}.mat-radio-button .mat-radio-ripple{position:absolute;left:calc(50% - 20px);top:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.mat-radio-button .mat-radio-ripple .mat-ripple-element:not(.mat-radio-persistent-ripple){opacity:.16}.mat-radio-persistent-ripple{width:100%;height:100%;transform:none;top:0;left:0}.mat-radio-container:hover .mat-radio-persistent-ripple{opacity:.04}.mat-radio-button:not(.mat-radio-disabled).cdk-keyboard-focused .mat-radio-persistent-ripple,.mat-radio-button:not(.mat-radio-disabled).cdk-program-focused .mat-radio-persistent-ripple{opacity:.12}.mat-radio-persistent-ripple,.mat-radio-disabled .mat-radio-container:hover .mat-radio-persistent-ripple{opacity:0}@media(hover: none){.mat-radio-container:hover .mat-radio-persistent-ripple{display:none}}.mat-radio-input{opacity:0;position:absolute;top:0;left:0;margin:0;width:100%;height:100%;cursor:inherit;z-index:-1}.mat-radio-input:focus~.mat-focus-indicator::before{content:""}.cdk-high-contrast-active .mat-radio-disabled{opacity:.5}'],encapsulation:2,changeDetection:0}),n})(),fte=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Jy,Vn,Vn]}),n})(),pte=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Vn,Vn]}),n})();const mte=["*"],_te=["text"];function yte(n,e){if(1&n&&l._UZ(0,"mat-pseudo-checkbox",5),2&n){const t=l.oxw();l.Q6J("state",t.selected?"checked":"unchecked")("disabled",t.disabled)}}const vte=["*",[["","mat-list-avatar",""],["","mat-list-icon",""],["","matListAvatar",""],["","matListIcon",""]]],bte=["*","[mat-list-avatar], [mat-list-icon], [matListAvatar], [matListIcon]"];let Ete=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["","mat-list-avatar",""],["","matListAvatar",""]],hostAttrs:[1,"mat-list-avatar"]}),n})(),wte=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["","mat-list-icon",""],["","matListIcon",""]],hostAttrs:[1,"mat-list-icon"]}),n})();const Cte=Qy(class{}),Ste=Qy(class{}),Ite={provide:Zo,useExisting:(0,l.Gpc)(()=>wF),multi:!0};class Tte{constructor(e,t){this.source=e,this.options=t}}let Qz=(()=>{class n extends Ste{constructor(t,i,r){super(),this._element=t,this._changeDetector=i,this.selectionList=r,this._selected=!1,this._disabled=!1,this._hasFocus=!1,this.selectedChange=new l.vpe,this.checkboxPosition="after",this._inputsInitialized=!1}get color(){return this._color||this.selectionList.color}set color(t){this._color=t}get value(){return this._value}set value(t){this.selected&&!this.selectionList.compareWith(t,this.value)&&this._inputsInitialized&&(this.selected=!1),this._value=t}get disabled(){return this._disabled||this.selectionList&&this.selectionList.disabled}set disabled(t){const i=jn(t);i!==this._disabled&&(this._disabled=i,this._changeDetector.markForCheck())}get selected(){return this.selectionList.selectedOptions.isSelected(this)}set selected(t){const i=jn(t);i!==this._selected&&(this._setSelected(i),(i||this.selectionList.multiple)&&this.selectionList._reportValueChange())}ngOnInit(){const t=this.selectionList;t._value&&t._value.some(r=>t.compareWith(this._value,r))&&this._setSelected(!0);const i=this._selected;Promise.resolve().then(()=>{(this._selected||i)&&(this.selected=!0,this._changeDetector.markForCheck())}),this._inputsInitialized=!0}ngAfterContentInit(){!function HK(n,e,t="mat"){n.changes.pipe(li(n)).subscribe(({length:i})=>{Hw(e,`${t}-2-line`,!1),Hw(e,`${t}-3-line`,!1),Hw(e,`${t}-multi-line`,!1),2===i||3===i?Hw(e,`${t}-${i}-line`,!0):i>3&&Hw(e,`${t}-multi-line`,!0)})}(this._lines,this._element)}ngOnDestroy(){this.selected&&Promise.resolve().then(()=>{this.selected=!1});const t=this._hasFocus,i=this.selectionList._removeOptionFromList(this);t&&i&&i.focus()}toggle(){this.selected=!this.selected}focus(){this._element.nativeElement.focus()}getLabel(){return this._text&&this._text.nativeElement.textContent||""}_isRippleDisabled(){return this.disabled||this.disableRipple||this.selectionList.disableRipple}_handleClick(){!this.disabled&&(this.selectionList.multiple||!this.selected)&&(this.toggle(),this.selectionList._emitChangeEvent([this]))}_handleFocus(){this.selectionList._setFocusedOption(this),this._hasFocus=!0}_handleBlur(){this.selectionList._onTouched(),this._hasFocus=!1}_getHostElement(){return this._element.nativeElement}_setSelected(t){return t!==this._selected&&(this._selected=t,t?this.selectionList.selectedOptions.select(this):this.selectionList.selectedOptions.deselect(this),this.selectedChange.emit(t),this._changeDetector.markForCheck(),!0)}_markForCheck(){this._changeDetector.markForCheck()}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.sBO),l.Y36((0,l.Gpc)(()=>wF)))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-list-option"]],contentQueries:function(t,i,r){if(1&t&&(l.Suo(r,Ete,5),l.Suo(r,wte,5),l.Suo(r,$K,5)),2&t){let s;l.iGM(s=l.CRH())&&(i._avatar=s.first),l.iGM(s=l.CRH())&&(i._icon=s.first),l.iGM(s=l.CRH())&&(i._lines=s)}},viewQuery:function(t,i){if(1&t&&l.Gf(_te,5),2&t){let r;l.iGM(r=l.CRH())&&(i._text=r.first)}},hostAttrs:["role","option",1,"mat-list-item","mat-list-option","mat-focus-indicator"],hostVars:15,hostBindings:function(t,i){1&t&&l.NdJ("focus",function(){return i._handleFocus()})("blur",function(){return i._handleBlur()})("click",function(){return i._handleClick()}),2&t&&(l.uIk("aria-selected",i.selected)("aria-disabled",i.disabled)("tabindex",-1),l.ekj("mat-list-item-disabled",i.disabled)("mat-list-item-with-avatar",i._avatar||i._icon)("mat-primary","primary"===i.color)("mat-accent","primary"!==i.color&&"warn"!==i.color)("mat-warn","warn"===i.color)("mat-list-single-selected-option",i.selected&&!i.selectionList.multiple))},inputs:{disableRipple:"disableRipple",checkboxPosition:"checkboxPosition",color:"color",value:"value",disabled:"disabled",selected:"selected"},outputs:{selectedChange:"selectedChange"},exportAs:["matListOption"],features:[l.qOj],ngContentSelectors:bte,decls:7,vars:5,consts:[[1,"mat-list-item-content"],["mat-ripple","",1,"mat-list-item-ripple",3,"matRippleTrigger","matRippleDisabled"],[3,"state","disabled",4,"ngIf"],[1,"mat-list-text"],["text",""],[3,"state","disabled"]],template:function(t,i){1&t&&(l.F$t(vte),l.TgZ(0,"div",0),l._UZ(1,"div",1),l.YNc(2,yte,1,2,"mat-pseudo-checkbox",2),l.TgZ(3,"div",3,4),l.Hsn(5),l.qZA(),l.Hsn(6,1),l.qZA()),2&t&&(l.ekj("mat-list-item-content-reverse","after"==i.checkboxPosition),l.xp6(1),l.Q6J("matRippleTrigger",i._getHostElement())("matRippleDisabled",i._isRippleDisabled()),l.xp6(1),l.Q6J("ngIf",i.selectionList.multiple))},dependencies:[Xy,G4,In],encapsulation:2,changeDetection:0}),n})(),wF=(()=>{class n extends Cte{constructor(t,i,r){super(),this._element=t,this._changeDetector=i,this._focusMonitor=r,this._multiple=!0,this._contentInitialized=!1,this.selectionChange=new l.vpe,this.color="accent",this.compareWith=(s,a)=>s===a,this._disabled=!1,this.selectedOptions=new tF(this._multiple),this._tabIndex=-1,this._onChange=s=>{},this._destroyed=new Tt.x,this._onTouched=()=>{}}get disabled(){return this._disabled}set disabled(t){this._disabled=jn(t),this._markOptionsForCheck()}get multiple(){return this._multiple}set multiple(t){const i=jn(t);i!==this._multiple&&(this._multiple=i,this.selectedOptions=new tF(this._multiple,this.selectedOptions.selected))}ngAfterContentInit(){this._contentInitialized=!0,this._keyManager=new M4(this.options).withWrap().withTypeAhead().withHomeAndEnd().skipPredicate(()=>!1).withAllowedModifierKeys(["shiftKey"]),this._value&&this._setOptionsFromValues(this._value),this._keyManager.tabOut.pipe(wi(this._destroyed)).subscribe(()=>{this._allowFocusEscape()}),this.options.changes.pipe(li(null),wi(this._destroyed)).subscribe(()=>{this._updateTabIndex()}),this.selectedOptions.changed.pipe(wi(this._destroyed)).subscribe(t=>{if(t.added)for(let i of t.added)i.selected=!0;if(t.removed)for(let i of t.removed)i.selected=!1}),this._focusMonitor.monitor(this._element).pipe(wi(this._destroyed)).subscribe(t=>{if("keyboard"===t||"program"===t){let i=0;for(let r=0;r<this.options.length;r++)if(this.options.get(r)?.selected){i=r;break}this._keyManager.setActiveItem(i)}})}ngOnChanges(t){const i=t.disableRipple,r=t.color;(i&&!i.firstChange||r&&!r.firstChange)&&this._markOptionsForCheck()}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._element),this._destroyed.next(),this._destroyed.complete(),this._isDestroyed=!0}focus(t){this._element.nativeElement.focus(t)}selectAll(){return this._setAllOptionsSelected(!0)}deselectAll(){return this._setAllOptionsSelected(!1)}_setFocusedOption(t){this._keyManager.updateActiveItem(t)}_removeOptionFromList(t){const i=this._getOptionIndex(t);return i>-1&&this._keyManager.activeItemIndex===i&&(i>0?this._keyManager.updateActiveItem(i-1):0===i&&this.options.length>1&&this._keyManager.updateActiveItem(Math.min(i+1,this.options.length-1))),this._keyManager.activeItem}_keydown(t){const i=t.keyCode,r=this._keyManager,s=r.activeItemIndex,a=Hl(t);switch(i){case 32:case 13:!a&&!r.isTyping()&&(this._toggleFocusedOption(),t.preventDefault());break;default:if(65===i&&this.multiple&&Hl(t,"ctrlKey")&&!r.isTyping()){const d=this.options.some(h=>!h.disabled&&!h.selected);this._setAllOptionsSelected(d,!0,!0),t.preventDefault()}else r.onKeydown(t)}this.multiple&&(38===i||40===i)&&t.shiftKey&&r.activeItemIndex!==s&&this._toggleFocusedOption()}_reportValueChange(){if(this.options&&!this._isDestroyed){const t=this._getSelectedOptionValues();this._onChange(t),this._value=t}}_emitChangeEvent(t){this.selectionChange.emit(new Tte(this,t))}writeValue(t){this._value=t,this.options&&this._setOptionsFromValues(t||[])}setDisabledState(t){this.disabled=t}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}_setOptionsFromValues(t){this.options.forEach(i=>i._setSelected(!1)),t.forEach(i=>{const r=this.options.find(s=>!s.selected&&this.compareWith(s.value,i));r&&r._setSelected(!0)})}_getSelectedOptionValues(){return this.options.filter(t=>t.selected).map(t=>t.value)}_toggleFocusedOption(){let t=this._keyManager.activeItemIndex;if(null!=t&&this._isValidIndex(t)){let i=this.options.toArray()[t];i&&!i.disabled&&(this._multiple||!i.selected)&&(i.toggle(),this._emitChangeEvent([i]))}}_setAllOptionsSelected(t,i,r){const s=[];return this.options.forEach(a=>{(!i||!a.disabled)&&a._setSelected(t)&&s.push(a)}),s.length&&(this._reportValueChange(),r&&this._emitChangeEvent(s)),s}_isValidIndex(t){return t>=0&&t<this.options.length}_getOptionIndex(t){return this.options.toArray().indexOf(t)}_markOptionsForCheck(){this.options&&this.options.forEach(t=>t._markForCheck())}_allowFocusEscape(){this._tabIndex=-1,setTimeout(()=>{this._tabIndex=0,this._changeDetector.markForCheck()})}_updateTabIndex(){this._tabIndex=0===this.options.length?-1:0}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.sBO),l.Y36(Kd))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-selection-list"]],contentQueries:function(t,i,r){if(1&t&&l.Suo(r,Qz,5),2&t){let s;l.iGM(s=l.CRH())&&(i.options=s)}},hostAttrs:["role","listbox",1,"mat-selection-list","mat-list-base"],hostVars:3,hostBindings:function(t,i){1&t&&l.NdJ("keydown",function(s){return i._keydown(s)}),2&t&&l.uIk("aria-multiselectable",i.multiple)("aria-disabled",i.disabled.toString())("tabindex",i._tabIndex)},inputs:{disableRipple:"disableRipple",color:"color",compareWith:"compareWith",disabled:"disabled",multiple:"multiple"},outputs:{selectionChange:"selectionChange"},exportAs:["matSelectionList"],features:[l._Bn([Ite]),l.qOj,l.TTD],ngContentSelectors:mte,decls:1,vars:0,template:function(t,i){1&t&&(l.F$t(),l.Hsn(0))},styles:['.mat-subheader{display:flex;box-sizing:border-box;padding:16px;align-items:center}.mat-list-base .mat-subheader{margin:0}button.mat-list-item,button.mat-list-option{padding:0;width:100%;background:none;color:inherit;border:none;outline:inherit;-webkit-tap-highlight-color:rgba(0,0,0,0);text-align:left}[dir=rtl] button.mat-list-item,[dir=rtl] button.mat-list-option{text-align:right}button.mat-list-item::-moz-focus-inner,button.mat-list-option::-moz-focus-inner{border:0}.mat-list-base{padding-top:8px;display:block;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-list-base .mat-subheader{height:48px;line-height:16px}.mat-list-base .mat-subheader:first-child{margin-top:-8px}.mat-list-base .mat-list-item,.mat-list-base .mat-list-option{display:block;height:48px;-webkit-tap-highlight-color:rgba(0,0,0,0);width:100%;padding:0}.mat-list-base .mat-list-item .mat-list-item-content,.mat-list-base .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base .mat-list-item .mat-list-item-content-reverse,.mat-list-base .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base .mat-list-item .mat-list-item-ripple,.mat-list-base .mat-list-option .mat-list-item-ripple{display:block;top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar,.mat-list-base .mat-list-option.mat-list-item-with-avatar{height:56px}.mat-list-base .mat-list-item.mat-2-line,.mat-list-base .mat-list-option.mat-2-line{height:72px}.mat-list-base .mat-list-item.mat-3-line,.mat-list-base .mat-list-option.mat-3-line{height:88px}.mat-list-base .mat-list-item.mat-multi-line,.mat-list-base .mat-list-option.mat-multi-line{height:auto}.mat-list-base .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base .mat-list-item .mat-list-text,.mat-list-base .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base .mat-list-item .mat-list-text>*,.mat-list-base .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base .mat-list-item .mat-list-text:empty,.mat-list-base .mat-list-option .mat-list-text:empty{display:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base .mat-list-item .mat-list-avatar,.mat-list-base .mat-list-option .mat-list-avatar{flex-shrink:0;width:40px;height:40px;border-radius:50%;object-fit:cover}.mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:72px;width:calc(100% - 72px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:72px}.mat-list-base .mat-list-item .mat-list-icon,.mat-list-base .mat-list-option .mat-list-icon{flex-shrink:0;width:24px;height:24px;font-size:24px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:64px;width:calc(100% - 64px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:64px}.mat-list-base .mat-list-item .mat-divider,.mat-list-base .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base .mat-list-item .mat-divider,[dir=rtl] .mat-list-base .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-list-base[dense]{padding-top:4px;display:block}.mat-list-base[dense] .mat-subheader{height:40px;line-height:8px}.mat-list-base[dense] .mat-subheader:first-child{margin-top:-4px}.mat-list-base[dense] .mat-list-item,.mat-list-base[dense] .mat-list-option{display:block;height:40px;-webkit-tap-highlight-color:rgba(0,0,0,0);width:100%;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-item-content,.mat-list-base[dense] .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base[dense] .mat-list-item .mat-list-item-content-reverse,.mat-list-base[dense] .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base[dense] .mat-list-item .mat-list-item-ripple,.mat-list-base[dense] .mat-list-option .mat-list-item-ripple{display:block;top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar{height:48px}.mat-list-base[dense] .mat-list-item.mat-2-line,.mat-list-base[dense] .mat-list-option.mat-2-line{height:60px}.mat-list-base[dense] .mat-list-item.mat-3-line,.mat-list-base[dense] .mat-list-option.mat-3-line{height:76px}.mat-list-base[dense] .mat-list-item.mat-multi-line,.mat-list-base[dense] .mat-list-option.mat-multi-line{height:auto}.mat-list-base[dense] .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base[dense] .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base[dense] .mat-list-item .mat-list-text,.mat-list-base[dense] .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-text>*,.mat-list-base[dense] .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base[dense] .mat-list-item .mat-list-text:empty,.mat-list-base[dense] .mat-list-option .mat-list-text:empty{display:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base[dense] .mat-list-item .mat-list-avatar,.mat-list-base[dense] .mat-list-option .mat-list-avatar{flex-shrink:0;width:36px;height:36px;border-radius:50%;object-fit:cover}.mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:68px;width:calc(100% - 68px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:68px}.mat-list-base[dense] .mat-list-item .mat-list-icon,.mat-list-base[dense] .mat-list-option .mat-list-icon{flex-shrink:0;width:20px;height:20px;font-size:20px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:60px;width:calc(100% - 60px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:60px}.mat-list-base[dense] .mat-list-item .mat-divider,.mat-list-base[dense] .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-divider,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base[dense] .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-nav-list a{text-decoration:none;color:inherit}.mat-nav-list .mat-list-item{cursor:pointer;outline:none}mat-action-list .mat-list-item{cursor:pointer;outline:inherit}.mat-list-option:not(.mat-list-item-disabled){cursor:pointer;outline:none}.mat-list-item-disabled{pointer-events:none}.cdk-high-contrast-active .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active :host .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active .mat-list-option:hover,.cdk-high-contrast-active .mat-nav-list .mat-list-item:hover,.cdk-high-contrast-active mat-action-list .mat-list-item:hover{outline:dotted 1px;z-index:1}.cdk-high-contrast-active .mat-list-single-selected-option::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active [dir=rtl] .mat-list-single-selected-option::after{right:auto;left:16px}@media(hover: none){.mat-list-option:not(.mat-list-single-selected-option):not(.mat-list-item-disabled):hover,.mat-nav-list .mat-list-item:not(.mat-list-item-disabled):hover,.mat-action-list .mat-list-item:not(.mat-list-item-disabled):hover{background:none}}'],encapsulation:2,changeDetection:0}),n})(),Dte=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[$4,Jy,Vn,RN,ai,$4,Vn,RN,pte]}),n})();var Xz=z(3099);class Ate{}class nh{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const i=t.indexOf(":");if(i>0){const r=t.slice(0,i),s=r.toLowerCase(),a=t.slice(i+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(a):this.headers.set(s,[a])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let i=e[t];const r=t.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(t,r))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof nh?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new nh;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof nh?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(e.name,t);const r=("a"===e.op?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":const s=e.value;if(s){let a=this.headers.get(t);if(!a)return;a=a.filter(d=>-1===s.indexOf(d)),0===a.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,a)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class xte{encodeKey(e){return Jz(e)}encodeValue(e){return Jz(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const kte=/%(\d[a-f0-9])/gi,Rte={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Jz(n){return encodeURIComponent(n).replace(kte,(e,t)=>Rte[t]??e)}function Sx(n){return`${n}`}class ih{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new xte,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Mte(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const s=r.indexOf("="),[a,d]=-1==s?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,s)),e.decodeValue(r.slice(s+1))],h=t.get(a)||[];h.push(d),t.set(a,h)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const i=e.fromObject[t],r=Array.isArray(i)?i.map(Sx):[Sx(i)];this.map.set(t,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(i=>{const r=e[i];Array.isArray(r)?r.forEach(s=>{t.push({param:i,value:s,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new ih({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(Sx(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let i=this.map.get(e.param)||[];const r=i.indexOf(Sx(e.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class Ote{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function ej(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function tj(n){return typeof Blob<"u"&&n instanceof Blob}function nj(n){return typeof FormData<"u"&&n instanceof FormData}class dC{constructor(e,t,i,r){let s;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function Pte(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,s=r):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new nh),this.context||(this.context=new Ote),this.params){const a=this.params.toString();if(0===a.length)this.urlWithParams=t;else{const d=t.indexOf("?");this.urlWithParams=t+(-1===d?"?":d<t.length-1?"&":"")+a}}else this.params=new ih,this.urlWithParams=t}serializeBody(){return null===this.body?null:ej(this.body)||tj(this.body)||nj(this.body)||function Nte(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof ih?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||nj(this.body)?null:tj(this.body)?this.body.type||null:ej(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof ih?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,s=void 0!==e.body?e.body:this.body,a=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,d=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let h=e.headers||this.headers,p=e.params||this.params;const g=e.context??this.context;return void 0!==e.setHeaders&&(h=Object.keys(e.setHeaders).reduce((v,w)=>v.set(w,e.setHeaders[w]),h)),e.setParams&&(p=Object.keys(e.setParams).reduce((v,w)=>v.set(w,e.setParams[w]),p)),new dC(t,i,s,{params:p,headers:h,context:g,reportProgress:d,responseType:r,withCredentials:a})}}var Vr=(()=>((Vr=Vr||{})[Vr.Sent=0]="Sent",Vr[Vr.UploadProgress=1]="UploadProgress",Vr[Vr.ResponseHeader=2]="ResponseHeader",Vr[Vr.DownloadProgress=3]="DownloadProgress",Vr[Vr.Response=4]="Response",Vr[Vr.User=5]="User",Vr))();class CF extends class Fte{constructor(e,t=200,i="OK"){this.headers=e.headers||new nh,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}{constructor(e={}){super(e),this.type=Vr.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new CF({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}function SF(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let rj=(()=>{class n{constructor(t){this.handler=t}request(t,i,r={}){let s;if(t instanceof dC)s=t;else{let h,p;h=r.headers instanceof nh?r.headers:new nh(r.headers),r.params&&(p=r.params instanceof ih?r.params:new ih({fromObject:r.params})),s=new dC(t,i,void 0!==r.body?r.body:null,{headers:h,context:r.context,params:p,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const a=tt(s).pipe(Ls(h=>this.handler.handle(h)));if(t instanceof dC||"events"===r.observe)return a;const d=a.pipe(An(h=>h instanceof CF));switch(r.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return d.pipe((0,rt.U)(h=>{if(null!==h.body&&!(h.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return h.body}));case"blob":return d.pipe((0,rt.U)(h=>{if(null!==h.body&&!(h.body instanceof Blob))throw new Error("Response is not a Blob.");return h.body}));case"text":return d.pipe((0,rt.U)(h=>{if(null!==h.body&&"string"!=typeof h.body)throw new Error("Response is not a string.");return h.body}));default:return d.pipe((0,rt.U)(h=>h.body))}case"response":return d;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:(new ih).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,r={}){return this.request("PATCH",t,SF(r,i))}post(t,i,r={}){return this.request("POST",t,SF(r,i))}put(t,i,r={}){return this.request("PUT",t,SF(r,i))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Ate))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const Bte=["*"];let Ix;function hC(n){return function Vte(){if(void 0===Ix&&(Ix=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(Ix=n.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return Ix}()?.createHTML(n)||n}function sj(n){return Error(`Unable to find icon with the name "${n}"`)}function oj(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function aj(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class Yp{constructor(e,t,i){this.url=e,this.svgText=t,this.options=i}}let Tx=(()=>{class n{constructor(t,i,r,s){this._httpClient=t,this._sanitizer=i,this._errorHandler=s,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=r}addSvgIcon(t,i,r){return this.addSvgIconInNamespace("",t,i,r)}addSvgIconLiteral(t,i,r){return this.addSvgIconLiteralInNamespace("",t,i,r)}addSvgIconInNamespace(t,i,r,s){return this._addSvgIconConfig(t,i,new Yp(r,null,s))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,i,r,s){const a=this._sanitizer.sanitize(l.q3G.HTML,r);if(!a)throw aj(r);const d=hC(a);return this._addSvgIconConfig(t,i,new Yp("",d,s))}addSvgIconSet(t,i){return this.addSvgIconSetInNamespace("",t,i)}addSvgIconSetLiteral(t,i){return this.addSvgIconSetLiteralInNamespace("",t,i)}addSvgIconSetInNamespace(t,i,r){return this._addSvgIconSetConfig(t,new Yp(i,null,r))}addSvgIconSetLiteralInNamespace(t,i,r){const s=this._sanitizer.sanitize(l.q3G.HTML,i);if(!s)throw aj(i);const a=hC(s);return this._addSvgIconSetConfig(t,new Yp("",a,r))}registerFontClassAlias(t,i=t){return this._fontCssClassesByAlias.set(t,i),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(...t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const i=this._sanitizer.sanitize(l.q3G.RESOURCE_URL,t);if(!i)throw oj(t);const r=this._cachedIconsByUrl.get(i);return r?tt(Dx(r)):this._loadSvgIconFromConfig(new Yp(t,null)).pipe(kn(s=>this._cachedIconsByUrl.set(i,s)),(0,rt.U)(s=>Dx(s)))}getNamedSvgIcon(t,i=""){const r=lj(i,t);let s=this._svgIconConfigs.get(r);if(s)return this._getSvgFromConfig(s);if(s=this._getIconConfigFromResolvers(i,t),s)return this._svgIconConfigs.set(r,s),this._getSvgFromConfig(s);const a=this._iconSetConfigs.get(i);return a?this._getSvgFromIconSetConfigs(t,a):Ro(sj(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?tt(Dx(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe((0,rt.U)(i=>Dx(i)))}_getSvgFromIconSetConfigs(t,i){const r=this._extractIconWithNameFromAnySet(t,i);return r?tt(r):$H(i.filter(a=>!a.svgText).map(a=>this._loadSvgIconSetFromConfig(a).pipe(Wr(d=>{const p=`Loading icon set URL: ${this._sanitizer.sanitize(l.q3G.RESOURCE_URL,a.url)} failed: ${d.message}`;return this._errorHandler.handleError(new Error(p)),tt(null)})))).pipe((0,rt.U)(()=>{const a=this._extractIconWithNameFromAnySet(t,i);if(!a)throw sj(t);return a}))}_extractIconWithNameFromAnySet(t,i){for(let r=i.length-1;r>=0;r--){const s=i[r];if(s.svgText&&s.svgText.toString().indexOf(t)>-1){const a=this._svgElementFromConfig(s),d=this._extractSvgIconFromSet(a,t,s.options);if(d)return d}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe(kn(i=>t.svgText=i),(0,rt.U)(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?tt(null):this._fetchIcon(t).pipe(kn(i=>t.svgText=i))}_extractSvgIconFromSet(t,i,r){const s=t.querySelector(`[id="${i}"]`);if(!s)return null;const a=s.cloneNode(!0);if(a.removeAttribute("id"),"svg"===a.nodeName.toLowerCase())return this._setSvgAttributes(a,r);if("symbol"===a.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(a),r);const d=this._svgElementFromString(hC("<svg></svg>"));return d.appendChild(a),this._setSvgAttributes(d,r)}_svgElementFromString(t){const i=this._document.createElement("DIV");i.innerHTML=t;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(t){const i=this._svgElementFromString(hC("<svg></svg>")),r=t.attributes;for(let s=0;s<r.length;s++){const{name:a,value:d}=r[s];"id"!==a&&i.setAttribute(a,d)}for(let s=0;s<t.childNodes.length;s++)t.childNodes[s].nodeType===this._document.ELEMENT_NODE&&i.appendChild(t.childNodes[s].cloneNode(!0));return i}_setSvgAttributes(t,i){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),i&&i.viewBox&&t.setAttribute("viewBox",i.viewBox),t}_fetchIcon(t){const{url:i,options:r}=t,s=r?.withCredentials??!1;if(!this._httpClient)throw function Ute(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const a=this._sanitizer.sanitize(l.q3G.RESOURCE_URL,i);if(!a)throw oj(i);const d=this._inProgressUrlFetches.get(a);if(d)return d;const h=this._httpClient.get(a,{responseType:"text",withCredentials:s}).pipe((0,rt.U)(p=>hC(p)),kc(()=>this._inProgressUrlFetches.delete(a)),(0,Xz.B)());return this._inProgressUrlFetches.set(a,h),h}_addSvgIconConfig(t,i,r){return this._svgIconConfigs.set(lj(t,i),r),this}_addSvgIconSetConfig(t,i){const r=this._iconSetConfigs.get(t);return r?r.push(i):this._iconSetConfigs.set(t,[i]),this}_svgElementFromConfig(t){if(!t.svgElement){const i=this._svgElementFromString(t.svgText);this._setSvgAttributes(i,t.options),t.svgElement=i}return t.svgElement}_getIconConfigFromResolvers(t,i){for(let r=0;r<this._resolvers.length;r++){const s=this._resolvers[r](i,t);if(s)return Hte(s)?new Yp(s.url,null,s.options):new Yp(s,null)}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(rj,8),l.LFG(xo),l.LFG(we,8),l.LFG(l.qLn))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Dx(n){return n.cloneNode(!0)}function lj(n,e){return n+":"+e}function Hte(n){return!(!n.url||!n.options)}const zte=ex(class{constructor(n){this._elementRef=n}}),jte=new l.OlP("MAT_ICON_DEFAULT_OPTIONS"),Gte=new l.OlP("mat-icon-location",{providedIn:"root",factory:function Wte(){const n=(0,l.f3M)(we),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),cj=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],qte=cj.map(n=>`[${n}]`).join(", "),Yte=/^url\(['"]?#(.*?)['"]?\)$/;let uj=(()=>{class n extends zte{constructor(t,i,r,s,a,d){super(t),this._iconRegistry=i,this._location=s,this._errorHandler=a,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=Fi.w0.EMPTY,d&&(d.color&&(this.color=this.defaultColor=d.color),d.fontSet&&(this.fontSet=d.fontSet)),r||t.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(t){this._inline=jn(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const i=this._cleanupFontValue(t);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const i=this._cleanupFontValue(t);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}_splitIconName(t){if(!t)return["",""];const i=t.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let i=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=t.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>t.classList.remove(r)),i.forEach(r=>t.classList.add(r)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const i=this._elementsWithExternalReferences;i&&i.forEach((r,s)=>{r.forEach(a=>{s.setAttribute(a.name,`url('${t}#${a.value}')`)})})}_cacheChildrenWithExternalReferences(t){const i=t.querySelectorAll(qte),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let s=0;s<i.length;s++)cj.forEach(a=>{const d=i[s],h=d.getAttribute(a),p=h?h.match(Yte):null;if(p){let g=r.get(d);g||(g=[],r.set(d,g)),g.push({name:a,value:p[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[i,r]=this._splitIconName(t);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe(Wt(1)).subscribe(s=>this._setSvgElement(s),s=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${s.message}`))})}}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(Tx),l.$8M("aria-hidden"),l.Y36(Gte),l.Y36(l.qLn),l.Y36(jte,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(t,i){2&t&&(l.uIk("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet)("fontIcon",i._usingFontIcon()?i.fontIcon:null),l.ekj("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[l.qOj],ngContentSelectors:Bte,decls:1,vars:0,template:function(t,i){1&t&&(l.F$t(),l.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),n})(),IF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Vn,Vn]}),n})();function Zte(n,e){if(1&n&&(l.O4$(),l._UZ(0,"circle",4)),2&n){const t=l.oxw(),i=l.MAs(1);l.Udp("animation-name","mat-progress-spinner-stroke-rotate-"+t._spinnerAnimationLabel)("stroke-dashoffset",t._getStrokeDashOffset(),"px")("stroke-dasharray",t._getStrokeCircumference(),"px")("stroke-width",t._getCircleStrokeWidth(),"%")("transform-origin",t._getCircleTransformOrigin(i)),l.uIk("r",t._getCircleRadius())}}function Kte(n,e){if(1&n&&(l.O4$(),l._UZ(0,"circle",4)),2&n){const t=l.oxw(),i=l.MAs(1);l.Udp("stroke-dashoffset",t._getStrokeDashOffset(),"px")("stroke-dasharray",t._getStrokeCircumference(),"px")("stroke-width",t._getCircleStrokeWidth(),"%")("transform-origin",t._getCircleTransformOrigin(i)),l.uIk("r",t._getCircleRadius())}}const Xte=ex(class{constructor(n){this._elementRef=n}},"primary"),Jte=new l.OlP("mat-progress-spinner-default-options",{providedIn:"root",factory:function ene(){return{diameter:100}}});class ql extends Xte{constructor(e,t,i,r,s,a,d,h){super(e),this._document=i,this._diameter=100,this._value=0,this._resizeSubscription=Fi.w0.EMPTY,this.mode="determinate";const p=ql._diameters;this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),p.has(i.head)||p.set(i.head,new Set([100])),this._noopAnimations="NoopAnimations"===r&&!!s&&!s._forceAnimations,"mat-spinner"===e.nativeElement.nodeName.toLowerCase()&&(this.mode="indeterminate"),s&&(s.color&&(this.color=this.defaultColor=s.color),s.diameter&&(this.diameter=s.diameter),s.strokeWidth&&(this.strokeWidth=s.strokeWidth)),t.isBrowser&&t.SAFARI&&d&&a&&h&&(this._resizeSubscription=d.change(150).subscribe(()=>{"indeterminate"===this.mode&&h.run(()=>a.markForCheck())}))}get diameter(){return this._diameter}set diameter(e){this._diameter=$p(e),this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),this._styleRoot&&this._attachStyleNode()}get strokeWidth(){return this._strokeWidth||this.diameter/10}set strokeWidth(e){this._strokeWidth=$p(e)}get value(){return"determinate"===this.mode?this._value:0}set value(e){this._value=Math.max(0,Math.min(100,$p(e)))}ngOnInit(){const e=this._elementRef.nativeElement;this._styleRoot=b4(e)||this._document.head,this._attachStyleNode(),e.classList.add("mat-progress-spinner-indeterminate-animation")}ngOnDestroy(){this._resizeSubscription.unsubscribe()}_getCircleRadius(){return(this.diameter-10)/2}_getViewBox(){const e=2*this._getCircleRadius()+this.strokeWidth;return`0 0 ${e} ${e}`}_getStrokeCircumference(){return 2*Math.PI*this._getCircleRadius()}_getStrokeDashOffset(){return"determinate"===this.mode?this._getStrokeCircumference()*(100-this._value)/100:null}_getCircleStrokeWidth(){return this.strokeWidth/this.diameter*100}_getCircleTransformOrigin(e){const t=50*(e.currentScale??1);return`${t}% ${t}%`}_attachStyleNode(){const e=this._styleRoot,t=this._diameter,i=ql._diameters;let r=i.get(e);if(!r||!r.has(t)){const s=this._document.createElement("style");s.setAttribute("mat-spinner-animation",this._spinnerAnimationLabel),s.textContent=this._getAnimationText(),e.appendChild(s),r||(r=new Set,i.set(e,r)),r.add(t)}}_getAnimationText(){const e=this._getStrokeCircumference();return"\n @keyframes mat-progress-spinner-stroke-rotate-DIAMETER {\n    0%      { stroke-dashoffset: START_VALUE;  transform: rotate(0); }\n    12.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(0); }\n    12.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(72.5deg); }\n    25%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(72.5deg); }\n\n    25.0001%   { stroke-dashoffset: START_VALUE;  transform: rotate(270deg); }\n    37.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(270deg); }\n    37.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(161.5deg); }\n    50%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(161.5deg); }\n\n    50.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(180deg); }\n    62.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(180deg); }\n    62.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(251.5deg); }\n    75%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(251.5deg); }\n\n    75.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(90deg); }\n    87.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(90deg); }\n    87.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(341.5deg); }\n    100%    { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(341.5deg); }\n  }\n".replace(/START_VALUE/g,""+.95*e).replace(/END_VALUE/g,""+.2*e).replace(/DIAMETER/g,`${this._spinnerAnimationLabel}`)}_getSpinnerAnimationLabel(){return this.diameter.toString().replace(".","_")}}ql._diameters=new WeakMap,ql.\u0275fac=function(e){return new(e||ql)(l.Y36(l.SBq),l.Y36(ts),l.Y36(we,8),l.Y36(l.QbO,8),l.Y36(Jte),l.Y36(l.sBO),l.Y36(ox),l.Y36(l.R0b))},ql.\u0275cmp=l.Xpm({type:ql,selectors:[["mat-progress-spinner"],["mat-spinner"]],hostAttrs:["role","progressbar","tabindex","-1",1,"mat-progress-spinner","mat-spinner"],hostVars:10,hostBindings:function(e,t){2&e&&(l.uIk("aria-valuemin","determinate"===t.mode?0:null)("aria-valuemax","determinate"===t.mode?100:null)("aria-valuenow","determinate"===t.mode?t.value:null)("mode",t.mode),l.Udp("width",t.diameter,"px")("height",t.diameter,"px"),l.ekj("_mat-animation-noopable",t._noopAnimations))},inputs:{color:"color",diameter:"diameter",strokeWidth:"strokeWidth",mode:"mode",value:"value"},exportAs:["matProgressSpinner"],features:[l.qOj],decls:4,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false","aria-hidden","true",3,"ngSwitch"],["svg",""],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(e,t){1&e&&(l.O4$(),l.TgZ(0,"svg",0,1),l.YNc(2,Zte,1,11,"circle",2),l.YNc(3,Kte,1,9,"circle",3),l.qZA()),2&e&&(l.Udp("width",t.diameter,"px")("height",t.diameter,"px"),l.Q6J("ngSwitch","indeterminate"===t.mode),l.uIk("viewBox",t._getViewBox()),l.xp6(2),l.Q6J("ngSwitchCase",!0),l.xp6(1),l.Q6J("ngSwitchCase",!1))},dependencies:[os,wo],styles:[".mat-progress-spinner{display:block;position:relative;overflow:hidden}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:rgba(0,0,0,0);transition:stroke-dashoffset 225ms linear}.cdk-high-contrast-active .mat-progress-spinner circle{stroke:CanvasText}.mat-progress-spinner[mode=indeterminate] svg{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}.mat-progress-spinner[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}.mat-progress-spinner._mat-animation-noopable svg,.mat-progress-spinner._mat-animation-noopable circle{animation:none;transition:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}"],encapsulation:2,changeDetection:0});let Ax=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Vn,ai,Vn]}),n})(),nne=(()=>{class n{transform(t,i){return t.filter(r=>r.name.toLowerCase().includes(i.toLowerCase()))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=l.Yjl({name:"cityChangeFilter",type:n,pure:!0}),n})();function ine(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"mat-list-option",15),l.NdJ("click",function(){const s=l.CHM(t).$implicit,a=l.oxw(2);return l.KtG(a.selectedCity=s.name)}),l.TgZ(1,"mat-radio-group",16),l.NdJ("ngModelChange",function(r){l.CHM(t);const s=l.oxw(2);return l.KtG(s.selectedCity=r)}),l.TgZ(2,"div",17)(3,"div"),l._uU(4),l.qZA(),l._UZ(5,"mat-radio-button",18),l.qZA()()()}if(2&n){const t=e.$implicit,i=l.oxw(2);l.ekj("active",i.selectedCity==t.name),l.xp6(1),l.Q6J("ngModel",i.selectedCity)("value",i.selectedCity),l.xp6(3),l.Oqu(t.name),l.xp6(1),l.Q6J("value",t.name)}}function rne(n,e){if(1&n&&(l.ynx(0),l.YNc(1,ine,6,6,"mat-list-option",14),l.ALo(2,"cityChangeFilter"),l.BQk()),2&n){const t=e.ngIf,i=l.oxw();l.xp6(1),l.Q6J("ngForOf",l.xi3(2,1,t,i.filterCity))}}function sne(n,e){1&n&&l._UZ(0,"mat-spinner")}let one=(()=>{class n{constructor(t,i,r){this.firestore=t,this.data=i,this.dialogRef=r,this.selectedCity=this.data.selectedCity,this.filterCity="",this.subject=new Tt.x}getCities(){this.cities=p4(g4(m4(this.firestore,"/cities")),{idField:"userId"})}ngOnInit(){console.log(this.selectedCity),this.getCities()}close(){this.dialogRef.close()}save(){(function nJ(n=0,e=qc){return n<0&&(n=0),jN(n,n,e)})().pipe(Wt(1),GN(1200)).subscribe(()=>{this.dialogRef.close(this.selectedCity)})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Zd),l.Y36(BH),l.Y36(hx))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-city-change"]],inputs:{selectedCity:"selectedCity"},decls:21,vars:6,consts:[[1,"wrapper","d-flex","flex-col","height"],[1,"header"],[1,"d-flex","justify-between","align-center","pr-4","pl-4","pt-4"],[1,"fz-5","fw600"],["mat-icon-button","","aria-label","Example icon button with a vertical three dot icon",3,"click"],[1,"fz-5"],[1,"mt-4","ml-4","mr-4"],["type","search","placeholder","\u041d\u0430\u0439\u0442\u0438 \u0433\u043e\u0440\u043e\u0434",1,"width",3,"ngModel","ngModelChange"],[1,"list","spacer",3,"multiple"],[4,"ngIf","ngIfElse"],[1,"footer","d-flex"],["mat-button","","color","warn",1,"spacer","fw600",3,"click"],["mat-button","","color","primary",1,"spacer","fw600",3,"click"],["spinnerRef",""],[3,"active","click",4,"ngFor","ngForOf"],[3,"click"],["aria-label","Select an option",3,"ngModel","value","ngModelChange"],[1,"city","d-flex","width","justify-between","pointer"],[3,"value"]],template:function(t,i){if(1&t&&(l.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),l._uU(4,"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0433\u043e\u0440\u043e\u0434"),l.qZA(),l.TgZ(5,"div")(6,"button",4),l.NdJ("click",function(){return i.close()}),l.TgZ(7,"mat-icon",5),l._uU(8,"close"),l.qZA()()()(),l.TgZ(9,"div",6)(10,"input",7),l.NdJ("ngModelChange",function(s){return i.filterCity=s}),l.qZA()()(),l.TgZ(11,"mat-selection-list",8),l.YNc(12,rne,3,4,"ng-container",9),l.ALo(13,"async"),l.qZA(),l.TgZ(14,"div",10)(15,"button",11),l.NdJ("click",function(){return i.close()}),l._uU(16,"\u041e\u0442\u043c\u0435\u043d\u0430"),l.qZA(),l.TgZ(17,"button",12),l.NdJ("click",function(){return i.save()}),l._uU(18,"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"),l.qZA()()(),l.YNc(19,sne,1,0,"ng-template",null,13,l.W1O)),2&t){const r=l.MAs(20);l.xp6(10),l.Q6J("ngModel",i.filterCity),l.xp6(1),l.Q6J("multiple",!1),l.xp6(1),l.Q6J("ngIf",l.lcZ(13,4,i.cities))("ngIfElse",r)}},dependencies:[Ar,In,Zz,Kz,wF,Qz,Wp,rC,fF,uj,zw,ql,mm,nne],styles:[".list[_ngcontent-%COMP%]{overflow-y:scroll}.active[_ngcontent-%COMP%]{background-color:#fdffde}.header[_ngcontent-%COMP%]{height:120px}.footer[_ngcontent-%COMP%]{height:70px}mat-selection-list[_ngcontent-%COMP%]     .mat-list-text{padding-right:0!important}input[_ngcontent-%COMP%]{height:32px;border-radius:.5rem;border:1px solid grey;padding-left:1rem;padding-right:1rem}"]}),n})();class DF{constructor(){this.loading=!0}on(){this.loading=!1}off(){this.loading=!0}}function xx(){return(0,Zn.e)((n,e)=>{let t,i=!1;n.subscribe((0,Hn.x)(e,r=>{const s=t;t=r,i&&e.next([s,r]),i=!0}))})}var Es=z(2011),dj=(z(5881),z(3942));function AF(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Ue("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function hj(){if(typeof Uint8Array>"u")throw new Ue("unimplemented","Uint8Arrays are not available in this environment.")}function fj(){if(!function L5(){return typeof atob<"u"}())throw new Ue("unimplemented","Blobs are unavailable in Firestore in this environment.")}class fC{constructor(e){this._delegate=e}static fromBase64String(e){return fj(),new fC($l.fromBase64String(e))}static fromUint8Array(e){return hj(),new fC($l.fromUint8Array(e))}toBase64(){return fj(),this._delegate.toBase64()}toUint8Array(){return hj(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function xF(n){return function cne(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const i of e)if(i in t&&"function"==typeof t[i])return!0;return!1}(n,["next","error","complete"])}class une{enableIndexedDbPersistence(e,t){return function MZ(n,e){H3(n=_n(n,ui));const t=Ui(n),i=n._freezeSettings(),r=new WP;return $3(t,r,new S3(r,i.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function kZ(n){H3(n=_n(n,ui));const e=Ui(n),t=n._freezeSettings(),i=new WP;return $3(e,i,new dZ(i,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function RZ(n){if(n._initialized&&!n._terminated)throw new Ue(be.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new lr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,ee.Z)(function*(){try{yield(t=(0,ee.Z)(function*(i){if(!za.C())return Promise.resolve();const r=i+"main";yield za.delete(r)}),function(i){return t.apply(this,arguments)})(VO(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class pj{constructor(e,t,i){this._delegate=t,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},e instanceof Ld||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&_p("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,i={}){k3(this._delegate,e,t,i)}enableNetwork(){return function PZ(n){return function vZ(n){return n.asyncQueue.enqueue((0,ee.Z)(function*(){const e=yield F3(n),t=yield tN(n);return e.setNetworkEnabled(!0),function(i){const r=at(i);return r._u.delete(0),Dw(r)}(t)}))}(Ui(n=_n(n,ui)))}(this._delegate)}disableNetwork(){return function NZ(n){return function bZ(n){return n.asyncQueue.enqueue((0,ee.Z)(function*(){const e=yield F3(n),t=yield tN(n);return e.setNetworkEnabled(!1),(i=(0,ee.Z)(function*(r){const s=at(r);s._u.add(0),yield Vy(s),s.gu.set("Offline")}),function(r){return i.apply(this,arguments)})(t);var i}))}(Ui(n=_n(n,ui)))}(this._delegate)}enablePersistence(e){let t=!1,i=!1;return e&&(t=!!e.synchronizeTabs,i=!!e.experimentalForceOwningTab,I3("synchronizeTabs",t,"experimentalForceOwningTab",i)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function OZ(n){return function(e){const t=new lr;return e.asyncQueue.enqueueAndForget((0,ee.Z)(function*(){return function JY(n,e){return MP.apply(this,arguments)}(yield nN(e),t)})),t.promise}(Ui(n=_n(n,ui)))}(this._delegate)}onSnapshotsInSync(e){return function d7(n,e){return function CZ(n,e){const t=new PA(e);return n.asyncQueue.enqueueAndForget((0,ee.Z)(function*(){return i=yield Wy(n),r=t,at(i).Ru.add(r),void r.next();var i,r})),()=>{t.bc(),n.asyncQueue.enqueueAndForget((0,ee.Z)(function*(){return i=yield Wy(n),r=t,void at(i).Ru.delete(r);var i,r}))}}(Ui(n=_n(n,ui)),rN(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Ue("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new sv(this,YP(this._delegate,e))}catch(t){throw ws(t,"collection()","Firestore.collection()")}}doc(e){try{return new Ko(this,Mw(this._delegate,e))}catch(t){throw ws(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Cs(this,function hZ(n,e){if(n=_n(n,xw),qP("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Ue(be.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new es(n,null,(t=e,new nu(En.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw ws(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function p7(n,e,t){n=_n(n,ui);const i=Object.assign(Object.assign({},h7),t);return function(r){if(r.maxAttempts<1)throw new Ue(be.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(r,s,a){const d=new lr;return r.asyncQueue.enqueueAndForget((0,ee.Z)(function*(){const h=yield function L3(n){return NA(n).then(e=>e.datastore)}(r);new _Z(r.asyncQueue,h,a,s,d).run()})),d.promise}(Ui(n),r=>e(new f7(n,r)),i)}(this._delegate,t=>e(new mj(this,t)))}batch(){return Ui(this._delegate),new gj(new a4(this._delegate,e=>qy(this._delegate,e)))}loadBundle(e){return function FZ(n,e){const t=Ui(n=_n(n,ui)),i=new DZ;return function SZ(n,e,t,i){const r=function(s,a){let d;return d="string"==typeof s?(new TextEncoder).encode(s):s,h=function(h,p){if(h instanceof Uint8Array)return O3(h,p);if(h instanceof ArrayBuffer)return O3(new Uint8Array(h),p);if(h instanceof ReadableStream)return h.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(d),new fZ(h,a);var h}(t,Tw(e));n.asyncQueue.enqueueAndForget((0,ee.Z)(function*(){!function uZ(n,e,t){const i=at(n);var r;(r=(0,ee.Z)(function*(s,a,d){try{const h=yield a.getMetadata();if(yield function(w,D){const A=at(w),x=vr(D.createTime);return A.persistence.runTransaction("hasNewerBundle","readonly",k=>A.Ns.getBundleMetadata(k,D.id)).then(k=>!!k&&k.createTime.compareTo(x)>=0)}(s.localStore,h))return yield a.close(),d._completeWith({taskState:"Success",documentsLoaded:(w=h).totalDocuments,bytesLoaded:w.totalBytes,totalDocuments:w.totalDocuments,totalBytes:w.totalBytes}),Promise.resolve(new Set);d._updateProgress(p3(h));const p=new zY(h,s.localStore,a.It);let g=yield a.mc();for(;g;){const w=yield p.Fu(g);w&&d._updateProgress(w),g=yield a.mc()}const v=yield p.complete();return yield su(s,v.Lu,void 0),yield function(w,D){const A=at(w);return A.persistence.runTransaction("Save bundle","readwrite",x=>A.Ns.saveBundleMetadata(x,D))}(s.localStore,h),d._completeWith(v.progress),Promise.resolve(v.Bu)}catch(h){return _p("SyncEngine",`Loading bundle failed with ${h}`),d._failWith(h),Promise.resolve(new Set)}var w}),function(s,a,d){return r.apply(this,arguments)})(i,e,t).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield nN(n),r,i)}))}(t,n._databaseId,e,i),i}(this._delegate,e)}namedQuery(e){return function LZ(n,e){return function IZ(n,e){return n.asyncQueue.enqueue((0,ee.Z)(function*(){return function(t,i){const r=at(t);return r.persistence.runTransaction("Get named query","readonly",s=>r.Ns.getNamedQuery(s,i))}(yield FA(n),e)}))}(Ui(n=_n(n,ui)),e).then(t=>t?new es(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Cs(this,t):null)}}class Mx extends uN{constructor(e){super(),this.firestore=e}convertBytes(e){return new fC(new $l(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Ko.forKey(t,this.firestore,null)}}class mj{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Mx(e)}get(e){const t=Kp(e);return this._delegate.get(t).then(i=>new pC(this._firestore,new lu(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,t.converter)))}set(e,t,i){const r=Kp(e);return i?(AF("Transaction.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const s=Kp(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,i,...r),this}delete(e){const t=Kp(e);return this._delegate.delete(t),this}}class gj{constructor(e){this._delegate=e}set(e,t,i){const r=Kp(e);return i?(AF("WriteBatch.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const s=Kp(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,i,...r),this}delete(e){const t=Kp(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Zp{constructor(e,t,i){this._firestore=e,this._userDataWriter=t,this._delegate=i}fromFirestore(e,t){const i=new Pw(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new mC(this._firestore,i),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const i=Zp.INSTANCES;let r=i.get(e);r||(r=new WeakMap,i.set(e,r));let s=r.get(t);return s||(s=new Zp(e,new Mx(e),t),r.set(t,s)),s}}Zp.INSTANCES=new WeakMap;class Ko{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Mx(e)}static forPath(e,t,i){if(e.length%2!=0)throw new Ue("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Ko(t,new ci(t._delegate,i,new st(e)))}static forKey(e,t,i){return new Ko(t,new ci(t._delegate,i,e))}get id(){return this._delegate.id}get parent(){return new sv(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new sv(this.firestore,YP(this._delegate,e))}catch(t){throw ws(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,q.m9)(e))instanceof ci&&R3(this._delegate,e)}set(e,t){t=AF("DocumentReference.set",t);try{return t?dN(this._delegate,e,t):dN(this._delegate,e)}catch(i){throw ws(i,"setDoc()","DocumentReference.set()")}}update(e,t,...i){try{return 1===arguments.length?o4(this._delegate,e):o4(this._delegate,e,t,...i)}catch(r){throw ws(r,"updateDoc()","DocumentReference.update()")}}delete(){return function c7(n){return qy(_n(n.firestore,ui),[new Ry(n._key,gi.none())])}(this._delegate)}onSnapshot(...e){const t=_j(e),i=yj(e,r=>new pC(this.firestore,new lu(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return jA(this._delegate,t,i)}get(e){let t;return t="cache"===e?.source?function r7(n){n=_n(n,ci);const e=_n(n.firestore,ui),t=Ui(e),i=new qd(e);return function EZ(n,e){const t=new lr;return n.asyncQueue.enqueueAndForget((0,ee.Z)(function*(){return(i=(0,ee.Z)(function*(r,s,a){try{const d=yield function(h,p){const g=at(h);return g.persistence.runTransaction("read document","readonly",v=>g.localDocuments.getDocument(v,p))}(r,s);d.isFoundDocument()?a.resolve(d):d.isNoDocument()?a.resolve(null):a.reject(new Ue(be.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(d){const h=Hy(d,`Failed to get document '${s} from cache`);a.reject(h)}}),function(r,s,a){return i.apply(this,arguments)})(yield FA(n),e,t);var i})),t.promise}(t,n._key).then(r=>new lu(e,i,n._key,r,new Bp(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function s7(n){n=_n(n,ci);const e=_n(n.firestore,ui);return B3(Ui(e),n._key,{source:"server"}).then(t=>hN(e,n,t))}(this._delegate):s4(this._delegate),t.then(i=>new pC(this.firestore,new lu(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(e){return new Ko(this.firestore,this._delegate.withConverter(e?Zp.getInstance(this.firestore,e):null))}}function ws(n,e,t){return n.message=n.message.replace(e,t),n}function _j(n){for(const e of n)if("object"==typeof e&&!xF(e))return e;return{}}function yj(n,e){var t,i;let r;return r=xF(n[0])?n[0]:xF(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:s=>{r.next&&r.next(e(s))},error:null===(t=r.error)||void 0===t?void 0:t.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class pC{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Ko(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return r4(this._delegate,e._delegate)}}class mC extends pC{data(e){const t=this._delegate.data(e);return function w5(n,e){n||bt()}(void 0!==t),t}}class Cs{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Mx(e)}where(e,t,i){try{return new Cs(this.firestore,au(this._delegate,function qZ(n,e,t){const i=e,r=HA("where",n);return new WZ(r,i,t)}(e,t,i)))}catch(r){throw ws(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Cs(this.firestore,au(this._delegate,function ZZ(n,e="asc"){const t=e,i=HA("orderBy",n);return new YZ(i,t)}(e,t)))}catch(i){throw ws(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Cs(this.firestore,au(this._delegate,function KZ(n){return A3("limit",n),new Q3("limit",n,"F")}(e)))}catch(t){throw ws(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Cs(this.firestore,au(this._delegate,function QZ(n){return A3("limitToLast",n),new Q3("limitToLast",n,"L")}(e)))}catch(t){throw ws(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Cs(this.firestore,au(this._delegate,function XZ(...n){return new X3("startAt",n,!0)}(...e)))}catch(t){throw ws(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Cs(this.firestore,au(this._delegate,function JZ(...n){return new X3("startAfter",n,!1)}(...e)))}catch(t){throw ws(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Cs(this.firestore,au(this._delegate,function e7(...n){return new J3("endBefore",n,!1)}(...e)))}catch(t){throw ws(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Cs(this.firestore,au(this._delegate,function t7(...n){return new J3("endAt",n,!0)}(...e)))}catch(t){throw ws(t,"endAt()","Query.endAt()")}}isEqual(e){return ZP(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function a7(n){n=_n(n,es);const e=_n(n.firestore,ui),t=Ui(e),i=new qd(e);return function wZ(n,e){const t=new lr;return n.asyncQueue.enqueueAndForget((0,ee.Z)(function*(){return(i=(0,ee.Z)(function*(r,s,a){try{const d=yield DA(r,s,!0),h=new _3(s,d.Hi),p=h.Wu(d.documents),g=h.applyChanges(p,!1);a.resolve(g.snapshot)}catch(d){const h=Hy(d,`Failed to execute query '${s} against cache`);a.reject(h)}}),function(r,s,a){return i.apply(this,arguments)})(yield FA(n),e,t);var i})),t.promise}(t,n._query).then(r=>new Wd(e,i,n,r))}(this._delegate):"server"===e?.source?function l7(n){n=_n(n,es);const e=_n(n.firestore,ui),t=Ui(e),i=new qd(e);return V3(t,n._query,{source:"server"}).then(r=>new Wd(e,i,n,r))}(this._delegate):function o7(n){n=_n(n,es);const e=_n(n.firestore,ui),t=Ui(e),i=new qd(e);return K3(n._query),V3(t,n._query).then(r=>new Wd(e,i,n,r))}(this._delegate),t.then(i=>new MF(this.firestore,new Wd(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...e){const t=_j(e),i=yj(e,r=>new MF(this.firestore,new Wd(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return jA(this._delegate,t,i)}withConverter(e){return new Cs(this.firestore,this._delegate.withConverter(e?Zp.getInstance(this.firestore,e):null))}}class hne{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new mC(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class MF{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Cs(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new mC(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new hne(this._firestore,t))}forEach(e,t){this._delegate.forEach(i=>{e.call(t,new mC(this._firestore,i))})}isEqual(e){return r4(this._delegate,e._delegate)}}class sv extends Cs{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Ko(this.firestore,e):null}doc(e){try{return new Ko(this.firestore,void 0===e?Mw(this._delegate):Mw(this._delegate,e))}catch(t){throw ws(t,"doc()","CollectionReference.doc()")}}add(e){return function u7(n,e){const t=_n(n.firestore,ui),i=Mw(n),r=zA(n.converter,e);return qy(t,[VA(Fp(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,gi.exists(!1))]).then(()=>i)}(this._delegate,e).then(t=>new Ko(this.firestore,t))}isEqual(e){return R3(this._delegate,e._delegate)}withConverter(e){return new sv(this.firestore,this._delegate.withConverter(e?Zp.getInstance(this.firestore,e):null))}}function Kp(n){return _n(n,ci)}class kF{constructor(...e){this._delegate=new ou(...e)}static documentId(){return new kF(Mi.keyField().canonicalString())}isEqual(e){return(e=(0,q.m9)(e))instanceof ou&&this._delegate._internalPath.isEqual(e._internalPath)}}class Qp{constructor(e){this._delegate=e}static serverTimestamp(){const e=function g7(){return new sN("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Qp(e)}static delete(){const e=function m7(){return new kw("deleteField")}();return e._methodName="FieldValue.delete",new Qp(e)}static arrayUnion(...e){const t=function _7(...n){return new $Z("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Qp(t)}static arrayRemove(...e){const t=function y7(...n){return new HZ("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Qp(t)}static increment(e){const t=function v7(n){return new zZ("increment",n)}(e);return t._methodName="FieldValue.increment",new Qp(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const fne={Firestore:pj,GeoPoint:LA,Timestamp:mi,Blob:fC,Transaction:mj,WriteBatch:gj,DocumentReference:Ko,DocumentSnapshot:pC,Query:Cs,QueryDocumentSnapshot:mC,QuerySnapshot:MF,CollectionReference:sv,FieldPath:kF,FieldValue:Qp,setLogLevel:function dne(n){!function E5(n){Od.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function mne(n){(function pne(n,e){n.INTERNAL.registerComponent(new kr.wA("firestore-compat",t=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("firestore").getImmediate();return e(i,r)},"PUBLIC").setServiceProps(Object.assign({},fne)))})(n,(e,t)=>new pj(e,t,new une)),n.registerVersion("@firebase/firestore-compat","0.2.3")}(dj.Z);class gne extends Tt.x{constructor(e=1/0,t=1/0,i=G0){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:s,_windowTime:a}=this;t||(i.push(e),!r&&i.push(s.now()+a)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:r}=this,s=r.slice();for(let a=0;a<s.length&&!e.closed;a+=i?1:2)e.next(s[a]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:i,_infiniteTimeWindow:r}=this,s=(r?1:2)*e;if(e<1/0&&s<i.length&&i.splice(0,i.length-s),!r){const a=t.now();let d=0;for(let h=1;h<i.length&&i[h]<=a;h+=2)d=h;d&&i.splice(0,d+1)}}}function vj(n,e,t){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:e=1/0,refCount:r=!1,scheduler:t}=n):i=n??1/0,(0,Xz.B)({connector:()=>new gne(i,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function bj(n,e){return(0,ji.m)(e)?Nn(()=>n,e):Nn(()=>n)}z(127);const Ej=new l.OlP("angularfire2.auth.use-emulator"),wj=new l.OlP("angularfire2.auth.settings"),Cj=new l.OlP("angularfire2.auth.tenant-id"),Sj=new l.OlP("angularfire2.auth.langugage-code"),Ij=new l.OlP("angularfire2.auth.use-device-language"),Tj=new l.OlP("angularfire.auth.persistence"),Dj=(n,e,t,i,r,s,a,d)=>(0,Es.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const h=e.runOutsideAngular(()=>n.auth());if(t&&h.useEmulator(...t),i&&(h.tenantId=i),h.languageCode=r,s&&h.useDeviceLanguage(),a)for(const[p,g]of Object.entries(a))h.settings[p]=g;return d&&h.setPersistence(d),h},[t,i,r,s,a,d]);let gC=(()=>{class n{constructor(t,i,r,s,a,d,h,p,g,v,w,D){const A=new Tt.x,x=tt(void 0).pipe((0,Al.Q)(a.outsideAngular),Nn(()=>s.runOutsideAngular(()=>Promise.resolve().then(z.bind(z,5881)))),(0,rt.U)(()=>(0,Es.on)(t,s,i)),(0,rt.U)(k=>Dj(k,s,d,p,g,v,h,w)),vj({bufferSize:1,refCount:!1}));if(dc(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=tt(null);else{x.pipe(us()).subscribe();const F=x.pipe(Nn(te=>te.getRedirectResult().then(oe=>oe,()=>null)),xi,vj({bufferSize:1,refCount:!1})),L=x.pipe(Nn(te=>new Pn.y(oe=>({unsubscribe:s.runOutsideAngular(()=>te.onAuthStateChanged(ue=>oe.next(ue),ue=>oe.error(ue),()=>oe.complete()))})))),U=x.pipe(Nn(te=>new Pn.y(oe=>({unsubscribe:s.runOutsideAngular(()=>te.onIdTokenChanged(ue=>oe.next(ue),ue=>oe.error(ue),()=>oe.complete()))}))));this.authState=F.pipe(bj(L),(0,Ed.R)(a.outsideAngular),(0,Al.Q)(a.insideAngular)),this.user=F.pipe(bj(U),(0,Ed.R)(a.outsideAngular),(0,Al.Q)(a.insideAngular)),this.idToken=this.user.pipe(Nn(te=>te?(0,hn.D)(te.getIdToken()):tt(null))),this.idTokenResult=this.user.pipe(Nn(te=>te?(0,hn.D)(te.getIdTokenResult()):tt(null))),this.credential=(0,zl.T)(F,A,this.authState.pipe(An(te=>!te))).pipe((0,rt.U)(te=>te?.user?te:null),(0,Ed.R)(a.outsideAngular),(0,Al.Q)(a.insideAngular))}return(0,Es.pX)(this,x,s,{spy:{apply:(k,F,L)=>{(k.startsWith("signIn")||k.startsWith("createUser"))&&L.then(U=>A.next(U))}}})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Es.Dh),l.LFG(Es.xv,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(Xr),l.LFG(Ej,8),l.LFG(wj,8),l.LFG(Cj,8),l.LFG(Sj,8),l.LFG(Ij,8),l.LFG(Tj,8),l.LFG(Fa,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function Aj(n,e){return function yne(n,e=qc){return new Pn.y(t=>{let i;return null!=e?e.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},t)}):i=n.onSnapshot({includeMetadataChanges:!0},t),()=>{i?.()}})}(n,e)}function RF(n,e){return Aj(n,e).pipe((0,rt.U)(t=>({payload:t,type:"query"})))}function kx(n,e){return RF(n,e).pipe(li(void 0),xx(),(0,rt.U)(([t,i])=>{const r=i.payload.docChanges(),s=r.map(a=>({type:a.type,payload:a}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((a,d)=>{const h=r.find(g=>g.doc.ref.isEqual(a.ref)),p=t?.payload.docs.find(g=>g.ref.isEqual(a.ref));h&&JSON.stringify(h.doc.metadata)===JSON.stringify(a.metadata)||!h&&p&&JSON.stringify(p.metadata)===JSON.stringify(a.metadata)||s.push({type:"modified",payload:{oldIndex:d,newIndex:d,type:"modified",doc:a}})}),s}))}function xj(n,e,t){return kx(n,t).pipe(rl((i,r)=>function bne(n,e,t){return e.forEach(i=>{t.indexOf(i.type)>-1&&(n=function Ene(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return OF(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return OF(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return OF(n,e.oldIndex,1)}return n}(n,i))}),n}(i,r.map(s=>s.payload),e),[]),KA(),(0,rt.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function OF(n,e,t,...i){const r=n.slice();return r.splice(e,t,...i),r}function Mj(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class kj{constructor(e,t,i){this.ref=e,this.query=t,this.afs=i}stateChanges(e){let t=kx(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,rt.U)(i=>i.filter(r=>e.indexOf(r.type)>-1)))),t.pipe(li(void 0),xx(),An(([i,r])=>r.length>0||!i),(0,rt.U)(([i,r])=>r),xi)}auditTrail(e){return this.stateChanges(e).pipe(rl((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=Mj(e);return xj(this.query,t,this.afs.schedulers.outsideAngular).pipe(xi)}valueChanges(e={}){return RF(this.query,this.afs.schedulers.outsideAngular).pipe((0,rt.U)(t=>t.payload.docs.map(i=>e.idField?Object.assign(Object.assign({},i.data()),{[e.idField]:i.id}):i.data())),xi)}get(e){return(0,hn.D)(this.query.get(e)).pipe(xi)}add(e){return this.ref.add(e)}doc(e){return new Rj(this.ref.doc(e),this.afs)}}class Rj{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const i=this.ref.collection(e),{ref:r,query:s}=Oj(i,t);return new kj(r,s,this.afs)}snapshotChanges(){return function vne(n,e){return Aj(n,e).pipe(li(void 0),xx(),(0,rt.U)(([t,i])=>i.exists?t?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(xi)}valueChanges(e={}){return this.snapshotChanges().pipe((0,rt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,hn.D)(this.ref.get(e)).pipe(xi)}}class wne{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?kx(this.query,this.afs.schedulers.outsideAngular).pipe((0,rt.U)(t=>t.filter(i=>e.indexOf(i.type)>-1)),An(t=>t.length>0),xi):kx(this.query,this.afs.schedulers.outsideAngular).pipe(xi)}auditTrail(e){return this.stateChanges(e).pipe(rl((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=Mj(e);return xj(this.query,t,this.afs.schedulers.outsideAngular).pipe(xi)}valueChanges(e={}){return RF(this.query,this.afs.schedulers.outsideAngular).pipe((0,rt.U)(i=>i.payload.docs.map(r=>e.idField?Object.assign({[e.idField]:r.id},r.data()):r.data())),xi)}get(e){return(0,hn.D)(this.query.get(e)).pipe(xi)}}const Cne=new l.OlP("angularfire2.enableFirestorePersistence"),Sne=new l.OlP("angularfire2.firestore.persistenceSettings"),Ine=new l.OlP("angularfire2.firestore.settings"),Tne=new l.OlP("angularfire2.firestore.use-emulator");function Oj(n,e=(t=>t)){return{query:e(n),ref:n}}let Pj=(()=>{class n{constructor(t,i,r,s,a,d,h,p,g,v,w,D,A,x,k,F,L){this.schedulers=h;const U=(0,Es.on)(t,d,i),te=g;v&&Dj(U,d,w,A,x,k,D,F),[this.firestore,this.persistenceEnabled$]=(0,Es.cc)(`${U.name}.firestore`,"AngularFirestore",U.name,()=>{const oe=d.runOutsideAngular(()=>U.firestore());if(s&&oe.settings(s),te&&oe.useEmulator(...te),r&&!dc(a)){const ue=()=>{try{return(0,hn.D)(oe.enablePersistence(p||void 0).then(()=>!0,()=>!1))}catch(ye){return typeof console<"u"&&console.warn(ye),tt(!1)}};return[oe,d.runOutsideAngular(ue)]}return[oe,tt(!1)]},[s,te,r])}collection(t,i){let r;r="string"==typeof t?this.firestore.collection(t):t;const{ref:s,query:a}=Oj(r,i),d=this.schedulers.ngZone.run(()=>s);return new kj(d,a,this)}collectionGroup(t,i){const r=i||(a=>a),s=this.firestore.collectionGroup(t);return new wne(r(s),this)}doc(t){let i;i="string"==typeof t?this.firestore.doc(t):t;const r=this.schedulers.ngZone.run(()=>i);return new Rj(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Es.Dh),l.LFG(Es.xv,8),l.LFG(Cne,8),l.LFG(Ine,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(Xr),l.LFG(Sne,8),l.LFG(Tne,8),l.LFG(gC,8),l.LFG(Ej,8),l.LFG(wj,8),l.LFG(Cj,8),l.LFG(Sj,8),l.LFG(Ij,8),l.LFG(Tj,8),l.LFG(Fa,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),PF=(()=>{class n{constructor(t,i,r){this.afs=t,this.afAuth=i,this.fireStore=r,this.afAuth.authState.subscribe(s=>{s?(this.userData=s,localStorage.setItem("user",JSON.stringify(this.userData)),JSON.parse(localStorage.getItem("user"))):(localStorage.setItem("user","null"),JSON.parse(localStorage.getItem("user")))})}SignIn(t,i){return this.afAuth.signInWithEmailAndPassword(t,i).then(r=>this.SetUserData(r.user).then())}SignUp(t,i,r){return this.afAuth.createUserWithEmailAndPassword(t,i).then(s=>this.SetUserData(s?.user,r).then())}ForgotPassword(t){return this.afAuth.sendPasswordResetEmail(t).then(()=>{window.alert("Password reset email sent, check your inbox.")}).catch(i=>{window.alert(i)})}SetUserData(t,i){const r=this.afs.doc(`users/${t.uid}`),s={uid:t.uid,email:t.email,photoURL:t.photoURL,emailVerified:t.emailVerified};return i&&(s.displayName=i),r.set(s,{merge:!0}).then(()=>this.setUserInformation(t.uid))}SignOut(){return this.afAuth.signOut().then(()=>{localStorage.clear()})}setUserInformation(t){var i=this;return(0,ee.Z)(function*(){const s=yield(yield N7(_N(i.fireStore,"/users/",t))).data();localStorage.setItem("currentUser",JSON.stringify(s))})()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Pj),l.LFG(gC),l.LFG(Zd))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Dne=["connectionContainer"],Ane=["inputContainer"],xne=["label"];function Mne(n,e){1&n&&(l.ynx(0),l.TgZ(1,"div",14),l._UZ(2,"div",15)(3,"div",16)(4,"div",17),l.qZA(),l.TgZ(5,"div",18),l._UZ(6,"div",15)(7,"div",16)(8,"div",17),l.qZA(),l.BQk())}function kne(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",19),l.NdJ("cdkObserveContent",function(){l.CHM(t);const r=l.oxw();return l.KtG(r.updateOutlineGap())}),l.Hsn(1,1),l.qZA()}if(2&n){const t=l.oxw();l.Q6J("cdkObserveContentDisabled","outline"!=t.appearance)}}function Rne(n,e){if(1&n&&(l.ynx(0),l.Hsn(1,2),l.TgZ(2,"span"),l._uU(3),l.qZA(),l.BQk()),2&n){const t=l.oxw(2);l.xp6(3),l.Oqu(t._control.placeholder)}}function One(n,e){1&n&&l.Hsn(0,3,["*ngSwitchCase","true"])}function Pne(n,e){1&n&&(l.TgZ(0,"span",23),l._uU(1," *"),l.qZA())}function Nne(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"label",20,21),l.NdJ("cdkObserveContent",function(){l.CHM(t);const r=l.oxw();return l.KtG(r.updateOutlineGap())}),l.YNc(2,Rne,4,1,"ng-container",12),l.YNc(3,One,1,0,"ng-content",12),l.YNc(4,Pne,2,0,"span",22),l.qZA()}if(2&n){const t=l.oxw();l.ekj("mat-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-form-field-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-accent","accent"==t.color)("mat-warn","warn"==t.color),l.Q6J("cdkObserveContentDisabled","outline"!=t.appearance)("id",t._labelId)("ngSwitch",t._hasLabel()),l.uIk("for",t._control.id)("aria-owns",t._control.id),l.xp6(2),l.Q6J("ngSwitchCase",!1),l.xp6(1),l.Q6J("ngSwitchCase",!0),l.xp6(1),l.Q6J("ngIf",!t.hideRequiredMarker&&t._control.required&&!t._control.disabled)}}function Fne(n,e){1&n&&(l.TgZ(0,"div",24),l.Hsn(1,4),l.qZA())}function Lne(n,e){if(1&n&&(l.TgZ(0,"div",25),l._UZ(1,"span",26),l.qZA()),2&n){const t=l.oxw();l.xp6(1),l.ekj("mat-accent","accent"==t.color)("mat-warn","warn"==t.color)}}function Bne(n,e){if(1&n&&(l.TgZ(0,"div"),l.Hsn(1,5),l.qZA()),2&n){const t=l.oxw();l.Q6J("@transitionMessages",t._subscriptAnimationState)}}function Vne(n,e){if(1&n&&(l.TgZ(0,"div",30),l._uU(1),l.qZA()),2&n){const t=l.oxw(2);l.Q6J("id",t._hintLabelId),l.xp6(1),l.Oqu(t.hintLabel)}}function Une(n,e){if(1&n&&(l.TgZ(0,"div",27),l.YNc(1,Vne,2,2,"div",28),l.Hsn(2,6),l._UZ(3,"div",29),l.Hsn(4,7),l.qZA()),2&n){const t=l.oxw();l.Q6J("@transitionMessages",t._subscriptAnimationState),l.xp6(1),l.Q6J("ngIf",t.hintLabel)}}const $ne=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],Hne=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],zne=new l.OlP("MatError"),jne={transitionMessages:jp("transitionMessages",[Gl("enter",Ji({opacity:1,transform:"translateY(0%)"})),ja("void => enter",[Ji({opacity:0,transform:"translateY(-5px)"}),jl("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let Rx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n}),n})(),Gne=0;const Nj=new l.OlP("MatHint");let Fj=(()=>{class n{constructor(){this.align="start",this.id="mat-hint-"+Gne++}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["mat-hint"]],hostAttrs:[1,"mat-hint"],hostVars:4,hostBindings:function(t,i){2&t&&(l.uIk("id",i.id)("align",null),l.ekj("mat-form-field-hint-end","end"===i.align))},inputs:{align:"align",id:"id"},features:[l._Bn([{provide:Nj,useExisting:n}])]}),n})(),_C=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["mat-label"]]}),n})(),Wne=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["mat-placeholder"]]}),n})();const qne=new l.OlP("MatPrefix"),Yne=new l.OlP("MatSuffix");let Lj=0;const Kne=ex(class{constructor(n){this._elementRef=n}},"primary"),Qne=new l.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),NF=new l.OlP("MatFormField");let FF=(()=>{class n extends Kne{constructor(t,i,r,s,a,d,h){super(t),this._changeDetectorRef=i,this._dir=r,this._defaults=s,this._platform=a,this._ngZone=d,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new Tt.x,this._hideRequiredMarker=!1,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+Lj++,this._labelId="mat-form-field-label-"+Lj++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==h,this.appearance=s?.appearance||"legacy",s&&(this._hideRequiredMarker=Boolean(s.hideRequiredMarker),s.color&&(this.color=this.defaultColor=s.color))}get appearance(){return this._appearance}set appearance(t){const i=this._appearance;this._appearance=t||this._defaults?.appearance||"legacy","outline"===this._appearance&&i!==t&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=jn(t)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(t){this._explicitFormFieldControl=t}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${t.controlType}`),t.stateChanges.pipe(li(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(wi(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(wi(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,zl.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(li(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(li(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(wi(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(t){const i=this._control?this._control.ngControl:null;return i&&i[t]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,ix(this._label.nativeElement,"transitionend").pipe(Wt(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(s=>"start"===s.align):null,r=this._hintChildren?this._hintChildren.find(s=>"end"===s.align):null;i?t.push(i.id):this._hintLabel&&t.push(this._hintLabelId),r&&t.push(r.id)}else this._errorChildren&&t.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(t)}}_validateControlChild(){}updateOutlineGap(){const t=this._label?this._label.nativeElement:null,i=this._connectionContainerRef.nativeElement,r=".mat-form-field-outline-start",s=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!t||!t.children.length||!t.textContent.trim()){const g=i.querySelectorAll(`${r}, ${s}`);for(let v=0;v<g.length;v++)g[v].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let a=0,d=0;const h=i.querySelectorAll(r),p=i.querySelectorAll(s);if(this._label&&this._label.nativeElement.children.length){const g=i.getBoundingClientRect();if(0===g.width&&0===g.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const v=this._getStartEnd(g),w=t.children,D=this._getStartEnd(w[0].getBoundingClientRect());let A=0;for(let x=0;x<w.length;x++)A+=w[x].offsetWidth;a=Math.abs(D-v)-5,d=A>0?.75*A+10:0}for(let g=0;g<h.length;g++)h[g].style.width=`${a}px`;for(let g=0;g<p.length;g++)p[g].style.width=`${d}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(t){return this._dir&&"rtl"===this._dir.value?t.right:t.left}_isAttachedToDOM(){const t=this._elementRef.nativeElement;if(t.getRootNode){const i=t.getRootNode();return i&&i!==t}return document.documentElement.contains(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.sBO),l.Y36(Hp,8),l.Y36(Qne,8),l.Y36(ts),l.Y36(l.R0b),l.Y36(l.QbO,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(t,i,r){if(1&t&&(l.Suo(r,Rx,5),l.Suo(r,Rx,7),l.Suo(r,_C,5),l.Suo(r,_C,7),l.Suo(r,Wne,5),l.Suo(r,zne,5),l.Suo(r,Nj,5),l.Suo(r,qne,5),l.Suo(r,Yne,5)),2&t){let s;l.iGM(s=l.CRH())&&(i._controlNonStatic=s.first),l.iGM(s=l.CRH())&&(i._controlStatic=s.first),l.iGM(s=l.CRH())&&(i._labelChildNonStatic=s.first),l.iGM(s=l.CRH())&&(i._labelChildStatic=s.first),l.iGM(s=l.CRH())&&(i._placeholderChild=s.first),l.iGM(s=l.CRH())&&(i._errorChildren=s),l.iGM(s=l.CRH())&&(i._hintChildren=s),l.iGM(s=l.CRH())&&(i._prefixChildren=s),l.iGM(s=l.CRH())&&(i._suffixChildren=s)}},viewQuery:function(t,i){if(1&t&&(l.Gf(Dne,7),l.Gf(Ane,5),l.Gf(xne,5)),2&t){let r;l.iGM(r=l.CRH())&&(i._connectionContainerRef=r.first),l.iGM(r=l.CRH())&&(i._inputContainerRef=r.first),l.iGM(r=l.CRH())&&(i._label=r.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(t,i){2&t&&l.ekj("mat-form-field-appearance-standard","standard"==i.appearance)("mat-form-field-appearance-fill","fill"==i.appearance)("mat-form-field-appearance-outline","outline"==i.appearance)("mat-form-field-appearance-legacy","legacy"==i.appearance)("mat-form-field-invalid",i._control.errorState)("mat-form-field-can-float",i._canLabelFloat())("mat-form-field-should-float",i._shouldLabelFloat())("mat-form-field-has-label",i._hasFloatingLabel())("mat-form-field-hide-placeholder",i._hideControlPlaceholder())("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-focused",i._control.focused)("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))("_mat-animation-noopable",!i._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[l._Bn([{provide:NF,useExisting:n}]),l.qOj],ngContentSelectors:Hne,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(t,i){1&t&&(l.F$t($ne),l.TgZ(0,"div",0)(1,"div",1,2),l.NdJ("click",function(s){return i._control.onContainerClick&&i._control.onContainerClick(s)}),l.YNc(3,Mne,9,0,"ng-container",3),l.YNc(4,kne,2,1,"div",4),l.TgZ(5,"div",5,6),l.Hsn(7),l.TgZ(8,"span",7),l.YNc(9,Nne,5,16,"label",8),l.qZA()(),l.YNc(10,Fne,2,0,"div",9),l.qZA(),l.YNc(11,Lne,2,4,"div",10),l.TgZ(12,"div",11),l.YNc(13,Bne,2,1,"div",12),l.YNc(14,Une,5,2,"div",13),l.qZA()()),2&t&&(l.xp6(3),l.Q6J("ngIf","outline"==i.appearance),l.xp6(1),l.Q6J("ngIf",i._prefixChildren.length),l.xp6(5),l.Q6J("ngIf",i._hasFloatingLabel()),l.xp6(1),l.Q6J("ngIf",i._suffixChildren.length),l.xp6(1),l.Q6J("ngIf","outline"!=i.appearance),l.xp6(1),l.Q6J("ngSwitch",i._getDisplayedMessages()),l.xp6(1),l.Q6J("ngSwitchCase","error"),l.xp6(1),l.Q6J("ngSwitchCase","hint"))},dependencies:[In,os,wo,rK],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.cdk-high-contrast-active .mat-form-field-disabled .mat-form-field-label{color:GrayText}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}','.mat-input-element{font:inherit;background:rgba(0,0,0,0);color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}._mat-animation-noopable .mat-input-element::placeholder{transition:none}._mat-animation-noopable .mat-input-element::-moz-placeholder{transition:none}._mat-animation-noopable .mat-input-element::-webkit-input-placeholder{transition:none}._mat-animation-noopable .mat-input-element:-ms-input-placeholder{transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px;border-top-color:GrayText}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:rgba(0,0,0,0)}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:GrayText}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}"],encapsulation:2,data:{animation:[jne.transitionMessages]},changeDetection:0}),n})(),ov=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[ai,Vn,S4,Vn]}),n})();const Vj=Fw({passive:!0});let Xne=(()=>{class n{constructor(t,i){this._platform=t,this._ngZone=i,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return Ns.E;const i=cu(t),r=this._monitoredElements.get(i);if(r)return r.subject;const s=new Tt.x,a="cdk-text-field-autofilled",d=h=>{"cdk-text-field-autofill-start"!==h.animationName||i.classList.contains(a)?"cdk-text-field-autofill-end"===h.animationName&&i.classList.contains(a)&&(i.classList.remove(a),this._ngZone.run(()=>s.next({target:h.target,isAutofilled:!1}))):(i.classList.add(a),this._ngZone.run(()=>s.next({target:h.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",d,Vj),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:s,unlisten:()=>{i.removeEventListener("animationstart",d,Vj)}}),s}stopMonitoring(t){const i=cu(t),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((t,i)=>this.stopMonitoring(i))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ts),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Uj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const Jne=new l.OlP("MAT_INPUT_VALUE_ACCESSOR"),eie=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let tie=0;const nie=U4(class{constructor(n,e,t,i){this._defaultErrorStateMatcher=n,this._parentForm=e,this._parentFormGroup=t,this.ngControl=i,this.stateChanges=new Tt.x}});let LF=(()=>{class n extends nie{constructor(t,i,r,s,a,d,h,p,g,v){super(d,s,a,r),this._elementRef=t,this._platform=i,this._autofillMonitor=p,this._formField=v,this._uid="mat-input-"+tie++,this.focused=!1,this.stateChanges=new Tt.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(A=>v4().has(A)),this._iOSKeyupListener=A=>{const x=A.target;!x.value&&0===x.selectionStart&&0===x.selectionEnd&&(x.setSelectionRange(1,1),x.setSelectionRange(0,0))};const w=this._elementRef.nativeElement,D=w.nodeName.toLowerCase();this._inputValueAccessor=h||w,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&g.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===D,this._isTextarea="textarea"===D,this._isInFormField=!!v,this._isNativeSelect&&(this.controlType=w.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(t){this._disabled=jn(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(_i.required)??!1}set required(t){this._required=jn(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&v4().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=jn(t)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t!==this.focused&&(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){const t=this._formField,i=t&&"legacy"===t.appearance&&!t._hasLabel?.()?null:this.placeholder;if(i!==this._previousPlaceholder){const r=this._elementRef.nativeElement;this._previousPlaceholder=i,i?r.setAttribute("placeholder",i):r.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_validateType(){eie.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,i=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const t=this._elementRef.nativeElement;return this._isNativeSelect&&(t.multiple||t.size>1)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(ts),l.Y36(Wl,10),l.Y36(cC,8),l.Y36(th,8),l.Y36(MN),l.Y36(Jne,10),l.Y36(Xne),l.Y36(l.R0b),l.Y36(NF,8))},n.\u0275dir=l.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:12,hostBindings:function(t,i){1&t&&l.NdJ("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),2&t&&(l.Ikx("disabled",i.disabled)("required",i.required),l.uIk("id",i.id)("data-placeholder",i.placeholder)("name",i.name||null)("readonly",i.readonly&&!i._isNativeSelect||null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required),l.ekj("mat-input-server",i._isServer)("mat-native-select-inline",i._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[l._Bn([{provide:Rx,useExisting:n}]),l.qOj,l.TTD]}),n})(),BF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[MN],imports:[Uj,ov,Vn,Uj,ov]}),n})();function iie(n,e){if(1&n&&(l.ynx(0),l._uU(1),l.BQk()),2&n){const t=l.oxw();l.xp6(1),l.hij(" ",t.value," ")}}function rie(n,e){1&n&&l._UZ(0,"mat-spinner")}let VF=(()=>{class n{constructor(){this.disabled=!1,this.value="\u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c",this.loading=!0,this.onClick=new l.vpe}ngOnInit(){}submitClick(){this.onClick.emit()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-spinner-button"]],inputs:{disabled:"disabled",value:"value",loading:"loading"},outputs:{onClick:"onClick"},decls:4,vars:4,consts:[["mat-raised-button","",1,"main-btn","width",3,"color","disabled","click"],[4,"ngIf","ngIfElse"],["spinner",""]],template:function(t,i){if(1&t&&(l.TgZ(0,"button",0),l.NdJ("click",function(){return i.submitClick()}),l.YNc(1,iie,2,1,"ng-container",1),l.YNc(2,rie,1,0,"ng-template",null,2,l.W1O),l.qZA()),2&t){const r=l.MAs(3);l.Q6J("color","primary")("disabled",i.disabled),l.xp6(1),l.Q6J("ngIf",i.loading)("ngIfElse",r)}},dependencies:[In,zw,ql],styles:["mat-spinner[_ngcontent-%COMP%]{width:28px!important;height:28px!important;position:absolute}mat-spinner[_ngcontent-%COMP%]     svg{width:28px!important;height:28px!important}.main-btn[_ngcontent-%COMP%]{height:40px!important;display:flex;justify-content:center}"]}),n})(),sie=(()=>{class n{constructor(t,i,r){this.authService=t,this.dialogRef=i,this.afAuth=r,this.form=new rv({name:new on("",[_i.required,_i.maxLength(20)]),email:new on("",[_i.required,_i.email]),password:new on("",[_i.required])}),this.loader=new DF}SignUp(t,i,r){this.loader.on(),this.authService.SignUp(t,i,r).then(()=>{this.loader.off(),this.dialogRef.close()})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(PF),l.Y36(hx),l.Y36(gC))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-sign-up"]],decls:22,vars:4,consts:[[1,"wrapper","p-4"],[1,"mb-4"],[1,"d-flex","flex-col","gap-3",3,"formGroup"],["appearance","legacy",1,"width"],["matInput","","placeholder","\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f","formControlName","name"],["name",""],["align","end"],["matInput","","placeholder","\u0412\u0432\u0435\u0434\u0438\u0442\u0435 email","formControlName","email"],["email",""],["matInput","","placeholder","\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c","formControlName","password"],["password",""],[3,"disabled","loading","onClick"]],template:function(t,i){if(1&t){const r=l.EpF();l.TgZ(0,"div",0)(1,"div",1),l._uU(2,"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"),l.qZA(),l.TgZ(3,"form",2)(4,"mat-form-field",3)(5,"mat-label"),l._uU(6,"\u0418\u043c\u044f"),l.qZA(),l._UZ(7,"input",4,5),l.TgZ(9,"mat-hint",6),l._uU(10),l.qZA()(),l.TgZ(11,"mat-form-field",3)(12,"mat-label"),l._uU(13,"Email"),l.qZA(),l._UZ(14,"input",7,8),l.qZA(),l.TgZ(16,"mat-form-field",3)(17,"mat-label"),l._uU(18,"\u041f\u0430\u0440\u043e\u043b\u044c"),l.qZA(),l._UZ(19,"input",9,10),l.qZA(),l.TgZ(21,"app-spinner-button",11),l.NdJ("onClick",function(){l.CHM(r);const a=l.MAs(15),d=l.MAs(20),h=l.MAs(8);return l.KtG(i.SignUp(a.value,d.value,h.value))}),l.qZA()()()}if(2&t){const r=l.MAs(8);l.xp6(3),l.Q6J("formGroup",i.form),l.xp6(7),l.Oqu(r.value.length+"/20"),l.xp6(11),l.Q6J("disabled",i.form.invalid||!i.loader.loading)("loading",i.loader.loading)}},dependencies:[FF,Fj,_C,LF,Cx,Wp,rC,mx,th,uC,VF]}),n})(),oie=(()=>{class n{constructor(t,i,r){this.authService=t,this.dialogRef=i,this.afAuth=r,this.form=new rv({email:new on("",[_i.required,_i.email]),password:new on("",[_i.required])}),this.loader=new DF}signIn(){this.loader.on(),this.authService.SignIn(this.form.controls.email.getRawValue(),this.form.controls.password.getRawValue()).then(()=>this.dialogRef.close()).finally(()=>this.loader.off())}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(PF),l.Y36(hx),l.Y36(gC))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-sign-in"]],decls:15,vars:4,consts:[[1,"wrapper","p-4"],[1,"mb-4"],[1,"d-flex","flex-col","gap-3",3,"formGroup"],["appearance","legacy",1,"width"],["matInput","","placeholder","\u0412\u0432\u0435\u0434\u0438\u0442\u0435 email","formControlName","email"],["email",""],["matInput","","placeholder","\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c","formControlName","password"],["password",""],[3,"value","loading","disabled","onClick"]],template:function(t,i){1&t&&(l.TgZ(0,"div",0)(1,"div",1),l._uU(2,"\u0412\u043e\u0439\u0442\u0438"),l.qZA(),l.TgZ(3,"form",2)(4,"mat-form-field",3)(5,"mat-label"),l._uU(6,"Email"),l.qZA(),l._UZ(7,"input",4,5),l.qZA(),l.TgZ(9,"mat-form-field",3)(10,"mat-label"),l._uU(11,"\u041f\u0430\u0440\u043e\u043b\u044c"),l.qZA(),l._UZ(12,"input",6,7),l.qZA(),l.TgZ(14,"app-spinner-button",8),l.NdJ("onClick",function(){return i.signIn()}),l.qZA()()()),2&t&&(l.xp6(3),l.Q6J("formGroup",i.form),l.xp6(11),l.Q6J("value","\u0412\u043e\u0439\u0442\u0438")("loading",i.loader.loading)("disabled",i.form.invalid||!i.loader.loading))},dependencies:[FF,_C,Cx,Wp,rC,mx,th,uC,LF,VF]}),n})();const $j="firebasestorage.googleapis.com",Hj="storageBucket";class Ci extends q.ZR{constructor(e,t,i=0){super(UF(e),`Firebase Storage: ${t} (${UF(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ci.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return UF(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function UF(n){return"storage/"+n}function $F(){return new Ci("unknown","An unknown error occurred, please check the error payload for server response.")}function zj(){return new Ci("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function jj(){return new Ci("canceled","User canceled the upload/download.")}function Gj(){return new Ci("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function av(n){return new Ci("invalid-argument",n)}function Wj(){return new Ci("app-deleted","The Firebase app was deleted.")}function qj(n){return new Ci("invalid-root-operation","The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function yC(n,e){return new Ci("invalid-format","String does not match format '"+n+"': "+e)}function vC(n){throw new Ci("internal-error","Internal error: "+n)}class is{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let i;try{i=is.makeFromUrl(e,t)}catch{return new is(e,"")}if(""===i.path)return i;throw function gie(n){return new Ci("invalid-default-bucket","Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let i=null;const r="([A-Za-z0-9.\\-_]+)",d=new RegExp("^gs://"+r+"(/(.*))?$","i");function p(te){te.path_=decodeURIComponent(te.path)}const v=t.replace(/[.]/g,"\\."),U=[{regex:d,indices:{bucket:1,path:3},postModify:function s(te){"/"===te.path.charAt(te.path.length-1)&&(te.path_=te.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${v}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:p},{regex:new RegExp(`^https?://${t===$j?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:p}];for(let te=0;te<U.length;te++){const oe=U[te],ue=oe.regex.exec(e);if(ue){let ze=ue[oe.indices.path];ze||(ze=""),i=new is(ue[oe.indices.bucket],ze),oe.postModify(i);break}}if(null==i)throw function mie(n){return new Ci("invalid-url","Invalid URL '"+n+"'.")}(e);return i}}class Eie{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function Ox(n){return"string"==typeof n||n instanceof String}function Yj(n){return HF()&&n instanceof Blob}function HF(){return typeof Blob<"u"&&!(0,q.UG)()}function zF(n,e,t,i){if(i<e)throw av(`Invalid value for '${n}'. Expected ${e} or greater.`);if(i>t)throw av(`Invalid value for '${n}'. Expected ${t} or less.`)}function fu(n,e,t){let i=e;return null==t&&(i=`https://${e}`),`${t}://${i}/v0${n}`}function Zj(n){const e=encodeURIComponent;let t="?";for(const i in n)n.hasOwnProperty(i)&&(t=t+(e(i)+"=")+e(n[i])+"&");return t=t.slice(0,-1),t}var rh=(()=>(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"}(rh||(rh={})),rh))();function Kj(n,e){const t=n>=500&&n<600,r=-1!==[408,429].indexOf(n),s=-1!==e.indexOf(n);return t||r||s}class Die{constructor(e,t,i,r,s,a,d,h,p,g,v,w=!0){this.url_=e,this.method_=t,this.headers_=i,this.body_=r,this.successCodes_=s,this.additionalRetryCodes_=a,this.callback_=d,this.errorCallback_=h,this.timeout_=p,this.progressCallback_=g,this.connectionFactory_=v,this.retry=w,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((D,A)=>{this.resolve_=D,this.reject_=A,this.start_()})}start_(){const t=(i,r)=>{const s=this.resolve_,a=this.reject_,d=r.connection;if(r.wasSuccessCode)try{const h=this.callback_(d,d.getResponse());!function Sie(n){return void 0!==n}(h)?s():s(h)}catch(h){a(h)}else if(null!==d){const h=$F();h.serverResponse=d.getErrorText(),a(this.errorCallback_?this.errorCallback_(d,h):h)}else a(r.canceled?this.appDelete_?Wj():jj():zj())};this.canceled_?t(0,new Px(!1,null,!0)):this.backoffId_=function wie(n,e,t){let i=1,r=null,s=null,a=!1,d=0;function h(){return 2===d}let p=!1;function g(...k){p||(p=!0,e.apply(null,k))}function v(k){r=setTimeout(()=>{r=null,n(D,h())},k)}function w(){s&&clearTimeout(s)}function D(k,...F){if(p)return void w();if(k)return w(),void g.call(null,k,...F);if(h()||a)return w(),void g.call(null,k,...F);let U;i<64&&(i*=2),1===d?(d=2,U=0):U=1e3*(i+Math.random()),v(U)}let A=!1;function x(k){A||(A=!0,w(),!p&&(null!==r?(k||(d=2),clearTimeout(r),v(0)):k||(d=1)))}return v(0),s=setTimeout(()=>{a=!0,x(!0)},t),x}((i,r)=>{if(r)return void i(!1,new Px(!1,null,!0));const s=this.connectionFactory_();this.pendingConnection_=s;const a=d=>{null!==this.progressCallback_&&this.progressCallback_(d.loaded,d.lengthComputable?d.total:-1)};null!==this.progressCallback_&&s.addUploadProgressListener(a),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&s.removeUploadProgressListener(a),this.pendingConnection_=null;const d=s.getErrorCode()===rh.NO_ERROR,h=s.getStatus();if((!d||Kj(h,this.additionalRetryCodes_))&&this.retry){const g=s.getErrorCode()===rh.ABORT;return void i(!1,new Px(!1,null,g))}const p=-1!==this.successCodes_.indexOf(h);i(!0,new Px(p,s))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function Cie(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class Px{constructor(e,t,i){this.wasSuccessCode=e,this.connection=t,this.canceled=!!i}}function Pie(...n){const e=function Oie(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==e){const t=new e;for(let i=0;i<n.length;i++)t.append(n[i]);return t.getBlob()}if(HF())return new Blob(n);throw new Ci("unsupported-environment","This browser doesn't seem to support creating Blobs")}const fo={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class jF{constructor(e,t){this.data=e,this.contentType=t||null}}function GF(n,e){switch(n){case fo.RAW:return new jF(Qj(e));case fo.BASE64:case fo.BASE64URL:return new jF(Xj(n,e));case fo.DATA_URL:return new jF(function Bie(n){const e=new Jj(n);return e.base64?Xj(fo.BASE64,e.rest):function Lie(n){let e;try{e=decodeURIComponent(n)}catch{throw yC(fo.DATA_URL,"Malformed data URL.")}return Qj(e)}(e.rest)}(e),function Vie(n){return new Jj(n).contentType}(e))}throw $F()}function Qj(n){const e=[];for(let t=0;t<n.length;t++){let i=n.charCodeAt(t);i<=127?e.push(i):i<=2047?e.push(192|i>>6,128|63&i):55296==(64512&i)?t<n.length-1&&56320==(64512&n.charCodeAt(t+1))?(i=65536|(1023&i)<<10|1023&n.charCodeAt(++t),e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i)):e.push(239,191,189):56320==(64512&i)?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|63&i)}return new Uint8Array(e)}function Xj(n,e){switch(n){case fo.BASE64:{const r=-1!==e.indexOf("-"),s=-1!==e.indexOf("_");if(r||s)throw yC(n,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case fo.BASE64URL:{const r=-1!==e.indexOf("+"),s=-1!==e.indexOf("/");if(r||s)throw yC(n,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=function Fie(n){if(typeof atob>"u")throw function bie(n){return new Ci("unsupported-environment",`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(n)}(e)}catch(r){throw r.message.includes("polyfill")?r:yC(n,"Invalid character found")}const i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i}class Jj{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw yC(fo.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=t[1]||null;null!=i&&(this.base64=function Uie(n,e){return n.length>=e.length&&n.substring(n.length-e.length)===e}(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}class Yl{constructor(e,t){let i=0,r="";Yj(e)?(this.data_=e,i=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(Yj(this.data_)){const r=function Nie(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}(this.data_,e,t);return null===r?null:new Yl(r)}{const i=new Uint8Array(this.data_.buffer,e,t-e);return new Yl(i,!0)}}static getBlob(...e){if(HF()){const t=e.map(i=>i instanceof Yl?i.data_:i);return new Yl(Pie.apply(null,t))}{const t=e.map(a=>Ox(a)?GF(fo.RAW,a).data:a.data_);let i=0;t.forEach(a=>{i+=a.byteLength});const r=new Uint8Array(i);let s=0;return t.forEach(a=>{for(let d=0;d<a.length;d++)r[s++]=a[d]}),new Yl(r,!0)}}uploadData(){return this.data_}}function WF(n){let e;try{e=JSON.parse(n)}catch{return null}return function Tie(n){return"object"==typeof n&&!Array.isArray(n)}(e)?e:null}function eG(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}function zie(n,e){return e}class Ss{constructor(e,t,i,r){this.server=e,this.local=t||e,this.writable=!!i,this.xform=r||zie}}let Nx=null;function bC(){if(Nx)return Nx;const n=[];n.push(new Ss("bucket")),n.push(new Ss("generation")),n.push(new Ss("metageneration")),n.push(new Ss("name","fullPath",!0));const t=new Ss("name");t.xform=function e(s,a){return function jie(n){return!Ox(n)||n.length<2?n:eG(n)}(a)},n.push(t);const r=new Ss("size");return r.xform=function i(s,a){return void 0!==a?Number(a):a},n.push(r),n.push(new Ss("timeCreated")),n.push(new Ss("updated")),n.push(new Ss("md5Hash",null,!0)),n.push(new Ss("cacheControl",null,!0)),n.push(new Ss("contentDisposition",null,!0)),n.push(new Ss("contentEncoding",null,!0)),n.push(new Ss("contentLanguage",null,!0)),n.push(new Ss("contentType",null,!0)),n.push(new Ss("metadata","customMetadata",!0)),Nx=n,Nx}function tG(n,e,t){const i=WF(e);return null===i?null:function Wie(n,e,t){const i={type:"file"},r=t.length;for(let s=0;s<r;s++){const a=t[s];i[a.local]=a.xform(i,e[a.server])}return function Gie(n,e){Object.defineProperty(n,"ref",{get:function t(){const s=new is(n.bucket,n.fullPath);return e._makeStorageReference(s)}})}(i,n),i}(n,i,t)}function qF(n,e){const t={},i=e.length;for(let r=0;r<i;r++){const s=e[r];s.writable&&(t[s.server]=n[s.local])}return JSON.stringify(t)}const nG="prefixes";class Zl{constructor(e,t,i,r){this.url=e,this.method=t,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Kl(n){if(!n)throw $F()}function Fx(n,e){return function t(i,r){const s=tG(n,r,e);return Kl(null!==s),s}}function lv(n){return function e(t,i){let r;return r=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?function fie(){return new Ci("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function hie(){return new Ci("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===t.getStatus()?function die(n){return new Ci("quota-exceeded","Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===t.getStatus()?function pie(n){return new Ci("unauthorized","User does not have permission to access '"+n+"'.")}(n.path):i,r.status=t.getStatus(),r.serverResponse=i.serverResponse,r}}function EC(n){const e=lv(n);return function t(i,r){let s=e(i,r);return 404===i.getStatus()&&(s=function uie(n){return new Ci("object-not-found","Object '"+n+"' does not exist.")}(n.path)),s.serverResponse=r.serverResponse,s}}function rG(n,e,t){const r=fu(e.fullServerUrl(),n.host,n._protocol),a=n.maxOperationRetryTime,d=new Zl(r,"GET",Fx(n,t),a);return d.errorHandler=EC(e),d}function Xie(n,e,t,i,r){const s={};s.prefix=e.isRoot?"":e.path+"/",t&&t.length>0&&(s.delimiter=t),i&&(s.pageToken=i),r&&(s.maxResults=r);const d=fu(e.bucketOnlyServerUrl(),n.host,n._protocol),p=n.maxOperationRetryTime,g=new Zl(d,"GET",function Kie(n,e){return function t(i,r){const s=function Zie(n,e,t){const i=WF(t);return null===i?null:function Yie(n,e,t){const i={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[nG])for(const r of t[nG]){const s=r.replace(/\/$/,""),a=n._makeStorageReference(new is(e,s));i.prefixes.push(a)}if(t.items)for(const r of t.items){const s=n._makeStorageReference(new is(e,r.name));i.items.push(s)}return i}(n,e,i)}(n,e,r);return Kl(null!==s),s}}(n,e.bucket),p);return g.urlParams=s,g.errorHandler=lv(e),g}function oG(n,e,t){const i=Object.assign({},t);return i.fullPath=n.path,i.size=e.size(),i.contentType||(i.contentType=function nre(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}(null,e)),i}function aG(n,e,t,i,r){const s=e.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"},h=function d(){let U="";for(let te=0;te<2;te++)U+=Math.random().toString().slice(2);return U}();a["Content-Type"]="multipart/related; boundary="+h;const p=oG(e,i,r),g=qF(p,t),D=Yl.getBlob("--"+h+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+g+"\r\n--"+h+"\r\nContent-Type: "+p.contentType+"\r\n\r\n",i,"\r\n--"+h+"--");if(null===D)throw Gj();const A={name:p.fullPath},x=fu(s,n.host,n._protocol),F=n.maxUploadRetryTime,L=new Zl(x,"POST",Fx(n,t),F);return L.urlParams=A,L.headers=a,L.body=D.uploadData(),L.errorHandler=lv(e),L}class Lx{constructor(e,t,i,r){this.current=e,this.total=t,this.finalized=!!i,this.metadata=r||null}}function YF(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch{Kl(!1)}return Kl(!!t&&-1!==(e||["active"]).indexOf(t)),t}const ore={STATE_CHANGED:"state_changed"},Is={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function ZF(n){switch(n){case"running":case"pausing":case"canceling":return Is.RUNNING;case"paused":return Is.PAUSED;case"success":return Is.SUCCESS;case"canceled":return Is.CANCELED;default:return Is.ERROR}}class are{constructor(e,t,i){if(function Iie(n){return"function"==typeof n}(e)||null!=t||null!=i)this.next=e,this.error=t??void 0,this.complete=i??void 0;else{const s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}}function cv(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}class cre extends class lre{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=rh.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=rh.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=rh.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,i,r){if(this.sent_)throw vC("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(const s in r)r.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,r[s].toString());return void 0!==i?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw vC("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw vC("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw vC("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw vC("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}{initXhr(){this.xhr_.responseType="text"}}function Ga(){return new cre}class uG{constructor(e,t,i=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=i,this._mappings=bC(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=r=>{if(this._request=void 0,this._chunkMultiplier=1,r._codeEquals("canceled"))this._needToFetchStatus=!0,this.completeTransitions_();else{const s=this.isExponentialBackoffExpired();if(Kj(r.status,[])){if(!s)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();r=zj()}this._error=r,this._transition("error")}},this._metadataErrorHandler=r=>{this._request=void 0,r._codeEquals("canceled")?this.completeTransitions_():(this._error=r,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((r,s)=>{this._resolve=r,this._reject=s,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,i])=>{switch(this._state){case"running":e(t,i);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,t)=>{const i=function ire(n,e,t,i,r){const s=e.bucketOnlyServerUrl(),a=oG(e,i,r),d={name:a.fullPath},h=fu(s,n.host,n._protocol),g={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i.size()}`,"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},v=qF(a,t),A=new Zl(h,"POST",function D(x){let k;YF(x);try{k=x.getResponseHeader("X-Goog-Upload-URL")}catch{Kl(!1)}return Kl(Ox(k)),k},n.maxUploadRetryTime);return A.urlParams=d,A.headers=g,A.body=v,A.errorHandler=lv(e),A}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,Ga,e,t);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,i)=>{const r=function rre(n,e,t,i){const h=new Zl(t,"POST",function s(p){const g=YF(p,["active","final"]);let v=null;try{v=p.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Kl(!1)}v||Kl(!1);const w=Number(v);return Kl(!isNaN(w)),new Lx(w,i.size(),"final"===g)},n.maxUploadRetryTime);return h.headers={"X-Goog-Upload-Command":"query"},h.errorHandler=lv(e),h}(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(r,Ga,t,i);this._request=s,s.getPromise().then(a=>{this._request=void 0,this._updateProgress(a.current),this._needToFetchStatus=!1,a.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=262144*this._chunkMultiplier,t=new Lx(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken((r,s)=>{let a;try{a=function sre(n,e,t,i,r,s,a,d){const h=new Lx(0,0);if(a?(h.current=a.current,h.total=a.total):(h.current=0,h.total=i.size()),i.size()!==h.total)throw function yie(){return new Ci("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}();const p=h.total-h.current;let g=p;r>0&&(g=Math.min(g,r));const v=h.current;let D="";D=0===g?"finalize":p===g?"upload, finalize":"upload";const A={"X-Goog-Upload-Command":D,"X-Goog-Upload-Offset":`${h.current}`},x=i.slice(v,v+g);if(null===x)throw Gj();const U=new Zl(t,"POST",function k(te,oe){const ue=YF(te,["active","final"]),ye=h.current+g,ze=i.size();let it;return it="final"===ue?Fx(e,s)(te,oe):null,new Lx(ye,ze,"final"===ue,it)},e.maxUploadRetryTime);return U.headers=A,U.body=x.uploadData(),U.progressCallback=d||null,U.errorHandler=lv(n),U}(this._ref._location,this._ref.storage,i,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(h){return this._error=h,void this._transition("error")}const d=this._ref.storage._makeRequest(a,Ga,r,s,!1);this._request=d,d.getPromise().then(h=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(h.current),h.finalized?(this._metadata=h.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const i=rG(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(i,Ga,e,t);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const i=aG(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,Ga,e,t);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=jj(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=ZF(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,i,r){const s=new are(t||void 0,i||void 0,r||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(ZF(this._state)){case Is.SUCCESS:cv(this._resolve.bind(null,this.snapshot))();break;case Is.CANCELED:case Is.ERROR:cv(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(ZF(this._state)){case Is.RUNNING:case Is.PAUSED:e.next&&cv(e.next.bind(e,this.snapshot))();break;case Is.SUCCESS:e.complete&&cv(e.complete.bind(e))();break;default:e.error&&cv(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class Xp{constructor(e,t){this._service=e,this._location=t instanceof is?t:is.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Xp(e,t)}get root(){const e=new is(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return eG(this._location.path)}get storage(){return this._service}get parent(){const e=function $ie(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new is(this._location.bucket,e);return new Xp(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw qj(e)}}function hG(n,e,t){return KF.apply(this,arguments)}function KF(){return KF=(0,ee.Z)(function*(n,e,t){const r=yield fG(n,{pageToken:t});e.prefixes.push(...r.prefixes),e.items.push(...r.items),null!=r.nextPageToken&&(yield hG(n,e,r.nextPageToken))}),KF.apply(this,arguments)}function fG(n,e){null!=e&&"number"==typeof e.maxResults&&zF("options.maxResults",1,1e3,e.maxResults);const t=e||{},i=Xie(n.storage,n._location,"/",t.pageToken,t.maxResults);return n.storage.makeRequestWithTokens(i,Ga)}function Ere(n){n._throwIfRoot("getDownloadURL");const e=function Jie(n,e,t){const r=fu(e.fullServerUrl(),n.host,n._protocol),a=n.maxOperationRetryTime,d=new Zl(r,"GET",function Qie(n,e){return function t(i,r){const s=tG(n,r,e);return Kl(null!==s),function qie(n,e,t,i){const r=WF(e);if(null===r||!Ox(r.downloadTokens))return null;const s=r.downloadTokens;if(0===s.length)return null;const a=encodeURIComponent;return s.split(",").map(p=>{const v=n.fullPath;return fu("/b/"+a(n.bucket)+"/o/"+a(v),t,i)+Zj({alt:"media",token:p})})[0]}(s,r,n.host,n._protocol)}}(n,t),a);return d.errorHandler=EC(e),d}(n.storage,n._location,bC());return n.storage.makeRequestWithTokens(e,Ga).then(t=>{if(null===t)throw function vie(){return new Ci("no-download-url","The given file does not have any download URLs.")}();return t})}function pG(n,e){const t=function Hie(n,e){const t=e.split("/").filter(i=>i.length>0).join("/");return 0===n.length?t:n+"/"+t}(n._location.path,e),i=new is(n._location.bucket,t);return new Xp(n.storage,i)}function mG(n,e){if(n instanceof QF){const t=n;if(null==t._bucket)throw function _ie(){return new Ci("no-default-bucket","No default bucket found. Did you set the '"+Hj+"' property when initializing the app?")}();const i=new Xp(t,t._bucket);return null!=e?mG(i,e):i}return void 0!==e?pG(n,e):n}function Ire(n,e){if(e&&function Cre(n){return/^[A-Za-z]+:\/\//.test(n)}(e)){if(n instanceof QF)return function Sre(n,e){return new Xp(n,e)}(n,e);throw av("To use ref(service, url), the first argument must be a Storage instance.")}return mG(n,e)}function gG(n,e){const t=e?.[Hj];return null==t?null:is.makeFromBucketSpec(t,n)}class QF{constructor(e,t,i,r,s){this.app=e,this._authProvider=t,this._appCheckProvider=i,this._url=r,this._firebaseVersion=s,this._bucket=null,this._host=$j,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?is.makeFromBucketSpec(r,this._host):gG(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?is.makeFromBucketSpec(this._url,e):gG(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){zF("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){zF("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,ee.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const i=yield t.getToken();if(null!==i)return i.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,ee.Z)(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Xp(this,e)}_makeRequest(e,t,i,r,s=!0){if(this._deleted)return new Eie(Wj());{const a=function Rie(n,e,t,i,r,s,a=!0){const d=Zj(n.urlParams),h=n.url+d,p=Object.assign({},n.headers);return function Mie(n,e){e&&(n["X-Firebase-GMPID"]=e)}(p,e),function Aie(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(p,t),function xie(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}(p,s),function kie(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(p,i),new Die(h,n.method,p,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,r,a)}(e,this._appId,i,r,t,this._firebaseVersion,s);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}makeRequestWithTokens(e,t){var i=this;return(0,ee.Z)(function*(){const[r,s]=yield Promise.all([i._getAuthToken(),i._getAppCheckToken()]);return i._makeRequest(e,t,r,s).getPromise()})()}}const _G="@firebase/storage",vG="storage";function Dre(n,e,t){return function dG(n,e,t){n._throwIfRoot("uploadBytes");const i=aG(n.storage,n._location,bC(),new Yl(e,!0),t);return n.storage.makeRequestWithTokens(i,Ga).then(r=>({metadata:r,ref:n}))}(n=(0,q.m9)(n),e,t)}function XF(n,e){return Ire(n=(0,q.m9)(n),e)}function Fre(n=(0,ot.getApp)(),e){n=(0,q.m9)(n);const i=(0,ot._getProvider)(n,vG).getImmediate({identifier:e}),r=(0,q.P0)("storage");return r&&bG(i,...r),i}function bG(n,e,t,i={}){!function Tre(n,e,t,i={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:r}=i;r&&(n._overrideAuthToken="string"==typeof r?r:(0,q.Sg)(r,n.app.options.projectId))}(n,e,t,i)}function Lre(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),r=n.getProvider("app-check-internal");return new QF(t,i,r,e,ot.SDK_VERSION)}!function Bre(){(0,ot._registerComponent)(new kr.wA(vG,Lre,"PUBLIC").setMultipleInstances(!0)),(0,ot.registerVersion)(_G,"0.9.14",""),(0,ot.registerVersion)(_G,"0.9.14","esm2017")}();class JF{constructor(e){return e}}const EG="storage",eL=new l.OlP("angularfire2.storage-instances");function $re(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new JF(i)}}const Hre={provide:class Vre{constructor(){return Pa(EG)}},deps:[[new l.FiY,eL]]},zre={provide:JF,useFactory:function Ure(n,e){const t=Rr(EG,n,e);return t&&new JF(t)},deps:[[new l.FiY,eL],mn]};let jre=(()=>{class n{constructor(){(0,ot.registerVersion)("angularfire",Qr.full,"gcs")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[zre,Hre]}),n})();function Gre(n,...e){return{ngModule:jre,providers:[{provide:eL,useFactory:$re(n),multi:!0,deps:[l.R0b,l.zs3,Xr,Na,[new l.FiY,La],[new l.FiY,Fa],...e]}]}}const wG=Qn(Fre,!0),Wre=Qn(XF,!0),qre=Qn(Dre,!0);function Yre(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",2)(1,"button",3),l.NdJ("click",function(){l.CHM(t);const r=l.oxw();return l.KtG(r.action())}),l._uU(2),l.qZA()()}if(2&n){const t=l.oxw();l.xp6(2),l.Oqu(t.data.action)}}function Zre(n,e){}const CG=new l.OlP("MatSnackBarData");class Bx{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}const Kre=Math.pow(2,31)-1;class tL{constructor(e,t){this._overlayRef=t,this._afterDismissed=new Tt.x,this._afterOpened=new Tt.x,this._onAction=new Tt.x,this._dismissedByAction=!1,this.containerInstance=e,e._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(e){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(e,Kre))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}let Qre=(()=>{class n{constructor(t,i){this.snackBarRef=t,this.data=i}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(tL),l.Y36(CG))},n.\u0275cmp=l.Xpm({type:n,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-simple-snackbar"],decls:3,vars:2,consts:[[1,"mat-simple-snack-bar-content"],["class","mat-simple-snackbar-action",4,"ngIf"],[1,"mat-simple-snackbar-action"],["mat-button","",3,"click"]],template:function(t,i){1&t&&(l.TgZ(0,"span",0),l._uU(1),l.qZA(),l.YNc(2,Yre,3,1,"div",1)),2&t&&(l.xp6(1),l.Oqu(i.data.message),l.xp6(1),l.Q6J("ngIf",i.hasAction))},dependencies:[In,zw],styles:[".mat-simple-snackbar{display:flex;justify-content:space-between;align-items:center;line-height:20px;opacity:1}.mat-simple-snackbar-action{flex-shrink:0;margin:-8px -8px -8px 8px}.mat-simple-snackbar-action button{max-height:36px;min-width:0}[dir=rtl] .mat-simple-snackbar-action{margin-left:-8px;margin-right:8px}.mat-simple-snack-bar-content{overflow:hidden;text-overflow:ellipsis}"],encapsulation:2,changeDetection:0}),n})();const Xre={snackBarState:jp("state",[Gl("void, hidden",Ji({transform:"scale(0.8)",opacity:0})),Gl("visible",Ji({transform:"scale(1)",opacity:1})),ja("* => visible",jl("150ms cubic-bezier(0, 0, 0.2, 1)")),ja("* => void, * => hidden",jl("75ms cubic-bezier(0.4, 0.0, 1, 1)",Ji({opacity:0})))])};let Jre=(()=>{class n extends lx{constructor(t,i,r,s,a){super(),this._ngZone=t,this._elementRef=i,this._changeDetectorRef=r,this._platform=s,this.snackBarConfig=a,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new Tt.x,this._onExit=new Tt.x,this._onEnter=new Tt.x,this._animationState="void",this.attachDomPortal=d=>{this._assertNotAttached();const h=this._portalOutlet.attachDomPortal(d);return this._afterPortalAttached(),h},this._live="assertive"!==a.politeness||a.announcementMessage?"off"===a.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(t){this._assertNotAttached();const i=this._portalOutlet.attachComponentPortal(t);return this._afterPortalAttached(),i}attachTemplatePortal(t){this._assertNotAttached();const i=this._portalOutlet.attachTemplatePortal(t);return this._afterPortalAttached(),i}onAnimationEnd(t){const{fromState:i,toState:r}=t;if(("void"===r&&"void"!==i||"hidden"===r)&&this._completeExit(),"visible"===r){const s=this._onEnter;this._ngZone.run(()=>{s.next(),s.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe(Wt(1)).subscribe(()=>{this._ngZone.run(()=>{this._onExit.next(),this._onExit.complete()})})}_afterPortalAttached(){const t=this._elementRef.nativeElement,i=this.snackBarConfig.panelClass;i&&(Array.isArray(i)?i.forEach(r=>t.classList.add(r)):t.classList.add(i))}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const t=this._elementRef.nativeElement.querySelector("[aria-hidden]"),i=this._elementRef.nativeElement.querySelector("[aria-live]");if(t&&i){let r=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&t.contains(document.activeElement)&&(r=document.activeElement),t.removeAttribute("aria-hidden"),i.appendChild(t),r?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.R0b),l.Y36(l.SBq),l.Y36(l.sBO),l.Y36(ts),l.Y36(Bx))},n.\u0275dir=l.lG2({type:n,viewQuery:function(t,i){if(1&t&&l.Gf(Xw,7),2&t){let r;l.iGM(r=l.CRH())&&(i._portalOutlet=r.first)}},features:[l.qOj]}),n})(),ese=(()=>{class n extends Jre{_afterPortalAttached(){super._afterPortalAttached(),"center"===this.snackBarConfig.horizontalPosition&&this._elementRef.nativeElement.classList.add("mat-snack-bar-center"),"top"===this.snackBarConfig.verticalPosition&&this._elementRef.nativeElement.classList.add("mat-snack-bar-top")}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275cmp=l.Xpm({type:n,selectors:[["snack-bar-container"]],hostAttrs:[1,"mat-snack-bar-container"],hostVars:1,hostBindings:function(t,i){1&t&&l.WFA("@state.done",function(s){return i.onAnimationEnd(s)}),2&t&&l.d8E("@state",i._animationState)},features:[l.qOj],decls:3,vars:2,consts:[["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(t,i){1&t&&(l.TgZ(0,"div",0),l.YNc(1,Zre,0,0,"ng-template",1),l.qZA(),l._UZ(2,"div")),2&t&&(l.xp6(2),l.uIk("aria-live",i._live)("role",i._role))},dependencies:[Xw],styles:[".mat-snack-bar-container{border-radius:4px;box-sizing:border-box;display:block;margin:24px;max-width:33vw;min-width:344px;padding:14px 16px;min-height:48px;transform-origin:center}.cdk-high-contrast-active .mat-snack-bar-container{border:solid 1px}.mat-snack-bar-handset{width:100%}.mat-snack-bar-handset .mat-snack-bar-container{margin:8px;max-width:100%;min-width:0;width:100%}"],encapsulation:2,data:{animation:[Xre.snackBarState]}}),n})(),SG=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[nC,Jw,ai,uu,Vn,Vn]}),n})();const IG=new l.OlP("mat-snack-bar-default-options",{providedIn:"root",factory:function tse(){return new Bx}});let nse=(()=>{class n{constructor(t,i,r,s,a,d){this._overlay=t,this._live=i,this._injector=r,this._breakpointObserver=s,this._parentSnackBar=a,this._defaultConfig=d,this._snackBarRefAtThisLevel=null}get _openedSnackBarRef(){const t=this._parentSnackBar;return t?t._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(t){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=t:this._snackBarRefAtThisLevel=t}openFromComponent(t,i){return this._attach(t,i)}openFromTemplate(t,i){return this._attach(t,i)}open(t,i="",r){const s={...this._defaultConfig,...r};return s.data={message:t,action:i},s.announcementMessage===t&&(s.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,s)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(t,i){const s=l.zs3.create({parent:i&&i.viewContainerRef&&i.viewContainerRef.injector||this._injector,providers:[{provide:Bx,useValue:i}]}),a=new Kw(this.snackBarContainerComponent,i.viewContainerRef,s),d=t.attach(a);return d.instance.snackBarConfig=i,d.instance}_attach(t,i){const r={...new Bx,...this._defaultConfig,...i},s=this._createOverlay(r),a=this._attachSnackBarContainer(s,r),d=new tL(a,s);if(t instanceof l.Rgc){const h=new Qw(t,null,{$implicit:r.data,snackBarRef:d});d.instance=a.attachTemplatePortal(h)}else{const h=this._createInjector(r,d),p=new Kw(t,void 0,h),g=a.attachComponentPortal(p);d.instance=g.instance}return this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait)").pipe(wi(s.detachments())).subscribe(h=>{s.overlayElement.classList.toggle(this.handsetCssClass,h.matches)}),r.announcementMessage&&a._onAnnounce.subscribe(()=>{this._live.announce(r.announcementMessage,r.politeness)}),this._animateSnackBar(d,r),this._openedSnackBarRef=d,this._openedSnackBarRef}_animateSnackBar(t,i){t.afterDismissed().subscribe(()=>{this._openedSnackBarRef==t&&(this._openedSnackBarRef=null),i.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{t.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):t.containerInstance.enter(),i.duration&&i.duration>0&&t.afterOpened().subscribe(()=>t._dismissAfter(i.duration))}_createOverlay(t){const i=new eC;i.direction=t.direction;let r=this._overlay.position().global();const s="rtl"===t.direction,a="left"===t.horizontalPosition||"start"===t.horizontalPosition&&!s||"end"===t.horizontalPosition&&s,d=!a&&"center"!==t.horizontalPosition;return a?r.left("0"):d?r.right("0"):r.centerHorizontally(),"top"===t.verticalPosition?r.top("0"):r.bottom("0"),i.positionStrategy=r,this._overlay.create(i)}_createInjector(t,i){return l.zs3.create({parent:t&&t.viewContainerRef&&t.viewContainerRef.injector||this._injector,providers:[{provide:tL,useValue:i},{provide:CG,useValue:t.data}]})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Yo),l.LFG(DN),l.LFG(l.zs3),l.LFG(CN),l.LFG(n,12),l.LFG(IG))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),ise=(()=>{class n extends nse{constructor(t,i,r,s,a,d){super(t,i,r,s,a,d),this.simpleSnackBarComponent=Qre,this.snackBarContainerComponent=ese,this.handsetCssClass="mat-snack-bar-handset"}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Yo),l.LFG(DN),l.LFG(l.zs3),l.LFG(CN),l.LFG(n,12),l.LFG(IG))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:SG}),n})(),rse=(()=>{class n{constructor(t){this._snackBar=t}openSnackbar(t){this._snackBar.open(t,"",{duration:2500})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ise))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const sse=["trigger"],ose=["panel"];function ase(n,e){if(1&n&&(l.TgZ(0,"span",8),l._uU(1),l.qZA()),2&n){const t=l.oxw();l.xp6(1),l.Oqu(t.placeholder)}}function lse(n,e){if(1&n&&(l.TgZ(0,"span",12),l._uU(1),l.qZA()),2&n){const t=l.oxw(2);l.xp6(1),l.Oqu(t.triggerValue)}}function cse(n,e){1&n&&l.Hsn(0,0,["*ngSwitchCase","true"])}function use(n,e){if(1&n&&(l.TgZ(0,"span",9),l.YNc(1,lse,2,1,"span",10),l.YNc(2,cse,1,0,"ng-content",11),l.qZA()),2&n){const t=l.oxw();l.Q6J("ngSwitch",!!t.customTrigger),l.xp6(2),l.Q6J("ngSwitchCase",!0)}}function dse(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",13)(1,"div",14,15),l.NdJ("@transformPanel.done",function(r){l.CHM(t);const s=l.oxw();return l.KtG(s._panelDoneAnimatingStream.next(r.toState))})("keydown",function(r){l.CHM(t);const s=l.oxw();return l.KtG(s._handleKeydown(r))}),l.Hsn(3,1),l.qZA()()}if(2&n){const t=l.oxw();l.Q6J("@transformPanelWrap",void 0),l.xp6(1),l.Gre("mat-select-panel ",t._getPanelTheme(),""),l.Udp("transform-origin",t._transformOrigin)("font-size",t._triggerFontSize,"px"),l.Q6J("ngClass",t.panelClass)("@transformPanel",t.multiple?"showing-multiple":"showing"),l.uIk("id",t.id+"-panel")("aria-multiselectable",t.multiple)("aria-label",t.ariaLabel||null)("aria-labelledby",t._getPanelAriaLabelledby())}}const hse=[[["mat-select-trigger"]],"*"],fse=["mat-select-trigger","*"],TG={transformPanelWrap:jp("transformPanelWrap",[ja("* => void",JN("@transformPanel",[XN()],{optional:!0}))]),transformPanel:jp("transformPanel",[Gl("void",Ji({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),Gl("showing",Ji({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),Gl("showing-multiple",Ji({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),ja("void => *",jl("120ms cubic-bezier(0, 0, 0.2, 1)")),ja("* => void",jl("100ms 25ms linear",Ji({opacity:0})))])};let DG=0;const xG=new l.OlP("mat-select-scroll-strategy"),_se=new l.OlP("MAT_SELECT_CONFIG"),yse={provide:xG,deps:[Yo],useFactory:function gse(n){return()=>n.scrollStrategies.reposition()}};class vse{constructor(e,t){this.source=e,this.value=t}}const bse=Qy(V4(xN(U4(class{constructor(n,e,t,i,r){this._elementRef=n,this._defaultErrorStateMatcher=e,this._parentForm=t,this._parentFormGroup=i,this.ngControl=r,this.stateChanges=new Tt.x}})))),Ese=new l.OlP("MatSelectTrigger");let wse=(()=>{class n extends bse{constructor(t,i,r,s,a,d,h,p,g,v,w,D,A,x){super(a,s,h,p,v),this._viewportRuler=t,this._changeDetectorRef=i,this._ngZone=r,this._dir=d,this._parentFormField=g,this._liveAnnouncer=A,this._defaultOptions=x,this._panelOpen=!1,this._compareWith=(k,F)=>k===F,this._uid="mat-select-"+DG++,this._triggerAriaLabelledBy=null,this._destroy=new Tt.x,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+DG++,this._panelDoneAnimatingStream=new Tt.x,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.optionSelectionChanges=no(()=>{const k=this.options;return k?k.changes.pipe(li(k),Nn(()=>(0,zl.T)(...k.map(F=>F.onSelectionChange)))):this._ngZone.onStable.pipe(Wt(1),Nn(()=>this.optionSelectionChanges))}),this.openedChange=new l.vpe,this._openedStream=this.openedChange.pipe(An(k=>k),(0,rt.U)(()=>{})),this._closedStream=this.openedChange.pipe(An(k=>!k),(0,rt.U)(()=>{})),this.selectionChange=new l.vpe,this.valueChange=new l.vpe,this.ngControl&&(this.ngControl.valueAccessor=this),null!=x?.typeaheadDebounceInterval&&(this._typeaheadDebounceInterval=x.typeaheadDebounceInterval),this._scrollStrategyFactory=D,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(w)||0,this.id=this.id}get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(t){this._placeholder=t,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(_i.required)??!1}set required(t){this._required=jn(t),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(t){this._multiple=jn(t)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(t){this._disableOptionCentering=jn(t)}get compareWith(){return this._compareWith}set compareWith(t){this._compareWith=t,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(t){this._assignValue(t)&&this._onChange(t)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(t){this._typeaheadDebounceInterval=$p(t)}get id(){return this._id}set id(t){this._id=t||this._uid,this.stateChanges.next()}ngOnInit(){this._selectionModel=new tF(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(KA(),wi(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe(wi(this._destroy)).subscribe(t=>{t.added.forEach(i=>i.select()),t.removed.forEach(i=>i.deselect())}),this.options.changes.pipe(li(null),wi(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const t=this._getTriggerAriaLabelledby(),i=this.ngControl;if(t!==this._triggerAriaLabelledBy){const r=this._elementRef.nativeElement;this._triggerAriaLabelledBy=t,t?r.setAttribute("aria-labelledby",t):r.removeAttribute("aria-labelledby")}i&&(this._previousControl!==i.control&&(void 0!==this._previousControl&&null!==i.disabled&&i.disabled!==this.disabled&&(this.disabled=i.disabled),this._previousControl=i.control),this.updateErrorState())}ngOnChanges(t){(t.disabled||t.userAriaDescribedBy)&&this.stateChanges.next(),t.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(t){this._assignValue(t)}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const t=this._selectionModel.selected.map(i=>i.viewValue);return this._isRtl()&&t.reverse(),t.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(t){this.disabled||(this.panelOpen?this._handleOpenKeydown(t):this._handleClosedKeydown(t))}_handleClosedKeydown(t){const i=t.keyCode,r=40===i||38===i||37===i||39===i,s=13===i||32===i,a=this._keyManager;if(!a.isTyping()&&s&&!Hl(t)||(this.multiple||t.altKey)&&r)t.preventDefault(),this.open();else if(!this.multiple){const d=this.selected;a.onKeydown(t);const h=this.selected;h&&d!==h&&this._liveAnnouncer.announce(h.viewValue,1e4)}}_handleOpenKeydown(t){const i=this._keyManager,r=t.keyCode,s=40===r||38===r,a=i.isTyping();if(s&&t.altKey)t.preventDefault(),this.close();else if(a||13!==r&&32!==r||!i.activeItem||Hl(t))if(!a&&this._multiple&&65===r&&t.ctrlKey){t.preventDefault();const d=this.options.some(h=>!h.disabled&&!h.selected);this.options.forEach(h=>{h.disabled||(d?h.select():h.deselect())})}else{const d=i.activeItemIndex;i.onKeydown(t),this._multiple&&s&&t.shiftKey&&i.activeItem&&i.activeItemIndex!==d&&i.activeItem._selectViaInteraction()}else t.preventDefault(),i.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe(Wt(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(t){if(this._selectionModel.selected.forEach(i=>i.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&t)Array.isArray(t),t.forEach(i=>this._selectOptionByValue(i)),this._sortValues();else{const i=this._selectOptionByValue(t);i?this._keyManager.updateActiveItem(i):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(t){const i=this.options.find(r=>{if(this._selectionModel.isSelected(r))return!1;try{return null!=r.value&&this._compareWith(r.value,t)}catch{return!1}});return i&&this._selectionModel.select(i),i}_assignValue(t){return!!(t!==this._value||this._multiple&&Array.isArray(t))&&(this.options&&this._setSelectionByValue(t),this._value=t,!0)}_initKeyManager(){this._keyManager=new dK(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe(wi(this._destroy)).subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.pipe(wi(this._destroy)).subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const t=(0,zl.T)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(wi(t)).subscribe(i=>{this._onSelect(i.source,i.isUserInput),i.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,zl.T)(...this.options.map(i=>i._stateChanges)).pipe(wi(t)).subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}_onSelect(t,i){const r=this._selectionModel.isSelected(t);null!=t.value||this._multiple?(r!==t.selected&&(t.selected?this._selectionModel.select(t):this._selectionModel.deselect(t)),i&&this._keyManager.setActiveItem(t),this.multiple&&(this._sortValues(),i&&this.focus())):(t.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(t.value)),r!==this._selectionModel.isSelected(t)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const t=this.options.toArray();this._selectionModel.sort((i,r)=>this.sortComparator?this.sortComparator(i,r,t):t.indexOf(i)-t.indexOf(r)),this.stateChanges.next()}}_propagateChanges(t){let i=null;i=this.multiple?this.selected.map(r=>r.value):this.selected?this.selected.value:t,this._value=i,this.valueChange.emit(i),this._onChange(i),this.selectionChange.emit(this._getChangeEvent(i)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(t){this._elementRef.nativeElement.focus(t)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;const t=this._parentFormField?.getLabelId();return this.ariaLabelledby?(t?t+" ":"")+this.ariaLabelledby:t}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;const t=this._parentFormField?.getLabelId();let i=(t?t+" ":"")+this._valueId;return this.ariaLabelledby&&(i+=" "+this.ariaLabelledby),i}_panelDoneAnimating(t){this.openedChange.emit(t)}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(ox),l.Y36(l.sBO),l.Y36(l.R0b),l.Y36(MN),l.Y36(l.SBq),l.Y36(Hp,8),l.Y36(cC,8),l.Y36(th,8),l.Y36(NF,8),l.Y36(Wl,10),l.$8M("tabindex"),l.Y36(xG),l.Y36(DN),l.Y36(_se,8))},n.\u0275dir=l.lG2({type:n,viewQuery:function(t,i){if(1&t&&(l.Gf(sse,5),l.Gf(ose,5),l.Gf(xH,5)),2&t){let r;l.iGM(r=l.CRH())&&(i.trigger=r.first),l.iGM(r=l.CRH())&&(i.panel=r.first),l.iGM(r=l.CRH())&&(i._overlayDir=r.first)}},inputs:{userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[l.qOj,l.TTD]}),n})(),Cse=(()=>{class n extends wse{constructor(){super(...arguments),this._scrollTop=0,this._triggerFontSize=0,this._transformOrigin="top",this._offsetY=0,this._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}]}_calculateOverlayScroll(t,i,r){const s=this._getItemHeight();return Math.min(Math.max(0,s*t-i+s/2),r)}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe(wi(this._destroy)).subscribe(()=>{this.panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._changeDetectorRef.markForCheck())})}open(){super._canOpen()&&(super.open(),this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._calculateOverlayPosition(),this._ngZone.onStable.pipe(Wt(1)).subscribe(()=>{this._triggerFontSize&&this._overlayDir.overlayRef&&this._overlayDir.overlayRef.overlayElement&&(this._overlayDir.overlayRef.overlayElement.style.fontSize=`${this._triggerFontSize}px`)}))}_scrollOptionIntoView(t){const i=Z4(t,this.options,this.optionGroups),r=this._getItemHeight();this.panel.nativeElement.scrollTop=0===t&&1===i?0:function QK(n,e,t,i){return n<t?n:n+e>t+i?Math.max(0,n-i+e):t}((t+i)*r,r,this.panel.nativeElement.scrollTop,256)}_positioningSettled(){this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop}_panelDoneAnimating(t){this.panelOpen?this._scrollTop=0:(this._overlayDir.offsetX=0,this._changeDetectorRef.markForCheck()),super._panelDoneAnimating(t)}_getChangeEvent(t){return new vse(this,t)}_calculateOverlayOffsetX(){const t=this._overlayDir.overlayRef.overlayElement.getBoundingClientRect(),i=this._viewportRuler.getViewportSize(),r=this._isRtl(),s=this.multiple?56:32;let a;if(this.multiple)a=40;else if(this.disableOptionCentering)a=16;else{let p=this._selectionModel.selected[0]||this.options.first;a=p&&p.group?32:16}r||(a*=-1);const d=0-(t.left+a-(r?s:0)),h=t.right+a-i.width+(r?0:s);d>0?a+=d+8:h>0&&(a-=h+8),this._overlayDir.offsetX=Math.round(a),this._overlayDir.overlayRef.updatePosition()}_calculateOverlayOffsetY(t,i,r){const s=this._getItemHeight(),a=(s-this._triggerRect.height)/2,d=Math.floor(256/s);let h;return this.disableOptionCentering?0:(h=0===this._scrollTop?t*s:this._scrollTop===r?(t-(this._getItemCount()-d))*s+(s-(this._getItemCount()*s-256)%s):i-s/2,Math.round(-1*h-a))}_checkOverlayWithinViewport(t){const i=this._getItemHeight(),r=this._viewportRuler.getViewportSize(),s=this._triggerRect.top-8,a=r.height-this._triggerRect.bottom-8,d=Math.abs(this._offsetY),p=Math.min(this._getItemCount()*i,256)-d-this._triggerRect.height;p>a?this._adjustPanelUp(p,a):d>s?this._adjustPanelDown(d,s,t):this._transformOrigin=this._getOriginBasedOnOption()}_adjustPanelUp(t,i){const r=Math.round(t-i);this._scrollTop-=r,this._offsetY-=r,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}_adjustPanelDown(t,i,r){const s=Math.round(t-i);if(this._scrollTop+=s,this._offsetY+=s,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=r)return this._scrollTop=r,this._offsetY=0,void(this._transformOrigin="50% top 0px")}_calculateOverlayPosition(){const t=this._getItemHeight(),i=this._getItemCount(),r=Math.min(i*t,256),a=i*t-r;let d;d=this.empty?0:Math.max(this.options.toArray().indexOf(this._selectionModel.selected[0]),0),d+=Z4(d,this.options,this.optionGroups);const h=r/2;this._scrollTop=this._calculateOverlayScroll(d,h,a),this._offsetY=this._calculateOverlayOffsetY(d,h,a),this._checkOverlayWithinViewport(a)}_getOriginBasedOnOption(){const t=this._getItemHeight(),i=(t-this._triggerRect.height)/2;return`50% ${Math.abs(this._offsetY)-i+t/2}px 0px`}_getItemHeight(){return 3*this._triggerFontSize}_getItemCount(){return this.options.length+this.optionGroups.length}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-select"]],contentQueries:function(t,i,r){if(1&t&&(l.Suo(r,Ese,5),l.Suo(r,Y4,5),l.Suo(r,q4,5)),2&t){let s;l.iGM(s=l.CRH())&&(i.customTrigger=s.first),l.iGM(s=l.CRH())&&(i.options=s),l.iGM(s=l.CRH())&&(i.optionGroups=s)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","true",1,"mat-select"],hostVars:19,hostBindings:function(t,i){1&t&&l.NdJ("keydown",function(s){return i._handleKeydown(s)})("focus",function(){return i._onFocus()})("blur",function(){return i._onBlur()}),2&t&&(l.uIk("id",i.id)("tabindex",i.tabIndex)("aria-controls",i.panelOpen?i.id+"-panel":null)("aria-expanded",i.panelOpen)("aria-label",i.ariaLabel||null)("aria-required",i.required.toString())("aria-disabled",i.disabled.toString())("aria-invalid",i.errorState)("aria-activedescendant",i._getAriaActiveDescendant()),l.ekj("mat-select-disabled",i.disabled)("mat-select-invalid",i.errorState)("mat-select-required",i.required)("mat-select-empty",i.empty)("mat-select-multiple",i.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matSelect"],features:[l._Bn([{provide:Rx,useExisting:n},{provide:W4,useExisting:n}]),l.qOj],ngContentSelectors:fse,decls:9,vars:12,consts:[["cdk-overlay-origin","",1,"mat-select-trigger",3,"click"],["origin","cdkOverlayOrigin","trigger",""],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder mat-select-min-line",4,"ngSwitchCase"],["class","mat-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","backdropClick","attach","detach"],[1,"mat-select-placeholder","mat-select-min-line"],[1,"mat-select-value-text",3,"ngSwitch"],["class","mat-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-min-line"],[1,"mat-select-panel-wrap"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(t,i){if(1&t&&(l.F$t(hse),l.TgZ(0,"div",0,1),l.NdJ("click",function(){return i.toggle()}),l.TgZ(3,"div",2),l.YNc(4,ase,2,1,"span",3),l.YNc(5,use,3,2,"span",4),l.qZA(),l.TgZ(6,"div",5),l._UZ(7,"div",6),l.qZA()(),l.YNc(8,dse,4,14,"ng-template",7),l.NdJ("backdropClick",function(){return i.close()})("attach",function(){return i._onAttached()})("detach",function(){return i.close()})),2&t){const r=l.MAs(1);l.uIk("aria-owns",i.panelOpen?i.id+"-panel":null),l.xp6(3),l.Q6J("ngSwitch",i.empty),l.uIk("id",i._valueId),l.xp6(1),l.Q6J("ngSwitchCase",!0),l.xp6(1),l.Q6J("ngSwitchCase",!1),l.xp6(3),l.Q6J("cdkConnectedOverlayPanelClass",i._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",i._scrollStrategy)("cdkConnectedOverlayOrigin",r)("cdkConnectedOverlayOpen",i.panelOpen)("cdkConnectedOverlayPositions",i._positions)("cdkConnectedOverlayMinWidth",null==i._triggerRect?null:i._triggerRect.width)("cdkConnectedOverlayOffsetY",i._offsetY)}},dependencies:[yn,os,wo,Co,xH,AH],styles:['.mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{height:16px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;margin:0 4px}.mat-form-field.mat-focused .mat-select-arrow{transform:translateX(0)}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px;outline:0}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}'],encapsulation:2,data:{animation:[TG.transformPanelWrap,TG.transformPanel]},changeDetection:0}),n})(),Sse=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[yse],imports:[ai,nC,K4,Vn,ax,ov,K4,Vn]}),n})();function Ise(n,e){1&n&&(l.TgZ(0,"mat-hint",24),l._uU(1,"\u042d\u0442\u0430 \u043a\u043d\u0438\u0433\u0430 \u0443\u0436\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442"),l.qZA())}function Tse(n,e){if(1&n&&(l.TgZ(0,"mat-option",25),l._uU(1),l.qZA()),2&n){const t=e.$implicit;l.Q6J("value",t.value),l.xp6(1),l.hij(" ",t.name_ru+" | "+t.name_kz," ")}}function Dse(n,e){if(1&n&&(l.TgZ(0,"mat-option",25),l._uU(1),l.qZA()),2&n){const t=e.$implicit;l.Q6J("value",t.value),l.xp6(1),l.hij(" ",t.value?t.name_ru+" | "+t.name_kz:"\u041d\u0435\u0442"," ")}}function Ase(n,e){if(1&n&&(l.TgZ(0,"mat-option",25),l._uU(1),l.qZA()),2&n){const t=e.$implicit;l.Q6J("value",t.value),l.xp6(1),l.hij(" ",t.value?t.name_ru+" | "+t.name_kz:"\u041d\u0435\u0442"," ")}}let xse=(()=>{class n{constructor(t,i,r,s){this.firestore=t,this.listenerService=i,this.snackbarService=r,this.afs=s,this.books=[],this.destroy$=new Tt.x,this.loader=new DF,this.checkInFire=!1,this.form=new rv({width:new on(null,[_i.required]),height:new on(null,[_i.required]),ISBN:new on(null,[_i.required]),language:new on("\u0420\u0443\u0441\u0441\u043a\u0438\u0439"),page_count:new on(null,[_i.required]),date:new on(null),thickness:new on(null),title:new on(null,[_i.required]),price:new on(null,[_i.required]),old_price:new on(null),sku:new on(null,[_i.required]),count:new on(null,[_i.required]),author:new on(null,[_i.required]),series:new on(null),img_url:new on(null),img_author_url:new on(null),present_house:new on(null),present_house_description:new on(null),present_house_description_kz:new on(null),author_info_ru:new on(null),author_info_kz:new on(null),description_ru:new on(null,[_i.required]),description_kz:new on(null,[_i.required]),catalog:new on(null),catalog_name_ru:new on(null),catalog_name_kz:new on(null),chapter:new on(null),chapter_name_ru:new on(null),chapter_name_kz:new on(null),category:new on(null,[_i.required]),category_name_ru:new on(null,[_i.required]),category_name_kz:new on(null,[_i.required]),addedTime:new on(Date.now()),addedDate:new on(new Date)}),this.category=[{value:"artistic_literature",name_ru:"\u0425\u0443\u0434\u043e\u0436\u0435\u0441\u0442\u0432\u0435\u043d\u043d\u0430\u044f \u043b\u0438\u0442\u0435\u0440\u0430\u0442\u0443\u0440\u0430",name_kz:"\u041a\u04e9\u0440\u043a\u0435\u043c \u04d9\u0434\u0435\u0431\u0438\u0435\u0442"},{value:"children_literature",name_ru:"\u0414\u0435\u0442\u0441\u043a\u0430\u044f \u043b\u0438\u0442\u0435\u0440\u0430\u0442\u0443\u0440\u0430",name_kz:"\u0411\u0430\u043b\u0430\u043b\u0430\u0440 \u04d9\u0434\u0435\u0431\u0438\u0435\u0442\u0456"},{value:"education_textbooks",name_ru:"\u041e\u0431\u0440\u0430\u0437\u043e\u0432\u0430\u043d\u0438\u0435. \u0423\u0447\u0435\u0431\u043d\u0438\u043a\u0438",name_kz:"\u0411\u0456\u043b\u0456\u043c. \u041e\u049b\u0443\u043b\u044b\u049b\u0442\u0430\u0440"},{value:"popular_psychology",name_ru:"\u041f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u0430\u044f \u043f\u0441\u0438\u0445\u043e\u043b\u043e\u0433\u0438\u044f",name_kz:"\u0422\u0430\u043d\u044b\u043c\u0430\u043b \u043f\u0441\u0438\u0445\u043e\u043b\u043e\u0433\u0438\u044f"},{value:"business_literature",name_ru:"\u0414\u0435\u043b\u043e\u0432\u0430\u044f \u043b\u0438\u0442\u0435\u0440\u0430\u0442\u0443\u0440\u0430",name_kz:"\u0406\u0441\u043a\u0435\u0440\u043b\u0456\u043a \u04d9\u0434\u0435\u0431\u0438\u0435\u0442"},{value:"home_family_leisure",name_ru:"\u0414\u043e\u043c. \u0421\u0435\u043c\u044c\u044f. \u0414\u043e\u0441\u0443\u0433",name_kz:"\u04ae\u0439. \u041e\u0442\u0431\u0430\u0441\u044b. \u0411\u043e\u0441 \u0443\u0430\u049b\u044b\u0442"},{value:"esotericism_magic_astrology",name_ru:"\u042d\u0437\u043e\u0442\u0435\u0440\u0438\u043a\u0430. \u041c\u0430\u0433\u0438\u044f. \u0410\u0441\u0442\u0440\u043e\u043b\u043e\u0433\u0438\u044f",name_kz:"\u042d\u0437\u043e\u0442\u0435\u0440\u0438\u043a\u0430. \u0421\u0438\u049b\u044b\u0440. \u0410\u0441\u0442\u0440\u043e\u043b\u043e\u0433\u0438\u044f"},{value:"medicine_and_health",name_ru:"\u041c\u0435\u0434\u0438\u0446\u0438\u043d\u0430 \u0438 \u0437\u0434\u043e\u0440\u043e\u0432\u044c\u0435",name_kz:"\u041c\u0435\u0434\u0438\u0446\u0438\u043d\u0430 \u0436\u04d9\u043d\u0435 \u0434\u0435\u043d\u0441\u0430\u0443\u043b\u044b\u049b"},{value:"science",name_ru:"\u041d\u0430\u0443\u043a\u0430",name_kz:"\u0492\u044b\u043b\u044b\u043c"},{value:"journalism",name_ru:"\u041f\u0443\u0431\u043b\u0438\u0446\u0438\u0441\u0442\u0438\u043a\u0430",name_kz:"\u0416\u0443\u0440\u043d\u0430\u043b\u0438\u0441\u0442\u0438\u043a\u0430"},{value:"gift_editions",name_ru:"\u041f\u043e\u0434\u0430\u0440\u043e\u0447\u043d\u044b\u0435 \u0438\u0437\u0434\u0430\u043d\u0438\u044f",name_kz:"\u0421\u044b\u0439\u043b\u044b\u049b \u0431\u0430\u0441\u044b\u043b\u044b\u043c\u0434\u0430\u0440\u044b"},{value:"gift_editions",name_ru:"\u041a\u043e\u043c\u043f\u044c\u044e\u0442\u0435\u0440\u044b \u0438 \u0418\u043d\u0442\u0435\u0440\u043d\u0435\u0442",name_kz:"\u041a\u043e\u043c\u043f\u044c\u044e\u0442\u0435\u0440\u043b\u0435\u0440 \u0436\u04d9\u043d\u0435 \u0418\u043d\u0442\u0435\u0440\u043d\u0435\u0442"},{value:"literature_of_Kazakhstan",name_ru:"\u041b\u0438\u0442\u0435\u0440\u0430\u0442\u0443\u0440\u0430 \u041a\u0430\u0437\u0430\u0445\u0441\u0442\u0430\u043d\u0430",name_kz:"\u049a\u0430\u0437\u0430\u049b\u0441\u0442\u0430\u043d \u04d8\u0434\u0435\u0431\u0438\u0435\u0442\u0456"},{value:"legal_literature",name_ru:"\u042e\u0440\u0438\u0434\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u043b\u0438\u0442\u0435\u0440\u0430\u0442\u0443\u0440\u0430",name_kz:"\u049a\u04b1\u049b\u044b\u049b\u0442\u044b\u049b \u04d9\u0434\u0435\u0431\u0438\u0435\u0442"},{value:"technical_literature",name_ru:"\u0422\u0435\u0445\u043d\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u043b\u0438\u0442\u0435\u0440\u0430\u0442\u0443\u0440\u0430",name_kz:"\u0422\u0435\u0445\u043d\u0438\u043a\u0430\u043b\u044b\u049b \u04d9\u0434\u0435\u0431\u0438\u0435\u0442\u0442\u0435\u0440"},{value:"art_culture",name_ru:"\u0418\u0441\u043a\u0443\u0441\u0441\u0442\u0432\u043e. \u041a\u0443\u043b\u044c\u0442\u0443\u0440\u0430",name_kz:"\u04e8\u043d\u0435\u0440. \u041c\u04d9\u0434\u0435\u043d\u0438\u0435\u0442"},{value:"sport_tourism_hobby",name_ru:"\u0421\u043f\u043e\u0440\u0442. \u0422\u0443\u0440\u0438\u0437\u043c. \u0425\u043e\u0431\u0431\u0438",name_kz:"\u0421\u043f\u043e\u0440\u0442. \u0422\u0443\u0440\u0438\u0437\u043c. \u0425\u043e\u0431\u0431\u0438"},{value:"encyclopedias_references",name_ru:"\u042d\u043d\u0446\u0438\u043a\u043b\u043e\u043f\u0435\u0434\u0438\u0438. \u0421\u043f\u0440\u0430\u0432\u043e\u0447\u043d\u0438\u043a\u0438",name_kz:"\u042d\u043d\u0446\u0438\u043a\u043b\u043e\u043f\u0435\u0434\u0438\u044f\u043b\u0430\u0440. \u0410\u043d\u044b\u049b\u0442\u0430\u043c\u0430\u043b\u044b\u049b\u0442\u0430\u0440"},{value:"cars",name_ru:"\u0410\u0432\u0442\u043e\u043c\u043e\u0431\u0438\u043b\u0438",name_kz:"\u0410\u0432\u0442\u043e\u043c\u043e\u0431\u0438\u043b\u044c\u0434\u0435\u0440"},{value:"secrets_sensations_catastrophes",name_ru:"\u0422\u0430\u0439\u043d\u044b, \u0441\u0435\u043d\u0441\u0430\u0446\u0438\u0438, \u043a\u0430\u0442\u0430\u0441\u0442\u0440\u043e\u0444\u044b",name_kz:"\u0416\u04b1\u043c\u0431\u0430\u049b\u0442\u0430\u0440, \u0441\u0435\u043d\u0441\u0430\u0446\u0438\u044f\u043b\u0430\u0440, \u0430\u043f\u0430\u0442\u0442\u0430\u0440"},{value:"accessories_calendars_postcards",name_ru:"\u0410\u043a\u0441\u0435\u0441\u0441\u0443\u0430\u0440\u044b, \u043a\u0430\u043b\u0435\u043d\u0434\u0430\u0440\u0438, \u043e\u0442\u043a\u0440\u044b\u0442\u043a\u0438",name_kz:"\u0410\u043a\u0441\u0435\u0441\u0441\u0443\u0430\u0440\u043b\u0430\u0440, \u043a\u04af\u043d\u0442\u0456\u0437\u0431\u0435\u043b\u0435\u0440,\u0430\u0448\u044b\u049b \u0445\u0430\u0442\u0442\u0430\u0440"}],this.catalog=[{value:null,name_ru:"\u041d\u0435\u0442",name_kz:null},{value:"200_pages",name_ru:"\u041c\u0435\u043d\u044c\u0448\u0435 200 \u0441\u0442\u0440\u0430\u043d\u0438\u0446",name_kz:"200 \u0431\u0435\u0442\u0442\u0435\u043d \u0430\u0437"},{value:"antidepressant_books",name_ru:"\u041a\u043d\u0438\u0433\u0438 \u0430\u043d\u0442\u0438\u0434\u0435\u043f\u0440\u0435\u0441\u0430\u043d\u0442\u044b",name_kz:"\u0410\u043d\u0442\u0438\u0434\u0435\u043f\u0440\u0435\u0441\u0441\u0430\u043d\u0442\u0442\u0430\u0440 \u043a\u0456\u0442\u0430\u043f\u0442\u0430\u0440\u044b"},{value:"think_about_life",name_ru:"\u0415\u0441\u043b\u0438 \u0445\u043e\u0447\u0435\u0448\u044c \u043f\u043e\u0440\u0430\u0437\u043c\u044b\u0449\u043b\u044f\u0442\u044c \u043e \u0436\u0438\u0437\u043d\u0438",name_kz:"\u0415\u0433\u0435\u0440 \u0441\u0456\u0437 \u04e9\u043c\u0456\u0440 \u0442\u0443\u0440\u0430\u043b\u044b \u0430\u0448\u0443\u043b\u0430\u043d\u0493\u044b\u04a3\u044b\u0437 \u043a\u0435\u043b\u0441\u0435"},{value:"to_parents",name_ru:"\u041d\u0435\u0437\u0430\u043c\u0435\u043d\u0438\u043c\u044b\u0435 \u043a\u043d\u0438\u0433\u0438 \u0434\u043b\u044f \u0440\u043e\u0434\u0438\u0442\u0435\u043b\u0435\u0439",name_kz:"\u0410\u0442\u0430-\u0430\u043d\u0430\u043b\u0430\u0440 \u04af\u0448\u0456\u043d \u0442\u0430\u043f\u0442\u044b\u0440\u043c\u0430\u0441 \u043a\u0456\u0442\u0430\u043f\u0442\u0430\u0440"},{value:"understand_yourself",name_ru:"\u041f\u043e\u043d\u044f\u0442\u044c \u0441\u0435\u0431\u044f \u0438 \u0432\u0441\u0435\u0445 \u0432\u043e\u043a\u0440\u0443\u0433",name_kz:"\u04e8\u0437\u0456\u04a3\u0456\u0437\u0434\u0456 \u0436\u04d9\u043d\u0435 \u0430\u0439\u043d\u0430\u043b\u0430\u04a3\u044b\u0437\u0434\u0430\u0493\u044b\u043b\u0430\u0440\u0434\u044b\u04a3 \u0431\u04d9\u0440\u0456\u043d \u0442\u04af\u0441\u0456\u043d\u0456\u04a3\u0456\u0437"}],this.chapters=[{value:null,name_ru:"\u041d\u0435\u0442",name_kz:null},{value:"newest",name_ru:"\u041a\u043d\u0438\u0436\u043d\u044b\u0435 \u043d\u043e\u0432\u0438\u043d\u043a\u0438",name_kz:"\u041a\u0456\u0442\u0430\u043f \u0436\u0430\u04a3\u0430\u043b\u044b\u049b\u0442\u0430\u0440\u044b"},{value:"popular_psychology",name_ru:"\u041f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u0430\u044f \u043f\u0441\u0438\u0445\u043e\u043b\u043e\u0433\u0438\u044f",name_kz:"\u0422\u0430\u043d\u044b\u043c\u0430\u043b \u043f\u0441\u0438\u0445\u043e\u043b\u043e\u0433\u0438\u044f"},{value:"recipe",name_ru:"\u041d\u0438 \u043e\u0434\u0438\u043d \u0440\u0435\u0446\u0435\u043f\u0442 \u043d\u0435 \u0431\u0443\u0434\u0435\u0442 \u043f\u043e\u0442\u0435\u0440\u044f\u043d!",name_kz:"\u0415\u0448\u049b\u0430\u043d\u0434\u0430\u0439 \u0440\u0435\u0446\u0435\u043f\u0442 \u0436\u043e\u0493\u0430\u043b\u043c\u0430\u0439\u0434\u044b!"},{value:"investments",name_ru:"\u0412\u0441\u0435 \u043e\u0431 \u0438\u043d\u0432\u0435\u0441\u0442\u0438\u0446\u0438\u044f\u0445",name_kz:"\u0411\u0430\u0440\u043b\u044b\u0493\u044b \u0438\u043d\u0432\u0435\u0441\u0442\u0438\u0446\u0438\u044f \u0442\u0443\u0440\u0430\u043b\u044b"},{value:"prose_chosen",name_ru:"\u041f\u0440\u043e\u0437\u0430, \u043a\u043e\u0442\u043e\u0440\u0443\u044e \u0432\u044b\u0431\u0438\u0440\u0430\u044e\u0442",name_kz:"\u0422\u0430\u04a3\u0434\u0430\u043b\u0493\u0430\u043d \u041f\u0440\u043e\u0437\u0430"}]}ngOnInit(){this.listenerService.books$.pipe(wi(this.destroy$)).subscribe(t=>{console.log(t),this.books=t})}ngOnDestroy(){this.destroy$.next(void 0),this.destroy$.complete()}chapterChange(){const t=this.form.controls.chapter.getRawValue(),i=this.chapters.find(r=>r.value===t);this.form.controls.chapter_name_ru.patchValue(i?.name_ru),this.form.controls.chapter_name_kz.patchValue(i?.name_kz)}catalogChange(){const t=this.form.controls.catalog.getRawValue(),i=this.catalog.find(r=>r.value===t);this.form.controls.catalog_name_ru.patchValue(i?.name_ru),this.form.controls.catalog_name_kz.patchValue(i?.name_kz)}categoryChange(){const t=this.form.controls.category.getRawValue(),i=this.category.find(r=>r.value===t);this.form.controls.category_name_ru.patchValue(i?.name_ru),this.form.controls.category_name_kz.patchValue(i?.name_kz)}cancel(){}reset(){this.form.reset()}send(){var t=this;return(0,ee.Z)(function*(){t.loader.on(),yield B7(_N(t.firestore,"books",t.form.controls.sku.getRawValue()),t.form.value,{merge:!0}).then(()=>t.loader.off()).then(()=>t.snackbarService.openSnackbar(`\u041a\u043d\u0438\u0433\u0430 ${t.form.get("title")?.value} \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u043e!!!`)).then(()=>t.form.reset()).catch(()=>t.snackbarService.openSnackbar("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0439 \u043a\u043d\u0438\u0433\u0438"))})()}checkBook(){const t=this.form.controls.sku.getRawValue();this.checkInFire=!!this.books.find(i=>i.sku===t.trim())}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Zd),l.Y36(_4),l.Y36(rse),l.Y36(Pj))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-add-book-modal"]],decls:124,vars:33,consts:[[1,"wrapper","d-flex","flex-col","height"],[1,"header","px-4","fz-5","fw600","d-flex","align-center"],[1,"spacer","px-4","scroll"],[3,"formGroup"],[1,"content","d-flex","justify-between","gap-6"],[1,""],["appearance","outline",1,"inputs"],["matInput","","placeholder","\u041a\u043e\u0434 \u0442\u043e\u0432\u0430\u0440\u0430",3,"formControlName","input"],["style","color:red;font-weight: 600",4,"ngIf"],["matInput","","placeholder","\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",3,"formControlName"],["matInput","","placeholder","\u0410\u0432\u0442\u043e\u0440",3,"formControlName"],["matInput","","placeholder","\u041a\u043e\u0434 \u0442\u043e\u0432\u0430\u0440\u0430",3,"formControlName"],["matInput","","placeholder","Placeholder",3,"formControlName"],["matInput","","placeholder","\u0418\u0437\u0434\u0430\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u043e \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",3,"formControlName"],[1,"content"],[1,"fw600","fz-4","mt-4","mb-4"],["appearance","outline",1,"width"],[3,"formControlName","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[1,"fw600","fz-4","mb-4"],[1,"footer","px-4"],[1,"width","height","d-flex","gap-4","align-center"],["mat-button","","color","warn",1,"spacer","br-16",3,"click"],[1,"spacer",3,"value","loading","disabled","onClick"],[2,"color","red","font-weight","600"],[3,"value"]],template:function(t,i){1&t&&(l.TgZ(0,"div",0)(1,"div",1),l._uU(2,"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a\u043d\u0438\u0433\u0443"),l.qZA(),l.TgZ(3,"div",2)(4,"form",3)(5,"div",4)(6,"div",5)(7,"mat-form-field",6)(8,"mat-label"),l._uU(9,"\u041a\u043e\u0434 \u0442\u043e\u0432\u0430\u0440\u0430"),l.qZA(),l.TgZ(10,"input",7),l.NdJ("input",function(){return i.checkBook()}),l.qZA(),l.YNc(11,Ise,2,0,"mat-hint",8),l.qZA(),l.TgZ(12,"mat-form-field",6)(13,"mat-label"),l._uU(14,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"),l.qZA(),l._UZ(15,"input",9),l.qZA(),l.TgZ(16,"mat-form-field",6)(17,"mat-label"),l._uU(18,"\u0410\u0432\u0442\u043e\u0440"),l.qZA(),l._UZ(19,"input",10),l.qZA(),l.TgZ(20,"mat-form-field",6)(21,"mat-label"),l._uU(22,"\u0426\u0435\u043d\u0430"),l.qZA(),l._UZ(23,"input",11),l.qZA(),l.TgZ(24,"mat-form-field",6)(25,"mat-label"),l._uU(26,"\u0421\u0442\u0430\u0440\u0430\u044f \u0446\u0435\u043d\u0430"),l.qZA(),l._UZ(27,"input",11),l.qZA(),l.TgZ(28,"mat-form-field",6)(29,"mat-label"),l._uU(30,"\u0421\u0435\u0440\u0438\u044f"),l.qZA(),l._UZ(31,"input",11),l.qZA(),l.TgZ(32,"mat-form-field",6)(33,"mat-label"),l._uU(34,"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0442\u043e\u0432\u0430\u0440\u0430"),l.qZA(),l._UZ(35,"input",11),l.qZA(),l.TgZ(36,"mat-form-field",6)(37,"mat-label"),l._uU(38,"\u0424\u043e\u0442\u043e \u043a\u043d\u0438\u0433\u0438"),l.qZA(),l._UZ(39,"input",11),l.qZA(),l.TgZ(40,"mat-form-field",6)(41,"mat-label"),l._uU(42,"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043d\u0430 \u043a\u0430\u0437\u0430\u0445\u0441\u043a\u043e\u043c"),l.qZA(),l._UZ(43,"input",11),l.qZA(),l.TgZ(44,"mat-form-field",6)(45,"mat-label"),l._uU(46,"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e"),l.qZA(),l._UZ(47,"input",11),l.qZA(),l.TgZ(48,"mat-form-field",6)(49,"mat-label"),l._uU(50,"\u0414\u0435\u0442\u0430\u043b\u0438(ISBN)"),l.qZA(),l._UZ(51,"input",12),l.qZA()(),l.TgZ(52,"div",5)(53,"mat-form-field",6)(54,"mat-label"),l._uU(55,"\u0414\u0435\u0442\u0430\u043b\u0438(\u0412\u044b\u0441\u043e\u0442\u0430 \u0438\u0437\u0434\u0430\u043d\u0438\u044f)"),l.qZA(),l._UZ(56,"input",12),l.qZA(),l.TgZ(57,"mat-form-field",6)(58,"mat-label"),l._uU(59,"\u0414\u0435\u0442\u0430\u043b\u0438(\u0428\u0438\u0440\u0438\u043d\u0430 \u0438\u0437\u0434\u0430\u043d\u0438\u044f)"),l.qZA(),l._UZ(60,"input",12),l.qZA(),l.TgZ(61,"mat-form-field",6)(62,"mat-label"),l._uU(63,"\u0414\u0435\u0442\u0430\u043b\u0438(\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0441\u0442\u0440\u0430\u043d\u0438\u0446)"),l.qZA(),l._UZ(64,"input",12),l.qZA(),l.TgZ(65,"mat-form-field",6)(66,"mat-label"),l._uU(67,"\u0414\u0435\u0442\u0430\u043b\u0438(\u0414\u0430\u0442\u0430 \u0432\u044b\u0445\u043e\u0434\u0430)"),l.qZA(),l._UZ(68,"input",12),l.qZA(),l.TgZ(69,"mat-form-field",6)(70,"mat-label"),l._uU(71,"\u0414\u0435\u0442\u0430\u043b\u0438(\u0422\u043e\u043b\u0449\u0438\u043d\u0430 \u0438\u0437\u0434\u0430\u043d\u0438\u044f)"),l.qZA(),l._UZ(72,"input",12),l.qZA(),l.TgZ(73,"mat-form-field",6)(74,"mat-label"),l._uU(75,"\u0418\u0437\u0434\u0430\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u043e"),l.qZA(),l._UZ(76,"input",12),l.qZA(),l.TgZ(77,"mat-form-field",6)(78,"mat-label"),l._uU(79,"\u0418\u0437\u0434\u0430\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u043e \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"),l.qZA(),l._UZ(80,"input",13),l.qZA(),l.TgZ(81,"mat-form-field",6)(82,"mat-label"),l._uU(83,"\u0418\u0437\u0434\u0430\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u043e \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043d\u0430 \u043a\u0430\u0437\u0430\u0445\u0441\u043a\u043e\u043c"),l.qZA(),l._UZ(84,"input",12),l.qZA(),l.TgZ(85,"mat-form-field",6)(86,"mat-label"),l._uU(87,"\u0424\u043e\u0442\u043e \u0430\u0432\u0442\u043e\u0440\u0430"),l.qZA(),l._UZ(88,"input",12),l.qZA(),l.TgZ(89,"mat-form-field",6)(90,"mat-label"),l._uU(91,"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e\u0431 \u0430\u0432\u0442\u043e\u0440\u0435"),l.qZA(),l._UZ(92,"input",12),l.qZA(),l.TgZ(93,"mat-form-field",6)(94,"mat-label"),l._uU(95,"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e\u0431 \u0430\u0432\u0442\u043e\u0440\u0435 \u043d\u0430 \u043a\u0430\u0437\u0430\u0445\u0441\u043a\u043e\u043c"),l.qZA(),l._UZ(96,"input",12),l.qZA()()(),l.TgZ(97,"div",14)(98,"div",15),l._uU(99,"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f"),l.qZA(),l.TgZ(100,"mat-form-field",16)(101,"mat-label"),l._uU(102,"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f"),l.qZA(),l.TgZ(103,"mat-select",17),l.NdJ("selectionChange",function(){return i.categoryChange()}),l.YNc(104,Tse,2,2,"mat-option",18),l.qZA()(),l.TgZ(105,"div",19),l._uU(106,"\u041a\u0430\u0442\u0430\u043b\u043e\u0433"),l.qZA(),l.TgZ(107,"mat-form-field",16)(108,"mat-label"),l._uU(109,"\u041a\u0430\u0442\u0430\u043b\u043e\u0433"),l.qZA(),l.TgZ(110,"mat-select",17),l.NdJ("selectionChange",function(){return i.catalogChange()}),l.YNc(111,Dse,2,2,"mat-option",18),l.qZA()(),l.TgZ(112,"div",19),l._uU(113,"\u0420\u0430\u0437\u0434\u0435\u043b\u044b"),l.qZA(),l.TgZ(114,"mat-form-field",16)(115,"mat-label"),l._uU(116,"\u0420\u0430\u0437\u0434\u0435\u043b\u044b"),l.qZA(),l.TgZ(117,"mat-select",17),l.NdJ("selectionChange",function(){return i.chapterChange()}),l.YNc(118,Ase,2,2,"mat-option",18),l.qZA()()()()(),l.TgZ(119,"div",20)(120,"div",21)(121,"button",22),l.NdJ("click",function(){return i.send()}),l._uU(122," \u041e\u0442\u043c\u0435\u043d\u0430 "),l.qZA(),l.TgZ(123,"app-spinner-button",23),l.NdJ("onClick",function(){return i.send()}),l.qZA()()()()),2&t&&(l.xp6(4),l.Q6J("formGroup",i.form),l.xp6(6),l.Q6J("formControlName","sku"),l.xp6(1),l.Q6J("ngIf",i.checkInFire),l.xp6(4),l.Q6J("formControlName","title"),l.xp6(4),l.Q6J("formControlName","author"),l.xp6(4),l.Q6J("formControlName","price"),l.xp6(4),l.Q6J("formControlName","old_price"),l.xp6(4),l.Q6J("formControlName","series"),l.xp6(4),l.Q6J("formControlName","description_ru"),l.xp6(4),l.Q6J("formControlName","img_url"),l.xp6(4),l.Q6J("formControlName","description_kz"),l.xp6(4),l.Q6J("formControlName","count"),l.xp6(4),l.Q6J("formControlName","ISBN"),l.xp6(5),l.Q6J("formControlName","height"),l.xp6(4),l.Q6J("formControlName","width"),l.xp6(4),l.Q6J("formControlName","page_count"),l.xp6(4),l.Q6J("formControlName","date"),l.xp6(4),l.Q6J("formControlName","thickness"),l.xp6(4),l.Q6J("formControlName","present_house"),l.xp6(4),l.Q6J("formControlName","present_house_description"),l.xp6(4),l.Q6J("formControlName","present_house_description_kz"),l.xp6(4),l.Q6J("formControlName","img_author_url"),l.xp6(4),l.Q6J("formControlName","author_info_ru"),l.xp6(4),l.Q6J("formControlName","author_info_kz"),l.xp6(7),l.Q6J("formControlName","category"),l.xp6(1),l.Q6J("ngForOf",i.category),l.xp6(6),l.Q6J("formControlName","catalog"),l.xp6(1),l.Q6J("ngForOf",i.catalog),l.xp6(6),l.Q6J("formControlName","chapter"),l.xp6(1),l.Q6J("ngForOf",i.chapters),l.xp6(5),l.Q6J("value","\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c")("loading",i.loader.loading)("disabled",i.form.invalid||!i.loader.loading))},dependencies:[Ar,In,FF,Fj,_C,LF,Cse,Y4,VF,zw,Cx,Wp,rC,mx,th,uC],styles:[".header[_ngcontent-%COMP%]{height:56px}.footer[_ngcontent-%COMP%]{height:70px}.inputs[_ngcontent-%COMP%]{width:260px}.content[_ngcontent-%COMP%]{width:550px}"]}),n})();class Ux{constructor(e,t,i){this._delegate=e,this.task=t,this.ref=i}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class MG{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new Ux(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then(i=>{if(e)return e(new Ux(i,this,this._ref))},t)}on(e,t,i,r){let s;return t&&(s="function"==typeof t?a=>t(new Ux(a,this,this._ref)):{next:t.next?a=>t.next(new Ux(a,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,s,i||void 0,r||void 0)}}class kG{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map(e=>new pu(e,this._service))}get items(){return this._delegate.items.map(e=>new pu(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class pu{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=function Nre(n,e){return pG(n,e)}(this._delegate,e);return new pu(t,this.storage)}get root(){return new pu(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new pu(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new MG(function Are(n,e,t){return function gre(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new uG(n,new Yl(e),t)}(n=(0,q.m9)(n),e,t)}(this._delegate,e,t),this)}putString(e,t=fo.RAW,i){this._throwIfRoot("putString");const r=GF(t,e),s=Object.assign({},i);return null==s.contentType&&null!=r.contentType&&(s.contentType=r.contentType),new MG(new uG(this._delegate,new Yl(r.data,!0),s),this)}listAll(){return function Rre(n){return function yre(n){const e={prefixes:[],items:[]};return hG(n,e).then(()=>e)}(n=(0,q.m9)(n))}(this._delegate).then(e=>new kG(e,this.storage))}list(e){return function kre(n,e){return fG(n=(0,q.m9)(n),e)}(this._delegate,e||void 0).then(t=>new kG(t,this.storage))}getMetadata(){return function xre(n){return function vre(n){n._throwIfRoot("getMetadata");const e=rG(n.storage,n._location,bC());return n.storage.makeRequestWithTokens(e,Ga)}(n=(0,q.m9)(n))}(this._delegate)}updateMetadata(e){return function Mre(n,e){return function bre(n,e){n._throwIfRoot("updateMetadata");const t=function ere(n,e,t,i){const s=fu(e.fullServerUrl(),n.host,n._protocol),d=qF(t,i),p=n.maxOperationRetryTime,g=new Zl(s,"PATCH",Fx(n,i),p);return g.headers={"Content-Type":"application/json; charset=utf-8"},g.body=d,g.errorHandler=EC(e),g}(n.storage,n._location,e,bC());return n.storage.makeRequestWithTokens(t,Ga)}(n=(0,q.m9)(n),e)}(this._delegate,e)}getDownloadURL(){return function Ore(n){return Ere(n=(0,q.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function Pre(n){return function wre(n){n._throwIfRoot("deleteObject");const e=function tre(n,e){const i=fu(e.fullServerUrl(),n.host,n._protocol),d=new Zl(i,"DELETE",function a(h,p){},n.maxOperationRetryTime);return d.successCodes=[200,204],d.errorHandler=EC(e),d}(n.storage,n._location);return n.storage.makeRequestWithTokens(e,Ga)}(n=(0,q.m9)(n))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw qj(e)}}class RG{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(OG(e))throw av("ref() expected a child path but got a URL, use refFromURL instead.");return new pu(XF(this._delegate,e),this)}refFromURL(e){if(!OG(e))throw av("refFromURL() expected a full URL but got a child path, use ref() instead.");try{is.makeFromUrl(e,this._delegate.host)}catch{throw av("refFromUrl() expected a valid full URL but got an invalid one.")}return new pu(XF(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t,i={}){bG(this._delegate,e,t,i)}}function OG(n){return/^[A-Za-z]+:\/\//.test(n)}function Ose(n,{instanceIdentifier:e}){const t=n.getProvider("app-compat").getImmediate(),i=n.getProvider("storage").getImmediate({identifier:e});return new RG(t,i)}function PG(n){const e=function Nse(n){return new Pn.y(e=>{const t=a=>e.next(a);t(n.snapshot);const s=n.on("state_changed",t);return n.then(a=>{t(a),e.complete()},a=>{t(n.snapshot),(a=>{e.error(a)})(a)}),function(){s()}}).pipe(ZA(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>e,percentageChanges:()=>e.pipe((0,rt.U)(t=>t.bytesTransferred/t.totalBytes*100))}}function $x(n){return{getDownloadURL:()=>tt(void 0).pipe(DT,Nn(()=>n.getDownloadURL()),xi),getMetadata:()=>tt(void 0).pipe(DT,Nn(()=>n.getMetadata()),xi),delete:()=>(0,hn.D)(n.delete()),child:e=>$x(n.child(e)),updateMetadata:e=>(0,hn.D)(n.updateMetadata(e)),put:(e,t)=>PG(n.put(e,t)),putString:(e,t,i)=>PG(n.putString(e,t,i)),list:e=>(0,hn.D)(n.list(e)),listAll:()=>(0,hn.D)(n.listAll())}}!function Pse(n){const e={TaskState:Is,TaskEvent:ore,StringFormat:fo,Storage:RG,Reference:pu};n.INTERNAL.registerComponent(new kr.wA("storage-compat",Ose,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.1.22")}(dj.Z);const Fse=new l.OlP("angularfire2.storageBucket"),Lse=new l.OlP("angularfire2.storage.maxUploadRetryTime"),Bse=new l.OlP("angularfire2.storage.maxOperationRetryTime"),Vse=new l.OlP("angularfire2.storage.use-emulator");let Use=(()=>{class n{constructor(t,i,r,s,a,d,h,p,g,v){const w=(0,Es.on)(t,a,i);this.storage=(0,Es.cc)(`${w.name}.storage.${r}`,"AngularFireStorage",w.name,()=>{const D=a.runOutsideAngular(()=>w.storage(r||void 0)),A=g;return A&&D.useEmulator(...A),h&&D.setMaxUploadRetryTime(h),p&&D.setMaxOperationRetryTime(p),D},[h,p])}ref(t){return $x(this.storage.ref(t))}refFromURL(t){return $x(this.storage.refFromURL(t))}upload(t,i,r){return $x(this.storage.ref(t)).put(i,r)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Es.Dh),l.LFG(Es.xv,8),l.LFG(Fse,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(Xr),l.LFG(Lse,8),l.LFG(Bse,8),l.LFG(Vse,8),l.LFG(Fa,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),$se=(()=>{class n{getUser(){return JSON.parse(localStorage.getItem("currentUser"))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Hse=["mat-menu-item",""];function zse(n,e){1&n&&(l.O4$(),l.TgZ(0,"svg",2),l._UZ(1,"polygon",3),l.qZA())}const NG=["*"];function jse(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",0),l.NdJ("keydown",function(r){l.CHM(t);const s=l.oxw();return l.KtG(s._handleKeydown(r))})("click",function(){l.CHM(t);const r=l.oxw();return l.KtG(r.closed.emit("click"))})("@transformMenu.start",function(r){l.CHM(t);const s=l.oxw();return l.KtG(s._onAnimationStart(r))})("@transformMenu.done",function(r){l.CHM(t);const s=l.oxw();return l.KtG(s._onAnimationDone(r))}),l.TgZ(1,"div",1),l.Hsn(2),l.qZA()()}if(2&n){const t=l.oxw();l.Q6J("id",t.panelId)("ngClass",t._classList)("@transformMenu",t._panelAnimationState),l.uIk("aria-label",t.ariaLabel||null)("aria-labelledby",t.ariaLabelledby||null)("aria-describedby",t.ariaDescribedby||null)}}const Hx={transformMenu:jp("transformMenu",[Gl("void",Ji({opacity:0,transform:"scale(0.8)"})),ja("void => enter",jl("120ms cubic-bezier(0, 0, 0.2, 1)",Ji({opacity:1,transform:"scale(1)"}))),ja("* => void",jl("100ms 25ms linear",Ji({opacity:0})))]),fadeInItems:jp("fadeInItems",[Gl("showing",Ji({opacity:1})),ja("void => *",[Ji({opacity:0}),jl("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},Gse=new l.OlP("MatMenuContent"),nL=new l.OlP("MAT_MENU_PANEL"),Wse=Qy(xN(class{}));let zx=(()=>{class n extends Wse{constructor(t,i,r,s,a){super(),this._elementRef=t,this._document=i,this._focusMonitor=r,this._parentMenu=s,this._changeDetectorRef=a,this.role="menuitem",this._hovered=new Tt.x,this._focused=new Tt.x,this._highlighted=!1,this._triggersSubmenu=!1,s?.addItem?.(this)}focus(t,i){this._focusMonitor&&t?this._focusMonitor.focusVia(this._getHostElement(),t,i):this._getHostElement().focus(i),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(t){this.disabled&&(t.preventDefault(),t.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){const t=this._elementRef.nativeElement.cloneNode(!0),i=t.querySelectorAll("mat-icon, .material-icons");for(let r=0;r<i.length;r++)i[r].remove();return t.textContent?.trim()||""}_setHighlighted(t){this._highlighted=t,this._changeDetectorRef?.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(we),l.Y36(Kd),l.Y36(nL,8),l.Y36(l.sBO))},n.\u0275cmp=l.Xpm({type:n,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:10,hostBindings:function(t,i){1&t&&l.NdJ("click",function(s){return i._checkDisabled(s)})("mouseenter",function(){return i._handleMouseEnter()}),2&t&&(l.uIk("role",i.role)("tabindex",i._getTabIndex())("aria-disabled",i.disabled.toString())("disabled",i.disabled||null),l.ekj("mat-menu-item",!0)("mat-menu-item-highlighted",i._highlighted)("mat-menu-item-submenu-trigger",i._triggersSubmenu))},inputs:{disabled:"disabled",disableRipple:"disableRipple",role:"role"},exportAs:["matMenuItem"],features:[l.qOj],attrs:Hse,ngContentSelectors:NG,decls:3,vars:3,consts:[["matRipple","",1,"mat-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["class","mat-menu-submenu-icon","viewBox","0 0 5 10","focusable","false",4,"ngIf"],["viewBox","0 0 5 10","focusable","false",1,"mat-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(t,i){1&t&&(l.F$t(),l.Hsn(0),l._UZ(1,"div",0),l.YNc(2,zse,2,0,"svg",1)),2&t&&(l.xp6(1),l.Q6J("matRippleDisabled",i.disableRipple||i.disabled)("matRippleTrigger",i._getHostElement()),l.xp6(1),l.Q6J("ngIf",i._triggersSubmenu))},dependencies:[In,Xy],encapsulation:2,changeDetection:0}),n})();const FG=new l.OlP("mat-menu-default-options",{providedIn:"root",factory:function qse(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let Yse=0,CC=(()=>{class n{constructor(t,i,r,s){this._elementRef=t,this._ngZone=i,this._defaultOptions=r,this._changeDetectorRef=s,this._xPosition=this._defaultOptions.xPosition,this._yPosition=this._defaultOptions.yPosition,this._directDescendantItems=new l.n_E,this._tabSubscription=Fi.w0.EMPTY,this._classList={},this._panelAnimationState="void",this._animationDone=new Tt.x,this.overlayPanelClass=this._defaultOptions.overlayPanelClass||"",this.backdropClass=this._defaultOptions.backdropClass,this._overlapTrigger=this._defaultOptions.overlapTrigger,this._hasBackdrop=this._defaultOptions.hasBackdrop,this.closed=new l.vpe,this.close=this.closed,this.panelId="mat-menu-panel-"+Yse++}get xPosition(){return this._xPosition}set xPosition(t){this._xPosition=t,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(t){this._yPosition=t,this.setPositionClasses()}get overlapTrigger(){return this._overlapTrigger}set overlapTrigger(t){this._overlapTrigger=jn(t)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(t){this._hasBackdrop=jn(t)}set panelClass(t){const i=this._previousPanelClass;i&&i.length&&i.split(" ").forEach(r=>{this._classList[r]=!1}),this._previousPanelClass=t,t&&t.length&&(t.split(" ").forEach(r=>{this._classList[r]=!0}),this._elementRef.nativeElement.className="")}get classList(){return this.panelClass}set classList(t){this.panelClass=t}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new M4(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._tabSubscription=this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(li(this._directDescendantItems),Nn(t=>(0,zl.T)(...t.map(i=>i._focused)))).subscribe(t=>this._keyManager.updateActiveItem(t)),this._directDescendantItems.changes.subscribe(t=>{const i=this._keyManager;if("enter"===this._panelAnimationState&&i.activeItem?._hasFocus()){const r=t.toArray(),s=Math.max(0,Math.min(r.length-1,i.activeItemIndex||0));r[s]&&!r[s].disabled?i.setActiveItem(s):i.setNextItemActive()}})}ngOnDestroy(){this._directDescendantItems.destroy(),this._tabSubscription.unsubscribe(),this.closed.complete()}_hovered(){return this._directDescendantItems.changes.pipe(li(this._directDescendantItems),Nn(i=>(0,zl.T)(...i.map(r=>r._hovered))))}addItem(t){}removeItem(t){}_handleKeydown(t){const i=t.keyCode,r=this._keyManager;switch(i){case 27:Hl(t)||(t.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case 39:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:return(38===i||40===i)&&r.setFocusOrigin("keyboard"),void r.onKeydown(t)}t.stopPropagation()}focusFirstItem(t="program"){this._ngZone.onStable.pipe(Wt(1)).subscribe(()=>{let i=null;if(this._directDescendantItems.length&&(i=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),!i||!i.contains(document.activeElement)){const r=this._keyManager;r.setFocusOrigin(t).setFirstItemActive(),!r.activeItem&&i&&i.focus()}})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(t){const i=Math.min(this._baseElevation+t,24),r=`${this._elevationPrefix}${i}`,s=Object.keys(this._classList).find(a=>a.startsWith(this._elevationPrefix));(!s||s===this._previousElevation)&&(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[r]=!0,this._previousElevation=r)}setPositionClasses(t=this.xPosition,i=this.yPosition){const r=this._classList;r["mat-menu-before"]="before"===t,r["mat-menu-after"]="after"===t,r["mat-menu-above"]="above"===i,r["mat-menu-below"]="below"===i,this._changeDetectorRef?.markForCheck()}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(t){this._animationDone.next(t),this._isAnimating=!1}_onAnimationStart(t){this._isAnimating=!0,"enter"===t.toState&&0===this._keyManager.activeItemIndex&&(t.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe(li(this._allItems)).subscribe(t=>{this._directDescendantItems.reset(t.filter(i=>i._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.R0b),l.Y36(FG),l.Y36(l.sBO))},n.\u0275dir=l.lG2({type:n,contentQueries:function(t,i,r){if(1&t&&(l.Suo(r,Gse,5),l.Suo(r,zx,5),l.Suo(r,zx,4)),2&t){let s;l.iGM(s=l.CRH())&&(i.lazyContent=s.first),l.iGM(s=l.CRH())&&(i._allItems=s),l.iGM(s=l.CRH())&&(i.items=s)}},viewQuery:function(t,i){if(1&t&&l.Gf(l.Rgc,5),2&t){let r;l.iGM(r=l.CRH())&&(i.templateRef=r.first)}},inputs:{backdropClass:"backdropClass",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:"overlapTrigger",hasBackdrop:"hasBackdrop",panelClass:["class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"}}),n})(),Zse=(()=>{class n extends CC{constructor(t,i,r,s){super(t,i,r,s),this._elevationPrefix="mat-elevation-z",this._baseElevation=4}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.R0b),l.Y36(FG),l.Y36(l.sBO))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-menu"]],hostVars:3,hostBindings:function(t,i){2&t&&l.uIk("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},exportAs:["matMenu"],features:[l._Bn([{provide:nL,useExisting:n}]),l.qOj],ngContentSelectors:NG,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-menu-panel",3,"id","ngClass","keydown","click"],[1,"mat-menu-content"]],template:function(t,i){1&t&&(l.F$t(),l.YNc(0,jse,3,6,"ng-template"))},dependencies:[yn],styles:['mat-menu{display:none}.mat-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;max-height:calc(100vh - 48px);border-radius:4px;outline:0;min-height:64px;position:relative}.mat-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-menu-panel{outline:solid 1px}.mat-menu-content:not(:empty){padding-top:8px;padding-bottom:8px}.mat-menu-item{-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative}.mat-menu-item::-moz-focus-inner{border:0}.mat-menu-item[disabled]{cursor:default}[dir=rtl] .mat-menu-item{text-align:right}.mat-menu-item .mat-icon{margin-right:16px;vertical-align:middle}.mat-menu-item .mat-icon svg{vertical-align:top}[dir=rtl] .mat-menu-item .mat-icon{margin-left:16px;margin-right:0}.mat-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.cdk-high-contrast-active .mat-menu-item{margin-top:1px}.mat-menu-item-submenu-trigger{padding-right:32px}[dir=rtl] .mat-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}.mat-menu-submenu-icon{position:absolute;top:50%;right:16px;transform:translateY(-50%);width:5px;height:10px;fill:currentColor}[dir=rtl] .mat-menu-submenu-icon{right:auto;left:16px;transform:translateY(-50%) scaleX(-1)}.cdk-high-contrast-active .mat-menu-submenu-icon{fill:CanvasText}button.mat-menu-item{width:100%}.mat-menu-item .mat-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,data:{animation:[Hx.transformMenu,Hx.fadeInItems]},changeDetection:0}),n})();const LG=new l.OlP("mat-menu-scroll-strategy"),Qse={provide:LG,deps:[Yo],useFactory:function Kse(n){return()=>n.scrollStrategies.reposition()}},BG=Fw({passive:!0});let Xse=(()=>{class n{constructor(t,i,r,s,a,d,h,p,g){this._overlay=t,this._element=i,this._viewContainerRef=r,this._menuItemInstance=d,this._dir=h,this._focusMonitor=p,this._ngZone=g,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=Fi.w0.EMPTY,this._hoverSubscription=Fi.w0.EMPTY,this._menuCloseSubscription=Fi.w0.EMPTY,this._handleTouchStart=v=>{TN(v)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new l.vpe,this.onMenuOpen=this.menuOpened,this.menuClosed=new l.vpe,this.onMenuClose=this.menuClosed,this._scrollStrategy=s,this._parentMaterialMenu=a instanceof CC?a:void 0,i.nativeElement.addEventListener("touchstart",this._handleTouchStart,BG),d&&(d._triggersSubmenu=this.triggersSubmenu())}get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(t){this.menu=t}get menu(){return this._menu}set menu(t){t!==this._menu&&(this._menu=t,this._menuCloseSubscription.unsubscribe(),t&&(this._menuCloseSubscription=t.close.subscribe(i=>{this._destroyMenu(i),("click"===i||"tab"===i)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(i)})))}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,BG),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!(!this._menuItemInstance||!this._parentMaterialMenu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){const t=this.menu;if(this._menuOpen||!t)return;const i=this._createOverlay(t),r=i.getConfig(),s=r.positionStrategy;this._setPosition(t,s),r.hasBackdrop=t.hasBackdrop??!this.triggersSubmenu(),i.attach(this._getPortal(t)),t.lazyContent&&t.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(t),t instanceof CC&&(t._startAnimation(),t._directDescendantItems.changes.pipe(wi(t.close)).subscribe(()=>{s.withLockedPosition(!1).reapplyLastPosition(),s.withLockedPosition(!0)}))}closeMenu(){this.menu?.close.emit()}focus(t,i){this._focusMonitor&&t?this._focusMonitor.focusVia(this._element,t,i):this._element.nativeElement.focus(i)}updatePosition(){this._overlayRef?.updatePosition()}_destroyMenu(t){if(!this._overlayRef||!this.menuOpen)return;const i=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===t||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,i instanceof CC?(i._resetAnimation(),i.lazyContent?i._animationDone.pipe(An(r=>"void"===r.toState),Wt(1),wi(i.lazyContent._attached)).subscribe({next:()=>i.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),i?.lazyContent?.detach())}_initMenu(t){t.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,t.direction=this.dir,this._setMenuElevation(t),t.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(t){if(t.setElevation){let i=0,r=t.parentMenu;for(;r;)i++,r=r.parentMenu;t.setElevation(i)}}_setIsMenuOpen(t){this._menuOpen=t,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(t)}_createOverlay(t){if(!this._overlayRef){const i=this._getOverlayConfig(t);this._subscribeToPositions(t,i.positionStrategy),this._overlayRef=this._overlay.create(i),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(t){return new eC({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:t.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:t.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(t,i){t.setPositionClasses&&i.positionChanges.subscribe(r=>{const s="start"===r.connectionPair.overlayX?"after":"before",a="top"===r.connectionPair.overlayY?"below":"above";this._ngZone?this._ngZone.run(()=>t.setPositionClasses(s,a)):t.setPositionClasses(s,a)})}_setPosition(t,i){let[r,s]="before"===t.xPosition?["end","start"]:["start","end"],[a,d]="above"===t.yPosition?["bottom","top"]:["top","bottom"],[h,p]=[a,d],[g,v]=[r,s],w=0;if(this.triggersSubmenu()){if(v=r="before"===t.xPosition?"start":"end",s=g="end"===r?"start":"end",this._parentMaterialMenu){if(null==this._parentInnerPadding){const D=this._parentMaterialMenu.items.first;this._parentInnerPadding=D?D._getHostElement().offsetTop:0}w="bottom"===a?this._parentInnerPadding:-this._parentInnerPadding}}else t.overlapTrigger||(h="top"===a?"bottom":"top",p="top"===d?"bottom":"top");i.withPositions([{originX:r,originY:h,overlayX:g,overlayY:a,offsetY:w},{originX:s,originY:h,overlayX:v,overlayY:a,offsetY:w},{originX:r,originY:p,overlayX:g,overlayY:d,offsetY:-w},{originX:s,originY:p,overlayX:v,overlayY:d,offsetY:-w}])}_menuClosingActions(){const t=this._overlayRef.backdropClick(),i=this._overlayRef.detachments(),r=this._parentMaterialMenu?this._parentMaterialMenu.closed:tt(),s=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe(An(a=>a!==this._menuItemInstance),An(()=>this._menuOpen)):tt();return(0,zl.T)(t,r,s,i)}_handleMousedown(t){IN(t)||(this._openedBy=0===t.button?"mouse":void 0,this.triggersSubmenu()&&t.preventDefault())}_handleKeydown(t){const i=t.keyCode;(13===i||32===i)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(39===i&&"ltr"===this.dir||37===i&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(t){this.triggersSubmenu()?(t.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe(An(t=>t===this._menuItemInstance&&!t.disabled),GN(0,qN)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof CC&&this.menu._isAnimating?this.menu._animationDone.pipe(Wt(1),GN(0,qN),wi(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(t){return(!this._portal||this._portal.templateRef!==t.templateRef)&&(this._portal=new Qw(t.templateRef,this._viewContainerRef)),this._portal}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Yo),l.Y36(l.SBq),l.Y36(l.s_b),l.Y36(LG),l.Y36(nL,8),l.Y36(zx,10),l.Y36(Hp,8),l.Y36(Kd),l.Y36(l.R0b))},n.\u0275dir=l.lG2({type:n,hostVars:3,hostBindings:function(t,i){1&t&&l.NdJ("click",function(s){return i._handleClick(s)})("mousedown",function(s){return i._handleMousedown(s)})("keydown",function(s){return i._handleKeydown(s)}),2&t&&l.uIk("aria-haspopup",i.menu?"menu":null)("aria-expanded",i.menuOpen||null)("aria-controls",i.menuOpen?i.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"],restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"}}),n})(),Jse=(()=>{class n extends Xse{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-menu-trigger"],exportAs:["matMenuTrigger"],features:[l.qOj]}),n})(),VG=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[Qse],imports:[ai,Vn,Jy,nC,ax,Vn]}),n})();function eoe(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",25),l.NdJ("click",function(){l.CHM(t);const r=l.oxw();return l.KtG(r.signIn())}),l._UZ(1,"mat-icon",26),l._uU(2," \u0412\u043e\u0439\u0442\u0438 "),l.qZA()}}function toe(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",25),l.NdJ("click",function(){l.CHM(t);const r=l.oxw();return l.KtG(r.openSignUpModal())}),l._UZ(1,"mat-icon",27),l._uU(2," \u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f "),l.qZA()}}function noe(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",25),l.NdJ("click",function(){l.CHM(t);const r=l.oxw();return l.KtG(r.logout())}),l._UZ(1,"mat-icon",28),l._uU(2," \u0412\u044b\u0439\u0442\u0438 "),l.qZA()}}function ioe(n,e){1&n&&(l.TgZ(0,"button",23),l._UZ(1,"mat-icon",29),l._uU(2," \u041c\u043e\u0439 \u0440\u0430\u0437\u0434\u0435\u043b "),l.qZA())}function roe(n,e){1&n&&(l.TgZ(0,"button",23),l._UZ(1,"mat-icon",30),l._uU(2," \u041c\u043e\u0438 \u0437\u0430\u043a\u0430\u0437\u044b "),l.qZA())}function soe(n,e){1&n&&(l.TgZ(0,"button",23),l._UZ(1,"mat-icon",31),l._uU(2," \u0418\u0437\u0431\u0440\u0430\u043d\u043d\u044b\u0435 "),l.qZA())}function ooe(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",25),l.NdJ("click",function(){l.CHM(t);const r=l.oxw();return l.KtG(r.openAddModal())}),l._UZ(1,"mat-icon",32),l._uU(2," \u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a\u043d\u0438\u0433\u0443 "),l.qZA()}}let aoe=(()=>{class n{constructor(t,i,r,s){this.dialog=t,this.storage=i,this.authService=r,this.userService=s,this.city="\u0410\u043b\u043c\u0430\u0442\u044b"}ngOnInit(){console.log(this.userIsAdmin)}get userName(){return this.userService.getUser()?.displayName}get userIsAdmin(){return this.userService.getUser()?.isAdmin}openCityChangeModal(){this.dialog.open(one,{width:"400px",height:"700px",data:{selectedCity:this.city}}).afterClosed().subscribe(i=>{i?.length&&(this.city=i)})}openSignUpModal(){this.dialog.open(sie,{width:"400px",height:"350px",data:{selectedCity:this.city}}).afterClosed().subscribe(i=>{i?.length&&(this.city=i)})}signIn(){this.dialog.open(oie,{width:"400px",height:"250px",data:{selectedCity:this.city}}).afterClosed().subscribe(i=>{i?.length&&(this.city=i)})}logout(){this.authService.SignOut().then()}uploadFile(t){console.log(t.name);const i=wG(),r=Wre(i,"some-child");qre(r,this.file).then(s=>{console.log("Uploaded a blob or file!")})}openAddModal(){this.dialog.open(xse,{width:"600px",height:"80vh",data:{selectedCity:this.city}})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(UH),l.Y36(Use),l.Y36(PF),l.Y36($se))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-header"]],decls:42,vars:10,consts:[[1,"wrapper","width","d-flex","align-center"],[1,"container","d-flex","align-center","width"],[1,"text-white","fw600","pointer","fz-8","pr-6","d-flex","align-center"],[1,"d-flex","align-center","pr-1"],["src","https://play-lh.googleusercontent.com/wbqcLeR1gDjooByaxujaEIzMto6dONYxC7VP_o5-04IZbwDm49oiY1gt4cq3nqicF7I","width","32px","height","32px","alt",""],[1,"search","d-flex","border-box","width","pr-6"],["type","text","placeholder","\u0411\u043e\u043b\u0435\u0435 100 \u043a\u043d\u0438\u0433",1,"search-text","pl-4"],["type","button","value","\u041d\u0430\u0439\u0442\u0438",1,"search-button","pointer","border-none","fw600"],[1,"right-content","pl-6","d-flex","justify-between","align-center","spacer"],[1,"location","d-flex","gap-2","align-center","pointer",3,"click"],[1,"icon"],["width","41","height","41","viewBox","0 0 41 41","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M20.5003 3.41675C13.8891 3.41675 8.54199 8.76383 8.54199 15.3751C8.54199 24.3438 20.5003 37.5834 20.5003 37.5834C20.5003 37.5834 32.4587 24.3438 32.4587 15.3751C32.4587 8.76383 27.1116 3.41675 20.5003 3.41675ZM20.5003 19.6459C18.1428 19.6459 16.2295 17.7326 16.2295 15.3751C16.2295 13.0176 18.1428 11.1042 20.5003 11.1042C22.8578 11.1042 24.7712 13.0176 24.7712 15.3751C24.7712 17.7326 22.8578 19.6459 20.5003 19.6459Z","fill","white"],[1,"text-white","fz-4","fw600"],[1,"profile","d-flex","align-center","gap-2","pointer",3,"matMenuTriggerFor"],["src","https://cdn.f.kz/img/no_photo120.jpg","alt","img","width","40px","height","40px",1,"circle-border"],[1,"text-white"],[1,"bucket","d-flex","gap-2","align-center","pointer"],[1,"d-flex","align-center"],["src","https://cdn.f.kz/img/new_header_2015/cart_new.svg","width","40px","height","40px","alt","img"],["menu","matMenu"],["mat-menu-item","","class","menu_btn",3,"click",4,"ngIf"],["mat-menu-item","","class","menu_btn",4,"ngIf"],["mat-menu-item","",1,"menu_btn"],["color","primary","aria-hidden","true","aria-label","Example home icon","fontIcon","contacts"],["mat-menu-item","",1,"menu_btn",3,"click"],["color","primary","aria-hidden","false","aria-label","Example home icon","fontIcon","login"],["color","primary","aria-hidden","false","aria-label","Example home icon","fontIcon","how_to_reg"],["color","primary","aria-hidden","false","aria-label","Example home icon","fontIcon","logout"],["color","primary","aria-hidden","false","aria-label","Example home icon","fontIcon","auto_awesome_mosaic"],["color","primary","aria-hidden","false","aria-label","Example home icon","fontIcon","list_alt"],["color","primary","aria-hidden","false","aria-label","Example home icon","fontIcon","favorite"],["color","primary","aria-hidden","true","aria-label","Example home icon","fontIcon","auto_stories"]],template:function(t,i){if(1&t&&(l.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),l._UZ(4,"img",4),l.qZA(),l.TgZ(5,"div"),l._uU(6,"Aslan_Books"),l.qZA()(),l.TgZ(7,"div",5),l._UZ(8,"input",6)(9,"input",7),l.qZA(),l.TgZ(10,"div",8)(11,"div",9),l.NdJ("click",function(){return i.openCityChangeModal()}),l.TgZ(12,"div",10),l.O4$(),l.TgZ(13,"svg",11),l._UZ(14,"path",12),l.qZA()(),l.kcU(),l.TgZ(15,"div",13),l._uU(16),l.qZA()(),l.TgZ(17,"div",14)(18,"div"),l._UZ(19,"img",15),l.qZA(),l.TgZ(20,"div",16),l._uU(21),l.qZA()(),l.TgZ(22,"div",17)(23,"div",18),l._UZ(24,"img",19),l.qZA(),l.TgZ(25,"div",16)(26,"div"),l._uU(27,"\u041a\u043e\u0440\u0437\u0438\u043d\u0430"),l.qZA(),l.TgZ(28,"div"),l._uU(29,"0 \u0442\u043e\u0432\u0430\u0440\u0430"),l.qZA()()()()()(),l.TgZ(30,"mat-menu",null,20),l.YNc(32,eoe,3,0,"button",21),l.YNc(33,toe,3,0,"button",21),l.YNc(34,noe,3,0,"button",21),l.YNc(35,ioe,3,0,"button",22),l.YNc(36,roe,3,0,"button",22),l.YNc(37,soe,3,0,"button",22),l.TgZ(38,"button",23),l._UZ(39,"mat-icon",24),l._uU(40," \u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b "),l.qZA(),l.YNc(41,ooe,3,0,"button",21),l.qZA()),2&t){const r=l.MAs(31);l.xp6(16),l.Oqu(i.city),l.xp6(1),l.Q6J("matMenuTriggerFor",r),l.xp6(4),l.hij(" ",i.userName||"\u0412\u043e\u0439\u0442\u0438"," "),l.xp6(11),l.Q6J("ngIf",!i.userName),l.xp6(1),l.Q6J("ngIf",!i.userName),l.xp6(1),l.Q6J("ngIf",i.userName),l.xp6(1),l.Q6J("ngIf",i.userName),l.xp6(1),l.Q6J("ngIf",i.userName),l.xp6(1),l.Q6J("ngIf",i.userName),l.xp6(4),l.Q6J("ngIf",i.userName&&i.userIsAdmin)}},dependencies:[In,Zse,zx,Jse,uj],styles:[".wrapper[_ngcontent-%COMP%]{background:#0a78d6;box-shadow:#00000080 0 0 5px;height:75px}.search[_ngcontent-%COMP%]{height:40px;max-width:600px}.search-text[_ngcontent-%COMP%]{width:85%}.search-text[_ngcontent-%COMP%]:focus{background-color:#ffedb6;border:none}.search-button[_ngcontent-%COMP%]{width:15%;background-color:#febd01}.profile[_ngcontent-%COMP%]{height:77px}.menu_btn[_ngcontent-%COMP%]{font-weight:600}.menu_btn[_ngcontent-%COMP%]:hover{background:var(--light_yellow)}"]}),n})(),loe=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-footer"]],decls:2,vars:0,template:function(t,i){1&t&&(l.TgZ(0,"p"),l._uU(1,"footer works!"),l.qZA())}}),n})(),coe=(()=>{class n{constructor(){this.title="aslanAngularBooks"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-root"]],decls:5,vars:0,consts:[[1,"d-flex","flex-col","height","app"],[1,"spacer","scroll"]],template:function(t,i){1&t&&(l.TgZ(0,"div",0),l._UZ(1,"app-header"),l.TgZ(2,"div",1),l._UZ(3,"router-outlet"),l.qZA(),l._UZ(4,"app-footer"),l.qZA())},dependencies:[Lc,aoe,loe],styles:[".app[_ngcontent-%COMP%]{background:#F5F5F5}"]}),n})();function UG(n){return new l.vHH(3e3,!1)}function joe(){return typeof window<"u"&&typeof window.document<"u"}function iL(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function sh(n){switch(n.length){case 0:return new iC;case 1:return n[0];default:return new LH(n)}}function $G(n,e,t,i,r=new Map,s=new Map){const a=[],d=[];let h=-1,p=null;if(i.forEach(g=>{const v=g.get("offset"),w=v==h,D=w&&p||new Map;g.forEach((A,x)=>{let k=x,F=A;if("offset"!==x)switch(k=e.normalizePropertyName(k,a),F){case"!":F=r.get(x);break;case hu:F=s.get(x);break;default:F=e.normalizeStyleValue(x,k,F,a)}D.set(k,F)}),w||d.push(D),p=D,h=v}),a.length)throw function Roe(n){return new l.vHH(3502,!1)}();return d}function rL(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&sL(t,"start",n)));break;case"done":n.onDone(()=>i(t&&sL(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&sL(t,"destroy",n)))}}function sL(n,e,t){const s=oL(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),a=n._data;return null!=a&&(s._data=a),s}function oL(n,e,t,i,r="",s=0,a){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:s,disabled:!!a}}function po(n,e,t){let i=n.get(e);return i||n.set(e,i=t),i}function HG(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let aL=(n,e)=>!1,zG=(n,e,t)=>[],jG=null;function lL(n){const e=n.parentNode||n.host;return e===jG?null:e}(iL()||typeof Element<"u")&&(joe()?(jG=(()=>document.documentElement)(),aL=(n,e)=>{for(;e;){if(e===n)return!0;e=lL(e)}return!1}):aL=(n,e)=>n.contains(e),zG=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const i=n.querySelector(e);return i?[i]:[]});let Jp=null,GG=!1;const WG=aL,qG=zG;let YG=(()=>{class n{validateStyleProperty(t){return function Woe(n){Jp||(Jp=function qoe(){return typeof document<"u"?document.body:null}()||{},GG=!!Jp.style&&"WebkitAppearance"in Jp.style);let e=!0;return Jp.style&&!function Goe(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Jp.style,!e&&GG&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Jp.style)),e}(t)}matchesElement(t,i){return!1}containsElement(t,i){return WG(t,i)}getParentElement(t){return lL(t)}query(t,i,r){return qG(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,s,a,d=[],h){return new iC(r,s)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),cL=(()=>{class n{}return n.NOOP=new YG,n})();const uL="ng-enter",jx="ng-leave",Gx="ng-trigger",Wx=".ng-trigger",KG="ng-animating",dL=".ng-animating";function mu(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:hL(parseFloat(e[1]),e[2])}function hL(n,e){return"s"===e?1e3*n:n}function qx(n,e,t){return n.hasOwnProperty("duration")?n:function Koe(n,e,t){let r,s=0,a="";if("string"==typeof n){const d=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===d)return e.push(UG()),{duration:0,delay:0,easing:""};r=hL(parseFloat(d[1]),d[2]);const h=d[3];null!=h&&(s=hL(parseFloat(h),d[4]));const p=d[5];p&&(a=p)}else r=n;if(!t){let d=!1,h=e.length;r<0&&(e.push(function uoe(){return new l.vHH(3100,!1)}()),d=!0),s<0&&(e.push(function doe(){return new l.vHH(3101,!1)}()),d=!0),d&&e.splice(h,0,UG())}return{duration:r,delay:s,easing:a}}(n,e,t)}function SC(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function QG(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function oh(n,e=new Map,t){if(t)for(let[i,r]of t)e.set(i,r);for(let[i,r]of n)e.set(i,r);return e}function JG(n,e,t){return t?e+":"+t+";":""}function eW(n){let e="";for(let t=0;t<n.style.length;t++){const i=n.style.item(t);e+=JG(0,i,n.style.getPropertyValue(i))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=JG(0,eae(t),n.style[t]));n.setAttribute("style",e)}function Ql(n,e,t){n.style&&(e.forEach((i,r)=>{const s=pL(r);t&&!t.has(r)&&t.set(r,n.style[s]),n.style[s]=i}),iL()&&eW(n))}function em(n,e){n.style&&(e.forEach((t,i)=>{const r=pL(i);n.style[r]=""}),iL()&&eW(n))}function IC(n){return Array.isArray(n)?1==n.length?n[0]:NH(n):n}const fL=new RegExp("{{\\s*(.+?)\\s*}}","g");function tW(n){let e=[];if("string"==typeof n){let t;for(;t=fL.exec(n);)e.push(t[1]);fL.lastIndex=0}return e}function TC(n,e,t){const i=n.toString(),r=i.replace(fL,(s,a)=>{let d=e[a];return null==d&&(t.push(function foe(n){return new l.vHH(3003,!1)}()),d=""),d.toString()});return r==i?n:r}function Yx(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const Joe=/-+([a-z0-9])/g;function pL(n){return n.replace(Joe,(...e)=>e[1].toUpperCase())}function eae(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function mo(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function poe(n){return new l.vHH(3004,!1)}()}}function nW(n,e){return window.getComputedStyle(n)[e]}function oae(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function aae(n,e,t){if(":"==n[0]){const h=function lae(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(function Aoe(n){return new l.vHH(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof h)return void e.push(h);n=h}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(function Doe(n){return new l.vHH(3015,!1)}()),e;const r=i[1],s=i[2],a=i[3];e.push(iW(r,a));"<"==s[0]&&!("*"==r&&"*"==a)&&e.push(iW(a,r))}(i,t,e)):t.push(n),t}const Xx=new Set(["true","1"]),Jx=new Set(["false","0"]);function iW(n,e){const t=Xx.has(n)||Jx.has(n),i=Xx.has(e)||Jx.has(e);return(r,s)=>{let a="*"==n||n==r,d="*"==e||e==s;return!a&&t&&"boolean"==typeof r&&(a=r?Xx.has(n):Jx.has(n)),!d&&i&&"boolean"==typeof s&&(d=s?Xx.has(e):Jx.has(e)),a&&d}}const cae=new RegExp("s*:selfs*,?","g");function mL(n,e,t,i){return new uae(n).build(e,t,i)}class uae{constructor(e){this._driver=e}build(e,t,i){const r=new fae(t);return this._resetContextStyleTimingState(r),mo(this,IC(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0;const s=[],a=[];return"@"==e.name.charAt(0)&&t.errors.push(function goe(){return new l.vHH(3006,!1)}()),e.definitions.forEach(d=>{if(this._resetContextStyleTimingState(t),0==d.type){const h=d,p=h.name;p.toString().split(/\s*,\s*/).forEach(g=>{h.name=g,s.push(this.visitState(h,t))}),h.name=p}else if(1==d.type){const h=this.visitTransition(d,t);i+=h.queryCount,r+=h.depCount,a.push(h)}else t.errors.push(function _oe(){return new l.vHH(3007,!1)}())}),{type:7,name:e.name,states:s,transitions:a,queryCount:i,depCount:r,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){const s=new Set,a=r||{};i.styles.forEach(d=>{d instanceof Map&&d.forEach(h=>{tW(h).forEach(p=>{a.hasOwnProperty(p)||s.add(p)})})}),s.size&&(Yx(s.values()),t.errors.push(function yoe(n,e){return new l.vHH(3008,!1)}()))}return{type:0,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=mo(this,IC(e.animation),t);return{type:1,matchers:oae(e.expr,t.errors),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:tm(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(i=>mo(this,i,t)),options:tm(e.options)}}visitGroup(e,t){const i=t.currentTime;let r=0;const s=e.steps.map(a=>{t.currentTime=i;const d=mo(this,a,t);return r=Math.max(r,t.currentTime),d});return t.currentTime=r,{type:3,steps:s,options:tm(e.options)}}visitAnimate(e,t){const i=function mae(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return gL(qx(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=gL(0,0,"");return s.dynamic=!0,s.strValue=t,s}const r=qx(t,e);return gL(r.duration,r.delay,r.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let r,s=e.styles?e.styles:Ji({});if(5==s.type)r=this.visitKeyframes(s,t);else{let a=e.styles,d=!1;if(!a){d=!0;const p={};i.easing&&(p.easing=i.easing),a=Ji(p)}t.currentTime+=i.duration+i.delay;const h=this.visitStyle(a,t);h.isEmptyStep=d,r=h}return t.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let d of r)"string"==typeof d?d===hu?i.push(d):t.errors.push(new l.vHH(3002,!1)):i.push(QG(d));let s=!1,a=null;return i.forEach(d=>{if(d instanceof Map&&(d.has("easing")&&(a=d.get("easing"),d.delete("easing")),!s))for(let h of d.values())if(h.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:i,easing:a,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let r=t.currentTime,s=t.currentTime;i&&s>0&&(s-=i.duration+i.delay),e.styles.forEach(a=>{"string"!=typeof a&&a.forEach((d,h)=>{const p=t.collectedStyles.get(t.currentQuerySelector),g=p.get(h);let v=!0;g&&(s!=r&&s>=g.startTime&&r<=g.endTime&&(t.errors.push(function boe(n,e,t,i,r){return new l.vHH(3010,!1)}()),v=!1),s=g.startTime),v&&p.set(h,{startTime:s,endTime:r}),t.options&&function Xoe(n,e,t){const i=e.params||{},r=tW(n);r.length&&r.forEach(s=>{i.hasOwnProperty(s)||t.push(function hoe(n){return new l.vHH(3001,!1)}())})}(d,t.options,t.errors)})})}visitKeyframes(e,t){const i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function Eoe(){return new l.vHH(3011,!1)}()),i;let s=0;const a=[];let d=!1,h=!1,p=0;const g=e.steps.map(F=>{const L=this._makeStyleAst(F,t);let U=null!=L.offset?L.offset:function pae(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const i=t;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(L.styles),te=0;return null!=U&&(s++,te=L.offset=U),h=h||te<0||te>1,d=d||te<p,p=te,a.push(te),L});h&&t.errors.push(function woe(){return new l.vHH(3012,!1)}()),d&&t.errors.push(function Coe(){return new l.vHH(3200,!1)}());const v=e.steps.length;let w=0;s>0&&s<v?t.errors.push(function Soe(){return new l.vHH(3202,!1)}()):0==s&&(w=1/(v-1));const D=v-1,A=t.currentTime,x=t.currentAnimateTimings,k=x.duration;return g.forEach((F,L)=>{const U=w>0?L==D?1:w*L:a[L],te=U*k;t.currentTime=A+x.delay+te,x.duration=te,this._validateStyleAst(F,t),F.offset=U,i.styles.push(F)}),i}visitReference(e,t){return{type:8,animation:mo(this,IC(e.animation),t),options:tm(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:tm(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:tm(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[s,a]=function dae(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(cae,"")),n=n.replace(/@\*/g,Wx).replace(/@\w+/g,t=>Wx+"-"+t.slice(1)).replace(/:animating/g,dL),[n,e]}(e.selector);t.currentQuerySelector=i.length?i+" "+s:s,po(t.collectedStyles,t.currentQuerySelector,new Map);const d=mo(this,IC(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:a,animation:d,originalSelector:e.selector,options:tm(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function Ioe(){return new l.vHH(3013,!1)}());const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:qx(e.timings,t.errors,!0);return{type:12,animation:mo(this,IC(e.animation),t),timings:i,options:null}}}class fae{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function tm(n){return n?(n=SC(n)).params&&(n.params=function hae(n){return n?SC(n):null}(n.params)):n={},n}function gL(n,e,t){return{duration:n,delay:e,easing:t}}function _L(n,e,t,i,r,s,a=null,d=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:a,subTimeline:d}}class eM{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const yae=new RegExp(":enter","g"),bae=new RegExp(":leave","g");function yL(n,e,t,i,r,s=new Map,a=new Map,d,h,p=[]){return(new Eae).buildKeyframes(n,e,t,i,r,s,a,d,h,p)}class Eae{buildKeyframes(e,t,i,r,s,a,d,h,p,g=[]){p=p||new eM;const v=new vL(e,t,p,r,s,g,[]);v.options=h;const w=h.delay?mu(h.delay):0;v.currentTimeline.delayNextStep(w),v.currentTimeline.setStyles([a],null,v.errors,h),mo(this,i,v);const D=v.timelines.filter(A=>A.containsAnimation());if(D.length&&d.size){let A;for(let x=D.length-1;x>=0;x--){const k=D[x];if(k.element===t){A=k;break}}A&&!A.allowOnlyTimelineStyles()&&A.setStyles([d],null,v.errors,h)}return D.length?D.map(A=>A.buildKeyframes()):[_L(t,[],[],[],0,w,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.get(t.element);if(i){const r=t.createSubContext(e.options),s=t.currentTimeline.currentTime,a=this._visitSubInstructions(i,r,r.options);s!=a&&t.transformIntoNewTimeline(a)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,i),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,i){for(const r of e){const s=r?.delay;if(s){const a="number"==typeof s?s:mu(TC(s,r?.params??{},t.errors));i.delayNextStep(a)}}}_visitSubInstructions(e,t,i){let s=t.currentTimeline.currentTime;const a=null!=i.duration?mu(i.duration):null,d=null!=i.delay?mu(i.delay):null;return 0!==a&&e.forEach(h=>{const p=t.appendInstructionToTimeline(h,a,d);s=Math.max(s,p.duration+p.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),mo(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let r=t;const s=e.options;if(s&&(s.params||s.delay)&&(r=t.createSubContext(s),r.transformIntoNewTimeline(),null!=s.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=tM);const a=mu(s.delay);r.delayNextStep(a)}e.steps.length&&(e.steps.forEach(a=>mo(this,a,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let r=t.currentTimeline.currentTime;const s=e.options&&e.options.delay?mu(e.options.delay):0;e.steps.forEach(a=>{const d=t.createSubContext(e.options);s&&d.delayNextStep(s),mo(this,a,d),r=Math.max(r,d.currentTimeline.currentTime),i.push(d.currentTimeline)}),i.forEach(a=>t.currentTimeline.mergeTimelineCollectedStyles(a)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return qx(t.params?TC(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());const s=e.style;5==s.type?this.visitKeyframes(s,t):(t.incrementTime(i.duration),this.visitStyle(s,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const s=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(s):i.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,r=t.currentTimeline.duration,s=i.duration,d=t.createSubContext().currentTimeline;d.easing=i.easing,e.styles.forEach(h=>{d.forwardTime((h.offset||0)*s),d.setStyles(h.styles,h.easing,t.errors,t.options),d.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(d),t.transformIntoNewTimeline(r+s),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,r=e.options||{},s=r.delay?mu(r.delay):0;s&&(6===t.previousNode.type||0==i&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=tM);let a=i;const d=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=d.length;let h=null;d.forEach((p,g)=>{t.currentQueryIndex=g;const v=t.createSubContext(e.options,p);s&&v.delayNextStep(s),p===t.element&&(h=v.currentTimeline),mo(this,e.animation,v),v.currentTimeline.applyStylesToKeyframe(),a=Math.max(a,v.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(a),h&&(t.currentTimeline.mergeTimelineCollectedStyles(h),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,r=t.currentTimeline,s=e.timings,a=Math.abs(s.duration),d=a*(t.currentQueryTotal-1);let h=a*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":h=d-h;break;case"full":h=i.currentStaggerTime}const g=t.currentTimeline;h&&g.delayNextStep(h);const v=g.currentTime;mo(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-v+(r.startTime-i.currentTimeline.startTime)}}const tM={};class vL{constructor(e,t,i,r,s,a,d,h){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=s,this.errors=a,this.timelines=d,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=tM,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=h||new nM(this._driver,t,0),d.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let r=this.options;null!=i.duration&&(r.duration=mu(i.duration)),null!=i.delay&&(r.delay=mu(i.delay));const s=i.params;if(s){let a=r.params;a||(a=this.options.params={}),Object.keys(s).forEach(d=>{(!t||!a.hasOwnProperty(d))&&(a[d]=TC(s[d],a,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){const r=t||this.element,s=new vL(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=tM,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const r={duration:t??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},s=new wae(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,s,a){let d=[];if(r&&d.push(this.element),e.length>0){e=(e=e.replace(yae,"."+this._enterClassName)).replace(bae,"."+this._leaveClassName);let p=this._driver.query(this.element,e,1!=i);0!==i&&(p=i<0?p.slice(p.length+i,p.length):p.slice(0,i)),d.push(...p)}return!s&&0==d.length&&a.push(function Toe(n){return new l.vHH(3014,!1)}()),d}}class nM{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new nM(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,i]of this._globalTimelineStyles)this._backFill.set(t,i||hu),this._currentKeyframe.set(t,hu);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&this._previousKeyframe.set("easing",t);const s=r&&r.params||{},a=function Cae(n,e){const t=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||e.keys();for(let s of i)t.set(s,hu)}else oh(r,t)}),t}(e,this._globalTimelineStyles);for(let[d,h]of a){const p=TC(h,s,i);this._pendingStyles.set(d,p),this._localTimelineStyles.has(d)||this._backFill.set(d,this._globalTimelineStyles.get(d)??hu),this._updateStyle(d,p)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,i)=>{const r=this._styleSummary.get(i);(!r||t.time>r.time)&&this._updateStyle(i,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((d,h)=>{const p=oh(d,new Map,this._backFill);p.forEach((g,v)=>{"!"===g?e.add(v):g===hu&&t.add(v)}),i||p.set("offset",h/this.duration),r.push(p)});const s=e.size?Yx(e.values()):[],a=t.size?Yx(t.values()):[];if(i){const d=r[0],h=new Map(d);d.set("offset",0),h.set("offset",1),r=[d,h]}return _L(this.element,r,s,a,this.duration,this.startTime,this.easing,!1)}}class wae extends nM{constructor(e,t,i,r,s,a,d=!1){super(e,t,a.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=d,this.timings={duration:a.duration,delay:a.delay,easing:a.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const s=[],a=i+t,d=t/a,h=oh(e[0]);h.set("offset",0),s.push(h);const p=oh(e[0]);p.set("offset",oW(d)),s.push(p);const g=e.length-1;for(let v=1;v<=g;v++){let w=oh(e[v]);const D=w.get("offset");w.set("offset",oW((t+D*i)/a)),s.push(w)}i=a,t=0,r="",e=s}return _L(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}}function oW(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class bL{}const Sae=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Iae extends bL{normalizePropertyName(e,t){return pL(e)}normalizeStyleValue(e,t,i,r){let s="";const a=i.toString().trim();if(Sae.has(t)&&0!==i&&"0"!==i)if("number"==typeof i)s="px";else{const d=i.match(/^[+-]?[\d\.]+([a-z]*)$/);d&&0==d[1].length&&r.push(function moe(n,e){return new l.vHH(3005,!1)}())}return a+s}}function aW(n,e,t,i,r,s,a,d,h,p,g,v,w){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:s,toState:i,toStyles:a,timelines:d,queriedElements:h,preStyleProps:p,postStyleProps:g,totalTime:v,errors:w}}const EL={};class lW{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return function Tae(n,e,t,i,r){return n.some(s=>s(e,t,i,r))}(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){let r=this._stateStyles.get("*");return void 0!==e&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(t,i):new Map}build(e,t,i,r,s,a,d,h,p,g){const v=[],w=this.ast.options&&this.ast.options.params||EL,A=this.buildStyles(i,d&&d.params||EL,v),x=h&&h.params||EL,k=this.buildStyles(r,x,v),F=new Set,L=new Map,U=new Map,te="void"===r,oe={params:Dae(x,w),delay:this.ast.options?.delay},ue=g?[]:yL(e,t,this.ast.animation,s,a,A,k,oe,p,v);let ye=0;if(ue.forEach(it=>{ye=Math.max(it.duration+it.delay,ye)}),v.length)return aW(t,this._triggerName,i,r,te,A,k,[],[],L,U,ye,v);ue.forEach(it=>{const $e=it.element,ge=po(L,$e,new Set);it.preStyleProps.forEach(Ee=>ge.add(Ee));const ae=po(U,$e,new Set);it.postStyleProps.forEach(Ee=>ae.add(Ee)),$e!==t&&F.add($e)});const ze=Yx(F.values());return aW(t,this._triggerName,i,r,te,A,k,ue,ze,L,U,ye)}}function Dae(n,e){const t=SC(e);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(t[i]=n[i]);return t}class Aae{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i=new Map,r=SC(this.defaultParams);return Object.keys(e).forEach(s=>{const a=e[s];null!==a&&(r[s]=a)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((a,d)=>{a&&(a=TC(a,r,t));const h=this.normalizer.normalizePropertyName(d,t);a=this.normalizer.normalizeStyleValue(d,h,a,t),i.set(h,a)})}),i}}class Mae{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states=new Map,t.states.forEach(r=>{this.states.set(r.name,new Aae(r.style,r.options&&r.options.params||{},i))}),cW(this.states,"true","1"),cW(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new lW(e,r,this.states))}),this.fallbackTransition=function kae(n,e,t){return new lW(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(a,d)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(a=>a.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function cW(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const Rae=new eM;class Oae{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const i=[],s=mL(this._driver,t,i,[]);if(i.length)throw function Ooe(n){return new l.vHH(3503,!1)}();this._animations.set(e,s)}_buildPlayer(e,t,i){const r=e.element,s=$G(0,this._normalizer,0,e.keyframes,t,i);return this._driver.animate(r,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const r=[],s=this._animations.get(e);let a;const d=new Map;if(s?(a=yL(this._driver,t,s,uL,jx,new Map,new Map,i,Rae,r),a.forEach(g=>{const v=po(d,g.element,new Map);g.postStyleProps.forEach(w=>v.set(w,null))})):(r.push(function Poe(){return new l.vHH(3300,!1)}()),a=[]),r.length)throw function Noe(n){return new l.vHH(3504,!1)}();d.forEach((g,v)=>{g.forEach((w,D)=>{g.set(D,this._driver.computeStyle(v,D,hu))})});const p=sh(a.map(g=>{const v=d.get(g.element);return this._buildPlayer(g,new Map,v)}));return this._playersById.set(e,p),p.onDestroy(()=>this.destroy(e)),this.players.push(p),p}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function Foe(n){return new l.vHH(3301,!1)}();return t}listen(e,t,i,r){const s=oL(t,"","","");return rL(this._getPlayer(e),i,s,r),()=>{}}command(e,t,i,r){if("register"==i)return void this.register(e,r[0]);if("create"==i)return void this.create(e,t,r[0]||{});const s=this._getPlayer(e);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const uW="ng-animate-queued",wL="ng-animate-disabled",Bae=[],dW={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Vae={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Qo="__ng_removed";class CL{constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function zae(n){return n??null}(i?e.value:e),i){const s=SC(e);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(r=>{null==i[r]&&(i[r]=t[r])})}}}const DC="void",SL=new CL(DC);class Uae{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Xo(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.has(t))throw function Loe(n,e){return new l.vHH(3302,!1)}();if(null==i||0==i.length)throw function Boe(n){return new l.vHH(3303,!1)}();if(!function jae(n){return"start"==n||"done"==n}(i))throw function Voe(n,e){return new l.vHH(3400,!1)}();const s=po(this._elementListeners,e,[]),a={name:t,phase:i,callback:r};s.push(a);const d=po(this._engine.statesByElement,e,new Map);return d.has(t)||(Xo(e,Gx),Xo(e,Gx+"-"+t),d.set(t,SL)),()=>{this._engine.afterFlush(()=>{const h=s.indexOf(a);h>=0&&s.splice(h,1),this._triggers.has(t)||d.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function Uoe(n){return new l.vHH(3401,!1)}();return t}trigger(e,t,i,r=!0){const s=this._getTrigger(t),a=new IL(this.id,t,e);let d=this._engine.statesByElement.get(e);d||(Xo(e,Gx),Xo(e,Gx+"-"+t),this._engine.statesByElement.set(e,d=new Map));let h=d.get(t);const p=new CL(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&h&&p.absorbOptions(h.options),d.set(t,p),h||(h=SL),p.value!==DC&&h.value===p.value){if(!function qae(n,e){const t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){const s=t[r];if(!e.hasOwnProperty(s)||n[s]!==e[s])return!1}return!0}(h.params,p.params)){const x=[],k=s.matchStyles(h.value,h.params,x),F=s.matchStyles(p.value,p.params,x);x.length?this._engine.reportError(x):this._engine.afterFlush(()=>{em(e,k),Ql(e,F)})}return}const w=po(this._engine.playersByElement,e,[]);w.forEach(x=>{x.namespaceId==this.id&&x.triggerName==t&&x.queued&&x.destroy()});let D=s.matchTransition(h.value,p.value,e,p.params),A=!1;if(!D){if(!r)return;D=s.fallbackTransition,A=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:D,fromState:h,toState:p,player:a,isFallbackTransition:A}),A||(Xo(e,uW),a.onStart(()=>{dv(e,uW)})),a.onDone(()=>{let x=this.players.indexOf(a);x>=0&&this.players.splice(x,1);const k=this._engine.playersByElement.get(e);if(k){let F=k.indexOf(a);F>=0&&k.splice(F,1)}}),this.players.push(a),w.push(a),a}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,Wx,!0);i.forEach(r=>{if(r[Qo])return;const s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(a=>a.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){const s=this._engine.statesByElement.get(e),a=new Map;if(s){const d=[];if(s.forEach((h,p)=>{if(a.set(p,h.value),this._triggers.has(p)){const g=this.trigger(e,p,DC,r);g&&d.push(g)}}),d.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,a),i&&sh(d).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const r=new Set;t.forEach(s=>{const a=s.name;if(r.has(a))return;r.add(a);const h=this._triggers.get(a).fallbackTransition,p=i.get(a)||SL,g=new CL(DC),v=new IL(this.id,a,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:a,transition:h,fromState:p,toState:g,player:v,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){const s=i.players.length?i.playersByQueriedElement.get(e):[];if(s&&s.length)r=!0;else{let a=e;for(;a=a.parentNode;)if(i.statesByElement.get(a)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{const s=e[Qo];(!s||s===dW)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){Xo(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const s=i.element,a=this._elementListeners.get(s);a&&a.forEach(d=>{if(d.name==i.triggerName){const h=oL(s,i.triggerName,i.fromState.value,i.toState.value);h._data=e,rL(i.player,d.phase,h,d.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{const s=i.transition.ast.depCount,a=r.transition.ast.depCount;return 0==s||0==a?s-a:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(i=>i.element===e)||t,t}}class $ae{constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,s)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new Uae(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let a=!1,d=this.driver.getParentElement(t);for(;d;){const h=r.get(d);if(h){const p=i.indexOf(h);i.splice(p+1,0,e),a=!0;break}d=this.driver.getParentElement(d)}a||i.unshift(e)}else i.push(e);return r.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){if(!e)return;const i=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[e];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i)for(let r of i.values())if(r.namespaceId){const s=this._fetchNamespace(r.namespaceId);s&&t.add(s)}return t}trigger(e,t,i,r){if(iM(t)){const s=this._fetchNamespace(e);if(s)return s.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!iM(t))return;const s=t[Qo];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const a=this.collectedLeaveElements.indexOf(t);a>=0&&this.collectedLeaveElements.splice(a,1)}if(e){const a=this._fetchNamespace(e);a&&a.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Xo(e,wL)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),dv(e,wL))}removeNode(e,t,i,r){if(iM(t)){const s=e?this._fetchNamespace(e):null;if(s?s.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r),i){const a=this.namespacesByHostElement.get(t);a&&a.id!==e&&a.removeNode(t,r)}}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,i,r,s){this.collectedLeaveElements.push(t),t[Qo]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,t,i,r,s){return iM(t)?this._fetchNamespace(e).listen(t,i,r,s):()=>{}}_buildInstruction(e,t,i,r,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,Wx,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,dL,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return sh(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[Qo];if(t&&t.setForRemoval){if(e[Qo]=dW,t.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(wL)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Xo(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?sh(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw function $oe(n){return new l.vHH(3402,!1)}()}_flushAnimations(e,t){const i=new eM,r=[],s=new Map,a=[],d=new Map,h=new Map,p=new Map,g=new Set;this.disabledNodes.forEach(J=>{g.add(J);const Ie=this.driver.query(J,".ng-animate-queued",!0);for(let Ce=0;Ce<Ie.length;Ce++)g.add(Ie[Ce])});const v=this.bodyNode,w=Array.from(this.statesByElement.keys()),D=pW(w,this.collectedEnterElements),A=new Map;let x=0;D.forEach((J,Ie)=>{const Ce=uL+x++;A.set(Ie,Ce),J.forEach(pt=>Xo(pt,Ce))});const k=[],F=new Set,L=new Set;for(let J=0;J<this.collectedLeaveElements.length;J++){const Ie=this.collectedLeaveElements[J],Ce=Ie[Qo];Ce&&Ce.setForRemoval&&(k.push(Ie),F.add(Ie),Ce.hasAnimation?this.driver.query(Ie,".ng-star-inserted",!0).forEach(pt=>F.add(pt)):L.add(Ie))}const U=new Map,te=pW(w,Array.from(F));te.forEach((J,Ie)=>{const Ce=jx+x++;U.set(Ie,Ce),J.forEach(pt=>Xo(pt,Ce))}),e.push(()=>{D.forEach((J,Ie)=>{const Ce=A.get(Ie);J.forEach(pt=>dv(pt,Ce))}),te.forEach((J,Ie)=>{const Ce=U.get(Ie);J.forEach(pt=>dv(pt,Ce))}),k.forEach(J=>{this.processLeaveNode(J)})});const oe=[],ue=[];for(let J=this._namespaceList.length-1;J>=0;J--)this._namespaceList[J].drainQueuedTransitions(t).forEach(Ce=>{const pt=Ce.player,Ut=Ce.element;if(oe.push(pt),this.collectedEnterElements.length){const dr=Ut[Qo];if(dr&&dr.setForMove){if(dr.previousTriggersValues&&dr.previousTriggersValues.has(Ce.triggerName)){const rc=dr.previousTriggersValues.get(Ce.triggerName),Ds=this.statesByElement.get(Ce.element);if(Ds&&Ds.has(Ce.triggerName)){const fm=Ds.get(Ce.triggerName);fm.value=rc,Ds.set(Ce.triggerName,fm)}}return void pt.destroy()}}const di=!v||!this.driver.containsElement(v,Ut),$i=U.get(Ut),vo=A.get(Ut),Gn=this._buildInstruction(Ce,i,vo,$i,di);if(Gn.errors&&Gn.errors.length)return void ue.push(Gn);if(di)return pt.onStart(()=>em(Ut,Gn.fromStyles)),pt.onDestroy(()=>Ql(Ut,Gn.toStyles)),void r.push(pt);if(Ce.isFallbackTransition)return pt.onStart(()=>em(Ut,Gn.fromStyles)),pt.onDestroy(()=>Ql(Ut,Gn.toStyles)),void r.push(pt);const ta=[];Gn.timelines.forEach(dr=>{dr.stretchStartingKeyframe=!0,this.disabledNodes.has(dr.element)||ta.push(dr)}),Gn.timelines=ta,i.append(Ut,Gn.timelines),a.push({instruction:Gn,player:pt,element:Ut}),Gn.queriedElements.forEach(dr=>po(d,dr,[]).push(pt)),Gn.preStyleProps.forEach((dr,rc)=>{if(dr.size){let Ds=h.get(rc);Ds||h.set(rc,Ds=new Set),dr.forEach((fm,yh)=>Ds.add(yh))}}),Gn.postStyleProps.forEach((dr,rc)=>{let Ds=p.get(rc);Ds||p.set(rc,Ds=new Set),dr.forEach((fm,yh)=>Ds.add(yh))})});if(ue.length){const J=[];ue.forEach(Ie=>{J.push(function Hoe(n,e){return new l.vHH(3505,!1)}())}),oe.forEach(Ie=>Ie.destroy()),this.reportError(J)}const ye=new Map,ze=new Map;a.forEach(J=>{const Ie=J.element;i.has(Ie)&&(ze.set(Ie,Ie),this._beforeAnimationBuild(J.player.namespaceId,J.instruction,ye))}),r.forEach(J=>{const Ie=J.element;this._getPreviousPlayers(Ie,!1,J.namespaceId,J.triggerName,null).forEach(pt=>{po(ye,Ie,[]).push(pt),pt.destroy()})});const it=k.filter(J=>gW(J,h,p)),$e=new Map;fW($e,this.driver,L,p,hu).forEach(J=>{gW(J,h,p)&&it.push(J)});const ae=new Map;D.forEach((J,Ie)=>{fW(ae,this.driver,new Set(J),h,"!")}),it.forEach(J=>{const Ie=$e.get(J),Ce=ae.get(J);$e.set(J,new Map([...Array.from(Ie?.entries()??[]),...Array.from(Ce?.entries()??[])]))});const Ee=[],_t=[],kt={};a.forEach(J=>{const{element:Ie,player:Ce,instruction:pt}=J;if(i.has(Ie)){if(g.has(Ie))return Ce.onDestroy(()=>Ql(Ie,pt.toStyles)),Ce.disabled=!0,Ce.overrideTotalTime(pt.totalTime),void r.push(Ce);let Ut=kt;if(ze.size>1){let $i=Ie;const vo=[];for(;$i=$i.parentNode;){const Gn=ze.get($i);if(Gn){Ut=Gn;break}vo.push($i)}vo.forEach(Gn=>ze.set(Gn,Ut))}const di=this._buildAnimation(Ce.namespaceId,pt,ye,s,ae,$e);if(Ce.setRealPlayer(di),Ut===kt)Ee.push(Ce);else{const $i=this.playersByElement.get(Ut);$i&&$i.length&&(Ce.parentPlayer=sh($i)),r.push(Ce)}}else em(Ie,pt.fromStyles),Ce.onDestroy(()=>Ql(Ie,pt.toStyles)),_t.push(Ce),g.has(Ie)&&r.push(Ce)}),_t.forEach(J=>{const Ie=s.get(J.element);if(Ie&&Ie.length){const Ce=sh(Ie);J.setRealPlayer(Ce)}}),r.forEach(J=>{J.parentPlayer?J.syncPlayerEvents(J.parentPlayer):J.destroy()});for(let J=0;J<k.length;J++){const Ie=k[J],Ce=Ie[Qo];if(dv(Ie,jx),Ce&&Ce.hasAnimation)continue;let pt=[];if(d.size){let di=d.get(Ie);di&&di.length&&pt.push(...di);let $i=this.driver.query(Ie,dL,!0);for(let vo=0;vo<$i.length;vo++){let Gn=d.get($i[vo]);Gn&&Gn.length&&pt.push(...Gn)}}const Ut=pt.filter(di=>!di.destroyed);Ut.length?Gae(this,Ie,Ut):this.processLeaveNode(Ie)}return k.length=0,Ee.forEach(J=>{this.players.push(J),J.onDone(()=>{J.destroy();const Ie=this.players.indexOf(J);this.players.splice(Ie,1)}),J.play()}),Ee}elementContainsData(e,t){let i=!1;const r=t[Qo];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(t)&&(i=!0),this.playersByQueriedElement.has(t)&&(i=!0),this.statesByElement.has(t)&&(i=!0),this._fetchNamespace(e).elementContainsData(t)||i}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,s){let a=[];if(t){const d=this.playersByQueriedElement.get(e);d&&(a=d)}else{const d=this.playersByElement.get(e);if(d){const h=!s||s==DC;d.forEach(p=>{p.queued||!h&&p.triggerName!=r||a.push(p)})}}return(i||r)&&(a=a.filter(d=>!(i&&i!=d.namespaceId||r&&r!=d.triggerName))),a}_beforeAnimationBuild(e,t,i){const s=t.element,a=t.isRemovalTransition?void 0:e,d=t.isRemovalTransition?void 0:t.triggerName;for(const h of t.timelines){const p=h.element,g=p!==s,v=po(i,p,[]);this._getPreviousPlayers(p,g,a,d,t.toState).forEach(D=>{const A=D.getRealPlayer();A.beforeDestroy&&A.beforeDestroy(),D.destroy(),v.push(D)})}em(s,t.fromStyles)}_buildAnimation(e,t,i,r,s,a){const d=t.triggerName,h=t.element,p=[],g=new Set,v=new Set,w=t.timelines.map(A=>{const x=A.element;g.add(x);const k=x[Qo];if(k&&k.removedBeforeQueried)return new iC(A.duration,A.delay);const F=x!==h,L=function Wae(n){const e=[];return mW(n,e),e}((i.get(x)||Bae).map(ye=>ye.getRealPlayer())).filter(ye=>!!ye.element&&ye.element===x),U=s.get(x),te=a.get(x),oe=$G(0,this._normalizer,0,A.keyframes,U,te),ue=this._buildPlayer(A,oe,L);if(A.subTimeline&&r&&v.add(x),F){const ye=new IL(e,d,x);ye.setRealPlayer(ue),p.push(ye)}return ue});p.forEach(A=>{po(this.playersByQueriedElement,A.element,[]).push(A),A.onDone(()=>function Hae(n,e,t){let i=n.get(e);if(i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&n.delete(e)}return i}(this.playersByQueriedElement,A.element,A))}),g.forEach(A=>Xo(A,KG));const D=sh(w);return D.onDestroy(()=>{g.forEach(A=>dv(A,KG)),Ql(h,t.toStyles)}),v.forEach(A=>{po(r,A,[]).push(D)}),D}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new iC(e.duration,e.delay)}}class IL{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new iC,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,i)=>{t.forEach(r=>rL(e,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){po(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function iM(n){return n&&1===n.nodeType}function hW(n,e){const t=n.style.display;return n.style.display=e??"none",t}function fW(n,e,t,i,r){const s=[];t.forEach(h=>s.push(hW(h)));const a=[];i.forEach((h,p)=>{const g=new Map;h.forEach(v=>{const w=e.computeStyle(p,v,r);g.set(v,w),(!w||0==w.length)&&(p[Qo]=Vae,a.push(p))}),n.set(p,g)});let d=0;return t.forEach(h=>hW(h,s[d++])),a}function pW(n,e){const t=new Map;if(n.forEach(d=>t.set(d,[])),0==e.length)return t;const r=new Set(e),s=new Map;function a(d){if(!d)return 1;let h=s.get(d);if(h)return h;const p=d.parentNode;return h=t.has(p)?p:r.has(p)?1:a(p),s.set(d,h),h}return e.forEach(d=>{const h=a(d);1!==h&&t.get(h).push(d)}),t}function Xo(n,e){n.classList?.add(e)}function dv(n,e){n.classList?.remove(e)}function Gae(n,e,t){sh(t).onDone(()=>n.processLeaveNode(e))}function mW(n,e){for(let t=0;t<n.length;t++){const i=n[t];i instanceof LH?mW(i.players,e):e.push(i)}}function gW(n,e,t){const i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(s=>r.add(s)):e.set(n,i),t.delete(n),!0}class rM{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,s)=>{},this._transitionEngine=new $ae(e,t,i),this._timelineEngine=new Oae(e,t,i),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s)}registerTrigger(e,t,i,r,s){const a=e+"-"+r;let d=this._triggerCache[a];if(!d){const h=[],g=mL(this._driver,s,h,[]);if(h.length)throw function koe(n,e){return new l.vHH(3404,!1)}();d=function xae(n,e,t){return new Mae(n,e,t)}(r,g,this._normalizer),this._triggerCache[a]=d}this._transitionEngine.registerTrigger(t,r,d)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i,r){this._transitionEngine.removeNode(e,t,r||!1,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if("@"==i.charAt(0)){const[s,a]=HG(i);this._timelineEngine.command(s,t,a,r)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,s){if("@"==i.charAt(0)){const[a,d]=HG(i);return this._timelineEngine.listen(a,t,d,s)}return this._transitionEngine.listen(e,t,i,r,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let Zae=(()=>{class n{constructor(t,i,r){this._element=t,this._startStyles=i,this._endStyles=r,this._state=0;let s=n.initialStylesByElement.get(t);s||n.initialStylesByElement.set(t,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&Ql(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Ql(this._element,this._initialStyles),this._endStyles&&(Ql(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(em(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(em(this._element,this._endStyles),this._endStyles=null),Ql(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function TL(n){let e=null;return n.forEach((t,i)=>{(function Kae(n){return"display"===n||"position"===n})(i)&&(e=e||new Map,e.set(i,t))}),e}class _W{constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(i=>{t.push(Object.fromEntries(i))}),t}_triggerWebAnimation(e,t,i){return e.animate(this._convertKeyframesToObject(t),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&e.set(r,this._finished?i:nW(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class Qae{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return WG(e,t)}getParentElement(e){return lL(e)}query(e,t,i){return qG(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}animate(e,t,i,r,s,a=[]){const h={duration:i,delay:r,fill:0==r?"both":"forwards"};s&&(h.easing=s);const p=new Map,g=a.filter(D=>D instanceof _W);(function tae(n,e){return 0===n||0===e})(i,r)&&g.forEach(D=>{D.currentSnapshot.forEach((A,x)=>p.set(x,A))});let v=function Qoe(n){return n.length?n[0]instanceof Map?n:n.map(e=>QG(e)):[]}(t).map(D=>oh(D));v=function nae(n,e,t){if(t.size&&e.length){let i=e[0],r=[];if(t.forEach((s,a)=>{i.has(a)||r.push(a),i.set(a,s)}),r.length)for(let s=1;s<e.length;s++){let a=e[s];r.forEach(d=>a.set(d,nW(n,d)))}}return e}(e,v,p);const w=function Yae(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=TL(e[0]),e.length>1&&(i=TL(e[e.length-1]))):e instanceof Map&&(t=TL(e)),t||i?new Zae(n,t,i):null}(e,v);return new _W(e,v,h,w)}}let Xae=(()=>{class n extends OH{constructor(t,i){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(i.body,{id:"0",encapsulation:l.ifc.None,styles:[],data:{animation:[]}})}build(t){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(t)?NH(t):t;return yW(this._renderer,null,i,"register",[r]),new Jae(i,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.FYo),l.LFG(we))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class Jae extends class YJ{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new ele(this._id,e,t||{},this._renderer)}}class ele{constructor(e,t,i,r){this.id=e,this.element=t,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return yW(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function yW(n,e,t,i,r){return n.setProperty(e,`@@${t}:${i}`,r)}const vW="@.disabled";let tle=(()=>{class n{constructor(t,i,r){this.delegate=t,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(s,a)=>{const d=a?.parentNode(s);d&&a.removeChild(d,s)}}createRenderer(t,i){const s=this.delegate.createRenderer(t,i);if(!(t&&i&&i.data&&i.data.animation)){let g=this._rendererCache.get(s);return g||(g=new bW("",s,this.engine,()=>this._rendererCache.delete(s)),this._rendererCache.set(s,g)),g}const a=i.id,d=i.id+"-"+this._currentId;this._currentId++,this.engine.register(d,t);const h=g=>{Array.isArray(g)?g.forEach(h):this.engine.registerTrigger(a,d,t,g.name,g)};return i.data.animation.forEach(h),new nle(this,d,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,i,r){t>=0&&t<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[a,d]=s;a(d)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.FYo),l.LFG(rM),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class bW{constructor(e,t,i,r){this.namespaceId=e,this.delegate=t,this.engine=i,this._onDestroy=r,this.destroyNode=this.delegate.destroyNode?s=>t.destroyNode(s):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate,i)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==vW?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class nle extends bW{constructor(e,t,i,r,s){super(t,i,r,s),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==vW?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.slice(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const r=function ile(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let s=t.slice(1),a="";return"@"!=s.charAt(0)&&([s,a]=function rle(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(s)),this.engine.listen(this.namespaceId,r,s,a,d=>{this.factory.scheduleListenerCallback(d._data||-1,i,d)})}return this.delegate.listen(e,t,i)}}let sle=(()=>{class n extends rM{constructor(t,i,r,s){super(t.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(we),l.LFG(cL),l.LFG(bL),l.LFG(l.z2F))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const EW=[{provide:OH,useClass:Xae},{provide:bL,useFactory:function ole(){return new Iae}},{provide:rM,useClass:sle},{provide:l.FYo,useFactory:function ale(n,e,t){return new tle(n,e,t)},deps:[Uh,rM,l.R0b]}],DL=[{provide:cL,useFactory:()=>new Qae},{provide:l.QbO,useValue:"BrowserAnimations"},...EW],wW=[{provide:cL,useClass:YG},{provide:l.QbO,useValue:"NoopAnimations"},...EW];let lle=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?wW:DL}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:DL,imports:[ga]}),n})();const AL={firebase:{apiKey:"AIzaSyA1LtfI7bgihfi757Z0kjb2ILvxfVZsa8g",authDomain:"book-store-eacc9.firebaseapp.com",projectId:"book-store-eacc9",storageBucket:"book-store-eacc9.appspot.com",messagingSenderId:"101029384236",appId:"1:101029384236:web:23790f633505a166a7c189",measurementId:"G-ZQVCC4SPL3"},production:!0};var ule=z(655);class AC{constructor(e){return e}}const CW="analytics",SW=y_.async,hle=Qn(j0,!0),fle=Qn(wT,!0),ple=Qn(ET,!0);let xL=(()=>{class n{constructor(t,i,r){let s;this.disposables=[],(0,ot.registerVersion)("angularfire",Qr.full,"user-tracking"),this.initialized=i.runOutsideAngular(()=>new Promise(a=>{s=a})),SW().then(()=>{const a=r.get(AC);a?this.disposables=[fD(t).subscribe(d=>{ple(a,d?.uid),s()})]:s()})}ngOnDestroy(){this.disposables.forEach(t=>t.unsubscribe())}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(M_),l.LFG(l.R0b),l.LFG(l.zs3))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const IW="firebase_screen_id",ML="outlet",xC="screen_class",TW="screen_name";let Tle=Math.floor(Math.random()*(Math.pow(2,32)-1))-Math.pow(2,31);const kL={},Dle=n=>{const e=[n[xC],n[ML]].join("#");if(kL.hasOwnProperty(e))return kL[e];{const t=Tle++;return kL[e]=t,t}};let DW=(()=>{class n{constructor(t,i,r,s,a,d){(0,ot.registerVersion)("angularfire",Qr.full,"screen-tracking"),SW().then(()=>{const h=d.get(AC);!t||!h||s.runOutsideAngular(()=>{this.disposable=((n,e,t)=>n.events.pipe(An(r=>r instanceof fb)).pipe(Nn(r=>{var s;const d=(null===(s=n.parseUrl(n.url.replace(/(?:\().+(?:\))/g,D=>D.replace("://",":///"))).root.children[r.snapshot.outlet])||void 0===s?void 0:s.toString())||"",h=n.routerState.root.children.map(D=>D).find(D=>D.outlet===r.snapshot.outlet);if(!h)return tt(null);let p=h;for(;p.firstChild;)p=p.firstChild;const g=p.pathFromRoot.map(D=>{var A;return null===(A=D.routeConfig)||void 0===A?void 0:A.path}).filter(D=>D).join("/")||"/",v={[TW]:g,page_path:`/${d}`,firebase_event_origin:"auto",firebase_screen:g,[ML]:r.snapshot.outlet};e&&(v.page_title=e.getTitle());let w=h.component;if(w){if(w===fl){let D=r.snapshot;for(;D.firstChild;)D=D.firstChild;w=D.component}}else w=r.snapshot.component;if("string"==typeof w)return tt(Object.assign(Object.assign({},v),{[xC]:w}));if(w){const D=t.resolveComponentFactory(w);return tt(Object.assign(Object.assign({},v),{[xC]:D.selector}))}return tt(null)}),An(r=>!!r),(0,rt.U)(r=>Object.assign({firebase_screen_class:r[xC],[IW]:Dle(r)},r)),function cle(n,e,t,i){return(0,Zn.e)((r,s)=>{let a;e&&"function"!=typeof e?({duration:t,element:a,connector:i}=e):a=e;const d=new Map,h=A=>{d.forEach(A),A(s)},p=A=>h(x=>x.error(A));let g=0,v=!1;const w=new Hn.Q(s,A=>{try{const x=n(A);let k=d.get(x);if(!k){d.set(x,k=i?i():new Tt.x);const F=function D(A,x){const k=new Pn.y(F=>{g++;const L=x.subscribe(F);return()=>{L.unsubscribe(),0==--g&&v&&w.unsubscribe()}});return k.key=A,k}(x,k);if(s.next(F),t){const L=(0,Hn.x)(k,()=>{k.complete(),L?.unsubscribe()},void 0,void 0,()=>d.delete(x));w.add((0,cs.Xf)(t(F)).subscribe(L))}}k.next(a?a(A):A)}catch(x){p(x)}},()=>h(A=>A.complete()),p,()=>d.clear(),()=>(v=!0,0===g));r.subscribe(w)})}(r=>r[ML]),(0,fi.z)(r=>r.pipe(KA((s,a)=>JSON.stringify(s)===JSON.stringify(a)),li(void 0),xx(),(0,rt.U)(([s,a])=>s?Object.assign({firebase_previous_class:s[xC],firebase_previous_screen:s[TW],firebase_previous_id:s[IW]},a):a)))))(t,i,r).pipe(Nn(p=>(0,ule.mG)(this,void 0,void 0,function*(){return a&&(yield a.initialized),fle(h,"screen_view",p)}))).subscribe()})})}ngOnDestroy(){this.disposable&&this.disposable.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Li,8),l.LFG(eo,8),l.LFG(l._Vd),l.LFG(l.R0b),l.LFG(xL,8),l.LFG(l.zs3))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const RL=new l.OlP("angularfire2.analytics-instances");function Mle(n){return(e,t)=>{if(!y_.sync())return null;const i=e.runOutsideAngular(()=>n(t));return new AC(i)}}const kle={provide:class dle{constructor(){return Pa(CW)}},deps:[[new l.FiY,RL]]},Rle={provide:AC,useFactory:function xle(n,e){if(!y_.sync())return null;const t=Rr(CW,n,e);return t&&new AC(t)},deps:[[new l.FiY,RL],mn]};let Ole=(()=>{class n{constructor(t,i){(0,ot.registerVersion)("angularfire",Qr.full,"analytics")}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(DW,8),l.LFG(xL,8))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[Rle,kle,{provide:l.ip1,useValue:y_.async,multi:!0}]}),n})();function Ple(n,...e){return{ngModule:Ole,providers:[{provide:RL,useFactory:Mle(n),multi:!0,deps:[l.R0b,l.zs3,Xr,Na,...e]}]}}const AW="@firebase/database",xW="0.13.10";let OL="";class Fle{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),(0,q.Wl)(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:(0,q.cI)(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class Lle{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return(0,q.r3)(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const MW=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new Fle(e)}}catch{}return new Lle},nm=MW("localStorage"),PL=MW("sessionStorage"),hv=new _r.Yd("@firebase/database"),kW=function(){let n=1;return function(){return n++}}(),RW=function(n){const e=(0,q.dS)(n),t=new q.gQ;t.update(e);const i=t.digest();return q.US.encodeByteArray(i)},MC=function(...n){let e="";for(let t=0;t<n.length;t++){const i=n[t];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?e+=MC.apply(null,i):e+="object"==typeof i?(0,q.Wl)(i):i,e+=" "}return e};let im=null,OW=!0;const Cr=function(...n){if(!0===OW&&(OW=!1,null===im&&!0===PL.get("logging_enabled")&&function(n,e){(0,q.hu)(!e||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(hv.logLevel=_r.in.VERBOSE,im=hv.log.bind(hv),e&&PL.set("logging_enabled",!0)):"function"==typeof n?im=n:(im=null,PL.remove("logging_enabled"))}(!0)),im){const e=MC.apply(null,n);im(e)}},kC=function(n){return function(...e){Cr(n,...e)}},NL=function(...n){const e="FIREBASE INTERNAL ERROR: "+MC(...n);hv.error(e)},Xl=function(...n){const e=`FIREBASE FATAL ERROR: ${MC(...n)}`;throw hv.error(e),new Error(e)},rs=function(...n){const e="FIREBASE WARNING: "+MC(...n);hv.warn(e)},oM=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},gu="[MIN_NAME]",Jl="[MAX_NAME]",rm=function(n,e){if(n===e)return 0;if(n===gu||e===Jl)return-1;if(e===gu||n===Jl)return 1;{const t=aM(n),i=aM(e);return null!==t?null!==i?t-i==0?n.length-e.length:t-i:-1:null!==i?1:n<e?-1:1}},Ule=function(n,e){return n===e?0:n<e?-1:1},RC=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+(0,q.Wl)(e))},FL=function(n){if("object"!=typeof n||null===n)return(0,q.Wl)(n);const e=[];for(const i in n)e.push(i);e.sort();let t="{";for(let i=0;i<e.length;i++)0!==i&&(t+=","),t+=(0,q.Wl)(e[i]),t+=":",t+=FL(n[e[i]]);return t+="}",t},NW=function(n,e){const t=n.length;if(t<=e)return[n];const i=[];for(let r=0;r<t;r+=e)i.push(n.substring(r,r+e>t?t:r+e));return i};function Sr(n,e){for(const t in n)n.hasOwnProperty(t)&&e(t,n[t])}const FW=function(n){(0,q.hu)(!oM(n),"Invalid JSON number");const i=1023;let r,s,a,d,h;0===n?(s=0,a=0,r=1/n==-1/0?1:0):(r=n<0,(n=Math.abs(n))>=Math.pow(2,1-i)?(d=Math.min(Math.floor(Math.log(n)/Math.LN2),i),s=d+i,a=Math.round(n*Math.pow(2,52-d)-Math.pow(2,52))):(s=0,a=Math.round(n/Math.pow(2,-1074))));const p=[];for(h=52;h;h-=1)p.push(a%2?1:0),a=Math.floor(a/2);for(h=11;h;h-=1)p.push(s%2?1:0),s=Math.floor(s/2);p.push(r?1:0),p.reverse();const g=p.join("");let v="";for(h=0;h<64;h+=8){let w=parseInt(g.substr(h,8),2).toString(16);1===w.length&&(w="0"+w),v+=w}return v.toLowerCase()},jle=new RegExp("^-?(0*)\\d{1,10}$"),aM=function(n){if(jle.test(n)){const e=Number(n);if(e>=-2147483648&&e<=2147483647)return e}return null},fv=function(n){try{n()}catch(e){setTimeout(()=>{throw rs("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},OC=function(n,e){const t=setTimeout(n,e);return"number"==typeof t&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(t):"object"==typeof t&&t.unref&&t.unref(),t};class Wle{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=t?.getImmediate({optional:!0}),this.appCheck||t?.get().then(i=>this.appCheck=i)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((t,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){rs(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class qle{constructor(e,t,i){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&"auth/token-not-initialized"===t.code?(Cr("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';e+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',rs(e)}}let PC=(()=>{class n{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const HW=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,GW="websocket",WW="long_polling";class VL{constructor(e,t,i,r,s=!1,a="",d=!1){this.secure=t,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=s,this.persistenceKey=a,this.includeNamespaceInQueryParams=d,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=nm.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&nm.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function qW(n,e,t){let i;if((0,q.hu)("string"==typeof e,"typeof type must == string"),(0,q.hu)("object"==typeof t,"typeof params must == object"),e===GW)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(e!==WW)throw new Error("Unknown connection type: "+e);i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function Yle(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(t.ns=n.namespace);const r=[];return Sr(t,(s,a)=>{r.push(s+"="+a)}),i+r.join("&")}class Zle{constructor(){this.counters_={}}incrementCounter(e,t=1){(0,q.r3)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return(0,q.p$)(this.counters_)}}const UL={},$L={};function HL(n){const e=n.toString();return UL[e]||(UL[e]=new Zle),UL[e]}class Qle{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&fv(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class ah{constructor(e,t,i,r,s,a,d){this.connId=e,this.repoInfo=t,this.applicationId=i,this.appCheckToken=r,this.authToken=s,this.transportSessionId=a,this.lastSessionId=d,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=kC(e),this.stats_=HL(t),this.urlFn=h=>(this.appCheckToken&&(h.ac=this.appCheckToken),qW(t,WW,h))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new Qle(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,q.Yr)()||"complete"===document.readyState)n();else{let e=!1;const t=function(){document.body?e||(e=!0,n()):setTimeout(t,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&t()}),window.attachEvent("onload",t))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new zL((...s)=>{const[a,d,h,p,g]=s;if(this.incrementIncomingBytes_(s),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===a)this.id=d,this.password=h;else{if("close"!==a)throw new Error("Unrecognized command received: "+a);d?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(d,()=>{this.onClosed_()})):this.onClosed_()}},(...s)=>{const[a,d]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(a,d)},()=>{this.onClosed_()},this.urlFn);const i={start:"t"};i.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(i.cb=this.scriptTagHolder.uniqueCallbackIdentifier),i.v="5",this.transportSessionId&&(i.s=this.transportSessionId),this.lastSessionId&&(i.ls=this.lastSessionId),this.applicationId&&(i.p=this.applicationId),this.appCheckToken&&(i.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&HW.test(location.hostname)&&(i.r="f");const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){ah.forceAllow_=!0}static forceDisallow(){ah.forceDisallow_=!0}static isAvailable(){return!((0,q.Yr)()||!ah.forceAllow_&&(ah.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=(0,q.Wl)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const i=(0,q.h$)(t),r=NW(i,1840);for(let s=0;s<r.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[s]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if((0,q.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const i={dframe:"t"};i.id=e,i.pw=t,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=(0,q.Wl)(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class zL{constructor(e,t,i,r){if(this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,q.Yr)())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=kW(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=zL.createIFrame_();let s="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(s='<script>document.domain="'+document.domain+'";<\/script>');const a="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(a),this.myIFrame.doc.close()}catch(d){Cr("frame writing exception"),d.stack&&Cr(d.stack),Cr(d)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||Cr("No IE domain setting required")}catch{const i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){const a=this.pendingSegs.shift();i=i+"&seg"+r+"="+a.seg+"&ts"+r+"="+a.ts+"&d"+r+"="+a.d,r++}return t+=i,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,i){this.pendingSegs.push({seg:e,ts:t,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const i=()=>{this.outstandingRequests.delete(t),this.newRequest_()},r=setTimeout(i,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(r),i()})}addTag(e,t){(0,q.Yr)()?this.doNodeLongPoll(e,t):setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||"loaded"===r||"complete"===r)&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),t())},i.onerror=()=>{Cr("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}let cM=null;typeof MozWebSocket<"u"?cM=MozWebSocket:typeof WebSocket<"u"&&(cM=WebSocket);let pv=(()=>{class n{constructor(t,i,r,s,a,d,h){this.connId=t,this.applicationId=r,this.appCheckToken=s,this.authToken=a,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=kC(this.connId),this.stats_=HL(i),this.connURL=n.connectionURL_(i,d,h,s,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(t,i,r,s,a){const d={v:"5"};return!(0,q.Yr)()&&typeof location<"u"&&location.hostname&&HW.test(location.hostname)&&(d.r="f"),i&&(d.s=i),r&&(d.ls=r),s&&(d.ac=s),a&&(d.p=a),qW(t,GW,d)}open(t,i){this.onDisconnect=i,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,nm.set("previous_websocket_failure",!0);try{let r;if((0,q.Yr)()){r={headers:{"User-Agent":`Firebase/5/${OL}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);const a=process.env,d=0===this.connURL.indexOf("wss://")?a.HTTPS_PROXY||a.https_proxy:a.HTTP_PROXY||a.http_proxy;d&&(r.proxy={origin:d})}this.mySock=new cM(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const s=r.message||r.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const r=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);r&&r.length>1&&parseFloat(r[1])<4.4&&(t=!0)}return!t&&null!==cM&&!n.forceDisallow_}static previouslyFailed(){return nm.isInMemoryStorage||!0===nm.get("previous_websocket_failure")}markConnectionHealthy(){nm.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const r=(0,q.cI)(i);this.onMessage(r)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if((0,q.hu)(null===this.frames,"We already have a frame buffer"),t.length<=6){const i=Number(t);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(null===this.mySock)return;const i=t.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(i);else{const r=this.extractFrameCount_(i);null!==r&&this.appendFrame_(r)}}send(t){this.resetKeepAlive();const i=(0,q.Wl)(t);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=NW(i,16384);r.length>1&&this.sendString_(String(r.length));for(let s=0;s<r.length;s++)this.sendString_(r[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(t){try{this.mySock.send(t)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),e6=(()=>{class n{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[ah,pv]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const i=pv&&pv.isAvailable();let r=i&&!pv.previouslyFailed();if(t.webSocketOnly&&(i||rs("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[pv];else{const s=this.transports_=[];for(const a of n.ALL_TRANSPORTS)a&&a.isAvailable()&&s.push(a);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class a6{constructor(e,t,i,r,s,a,d,h,p,g){this.id=e,this.repoInfo_=t,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=s,this.onMessage_=a,this.onReady_=d,this.onDisconnect_=h,this.onKill_=p,this.lastSessionId=g,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=kC("c:"+this.id+":"),this.transportManager_=new e6(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,i)},Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=OC(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=RC("t",e),i=RC("d",e);if("c"===t)this.onSecondaryControl_(i);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(i)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=RC("t",e),i=RC("d",e);"c"===t?this.onControl_(i):"d"===t&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=RC("t",e);if("d"in e){const i=e.d;if("h"===t)this.onHandshake_(i);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(i):"r"===t?this.onReset_(i):"e"===t?NL("Server Error: "+i):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):NL("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,i=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==i&&rs("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,i),OC(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):OC(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(nm.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class l6{put(e,t,i,r){}merge(e,t,i,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,i){}onDisconnectMerge(e,t,i){}onDisconnectCancel(e,t){}reportStats(e){}}class c6{constructor(e){this.allowedEvents_=e,this.listeners_={},(0,q.hu)(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,t)}}on(e,t,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:i});const r=this.getInitialEvent(e);r&&t.apply(i,r)}off(e,t,i){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let s=0;s<r.length;s++)if(r[s].callback===t&&(!i||i===r[s].context))return void r.splice(s,1)}validateEventType_(e){(0,q.hu)(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}class uM extends c6{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,q.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new uM}getInitialEvent(e){return(0,q.hu)("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class Fn{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function xn(){return new Fn("")}function ln(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function lh(n){return n.pieces_.length-n.pieceNum_}function ei(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new Fn(n.pieces_,e)}function GL(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function NC(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function h6(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new Fn(e,0)}function yi(n,e){const t=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)t.push(n.pieces_[i]);if(e instanceof Fn)for(let i=e.pieceNum_;i<e.pieces_.length;i++)t.push(e.pieces_[i]);else{const i=e.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&t.push(i[r])}return new Fn(t,0)}function cn(n){return n.pieceNum_>=n.pieces_.length}function Ts(n,e){const t=ln(n),i=ln(e);if(null===t)return e;if(t===i)return Ts(ei(n),ei(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function WL(n,e){if(lh(n)!==lh(e))return!1;for(let t=n.pieceNum_,i=e.pieceNum_;t<=n.pieces_.length;t++,i++)if(n.pieces_[t]!==e.pieces_[i])return!1;return!0}function Jo(n,e){let t=n.pieceNum_,i=e.pieceNum_;if(lh(n)>lh(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[i])return!1;++t,++i}return!0}class bce{constructor(e,t){this.errorPrefix_=t,this.parts_=NC(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=(0,q.ug)(this.parts_[i]);f6(this)}}function f6(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+sm(n))}function sm(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class qL extends c6{constructor(){let e,t;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(t="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(t="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(t="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new qL}getInitialEvent(e){return(0,q.hu)("visible"===e,"Unknown event type: "+e),[this.visible_]}}const FC=1e3;let hM,om=(()=>{class n extends l6{constructor(t,i,r,s,a,d,h,p){if(super(),this.repoInfo_=t,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=s,this.onServerInfoUpdate_=a,this.authTokenProvider_=d,this.appCheckTokenProvider_=h,this.authOverride_=p,this.id=n.nextPersistentConnectionId_++,this.log_=kC("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=FC,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,p&&!(0,q.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");qL.getInstance().on("visible",this.onVisible_,this),-1===t.host.indexOf("fblocal")&&uM.getInstance().on("online",this.onOnline_,this)}sendRequest(t,i,r){const s=++this.requestNumber_,a={r:s,a:t,b:i};this.log_((0,q.Wl)(a)),(0,q.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(a),r&&(this.requestCBHash_[s]=r)}get(t){this.initConnection_();const i=new q.BH,r={p:t._path.toString(),q:t._queryObject};return this.outstandingGets_.push({action:"g",request:r,onComplete:d=>{const h=d.d;"ok"===d.s?i.resolve(h):i.reject(h)}}),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),i.promise}listen(t,i,r,s){this.initConnection_();const a=t._queryIdentifier,d=t._path.toString();this.log_("Listen called for "+d+" "+a),this.listens.has(d)||this.listens.set(d,new Map),(0,q.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,q.hu)(!this.listens.get(d).has(a),"listen() called twice for same path/queryId.");const h={onComplete:s,hashFn:i,query:t,tag:r};this.listens.get(d).set(a,h),this.connected_&&this.sendListen_(h)}sendGet_(t){const i=this.outstandingGets_[t];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(t){const i=t.query,r=i._path.toString(),s=i._queryIdentifier;this.log_("Listen on "+r+" for "+s);const a={p:r};t.tag&&(a.q=i._queryObject,a.t=t.tag),a.h=t.hashFn(),this.sendRequest("q",a,h=>{const p=h.d,g=h.s;n.warnOnListenWarnings_(p,i),(this.listens.get(r)&&this.listens.get(r).get(s))===t&&(this.log_("listen response",h),"ok"!==g&&this.removeListen_(r,s),t.onComplete&&t.onComplete(g,p))})}static warnOnListenWarnings_(t,i){if(t&&"object"==typeof t&&(0,q.r3)(t,"w")){const r=(0,q.DV)(t,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const s='".indexOn": "'+i._queryParams.getIndex().toString()+'"',a=i._path.toString();rs(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${a} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&40===t.length||(0,q.GJ)(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,i=(0,q.w9)(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(i,r,s=>{const a=s.s,d=s.d||"error";this.authToken_===t&&("ok"===a?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(a,d))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const i=t.s,r=t.d||"error";"ok"===i?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(t,i){const r=t._path.toString(),s=t._queryIdentifier;this.log_("Unlisten called for "+r+" "+s),(0,q.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,s)&&this.connected_&&this.sendUnlisten_(r,s,t._queryObject,i)}sendUnlisten_(t,i,r,s){this.log_("Unlisten on "+t+" for "+i);const a={p:t};s&&(a.q=r,a.t=s),this.sendRequest("n",a)}onDisconnectPut(t,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,i,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:i,onComplete:r})}onDisconnectMerge(t,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,i,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:i,onComplete:r})}onDisconnectCancel(t,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(t,i,r,s){const a={p:i,d:r};this.log_("onDisconnect "+t,a),this.sendRequest(t,a,d=>{s&&setTimeout(()=>{s(d.s,d.d)},Math.floor(0))})}put(t,i,r,s){this.putInternal("p",t,i,r,s)}merge(t,i,r,s){this.putInternal("m",t,i,r,s)}putInternal(t,i,r,s,a){this.initConnection_();const d={p:i,d:r};void 0!==a&&(d.h=a),this.outstandingPuts_.push({action:t,request:d,onComplete:s}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+i)}sendPut_(t){const i=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,s=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(i,r,a=>{this.log_(i+" response",a),delete this.outstandingPuts_[t],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),s&&s(a.s,a.d)})}reportStats(t){if(this.connected_){const i={c:t};this.log_("reportStats",i),this.sendRequest("s",i,r=>{"ok"!==r.s&&this.log_("reportStats","Error sending stats: "+r.d)})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+(0,q.Wl)(t));const i=t.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,i){this.log_("handleServerMessage",t,i),"d"===t?this.onDataUpdate_(i.p,i.d,!1,i.t):"m"===t?this.onDataUpdate_(i.p,i.d,!0,i.t):"c"===t?this.onListenRevoked_(i.p,i.q):"ac"===t?this.onAuthRevoked_(i.s,i.d):"apc"===t?this.onAppCheckRevoked_(i.s,i.d):"sd"===t?this.onSecurityDebugPacket_(i):NL("Unrecognized action received from server: "+(0,q.Wl)(t)+"\nAre you using the latest client?")}onReady_(t,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){(0,q.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=FC,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=FC,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=FC),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const t=(new Date).getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-t);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var t=this;return(0,ee.Z)(function*(){if(t.shouldReconnect_()){t.log_("Making a connection attempt"),t.lastConnectionAttemptTime_=(new Date).getTime(),t.lastConnectionEstablishedTime_=null;const i=t.onDataMessage_.bind(t),r=t.onReady_.bind(t),s=t.onRealtimeDisconnect_.bind(t),a=t.id+":"+n.nextConnectionId_++,d=t.lastSessionId;let h=!1,p=null;const g=function(){p?p.close():(h=!0,s())};t.realtime_={close:g,sendRequest:function(D){(0,q.hu)(p,"sendRequest call when we're not connected not allowed."),p.sendRequest(D)}};const w=t.forceTokenRefresh_;t.forceTokenRefresh_=!1;try{const[D,A]=yield Promise.all([t.authTokenProvider_.getToken(w),t.appCheckTokenProvider_.getToken(w)]);h?Cr("getToken() completed but was canceled"):(Cr("getToken() completed. Creating connection."),t.authToken_=D&&D.accessToken,t.appCheckToken_=A&&A.token,p=new a6(a,t.repoInfo_,t.applicationId_,t.appCheckToken_,t.authToken_,i,r,s,x=>{rs(x+" ("+t.repoInfo_.toString()+")"),t.interrupt("server_kill")},d))}catch(D){t.log_("Failed to get token: "+D),h||(t.repoInfo_.nodeAdmin&&rs(D),g())}}})()}interrupt(t){Cr("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){Cr("Resuming connection for reason: "+t),delete this.interruptReasons_[t],(0,q.xb)(this.interruptReasons_)&&(this.reconnectDelay_=FC,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const i=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const i=this.outstandingPuts_[t];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(t,i){let r;r=i?i.map(a=>FL(a)).join("$"):"default";const s=this.removeListen_(t,r);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(t,i){const r=new Fn(t).toString();let s;if(this.listens.has(r)){const a=this.listens.get(r);s=a.get(i),a.delete(i),0===a.size&&this.listens.delete(r)}else s=void 0;return s}onAuthRevoked_(t,i){Cr("Auth token revoked: "+t+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===t||"permission_denied"===t)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,i){Cr("App check token revoked: "+t+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===t||"permission_denied"===t)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const i of t.values())this.sendListen_(i);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let i="js";(0,q.Yr)()&&(i=this.repoInfo_.nodeAdmin?"admin_node":"node"),t["sdk."+i+"."+OL.replace(/\./g,"-")]=1,(0,q.uI)()?t["framework.cordova"]=1:(0,q.b$)()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=uM.getInstance().currentlyOnline();return(0,q.xb)(this.interruptReasons_)&&t}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class dn{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new dn(e,t)}}class dM{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const i=new dn(gu,e),r=new dn(gu,t);return 0!==this.compare(i,r)}minPost(){return dn.MIN}}class g6 extends dM{static get __EMPTY_NODE(){return hM}static set __EMPTY_NODE(e){hM=e}compare(e,t){return rm(e.name,t.name)}isDefinedOn(e){throw(0,q.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return dn.MIN}maxPost(){return new dn(Jl,hM)}makePost(e,t){return(0,q.hu)("string"==typeof e,"KeyIndex indexValue must always be a string."),new dn(e,hM)}toString(){return".key"}}const ec=new g6;class fM{constructor(e,t,i,r,s=null){this.isReverse_=r,this.resultGenerator_=s,this.nodeStack_=[];let a=1;for(;!e.isEmpty();)if(a=t?i(e.key,t):1,r&&(a*=-1),a<0)e=this.isReverse_?e.left:e.right;else{if(0===a){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}let ZL,Wa=(()=>{class n{constructor(t,i,r,s,a){this.key=t,this.value=i,this.color=r??n.RED,this.left=s??Ys.EMPTY_NODE,this.right=a??Ys.EMPTY_NODE}copy(t,i,r,s,a){return new n(t??this.key,i??this.value,r??this.color,s??this.left,a??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let s=this;const a=r(t,s.key);return s=a<0?s.copy(null,null,null,s.left.insert(t,i,r),null):0===a?s.copy(null,i,null,null,null):s.copy(null,null,null,null,s.right.insert(t,i,r)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ys.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,i){let r,s;if(r=this,i(t,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(t,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),0===i(t,r.key)){if(r.right.isEmpty())return Ys.EMPTY_NODE;s=r.right.min_(),r=r.copy(s.key,s.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(t,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class Ys{constructor(e,t=Ys.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new Ys(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,Wa.BLACK,null,null))}remove(e){return new Ys(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Wa.BLACK,null,null))}get(e){let t,i=this.root_;for(;!i.isEmpty();){if(t=this.comparator_(e,i.key),0===t)return i.value;t<0?i=i.left:t>0&&(i=i.right)}return null}getPredecessorKey(e){let t,i=this.root_,r=null;for(;!i.isEmpty();){if(t=this.comparator_(e,i.key),0===t){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}t<0?i=i.left:t>0&&(r=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new fM(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new fM(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new fM(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new fM(this.root_,null,this.comparator_,!0,e)}}function Ace(n,e){return rm(n.name,e.name)}function YL(n,e){return rm(n,e)}Ys.EMPTY_NODE=new class Dce{copy(e,t,i,r,s){return this}insert(e,t,i){return new Wa(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const _6=function(n){return"number"==typeof n?"number:"+FW(n):"string:"+n},y6=function(n){if(n.isLeafNode()){const e=n.val();(0,q.hu)("string"==typeof e||"number"==typeof e||"object"==typeof e&&(0,q.r3)(e,".sv"),"Priority must be a string or number.")}else(0,q.hu)(n===ZL||n.isEmpty(),"priority of unexpected type.");(0,q.hu)(n===ZL||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let v6,b6,E6,mv=(()=>{class n{constructor(t,i=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=i,this.lazyHash_=null,(0,q.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),y6(this.priorityNode_)}static set __childrenNodeConstructor(t){v6=t}static get __childrenNodeConstructor(){return v6}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new n(this.value_,t)}getImmediateChild(t){return".priority"===t?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return cn(t)?this:".priority"===ln(t)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,i){return null}updateImmediateChild(t,i){return".priority"===t?this.updatePriority(i):i.isEmpty()&&".priority"!==t?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,i).updatePriority(this.priorityNode_)}updateChild(t,i){const r=ln(t);return null===r?i:i.isEmpty()&&".priority"!==r?this:((0,q.hu)(".priority"!==r||1===lh(t),".priority must be the last token in a path"),this.updateImmediateChild(r,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(ei(t),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,i){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+_6(this.priorityNode_.val())+":");const i=typeof this.value_;t+=i+":",t+="number"===i?FW(this.value_):this.value_,this.lazyHash_=RW(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===n.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof n.__childrenNodeConstructor?-1:((0,q.hu)(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const i=typeof t.value_,r=typeof this.value_,s=n.VALUE_TYPE_ORDER.indexOf(i),a=n.VALUE_TYPE_ORDER.indexOf(r);return(0,q.hu)(s>=0,"Unknown leaf type: "+i),(0,q.hu)(a>=0,"Unknown leaf type: "+r),s===a?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:a-s}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const i=t;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}return!1}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const ri=new class Rce extends dM{compare(e,t){const i=e.node.getPriority(),r=t.node.getPriority(),s=i.compareTo(r);return 0===s?rm(e.name,t.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return dn.MIN}maxPost(){return new dn(Jl,new mv("[PRIORITY-POST]",E6))}makePost(e,t){const i=b6(e);return new dn(t,new mv("[PRIORITY-POST]",i))}toString(){return".priority"}},Oce=Math.log(2);class Pce{constructor(e){this.count=parseInt(Math.log(e+1)/Oce,10),this.current_=this.count-1;const r=(s=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=e+1&r}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const pM=function(n,e,t,i){n.sort(e);const r=function(h,p){const g=p-h;let v,w;if(0===g)return null;if(1===g)return v=n[h],w=t?t(v):v,new Wa(w,v.node,Wa.BLACK,null,null);{const D=parseInt(g/2,10)+h,A=r(h,D),x=r(D+1,p);return v=n[D],w=t?t(v):v,new Wa(w,v.node,Wa.BLACK,A,x)}},d=function(h){let p=null,g=null,v=n.length;const w=function(A,x){const k=v-A,F=v;v-=A;const L=r(k+1,F),U=n[k],te=t?t(U):U;D(new Wa(te,U.node,x,null,L))},D=function(A){p?(p.left=A,p=A):(g=A,p=A)};for(let A=0;A<h.count;++A){const x=h.nextBitIsOne(),k=Math.pow(2,h.count-(A+1));x?w(k,Wa.BLACK):(w(k,Wa.BLACK),w(k,Wa.RED))}return g}(new Pce(n.length));return new Ys(i||e,d)};let KL;const gv={};class _u{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return(0,q.hu)(gv&&ri,"ChildrenNode.ts has not been loaded"),KL=KL||new _u({".priority":gv},{".priority":ri}),KL}get(e){const t=(0,q.DV)(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Ys?t:null}hasIndex(e){return(0,q.r3)(this.indexSet_,e.toString())}addIndex(e,t){(0,q.hu)(e!==ec,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const s=t.getIterator(dn.Wrap);let d,a=s.getNext();for(;a;)r=r||e.isDefinedOn(a.node),i.push(a),a=s.getNext();d=r?pM(i,e.getCompare()):gv;const h=e.toString(),p=Object.assign({},this.indexSet_);p[h]=e;const g=Object.assign({},this.indexes_);return g[h]=d,new _u(g,p)}addToIndexes(e,t){const i=(0,q.UI)(this.indexes_,(r,s)=>{const a=(0,q.DV)(this.indexSet_,s);if((0,q.hu)(a,"Missing index implementation for "+s),r===gv){if(a.isDefinedOn(e.node)){const d=[],h=t.getIterator(dn.Wrap);let p=h.getNext();for(;p;)p.name!==e.name&&d.push(p),p=h.getNext();return d.push(e),pM(d,a.getCompare())}return gv}{const d=t.get(e.name);let h=r;return d&&(h=h.remove(new dn(e.name,d))),h.insert(e,e.node)}});return new _u(i,this.indexSet_)}removeFromIndexes(e,t){const i=(0,q.UI)(this.indexes_,r=>{if(r===gv)return r;{const s=t.get(e.name);return s?r.remove(new dn(e.name,s)):r}});return new _u(i,this.indexSet_)}}let LC,Jt=(()=>{class n{constructor(t,i,r){this.children_=t,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&y6(this.priorityNode_),this.children_.isEmpty()&&(0,q.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return LC||(LC=new n(new Ys(YL),null,_u.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||LC}updatePriority(t){return this.children_.isEmpty()?this:new n(this.children_,t,this.indexMap_)}getImmediateChild(t){if(".priority"===t)return this.getPriority();{const i=this.children_.get(t);return null===i?LC:i}}getChild(t){const i=ln(t);return null===i?this:this.getImmediateChild(i).getChild(ei(t))}hasChild(t){return null!==this.children_.get(t)}updateImmediateChild(t,i){if((0,q.hu)(i,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(i);{const r=new dn(t,i);let s,a;i.isEmpty()?(s=this.children_.remove(t),a=this.indexMap_.removeFromIndexes(r,this.children_)):(s=this.children_.insert(t,i),a=this.indexMap_.addToIndexes(r,this.children_));const d=s.isEmpty()?LC:this.priorityNode_;return new n(s,d,a)}}updateChild(t,i){const r=ln(t);if(null===r)return i;{(0,q.hu)(".priority"!==ln(t)||1===lh(t),".priority must be the last token in a path");const s=this.getImmediateChild(r).updateChild(ei(t),i);return this.updateImmediateChild(r,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const i={};let r=0,s=0,a=!0;if(this.forEachChild(ri,(d,h)=>{i[d]=h.val(t),r++,a&&n.INTEGER_REGEXP_.test(d)?s=Math.max(s,Number(d)):a=!1}),!t&&a&&s<2*r){const d=[];for(const h in i)d[h]=i[h];return d}return t&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(null===this.lazyHash_){let t="";this.getPriority().isEmpty()||(t+="priority:"+_6(this.getPriority().val())+":"),this.forEachChild(ri,(i,r)=>{const s=r.hash();""!==s&&(t+=":"+i+":"+s)}),this.lazyHash_=""===t?"":RW(t)}return this.lazyHash_}getPredecessorChildName(t,i,r){const s=this.resolveIndex_(r);if(s){const a=s.getPredecessorKey(new dn(t,i));return a?a.name:null}return this.children_.getPredecessorKey(t)}getFirstChildName(t){const i=this.resolveIndex_(t);if(i){const r=i.minKey();return r&&r.name}return this.children_.minKey()}getFirstChild(t){const i=this.getFirstChildName(t);return i?new dn(i,this.children_.get(i)):null}getLastChildName(t){const i=this.resolveIndex_(t);if(i){const r=i.maxKey();return r&&r.name}return this.children_.maxKey()}getLastChild(t){const i=this.getLastChildName(t);return i?new dn(i,this.children_.get(i)):null}forEachChild(t,i){const r=this.resolveIndex_(t);return r?r.inorderTraversal(s=>i(s.name,s.node)):this.children_.inorderTraversal(i)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,i){const r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(t,s=>s);{const s=this.children_.getIteratorFrom(t.name,dn.Wrap);let a=s.peek();for(;null!=a&&i.compare(a,t)<0;)s.getNext(),a=s.peek();return s}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,i){const r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(t,s=>s);{const s=this.children_.getReverseIteratorFrom(t.name,dn.Wrap);let a=s.peek();for(;null!=a&&i.compare(a,t)>0;)s.getNext(),a=s.peek();return s}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===BC?-1:0}withIndex(t){if(t===ec||this.indexMap_.hasIndex(t))return this;{const i=this.indexMap_.addIndex(t,this.children_);return new n(this.children_,this.priorityNode_,i)}}isIndexed(t){return t===ec||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const i=t;if(this.getPriority().equals(i.getPriority())){if(this.children_.count()===i.children_.count()){const r=this.getIterator(ri),s=i.getIterator(ri);let a=r.getNext(),d=s.getNext();for(;a&&d;){if(a.name!==d.name||!a.node.equals(d.node))return!1;a=r.getNext(),d=s.getNext()}return null===a&&null===d}return!1}return!1}}resolveIndex_(t){return t===ec?null:this.indexMap_.get(t.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const BC=new class Nce extends Jt{constructor(){super(new Ys(YL),Jt.EMPTY_NODE,_u.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Jt.EMPTY_NODE}isEmpty(){return!1}};function Si(n,e=null){if(null===n)return Jt.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(e=n[".priority"]),(0,q.hu)(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new mv(n,Si(e));if(n instanceof Array){let t=Jt.EMPTY_NODE;return Sr(n,(i,r)=>{if((0,q.r3)(n,i)&&"."!==i.substring(0,1)){const s=Si(r);(s.isLeafNode()||!s.isEmpty())&&(t=t.updateImmediateChild(i,s))}}),t.updatePriority(Si(e))}{const t=[];let i=!1;if(Sr(n,(a,d)=>{if("."!==a.substring(0,1)){const h=Si(d);h.isEmpty()||(i=i||!h.getPriority().isEmpty(),t.push(new dn(a,h)))}}),0===t.length)return Jt.EMPTY_NODE;const s=pM(t,Ace,a=>a.name,YL);if(i){const a=pM(t,ri.getCompare());return new Jt(s,Si(e),new _u({".priority":a},{".priority":ri}))}return new Jt(s,Si(e),_u.Default)}}Object.defineProperties(dn,{MIN:{value:new dn(gu,Jt.EMPTY_NODE)},MAX:{value:new dn(Jl,BC)}}),g6.__EMPTY_NODE=Jt.EMPTY_NODE,mv.__childrenNodeConstructor=Jt,function xce(n){ZL=n}(BC),function kce(n){E6=n}(BC),function Mce(n){b6=n}(Si);class QL extends dM{constructor(e){super(),this.indexPath_=e,(0,q.hu)(!cn(e)&&".priority"!==ln(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const i=this.extractChild(e.node),r=this.extractChild(t.node),s=i.compareTo(r);return 0===s?rm(e.name,t.name):s}makePost(e,t){const i=Si(e),r=Jt.EMPTY_NODE.updateChild(this.indexPath_,i);return new dn(t,r)}maxPost(){const e=Jt.EMPTY_NODE.updateChild(this.indexPath_,BC);return new dn(Jl,e)}toString(){return NC(this.indexPath_,0).join("/")}}const XL=new class Lce extends dM{compare(e,t){const i=e.node.compareTo(t.node);return 0===i?rm(e.name,t.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return dn.MIN}maxPost(){return dn.MAX}makePost(e,t){const i=Si(e);return new dn(t,i)}toString(){return".value"}};function UC(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}class tB{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ri}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,q.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,q.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:gu}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,q.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,q.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Jl}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,q.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ri}copy(){const e=new tB;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function D6(n){const e={};if(n.isDefault())return e;let t;return n.index_===ri?t="$priority":n.index_===XL?t="$value":n.index_===ec?t="$key":((0,q.hu)(n.index_ instanceof QL,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=(0,q.Wl)(t),n.startSet_&&(e.startAt=(0,q.Wl)(n.indexStartValue_),n.startNameSet_&&(e.startAt+=","+(0,q.Wl)(n.indexStartName_))),n.endSet_&&(e.endAt=(0,q.Wl)(n.indexEndValue_),n.endNameSet_&&(e.endAt+=","+(0,q.Wl)(n.indexEndName_))),n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function A6(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_)),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_)),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;""===t&&(t=n.isViewFromLeft()?"l":"r"),e.vf=t}return n.index_!==ri&&(e.i=n.index_.toString()),e}class gM extends l6{constructor(e,t,i,r){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=kC("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:((0,q.hu)(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,i,r){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const a=gM.getListenId_(e,i),d={};this.listens_[a]=d;const h=D6(e._queryParams);this.restRequest_(s+".json",h,(p,g)=>{let v=g;if(404===p&&(v=null,p=null),null===p&&this.onDataUpdate_(s,v,!1,i),(0,q.DV)(this.listens_,a)===d){let w;w=p?401===p?"permission_denied":"rest_error:"+p:"ok",r(w,null)}})}unlisten(e,t){const i=gM.getListenId_(e,t);delete this.listens_[i]}get(e){const t=D6(e._queryParams),i=e._path.toString(),r=new q.BH;return this.restRequest_(i+".json",t,(s,a)=>{let d=a;404===s&&(d=null,s=null),null===s?(this.onDataUpdate_(i,d,!1,null),r.resolve(d)):r.reject(new Error(d))}),r.promise}refreshAuthToken(e){}restRequest_(e,t={},i){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,s])=>{r&&r.accessToken&&(t.auth=r.accessToken),s&&s.token&&(t.ac=s.token);const a=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+(0,q.xO)(t);this.log_("Sending REST request for "+a);const d=new XMLHttpRequest;d.onreadystatechange=()=>{if(i&&4===d.readyState){this.log_("REST Response for "+a+" received. status:",d.status,"response:",d.responseText);let h=null;if(d.status>=200&&d.status<300){try{h=(0,q.cI)(d.responseText)}catch{rs("Failed to parse JSON response for "+a+": "+d.responseText)}i(null,h)}else 401!==d.status&&404!==d.status&&rs("Got unsuccessful REST response for "+a+" Status: "+d.status),i(d.status);i=null}},d.open("GET",a,!0),d.send()})}}class Wce{constructor(){this.rootNode_=Jt.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function _M(){return{value:null,children:new Map}}function vv(n,e,t){if(cn(e))n.value=t,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(e,t);else{const i=ln(e);n.children.has(i)||n.children.set(i,_M()),vv(n.children.get(i),e=ei(e),t)}}function sB(n,e,t){null!==n.value?t(e,n.value):function qce(n,e){n.children.forEach((t,i)=>{e(i,t)})}(n,(i,r)=>{sB(r,new Fn(e.toString()+"/"+i),t)})}class Yce{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&Sr(this.last_,(i,r)=>{t[i]=t[i]-r}),this.last_=e,t}}class Qce{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new Yce(e);const i=1e4+2e4*Math.random();OC(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const e=this.statsListener_.get(),t={};let i=!1;Sr(e,(r,s)=>{s>0&&(0,q.r3)(this.statsToReport_,r)&&(t[r]=s,i=!0)}),i&&this.server_.reportStats(t),OC(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var ea=(()=>(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(ea||(ea={})),ea))();function lB(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class yM{constructor(e,t,i){this.path=e,this.affectedTree=t,this.revert=i,this.type=ea.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(cn(this.path)){if(null!=this.affectedTree.value)return(0,q.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new Fn(e));return new yM(xn(),t,this.revert)}}return(0,q.hu)(ln(this.path)===e,"operationForChild called for unrelated child."),new yM(ei(this.path),this.affectedTree,this.revert)}}class am{constructor(e,t,i){this.source=e,this.path=t,this.snap=i,this.type=ea.OVERWRITE}operationForChild(e){return cn(this.path)?new am(this.source,xn(),this.snap.getImmediateChild(e)):new am(this.source,ei(this.path),this.snap)}}class bv{constructor(e,t,i){this.source=e,this.path=t,this.children=i,this.type=ea.MERGE}operationForChild(e){if(cn(this.path)){const t=this.children.subtree(new Fn(e));return t.isEmpty()?null:t.value?new am(this.source,xn(),t.value):new bv(this.source,xn(),t)}return(0,q.hu)(ln(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new bv(this.source,ei(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class ch{constructor(e,t,i){this.node_=e,this.fullyInitialized_=t,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(cn(e))return this.isFullyInitialized()&&!this.filtered_;const t=ln(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function zC(n,e,t,i,r,s){const a=i.filter(d=>d.type===t);a.sort((d,h)=>function tue(n,e,t){if(null==e.childName||null==t.childName)throw(0,q.g5)("Should only compare child_ events.");const i=new dn(e.childName,e.snapshotNode),r=new dn(t.childName,t.snapshotNode);return n.index_.compare(i,r)}(n,d,h)),a.forEach(d=>{const h=function eue(n,e,t){return"value"===e.type||"child_removed"===e.type||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}(n,d,s);r.forEach(p=>{p.respondsTo(d.type)&&e.push(p.createEvent(h,n.query_))})})}function vM(n,e){return{eventCache:n,serverCache:e}}function jC(n,e,t,i){return vM(new ch(e,t,i),n.serverCache)}function M6(n,e,t,i){return vM(n.eventCache,new ch(e,t,i))}function bM(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function lm(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let cB;class si{constructor(e,t=(()=>(cB||(cB=new Ys(Ule)),cB))()){this.value=e,this.children=t}static fromObject(e){let t=new si(null);return Sr(e,(i,r)=>{t=t.set(new Fn(i),r)}),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:xn(),value:this.value};if(cn(e))return null;{const i=ln(e),r=this.children.get(i);if(null!==r){const s=r.findRootMostMatchingPathAndValue(ei(e),t);return null!=s?{path:yi(new Fn(i),s.path),value:s.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(cn(e))return this;{const t=ln(e),i=this.children.get(t);return null!==i?i.subtree(ei(e)):new si(null)}}set(e,t){if(cn(e))return new si(t,this.children);{const i=ln(e),s=(this.children.get(i)||new si(null)).set(ei(e),t),a=this.children.insert(i,s);return new si(this.value,a)}}remove(e){if(cn(e))return this.children.isEmpty()?new si(null):new si(null,this.children);{const t=ln(e),i=this.children.get(t);if(i){const r=i.remove(ei(e));let s;return s=r.isEmpty()?this.children.remove(t):this.children.insert(t,r),null===this.value&&s.isEmpty()?new si(null):new si(this.value,s)}return this}}get(e){if(cn(e))return this.value;{const t=ln(e),i=this.children.get(t);return i?i.get(ei(e)):null}}setTree(e,t){if(cn(e))return t;{const i=ln(e),s=(this.children.get(i)||new si(null)).setTree(ei(e),t);let a;return a=s.isEmpty()?this.children.remove(i):this.children.insert(i,s),new si(this.value,a)}}fold(e){return this.fold_(xn(),e)}fold_(e,t){const i={};return this.children.inorderTraversal((r,s)=>{i[r]=s.fold_(yi(e,r),t)}),t(e,this.value,i)}findOnPath(e,t){return this.findOnPath_(e,xn(),t)}findOnPath_(e,t,i){const r=!!this.value&&i(t,this.value);if(r)return r;if(cn(e))return null;{const s=ln(e),a=this.children.get(s);return a?a.findOnPath_(ei(e),yi(t,s),i):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,xn(),t)}foreachOnPath_(e,t,i){if(cn(e))return this;{this.value&&i(t,this.value);const r=ln(e),s=this.children.get(r);return s?s.foreachOnPath_(ei(e),yi(t,r),i):new si(null)}}foreach(e){this.foreach_(xn(),e)}foreach_(e,t){this.children.inorderTraversal((i,r)=>{r.foreach_(yi(e,i),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,i)=>{i.value&&e(t,i.value)})}}class qa{constructor(e){this.writeTree_=e}static empty(){return new qa(new si(null))}}function GC(n,e,t){if(cn(e))return new qa(new si(t));{const i=n.writeTree_.findRootMostValueAndPath(e);if(null!=i){const r=i.path;let s=i.value;const a=Ts(r,e);return s=s.updateChild(a,t),new qa(n.writeTree_.set(r,s))}{const r=new si(t),s=n.writeTree_.setTree(e,r);return new qa(s)}}}function uB(n,e,t){let i=n;return Sr(t,(r,s)=>{i=GC(i,yi(e,r),s)}),i}function k6(n,e){if(cn(e))return qa.empty();{const t=n.writeTree_.setTree(e,new si(null));return new qa(t)}}function dB(n,e){return null!=cm(n,e)}function cm(n,e){const t=n.writeTree_.findRootMostValueAndPath(e);return null!=t?n.writeTree_.get(t.path).getChild(Ts(t.path,e)):null}function R6(n){const e=[],t=n.writeTree_.value;return null!=t?t.isLeafNode()||t.forEachChild(ri,(i,r)=>{e.push(new dn(i,r))}):n.writeTree_.children.inorderTraversal((i,r)=>{null!=r.value&&e.push(new dn(i,r.value))}),e}function uh(n,e){if(cn(e))return n;{const t=cm(n,e);return new qa(null!=t?new si(t):n.writeTree_.subtree(e))}}function hB(n){return n.writeTree_.isEmpty()}function Ev(n,e){return O6(xn(),n.writeTree_,e)}function O6(n,e,t){if(null!=e.value)return t.updateChild(n,e.value);{let i=null;return e.children.inorderTraversal((r,s)=>{".priority"===r?((0,q.hu)(null!==s.value,"Priority writes must always be leaf nodes"),i=s.value):t=O6(yi(n,r),s,t)}),!t.getChild(n).isEmpty()&&null!==i&&(t=t.updateChild(yi(n,".priority"),i)),t}}function EM(n,e){return B6(e,n)}function aue(n,e){if(n.snap)return Jo(n.path,e);for(const t in n.children)if(n.children.hasOwnProperty(t)&&Jo(yi(n.path,t),e))return!0;return!1}function cue(n){return n.visible}function P6(n,e,t){let i=qa.empty();for(let r=0;r<n.length;++r){const s=n[r];if(e(s)){const a=s.path;let d;if(s.snap)Jo(t,a)?(d=Ts(t,a),i=GC(i,d,s.snap)):Jo(a,t)&&(d=Ts(a,t),i=GC(i,xn(),s.snap.getChild(d)));else{if(!s.children)throw(0,q.g5)("WriteRecord should have .snap or .children");if(Jo(t,a))d=Ts(t,a),i=uB(i,d,s.children);else if(Jo(a,t))if(d=Ts(a,t),cn(d))i=uB(i,xn(),s.children);else{const h=(0,q.DV)(s.children,ln(d));if(h){const p=h.getChild(ei(d));i=GC(i,xn(),p)}}}}}return i}function N6(n,e,t,i,r){if(i||r){const s=uh(n.visibleWrites,e);return!r&&hB(s)?t:r||null!=t||dB(s,xn())?Ev(P6(n.allWrites,function(p){return(p.visible||r)&&(!i||!~i.indexOf(p.writeId))&&(Jo(p.path,e)||Jo(e,p.path))},e),t||Jt.EMPTY_NODE):null}{const s=cm(n.visibleWrites,e);if(null!=s)return s;{const a=uh(n.visibleWrites,e);return hB(a)?t:null!=t||dB(a,xn())?Ev(a,t||Jt.EMPTY_NODE):null}}}function wM(n,e,t,i){return N6(n.writeTree,n.treePath,e,t,i)}function fB(n,e){return function uue(n,e,t){let i=Jt.EMPTY_NODE;const r=cm(n.visibleWrites,e);if(r)return r.isLeafNode()||r.forEachChild(ri,(s,a)=>{i=i.updateImmediateChild(s,a)}),i;if(t){const s=uh(n.visibleWrites,e);return t.forEachChild(ri,(a,d)=>{const h=Ev(uh(s,new Fn(a)),d);i=i.updateImmediateChild(a,h)}),R6(s).forEach(a=>{i=i.updateImmediateChild(a.name,a.node)}),i}return R6(uh(n.visibleWrites,e)).forEach(a=>{i=i.updateImmediateChild(a.name,a.node)}),i}(n.writeTree,n.treePath,e)}function F6(n,e,t,i){return function due(n,e,t,i,r){(0,q.hu)(i||r,"Either existingEventSnap or existingServerSnap must exist");const s=yi(e,t);if(dB(n.visibleWrites,s))return null;{const a=uh(n.visibleWrites,s);return hB(a)?r.getChild(t):Ev(a,r.getChild(t))}}(n.writeTree,n.treePath,e,t,i)}function CM(n,e){return function fue(n,e){return cm(n.visibleWrites,e)}(n.writeTree,yi(n.treePath,e))}function pB(n,e,t){return function hue(n,e,t,i){const r=yi(e,t),s=cm(n.visibleWrites,r);return null!=s?s:i.isCompleteForChild(t)?Ev(uh(n.visibleWrites,r),i.getNode().getImmediateChild(t)):null}(n.writeTree,n.treePath,e,t)}function L6(n,e){return B6(yi(n.treePath,e),n.writeTree)}function B6(n,e){return{treePath:n,writeTree:e}}class _ue{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,i=e.childName;(0,q.hu)("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),(0,q.hu)(".priority"!==i,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const s=r.type;if("child_added"===t&&"child_removed"===s)this.changeMap.set(i,UC(i,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===s)this.changeMap.delete(i);else if("child_removed"===t&&"child_changed"===s)this.changeMap.set(i,function VC(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}(i,r.oldSnap));else if("child_changed"===t&&"child_added"===s)this.changeMap.set(i,function yv(n,e){return{type:"child_added",snapshotNode:e,childName:n}}(i,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==s)throw(0,q.g5)("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(i,UC(i,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}}const V6=new class yue{getCompleteChild(e){return null}getChildAfterChild(e,t,i){return null}};class mB{constructor(e,t,i=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=i}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const i=null!=this.optCompleteServerCache_?new ch(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return pB(this.writes_,e,i)}}getChildAfterChild(e,t,i){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:lm(this.viewCache_),s=function gue(n,e,t,i,r,s){return function pue(n,e,t,i,r,s,a){let d;const h=uh(n.visibleWrites,e),p=cm(h,xn());if(null!=p)d=p;else{if(null==t)return[];d=Ev(h,t)}if(d=d.withIndex(a),d.isEmpty()||d.isLeafNode())return[];{const g=[],v=a.getCompare(),w=s?d.getReverseIteratorFrom(i,a):d.getIteratorFrom(i,a);let D=w.getNext();for(;D&&g.length<r;)0!==v(D,i)&&g.push(D),D=w.getNext();return g}}(n.writeTree,n.treePath,e,t,i,r,s)}(this.writes_,r,t,1,i,e);return 0===s.length?null:s[0]}}function U6(n,e,t,i,r,s){const a=e.eventCache;if(null!=CM(i,t))return e;{let d,h;if(cn(t))if((0,q.hu)(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const p=lm(e),v=fB(i,p instanceof Jt?p:Jt.EMPTY_NODE);d=n.filter.updateFullNode(e.eventCache.getNode(),v,s)}else{const p=wM(i,lm(e));d=n.filter.updateFullNode(e.eventCache.getNode(),p,s)}else{const p=ln(t);if(".priority"===p){(0,q.hu)(1===lh(t),"Can't have a priority with additional path components");const g=a.getNode();h=e.serverCache.getNode();const v=F6(i,t,g,h);d=null!=v?n.filter.updatePriority(g,v):a.getNode()}else{const g=ei(t);let v;if(a.isCompleteForChild(p)){h=e.serverCache.getNode();const w=F6(i,t,a.getNode(),h);v=null!=w?a.getNode().getImmediateChild(p).updateChild(g,w):a.getNode().getImmediateChild(p)}else v=pB(i,p,e.serverCache);d=null!=v?n.filter.updateChild(a.getNode(),p,v,g,r,s):a.getNode()}}return jC(e,d,a.isFullyInitialized()||cn(t),n.filter.filtersNodes())}}function SM(n,e,t,i,r,s,a,d){const h=e.serverCache;let p;const g=a?n.filter:n.filter.getIndexedFilter();if(cn(t))p=g.updateFullNode(h.getNode(),i,null);else if(g.filtersNodes()&&!h.isFiltered()){const D=h.getNode().updateChild(t,i);p=g.updateFullNode(h.getNode(),D,null)}else{const D=ln(t);if(!h.isCompleteForPath(t)&&lh(t)>1)return e;const A=ei(t),k=h.getNode().getImmediateChild(D).updateChild(A,i);p=".priority"===D?g.updatePriority(h.getNode(),k):g.updateChild(h.getNode(),D,k,A,V6,null)}const v=M6(e,p,h.isFullyInitialized()||cn(t),g.filtersNodes());return U6(n,v,t,r,new mB(r,v,s),d)}function gB(n,e,t,i,r,s,a){const d=e.eventCache;let h,p;const g=new mB(r,e,s);if(cn(t))p=n.filter.updateFullNode(e.eventCache.getNode(),i,a),h=jC(e,p,!0,n.filter.filtersNodes());else{const v=ln(t);if(".priority"===v)p=n.filter.updatePriority(e.eventCache.getNode(),i),h=jC(e,p,d.isFullyInitialized(),d.isFiltered());else{const w=ei(t),D=d.getNode().getImmediateChild(v);let A;if(cn(w))A=i;else{const x=g.getCompleteChild(v);A=null!=x?".priority"===GL(w)&&x.getChild(h6(w)).isEmpty()?x:x.updateChild(w,i):Jt.EMPTY_NODE}h=D.equals(A)?e:jC(e,n.filter.updateChild(d.getNode(),v,A,w,g,a),d.isFullyInitialized(),n.filter.filtersNodes())}}return h}function $6(n,e){return n.eventCache.isCompleteForChild(e)}function H6(n,e,t){return t.foreach((i,r)=>{e=e.updateChild(i,r)}),e}function _B(n,e,t,i,r,s,a,d){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let p,h=e;p=cn(t)?i:new si(null).setTree(t,i);const g=e.serverCache.getNode();return p.children.inorderTraversal((v,w)=>{if(g.hasChild(v)){const A=H6(0,e.serverCache.getNode().getImmediateChild(v),w);h=SM(n,h,new Fn(v),A,r,s,a,d)}}),p.children.inorderTraversal((v,w)=>{const D=!e.serverCache.isCompleteForChild(v)&&null===w.value;if(!g.hasChild(v)&&!D){const x=H6(0,e.serverCache.getNode().getImmediateChild(v),w);h=SM(n,h,new Fn(v),x,r,s,a,d)}}),h}function Mue(n,e){const t=lm(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!cn(e)&&!t.getImmediateChild(ln(e)).isEmpty())?t.getChild(e):null}function G6(n,e,t,i){e.type===ea.MERGE&&null!==e.source.queryId&&((0,q.hu)(lm(n.viewCache_),"We should always have a full cache before handling merges"),(0,q.hu)(bM(n.viewCache_),"Missing event cache, even though we have a server cache"));const r=n.viewCache_,s=function Eue(n,e,t,i,r){const s=new _ue;let a,d;if(t.type===ea.OVERWRITE){const p=t;p.source.fromUser?a=gB(n,e,p.path,p.snap,i,r,s):((0,q.hu)(p.source.fromServer,"Unknown source."),d=p.source.tagged||e.serverCache.isFiltered()&&!cn(p.path),a=SM(n,e,p.path,p.snap,i,r,d,s))}else if(t.type===ea.MERGE){const p=t;p.source.fromUser?a=function Cue(n,e,t,i,r,s,a){let d=e;return i.foreach((h,p)=>{const g=yi(t,h);$6(e,ln(g))&&(d=gB(n,d,g,p,r,s,a))}),i.foreach((h,p)=>{const g=yi(t,h);$6(e,ln(g))||(d=gB(n,d,g,p,r,s,a))}),d}(n,e,p.path,p.children,i,r,s):((0,q.hu)(p.source.fromServer,"Unknown source."),d=p.source.tagged||e.serverCache.isFiltered(),a=_B(n,e,p.path,p.children,i,r,d,s))}else if(t.type===ea.ACK_USER_WRITE){const p=t;a=p.revert?function Tue(n,e,t,i,r,s){let a;if(null!=CM(i,t))return e;{const d=new mB(i,e,r),h=e.eventCache.getNode();let p;if(cn(t)||".priority"===ln(t)){let g;if(e.serverCache.isFullyInitialized())g=wM(i,lm(e));else{const v=e.serverCache.getNode();(0,q.hu)(v instanceof Jt,"serverChildren would be complete if leaf node"),g=fB(i,v)}p=n.filter.updateFullNode(h,g,s)}else{const g=ln(t);let v=pB(i,g,e.serverCache);null==v&&e.serverCache.isCompleteForChild(g)&&(v=h.getImmediateChild(g)),p=null!=v?n.filter.updateChild(h,g,v,ei(t),d,s):e.eventCache.getNode().hasChild(g)?n.filter.updateChild(h,g,Jt.EMPTY_NODE,ei(t),d,s):h,p.isEmpty()&&e.serverCache.isFullyInitialized()&&(a=wM(i,lm(e)),a.isLeafNode()&&(p=n.filter.updateFullNode(p,a,s)))}return a=e.serverCache.isFullyInitialized()||null!=CM(i,xn()),jC(e,p,a,n.filter.filtersNodes())}}(n,e,p.path,i,r,s):function Sue(n,e,t,i,r,s,a){if(null!=CM(r,t))return e;const d=e.serverCache.isFiltered(),h=e.serverCache;if(null!=i.value){if(cn(t)&&h.isFullyInitialized()||h.isCompleteForPath(t))return SM(n,e,t,h.getNode().getChild(t),r,s,d,a);if(cn(t)){let p=new si(null);return h.getNode().forEachChild(ec,(g,v)=>{p=p.set(new Fn(g),v)}),_B(n,e,t,p,r,s,d,a)}return e}{let p=new si(null);return i.foreach((g,v)=>{const w=yi(t,g);h.isCompleteForPath(w)&&(p=p.set(g,h.getNode().getChild(w)))}),_B(n,e,t,p,r,s,d,a)}}(n,e,p.path,p.affectedTree,i,r,s)}else{if(t.type!==ea.LISTEN_COMPLETE)throw(0,q.g5)("Unknown operation type: "+t.type);a=function Iue(n,e,t,i,r){const s=e.serverCache;return U6(n,M6(e,s.getNode(),s.isFullyInitialized()||cn(t),s.isFiltered()),t,i,V6,r)}(n,e,t.path,i,s)}const h=s.getChanges();return function wue(n,e,t){const i=e.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),s=bM(n);(t.length>0||!n.eventCache.isFullyInitialized()||r&&!i.getNode().equals(s)||!i.getNode().getPriority().equals(s.getPriority()))&&t.push(function T6(n){return{type:"value",snapshotNode:n}}(bM(e)))}}(e,a,h),{viewCache:a,changes:h}}(n.processor_,r,e,t,i);return function bue(n,e){(0,q.hu)(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,q.hu)(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,s.viewCache),(0,q.hu)(s.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=s.viewCache,function W6(n,e,t,i){return function Jce(n,e,t,i){const r=[],s=[];return e.forEach(a=>{"child_changed"===a.type&&n.index_.indexedValueChanged(a.oldSnap,a.snapshotNode)&&s.push(function Vce(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}(a.childName,a.snapshotNode))}),zC(n,r,"child_removed",e,i,t),zC(n,r,"child_added",e,i,t),zC(n,r,"child_moved",s,i,t),zC(n,r,"child_changed",e,i,t),zC(n,r,"value",e,i,t),r}(n.eventGenerator_,e,t,i?[i]:n.eventRegistrations_)}(n,s.changes,s.viewCache.eventCache.getNode(),null)}let IM,DM;function yB(n,e,t,i){const r=e.source.queryId;if(null!==r){const s=n.views.get(r);return(0,q.hu)(null!=s,"SyncTree gave us an op for an invalid query."),G6(s,e,t,i)}{let s=[];for(const a of n.views.values())s=s.concat(G6(a,e,t,i));return s}}function dh(n,e){let t=null;for(const i of n.views.values())t=t||Mue(i,e);return t}class X6{constructor(e){this.listenProvider_=e,this.syncPointTree_=new si(null),this.pendingWriteTree_=function mue(){return{visibleWrites:qa.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function vB(n,e,t,i,r){return function iue(n,e,t,i,r){(0,q.hu)(i>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),n.allWrites.push({path:e,snap:t,writeId:i,visible:r}),r&&(n.visibleWrites=GC(n.visibleWrites,e,t)),n.lastWriteId=i}(n.pendingWriteTree_,e,t,i,r),r?wv(n,new am({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,t)):[]}function fh(n,e,t=!1){const i=function sue(n,e){for(let t=0;t<n.allWrites.length;t++){const i=n.allWrites[t];if(i.writeId===e)return i}return null}(n.pendingWriteTree_,e);if(function oue(n,e){const t=n.allWrites.findIndex(d=>d.writeId===e);(0,q.hu)(t>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[t];n.allWrites.splice(t,1);let r=i.visible,s=!1,a=n.allWrites.length-1;for(;r&&a>=0;){const d=n.allWrites[a];d.visible&&(a>=t&&aue(d,i.path)?r=!1:Jo(i.path,d.path)&&(s=!0)),a--}return!!r&&(s?(function lue(n){n.visibleWrites=P6(n.allWrites,cue,xn()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(i.snap?n.visibleWrites=k6(n.visibleWrites,i.path):Sr(i.children,h=>{n.visibleWrites=k6(n.visibleWrites,yi(i.path,h))}),!0))}(n.pendingWriteTree_,e)){let s=new si(null);return null!=i.snap?s=s.set(xn(),!0):Sr(i.children,a=>{s=s.set(new Fn(a),!0)}),wv(n,new yM(i.path,s,t))}return[]}function WC(n,e,t){return wv(n,new am({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,t))}function xM(n,e,t){const r=n.pendingWriteTree_,s=n.syncPointTree_.findOnPath(e,(a,d)=>{const p=dh(d,Ts(a,e));if(p)return p});return N6(r,e,s,t,!0)}function wv(n,e){return eq(e,n.syncPointTree_,null,EM(n.pendingWriteTree_,xn()))}function eq(n,e,t,i){if(cn(n.path))return tq(n,e,t,i);{const r=e.get(xn());null==t&&null!=r&&(t=dh(r,xn()));let s=[];const a=ln(n.path),d=n.operationForChild(a),h=e.children.get(a);if(h&&d){const p=t?t.getImmediateChild(a):null,g=L6(i,a);s=s.concat(eq(d,h,p,g))}return r&&(s=s.concat(yB(r,n,i,t))),s}}function tq(n,e,t,i){const r=e.get(xn());null==t&&null!=r&&(t=dh(r,xn()));let s=[];return e.children.inorderTraversal((a,d)=>{const h=t?t.getImmediateChild(a):null,p=L6(i,a),g=n.operationForChild(a);g&&(s=s.concat(tq(g,d,h,p)))}),r&&(s=s.concat(yB(r,n,i,t))),s}function EB(n,e){return n.tagToQueryMap.get(e)}function wB(n){const e=n.indexOf("$");return(0,q.hu)(-1!==e&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new Fn(n.substr(0,e))}}function CB(n,e,t){const i=n.syncPointTree_.get(e);return(0,q.hu)(i,"Missing sync point for query tag that we're tracking"),yB(i,t,EM(n.pendingWriteTree_,e),null)}class SB{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new SB(t)}node(){return this.node_}}class IB{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=yi(this.path_,e);return new IB(this.syncTree_,t)}node(){return xM(this.syncTree_,this.path_)}}const iq=function(n,e,t){return n&&"object"==typeof n?((0,q.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?Xue(n[".sv"],e,t):"object"==typeof n[".sv"]?Jue(n[".sv"],e):void(0,q.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},Xue=function(n,e,t){if("timestamp"===n)return t.timestamp;(0,q.hu)(!1,"Unexpected server value: "+n)},Jue=function(n,e,t){n.hasOwnProperty("increment")||(0,q.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;"number"!=typeof i&&(0,q.hu)(!1,"Unexpected increment value: "+i);const r=e.node();if((0,q.hu)(null!==r&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const a=r.getValue();return"number"!=typeof a?i:a+i},TB=function(n,e,t){return DB(n,new SB(e),t)};function DB(n,e,t){const i=n.getPriority().val(),r=iq(i,e.getImmediateChild(".priority"),t);let s;if(n.isLeafNode()){const a=n,d=iq(a.getValue(),e,t);return d!==a.getValue()||r!==a.getPriority().val()?new mv(d,Si(r)):n}{const a=n;return s=a,r!==a.getPriority().val()&&(s=s.updatePriority(new mv(r))),a.forEachChild(ri,(d,h)=>{const p=DB(h,e.getImmediateChild(d),t);p!==h&&(s=s.updateImmediateChild(d,p))}),s}}class AB{constructor(e="",t=null,i={children:{},childCount:0}){this.name=e,this.parent=t,this.node=i}}function kM(n,e){let t=e instanceof Fn?e:new Fn(e),i=n,r=ln(t);for(;null!==r;){const s=(0,q.DV)(i.node.children,r)||{children:{},childCount:0};i=new AB(r,i,s),t=ei(t),r=ln(t)}return i}function um(n){return n.node.value}function xB(n,e){n.node.value=e,MB(n)}function sq(n){return n.node.childCount>0}function RM(n,e){Sr(n.node.children,(t,i)=>{e(new AB(t,n,i))})}function oq(n,e,t,i){t&&!i&&e(n),RM(n,r=>{oq(r,e,!0,i)}),t&&i&&e(n)}function ZC(n){return new Fn(null===n.parent?n.name:ZC(n.parent)+"/"+n.name)}function MB(n){null!==n.parent&&function nde(n,e,t){const i=function ede(n){return void 0===um(n)&&!sq(n)}(t),r=(0,q.r3)(n.node.children,e);i&&r?(delete n.node.children[e],n.node.childCount--,MB(n)):!i&&!r&&(n.node.children[e]=t.node,n.node.childCount++,MB(n))}(n.parent,n.name,n)}const ide=/[\[\].#$\/\u0000-\u001F\u007F]/,rde=/[\[\].#$\u0000-\u001F\u007F]/,kB=10485760,OM=function(n){return"string"==typeof n&&0!==n.length&&!ide.test(n)},QC=function(n,e,t){const i=t instanceof Fn?new bce(t,n):t;if(void 0===e)throw new Error(n+"contains undefined "+sm(i));if("function"==typeof e)throw new Error(n+"contains a function "+sm(i)+" with contents = "+e.toString());if(oM(e))throw new Error(n+"contains "+e.toString()+" "+sm(i));if("string"==typeof e&&e.length>kB/3&&(0,q.ug)(e)>kB)throw new Error(n+"contains a string greater than "+kB+" utf8 bytes "+sm(i)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){let r=!1,s=!1;if(Sr(e,(a,d)=>{if(".value"===a)r=!0;else if(".priority"!==a&&".sv"!==a&&(s=!0,!OM(a)))throw new Error(n+" contains an invalid key ("+a+") "+sm(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function Ece(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=(0,q.ug)(e),f6(n)})(i,a),QC(n,d,i),function wce(n){const e=n.parts_.pop();n.byteLength_-=(0,q.ug)(e),n.parts_.length>0&&(n.byteLength_-=1)}(i)}),r&&s)throw new Error(n+' contains ".value" child '+sm(i)+" in addition to actual children.")}},cq=function(n,e){const t=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!OM(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==t.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),function(n){return"string"==typeof n&&0!==n.length&&!rde.test(n)}(n)}(t))throw new Error((0,q.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class lde{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function go(n,e,t){(function PM(n,e){let t=null;for(let i=0;i<e.length;i++){const r=e[i],s=r.getPath();null!==t&&!WL(s,t.path)&&(n.eventLists_.push(t),t=null),null===t&&(t={events:[],path:s}),t.events.push(r)}t&&n.eventLists_.push(t)})(n,t),function dq(n,e){n.recursionDepth_++;let t=!0;for(let i=0;i<n.eventLists_.length;i++){const r=n.eventLists_[i];r&&(e(r.path)?(cde(n.eventLists_[i]),n.eventLists_[i]=null):t=!1)}t&&(n.eventLists_=[]),n.recursionDepth_--}(n,i=>Jo(i,e)||Jo(e,i))}function cde(n){for(let e=0;e<n.events.length;e++){const t=n.events[e];if(null!==t){n.events[e]=null;const i=t.getEventRunner();im&&Cr("event: "+t.toString()),fv(i)}}}class dde{constructor(e,t,i,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new lde,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=_M(),this.transactionQueueTree_=new AB,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function fq(n){const t=n.infoData_.getNode(new Fn(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function JC(n){return function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n}({timestamp:fq(n)})}function pq(n,e,t,i,r){n.dataUpdateCount++;const s=new Fn(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let a=[];if(r)if(i){const h=(0,q.UI)(t,p=>Si(p));a=function Gue(n,e,t,i){const r=EB(n,i);if(r){const s=wB(r),a=s.path,d=s.queryId,h=Ts(a,e),p=si.fromObject(t);return CB(n,a,new bv(lB(d),h,p))}return[]}(n.serverSyncTree_,s,h,r)}else{const h=Si(t);a=function J6(n,e,t,i){const r=EB(n,i);if(null!=r){const s=wB(r),a=s.path,d=s.queryId,h=Ts(a,e);return CB(n,a,new am(lB(d),h,t))}return[]}(n.serverSyncTree_,s,h,r)}else if(i){const h=(0,q.UI)(t,p=>Si(p));a=function Hue(n,e,t){const i=si.fromObject(t);return wv(n,new bv({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,i))}(n.serverSyncTree_,s,h)}else{const h=Si(t);a=WC(n.serverSyncTree_,s,h)}let d=s;a.length>0&&(d=Sv(n,s)),go(n.eventQueue_,d,a)}function mq(n,e){PB(n,"connected",e),!1===e&&function gde(n){Cv(n,"onDisconnectEvents");const e=JC(n),t=_M();sB(n.onDisconnect_,xn(),(r,s)=>{const a=function(n,e,t,i){return DB(e,new IB(t,n),i)}(r,s,n.serverSyncTree_,e);vv(t,r,a)});let i=[];sB(t,xn(),(r,s)=>{i=i.concat(WC(n.serverSyncTree_,r,s));const a=function BB(n,e){const t=ZC(yq(n,e)),i=kM(n.transactionQueueTree_,e);return function tde(n,e,t){let i=t?n:n.parent;for(;null!==i;){if(e(i))return!0;i=i.parent}}(i,r=>{VB(n,r)}),VB(n,i),oq(i,r=>{VB(n,r)}),t}(n,r);Sv(n,a)}),n.onDisconnect_=_M(),go(n.eventQueue_,xn(),i)}(n)}function PB(n,e,t){const i=new Fn("/.info/"+e),r=Si(t);n.infoData_.updateSnapshot(i,r);const s=WC(n.infoSyncTree_,i,r);go(n.eventQueue_,i,s)}function NM(n){return n.nextWriteId_++}function Cv(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),Cr(t,...e)}function LB(n,e,t){return xM(n.serverSyncTree_,e,t)||Jt.EMPTY_NODE}function FM(n,e=n.transactionQueueTree_){if(e||LM(n,e),um(e)){const t=vq(n,e);(0,q.hu)(t.length>0,"Sending zero length transaction queue"),t.every(r=>0===r.status)&&function Cde(n,e,t){const i=t.map(p=>p.currentWriteId),r=LB(n,e,i);let s=r;const a=r.hash();for(let p=0;p<t.length;p++){const g=t[p];(0,q.hu)(0===g.status,"tryToSendTransactionQueue_: items in queue should all be run."),g.status=1,g.retryCount++;const v=Ts(e,g.path);s=s.updateChild(v,g.currentOutputSnapshotRaw)}const d=s.val(!0),h=e;n.server_.put(h.toString(),d,p=>{Cv(n,"transaction put response",{path:h.toString(),status:p});let g=[];if("ok"===p){const v=[];for(let w=0;w<t.length;w++)t[w].status=2,g=g.concat(fh(n.serverSyncTree_,t[w].currentWriteId)),t[w].onComplete&&v.push(()=>t[w].onComplete(null,!0,t[w].currentOutputSnapshotResolved)),t[w].unwatcher();LM(n,kM(n.transactionQueueTree_,e)),FM(n,n.transactionQueueTree_),go(n.eventQueue_,e,g);for(let w=0;w<v.length;w++)fv(v[w])}else{if("datastale"===p)for(let v=0;v<t.length;v++)t[v].status=3===t[v].status?4:0;else{rs("transaction at "+h.toString()+" failed: "+p);for(let v=0;v<t.length;v++)t[v].status=4,t[v].abortReason=p}Sv(n,e)}},a)}(n,ZC(e),t)}else sq(e)&&RM(e,t=>{FM(n,t)})}function Sv(n,e){const t=yq(n,e),i=ZC(t);return function Sde(n,e,t){if(0===e.length)return;const i=[];let r=[];const a=e.filter(d=>0===d.status).map(d=>d.currentWriteId);for(let d=0;d<e.length;d++){const h=e[d],p=Ts(t,h.path);let v,g=!1;if((0,q.hu)(null!==p,"rerunTransactionsUnderNode_: relativePath should not be null."),4===h.status)g=!0,v=h.abortReason,r=r.concat(fh(n.serverSyncTree_,h.currentWriteId,!0));else if(0===h.status)if(h.retryCount>=25)g=!0,v="maxretry",r=r.concat(fh(n.serverSyncTree_,h.currentWriteId,!0));else{const w=LB(n,h.path,a);h.currentInputSnapshot=w;const D=e[d].update(w.val());if(void 0!==D){QC("transaction failed: Data returned ",D,h.path);let A=Si(D);"object"==typeof D&&null!=D&&(0,q.r3)(D,".priority")||(A=A.updatePriority(w.getPriority()));const k=h.currentWriteId,F=JC(n),L=TB(A,w,F);h.currentOutputSnapshotRaw=A,h.currentOutputSnapshotResolved=L,h.currentWriteId=NM(n),a.splice(a.indexOf(k),1),r=r.concat(vB(n.serverSyncTree_,h.path,L,h.currentWriteId,h.applyLocally)),r=r.concat(fh(n.serverSyncTree_,k,!0))}else g=!0,v="nodata",r=r.concat(fh(n.serverSyncTree_,h.currentWriteId,!0))}go(n.eventQueue_,t,r),r=[],g&&(e[d].status=2,setTimeout(e[d].unwatcher,Math.floor(0)),e[d].onComplete&&i.push("nodata"===v?()=>e[d].onComplete(null,!1,e[d].currentInputSnapshot):()=>e[d].onComplete(new Error(v),!1,null)))}LM(n,n.transactionQueueTree_);for(let d=0;d<i.length;d++)fv(i[d]);FM(n,n.transactionQueueTree_)}(n,vq(n,t),i),i}function yq(n,e){let t,i=n.transactionQueueTree_;for(t=ln(e);null!==t&&void 0===um(i);)i=kM(i,t),t=ln(e=ei(e));return i}function vq(n,e){const t=[];return bq(n,e,t),t.sort((i,r)=>i.order-r.order),t}function bq(n,e,t){const i=um(e);if(i)for(let r=0;r<i.length;r++)t.push(i[r]);RM(e,r=>{bq(n,r,t)})}function LM(n,e){const t=um(e);if(t){let i=0;for(let r=0;r<t.length;r++)2!==t[r].status&&(t[i]=t[r],i++);t.length=i,xB(e,t.length>0?t:void 0)}RM(e,i=>{LM(n,i)})}function VB(n,e){const t=um(e);if(t){const i=[];let r=[],s=-1;for(let a=0;a<t.length;a++)3===t[a].status||(1===t[a].status?((0,q.hu)(s===a-1,"All SENT items should be at beginning of queue."),s=a,t[a].status=3,t[a].abortReason="set"):((0,q.hu)(0===t[a].status,"Unexpected transaction status in abort"),t[a].unwatcher(),r=r.concat(fh(n.serverSyncTree_,t[a].currentWriteId,!0)),t[a].onComplete&&i.push(t[a].onComplete.bind(null,new Error("set"),!1,null))));-1===s?xB(e,void 0):t.length=s+1,go(n.eventQueue_,ZC(e),r);for(let a=0;a<i.length;a++)fv(i[a])}}const UB=function(n,e){const t=Dde(n),i=t.namespace;return"firebase.com"===t.domain&&Xl(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||"undefined"===i)&&"localhost"!==t.domain&&Xl("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&rs("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new VL(t.host,t.secure,i,"ws"===t.scheme||"wss"===t.scheme,e,"",i!==t.subdomain),path:new Fn(t.pathString)}},Dde=function(n){let e="",t="",i="",r="",s="",a=!0,d="https",h=443;if("string"==typeof n){let p=n.indexOf("//");p>=0&&(d=n.substring(0,p-1),n=n.substring(p+2));let g=n.indexOf("/");-1===g&&(g=n.length);let v=n.indexOf("?");-1===v&&(v=n.length),e=n.substring(0,Math.min(g,v)),g<v&&(r=function Ide(n){let e="";const t=n.split("/");for(let i=0;i<t.length;i++)if(t[i].length>0){let r=t[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}e+="/"+r}return e}(n.substring(g,v)));const w=function Tde(n){const e={};"?"===n.charAt(0)&&(n=n.substring(1));for(const t of n.split("&")){if(0===t.length)continue;const i=t.split("=");2===i.length?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):rs(`Invalid query segment '${t}' in query '${n}'`)}return e}(n.substring(Math.min(n.length,v)));p=e.indexOf(":"),p>=0?(a="https"===d||"wss"===d,h=parseInt(e.substring(p+1),10)):p=e.length;const D=e.slice(0,p);if("localhost"===D.toLowerCase())t="localhost";else if(D.split(".").length<=2)t=D;else{const A=e.indexOf(".");i=e.substring(0,A).toLowerCase(),t=e.substring(A+1),s=i}"ns"in w&&(s=w.ns)}return{host:e,port:h,domain:t,subdomain:i,secure:a,scheme:d,pathString:r,namespace:s}};class _o{constructor(e,t,i,r){this._repo=e,this._path=t,this._queryParams=i,this._orderByCalled=r}get key(){return cn(this._path)?null:GL(this._path)}get ref(){return new Ya(this._repo,this._path)}get _queryIdentifier(){const e=A6(this._queryParams),t=FL(e);return"{}"===t?"default":t}get _queryObject(){return A6(this._queryParams)}isEqual(e){if(!((e=(0,q.m9)(e))instanceof _o))return!1;const t=this._repo===e._repo,i=WL(this._path,e._path);return t&&i&&this._queryIdentifier===e._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function yce(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)""!==n.pieces_[t]&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}(this._path)}}class Ya extends _o{constructor(e,t){super(e,t,new tB,!1)}get parent(){const e=h6(this._path);return null===e?null:new Ya(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}(function Oue(n){(0,q.hu)(!IM,"__referenceConstructor has already been defined"),IM=n})(Ya),function Bue(n){(0,q.hu)(!DM,"__referenceConstructor has already been defined"),DM=n}(Ya);const HB={};class Wde{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function hde(n,e,t){if(n.stats_=HL(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new gM(n.repoInfo_,(i,r,s,a)=>{pq(n,i,r,s,a)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>mq(n,!0),0);else{if(typeof t<"u"&&null!==t){if("object"!=typeof t)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,q.Wl)(t)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new om(n.repoInfo_,e,(i,r,s,a)=>{pq(n,i,r,s,a)},i=>{mq(n,i)},i=>{!function fde(n,e){Sr(e,(t,i)=>{PB(n,t,i)})}(n,i)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=function Kle(n,e){const t=n.toString();return $L[t]||($L[t]=e()),$L[t]}(n.repoInfo_,()=>new Qce(n.stats_,n.server_)),n.infoData_=new Wce,n.infoSyncTree_=new X6({startListening:(i,r,s,a)=>{let d=[];const h=n.infoData_.getNode(i._path);return h.isEmpty()||(d=WC(n.infoSyncTree_,i._path,h),setTimeout(()=>{a("ok")},0)),d},stopListening:()=>{}}),PB(n,"connected",!1),n.serverSyncTree_=new X6({startListening:(i,r,s,a)=>(n.server_.listen(i,s,r,(d,h)=>{const p=a(d,h);go(n.eventQueue_,i._path,p)}),[]),stopListening:(i,r)=>{n.server_.unlisten(i,r)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Ya(this._repo,xn())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function zde(n,e){const t=HB[e];(!t||t[n.key]!==n)&&Xl(`Database ${e}(${n.repoInfo_}) has already been deleted.`),function _q(n){n.persistentConnection_&&n.persistentConnection_.interrupt("repo_interrupt")}(n),delete t[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&Xl("Cannot call "+e+" on a deleted database.")}}function qde(n=(0,ot.getApp)(),e){const t=(0,ot._getProvider)(n,"database").getImmediate({identifier:e}),i=(0,q.P0)("database");return i&&function Yde(n,e,t,i={}){(n=(0,q.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&Xl("Cannot call useEmulator() after instance has already been initialized.");const r=n._repoInternal;let s;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&Xl('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new PC(PC.OWNER);else if(i.mockUserToken){const a="string"==typeof i.mockUserToken?i.mockUserToken:(0,q.Sg)(i.mockUserToken,n.app.options.projectId);s=new PC(a)}!function $de(n,e,t,i){n.repoInfo_=new VL(`${e}:${t}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams),i&&(n.authTokenProvider_=i)}(r,e,t,s)}(t,...i),t}om.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)},om.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)},function Zde(n){(function Nle(n){OL=n})(ot.SDK_VERSION),(0,ot._registerComponent)(new kr.wA("database",(e,{instanceIdentifier:t})=>function Hde(n,e,t,i,r){let s=i||n.options.databaseURL;void 0===s&&(n.options.projectId||Xl("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Cr("Using default host for project ",n.options.projectId),s=`${n.options.projectId}-default-rtdb.firebaseio.com`);let h,p,a=UB(s,r),d=a.repoInfo;typeof process<"u"&&process.env&&(p=process.env.FIREBASE_DATABASE_EMULATOR_HOST),p?(h=!0,s=`http://${p}?ns=${d.namespace}`,a=UB(s,r),d=a.repoInfo):h=!a.repoInfo.secure;const g=r&&h?new PC(PC.OWNER):new qle(n.name,n.options,e);cq("Invalid Firebase Database URL",a),cn(a.path)||Xl("Database URL must point to the root of a Firebase Database (not including a child path).");const v=function jde(n,e,t,i){let r=HB[e.name];r||(r={},HB[e.name]=r);let s=r[n.toURLString()];return s&&Xl("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new dde(n,!1,t,i),r[n.toURLString()]=s,s}(d,n,g,new Wle(n.name,t));return new Wde(v,n)}(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),t),"PUBLIC").setMultipleInstances(!0)),(0,ot.registerVersion)(AW,xW,n),(0,ot.registerVersion)(AW,xW,"esm2017")}();class zB{constructor(e){return e}}const Aq="database",jB=new l.OlP("angularfire2.database-instances");function ehe(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new zB(i)}}const the={provide:class Xde{constructor(){return Pa(Aq)}},deps:[[new l.FiY,jB]]},nhe={provide:zB,useFactory:function Jde(n,e){const t=Rr(Aq,n,e);return t&&new zB(t)},deps:[[new l.FiY,jB],mn]};let ihe=(()=>{class n{constructor(){(0,ot.registerVersion)("angularfire",Qr.full,"rtdb")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[nhe,the]}),n})();function rhe(n,...e){return{ngModule:ihe,providers:[{provide:jB,useFactory:ehe(n),multi:!0,deps:[l.R0b,l.zs3,Xr,Na,[new l.FiY,La],[new l.FiY,Fa],...e]}]}}const she=Qn(qde,!0),WB="functions";class uhe{constructor(e,t,i){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=e.getImmediate({optional:!0}),this.messaging=t.getImmediate({optional:!0}),this.auth||e.get().then(r=>this.auth=r,()=>{}),this.messaging||t.get().then(r=>this.messaging=r,()=>{}),this.appCheck||i.get().then(r=>this.appCheck=r,()=>{})}getAuthToken(){var e=this;return(0,ee.Z)(function*(){if(e.auth)try{return(yield e.auth.getToken())?.accessToken}catch{return}})()}getMessagingToken(){var e=this;return(0,ee.Z)(function*(){if(e.messaging&&"Notification"in self&&"granted"===Notification.permission)try{return yield e.messaging.getToken()}catch{return}})()}getAppCheckToken(){var e=this;return(0,ee.Z)(function*(){if(e.appCheck){const t=yield e.appCheck.getToken();return t.error?null:t.token}return null})()}getContext(){var e=this;return(0,ee.Z)(function*(){return{authToken:yield e.getAuthToken(),messagingToken:yield e.getMessagingToken(),appCheckToken:yield e.getAppCheckToken()}})()}}const qB="us-central1";class hhe{constructor(e,t,i,r,s=qB,a){this.app=e,this.fetchImpl=a,this.emulatorOrigin=null,this.contextProvider=new uhe(t,i,r),this.cancelAllRequests=new Promise(d=>{this.deleteService=()=>Promise.resolve(d())});try{const d=new URL(s);this.customDomain=d.origin,this.region=qB}catch{this.customDomain=null,this.region=s}}_delete(){return this.deleteService()}_url(e){const t=this.app.options.projectId;return null!==this.emulatorOrigin?`${this.emulatorOrigin}/${t}/${this.region}/${e}`:null!==this.customDomain?`${this.customDomain}/${e}`:`https://${this.region}-${t}.cloudfunctions.net/${e}`}}const Rq="@firebase/functions";function whe(n=(0,ot.getApp)(),e=qB){const i=(0,ot._getProvider)((0,q.m9)(n),WB).getImmediate({identifier:e}),r=(0,q.P0)("functions");return r&&function Che(n,e,t){!function fhe(n,e,t){n.emulatorOrigin=`http://${e}:${t}`}((0,q.m9)(n),e,t)}(i,...r),i}!function Ehe(n,e){(0,ot._registerComponent)(new kr.wA(WB,(i,{instanceIdentifier:r})=>{const s=i.getProvider("app").getImmediate(),a=i.getProvider("auth-internal"),d=i.getProvider("messaging-internal"),h=i.getProvider("app-check-internal");return new hhe(s,a,d,h,r,n)},"PUBLIC").setMultipleInstances(!0)),(0,ot.registerVersion)(Rq,"0.8.8",e),(0,ot.registerVersion)(Rq,"0.8.8","esm2017")}(fetch.bind(self));class KB{constructor(e){return e}}const Pq="functions",QB=new l.OlP("angularfire2.functions-instances");function The(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new KB(i)}}const Dhe={provide:class She{constructor(){return Pa(Pq)}},deps:[[new l.FiY,QB]]},Ahe={provide:KB,useFactory:function Ihe(n,e){const t=Rr(Pq,n,e);return t&&new KB(t)},deps:[[new l.FiY,QB],mn]};let xhe=(()=>{class n{constructor(){(0,ot.registerVersion)("angularfire",Qr.full,"fn")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[Ahe,Dhe]}),n})();function Mhe(n,...e){return{ngModule:xhe,providers:[{provide:QB,useFactory:The(n),multi:!0,deps:[l.R0b,l.zs3,Xr,Na,[new l.FiY,La],[new l.FiY,Fa],...e]}]}}const khe=Qn(whe,!0);class XB{constructor(e){return e}}const Nq="messaging",JB=new l.OlP("angularfire2.messaging-instances");function Phe(n){return(e,t)=>{if(!zo.sync())return null;const i=e.runOutsideAngular(()=>n(t));return new XB(i)}}const Nhe={provide:class Rhe{constructor(){return Pa(Nq)}},deps:[[new l.FiY,JB]]},Fhe={provide:XB,useFactory:function Ohe(n,e){if(!zo.sync())return null;const t=Rr(Nq,n,e);return t&&new XB(t)},deps:[[new l.FiY,JB],mn]};let Lhe=(()=>{class n{constructor(){(0,ot.registerVersion)("angularfire",Qr.full,"fcm")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[Fhe,Nhe,{provide:l.ip1,useValue:zo.async,multi:!0}]}),n})();function Bhe(n,...e){return{ngModule:Lhe,providers:[{provide:JB,useFactory:Phe(n),multi:!0,deps:[l.R0b,l.zs3,Xr,Na,...e]}]}}const Vhe=Qn(tT,!0),Fq="@firebase/performance",eV="0.5.17",tV="FB-PERF-TRACE-MEASURE",Hq="@firebase/performance/config",zq="@firebase/performance/configexpire",jq="Performance",Ur=new q.LL("performance",jq,{"trace started":"Trace {$traceName} was started before.","trace stopped":"Trace {$traceName} is not running.","nonpositive trace startTime":"Trace {$traceName} startTime should be positive.","nonpositive trace duration":"Trace {$traceName} duration should be positive.","no window":"Window is not available.","no app id":"App id is not available.","no project id":"Project id is not available.","no api key":"Api key is not available.","invalid cc log":"Attempted to queue invalid cc event","FB not default":"Performance can only start when Firebase app instance is the default one.","RC response not ok":"RC response is not ok","invalid attribute name":"Attribute name {$attributeName} is invalid.","invalid attribute value":"Attribute value {$attributeValue} is invalid.","invalid custom metric name":"Custom metric name {$customMetricName} is invalid","invalid String merger input":"Input for String merger is invalid, contact support team to resolve.","already initialized":"initializePerformance() has already been called with different options. To avoid this error, call initializePerformance() with the same options as when it was originally called, or call getPerformance() to return the already initialized instance."}),ic=new _r.Yd(jq);let nV,Gq,Wq,rV;ic.logLevel=_r.in.INFO;class Ir{constructor(e){if(this.window=e,!e)throw Ur.create("no window");this.performance=e.performance,this.PerformanceObserver=e.PerformanceObserver,this.windowLocation=e.location,this.navigator=e.navigator,this.document=e.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=e.localStorage),e.perfMetrics&&e.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=e.perfMetrics.onFirstInputDelay)}getUrl(){return this.windowLocation.href.split("?")[0]}mark(e){!this.performance||!this.performance.mark||this.performance.mark(e)}measure(e,t,i){!this.performance||!this.performance.measure||this.performance.measure(e,t,i)}getEntriesByType(e){return this.performance&&this.performance.getEntriesByType?this.performance.getEntriesByType(e):[]}getEntriesByName(e){return this.performance&&this.performance.getEntriesByName?this.performance.getEntriesByName(e):[]}getTimeOrigin(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)}requiredApisAvailable(){return fetch&&Promise&&(0,q.zI)()?!!(0,q.hl)()||(ic.info("IndexedDB is not supported by current browswer"),!1):(ic.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1)}setupObserver(e,t){this.PerformanceObserver&&new this.PerformanceObserver(r=>{for(const s of r.getEntries())t(s)}).observe({entryTypes:[e]})}static getInstance(){return void 0===nV&&(nV=new Ir(Gq)),nV}}function iV(){return Wq}function qq(n,e){const t=n.length-e.length;if(t<0||t>1)throw Ur.create("invalid String merger input");const i=[];for(let r=0;r<n.length;r++)i.push(n.charAt(r)),e.length>r&&i.push(e.charAt(r));return i.join("")}class yo{constructor(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=qq("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=qq("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}getFlTransportFullUrl(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)}static getInstance(){return void 0===rV&&(rV=new yo),rV}}var hm=(()=>(function(n){n[n.UNKNOWN=0]="UNKNOWN",n[n.VISIBLE=1]="VISIBLE",n[n.HIDDEN=2]="HIDDEN"}(hm||(hm={})),hm))();const qhe=["firebase_","google_","ga_"],Yhe=new RegExp("^[a-zA-Z]\\w*$");function Qhe(){const n=Ir.getInstance().navigator;return n?.serviceWorker?n.serviceWorker.controller?2:3:1}function Yq(){switch(Ir.getInstance().document.visibilityState){case"visible":return hm.VISIBLE;case"hidden":return hm.HIDDEN;default:return hm.UNKNOWN}}function Xhe(){const e=Ir.getInstance().navigator.connection;switch(e&&e.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}function Zq(n){var e;const t=null===(e=n.options)||void 0===e?void 0:e.appId;if(!t)throw Ur.create("no app id");return t}const Za={loggingEnabled:!0};const lfe="Could not fetch config, will use default configs";function Kq(n){if(!n)return n;const e=yo.getInstance(),t=n.entries||{};return e.loggingEnabled=void 0!==t.fpr_enabled?"true"===String(t.fpr_enabled):Za.loggingEnabled,t.fpr_log_source?e.logSource=Number(t.fpr_log_source):Za.logSource&&(e.logSource=Za.logSource),t.fpr_log_endpoint_url?e.logEndPointUrl=t.fpr_log_endpoint_url:Za.logEndPointUrl&&(e.logEndPointUrl=Za.logEndPointUrl),t.fpr_log_transport_key?e.transportKey=t.fpr_log_transport_key:Za.transportKey&&(e.transportKey=Za.transportKey),void 0!==t.fpr_vc_network_request_sampling_rate?e.networkRequestsSamplingRate=Number(t.fpr_vc_network_request_sampling_rate):void 0!==Za.networkRequestsSamplingRate&&(e.networkRequestsSamplingRate=Za.networkRequestsSamplingRate),void 0!==t.fpr_vc_trace_sampling_rate?e.tracesSamplingRate=Number(t.fpr_vc_trace_sampling_rate):void 0!==Za.tracesSamplingRate&&(e.tracesSamplingRate=Za.tracesSamplingRate),e.logTraceAfterSampling=Qq(e.tracesSamplingRate),e.logNetworkAfterSampling=Qq(e.networkRequestsSamplingRate),n}function Qq(n){return Math.random()<=n}let oV,sV=1;function Xq(n){return sV=2,oV=oV||function hfe(n){return function ffe(){const n=Ir.getInstance().document;return new Promise(e=>{if(n&&"complete"!==n.readyState){const t=()=>{"complete"===n.readyState&&(n.removeEventListener("readystatechange",t),e())};n.addEventListener("readystatechange",t)}else e()})}().then(()=>function Ghe(n){const e=n.getId();return e.then(t=>{Wq=t}),e}(n.installations)).then(e=>function sfe(n,e){const t=function ofe(){const n=Ir.getInstance().localStorage;if(!n)return;const e=n.getItem(zq);if(!e||!function ufe(n){return Number(n)>Date.now()}(e))return;const t=n.getItem(Hq);if(t)try{return JSON.parse(t)}catch{return}}();return t?(Kq(t),Promise.resolve()):function cfe(n,e){return function Whe(n){const e=n.getToken();return e.then(t=>{}),e}(n.installations).then(t=>{const i=function tfe(n){var e;const t=null===(e=n.options)||void 0===e?void 0:e.projectId;if(!t)throw Ur.create("no project id");return t}(n.app),r=function nfe(n){var e;const t=null===(e=n.options)||void 0===e?void 0:e.apiKey;if(!t)throw Ur.create("no api key");return t}(n.app),a=new Request(`https://firebaseremoteconfig.googleapis.com/v1/projects/${i}/namespaces/fireperf:fetch?key=${r}`,{method:"POST",headers:{Authorization:`FIREBASE_INSTALLATIONS_AUTH ${t}`},body:JSON.stringify({app_instance_id:e,app_instance_id_token:t,app_id:Zq(n.app),app_version:"0.5.17",sdk_version:"0.0.1"})});return fetch(a).then(d=>{if(d.ok)return d.json();throw Ur.create("RC response not ok")})}).catch(()=>{ic.info(lfe)})}(n,e).then(Kq).then(i=>function afe(n){const e=Ir.getInstance().localStorage;!n||!e||(e.setItem(Hq,JSON.stringify(n)),e.setItem(zq,String(Date.now()+60*yo.getInstance().configTimeToLive*60*1e3)))}(i),()=>{})}(n,e)).then(()=>Jq(),()=>Jq())}(n),oV}function Jq(){sV=3}let lV,HM=3,gh=[],t5=!1;function zM(n){setTimeout(()=>{if(0!==HM){if(!gh.length)return zM(1e4);!function _fe(){const n=gh.splice(0,1e3),e=n.map(i=>({source_extension_json_proto3:i.message,event_time_ms:String(i.eventTime)}));(function yfe(n,e){return function vfe(n){const e=yo.getInstance().getFlTransportFullUrl();return fetch(e,{method:"POST",body:JSON.stringify(n)})}(n).then(t=>(t.ok||ic.info("Call to Firebase backend failed."),t.json())).then(t=>{const i=Number(t.nextRequestWaitMillis);let r=1e4;isNaN(i)||(r=Math.max(i,r));const s=t.logResponseDetails;Array.isArray(s)&&s.length>0&&"RETRY_REQUEST_LATER"===s[0].responseAction&&(gh=[...e,...gh],ic.info("Retry transport request later.")),HM=3,zM(r)})})({request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:yo.getInstance().logSource,log_event:e},n).catch(()=>{gh=[...n,...gh],HM--,ic.info(`Tries left: ${HM}.`),zM(1e4)})}()}},n)}function n5(n,e){lV||(lV=function Efe(n){return(...e)=>{!function bfe(n){if(!n.eventTime||!n.message)throw Ur.create("invalid cc log");gh=[...gh,n]}({message:n(...e),eventTime:Date.now()})}}(Cfe)),lV(n,e)}function jM(n){const e=yo.getInstance();!e.instrumentationEnabled&&n.isAuto||!e.dataCollectionEnabled&&!n.isAuto||!Ir.getInstance().requiredApisAvailable()||n.isAuto&&Yq()!==hm.VISIBLE||(function dfe(){return 3===sV}()?cV(n):Xq(n.performanceController).then(()=>cV(n),()=>cV(n)))}function cV(n){if(!iV())return;const e=yo.getInstance();!e.loggingEnabled||!e.logTraceAfterSampling||setTimeout(()=>n5(n,1),0)}function Cfe(n,e){return 0===e?function Sfe(n){const e={url:n.url,http_method:n.httpMethod||0,http_response_code:200,response_payload_bytes:n.responsePayloadBytes,client_start_time_us:n.startTimeUs,time_to_response_initiated_us:n.timeToResponseInitiatedUs,time_to_response_completed_us:n.timeToResponseCompletedUs},t={application_info:i5(n.performanceController.app),network_request_metric:e};return JSON.stringify(t)}(n):function Ife(n){const e={name:n.name,is_auto:n.isAuto,client_start_time_us:n.startTimeUs,duration_us:n.durationUs};0!==Object.keys(n.counters).length&&(e.counters=n.counters);const t=n.getAttributes();0!==Object.keys(t).length&&(e.custom_attributes=t);const i={application_info:i5(n.performanceController.app),trace_metric:e};return JSON.stringify(i)}(n)}function i5(n){return{google_app_id:Zq(n),app_instance_id:iV(),web_app_info:{sdk_version:"0.5.17",page_url:Ir.getInstance().getUrl(),service_worker_status:Qhe(),visibility_state:Yq(),effective_connection_type:Xhe()},application_process_state:0}}const Afe=["_fp","_fcp","_fid"];class _h{constructor(e,t,i=!1,r){this.performanceController=e,this.name=t,this.isAuto=i,this.state=1,this.customAttributes={},this.counters={},this.api=Ir.getInstance(),this.randomId=Math.floor(1e6*Math.random()),this.isAuto||(this.traceStartMark=`FB-PERF-TRACE-START-${this.randomId}-${this.name}`,this.traceStopMark=`FB-PERF-TRACE-STOP-${this.randomId}-${this.name}`,this.traceMeasure=r||`${tV}-${this.randomId}-${this.name}`,r&&this.calculateTraceMetrics())}start(){if(1!==this.state)throw Ur.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2}stop(){if(2!==this.state)throw Ur.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),jM(this)}record(e,t,i){if(e<=0)throw Ur.create("nonpositive trace startTime",{traceName:this.name});if(t<=0)throw Ur.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(1e3*t),this.startTimeUs=Math.floor(1e3*e),i&&i.attributes&&(this.customAttributes=Object.assign({},i.attributes)),i&&i.metrics)for(const r of Object.keys(i.metrics))isNaN(Number(i.metrics[r]))||(this.counters[r]=Math.floor(Number(i.metrics[r])));jM(this)}incrementMetric(e,t=1){this.putMetric(e,void 0===this.counters[e]?t:this.counters[e]+t)}putMetric(e,t){if(!function xfe(n,e){return!(0===n.length||n.length>100)&&(e&&e.startsWith("_wt_")&&Afe.indexOf(n)>-1||!n.startsWith("_"))}(e,this.name))throw Ur.create("invalid custom metric name",{customMetricName:e});this.counters[e]=function Mfe(n){const e=Math.floor(n);return e<n&&ic.info(`Metric value should be an Integer, setting the value as : ${e}.`),e}(t??0)}getMetric(e){return this.counters[e]||0}putAttribute(e,t){const i=function Jhe(n){return!(0===n.length||n.length>40||qhe.some(t=>n.startsWith(t))||!n.match(Yhe))}(e),r=function efe(n){return 0!==n.length&&n.length<=100}(t);if(i&&r)this.customAttributes[e]=t;else{if(!i)throw Ur.create("invalid attribute name",{attributeName:e});if(!r)throw Ur.create("invalid attribute value",{attributeValue:t})}}getAttribute(e){return this.customAttributes[e]}removeAttribute(e){void 0!==this.customAttributes[e]&&delete this.customAttributes[e]}getAttributes(){return Object.assign({},this.customAttributes)}setStartTime(e){this.startTimeUs=e}setDuration(e){this.durationUs=e}calculateTraceMetrics(){const e=this.api.getEntriesByName(this.traceMeasure),t=e&&e[0];t&&(this.durationUs=Math.floor(1e3*t.duration),this.startTimeUs=Math.floor(1e3*(t.startTime+this.api.getTimeOrigin())))}static createOobTrace(e,t,i,r){const s=Ir.getInstance().getUrl();if(!s)return;const a=new _h(e,"_wt_"+s,!0),d=Math.floor(1e3*Ir.getInstance().getTimeOrigin());if(a.setStartTime(d),t&&t[0]&&(a.setDuration(Math.floor(1e3*t[0].duration)),a.putMetric("domInteractive",Math.floor(1e3*t[0].domInteractive)),a.putMetric("domContentLoadedEventEnd",Math.floor(1e3*t[0].domContentLoadedEventEnd)),a.putMetric("loadEventEnd",Math.floor(1e3*t[0].loadEventEnd))),i){const g=i.find(w=>"first-paint"===w.name);g&&g.startTime&&a.putMetric("_fp",Math.floor(1e3*g.startTime));const v=i.find(w=>"first-contentful-paint"===w.name);v&&v.startTime&&a.putMetric("_fcp",Math.floor(1e3*v.startTime)),r&&a.putMetric("_fid",Math.floor(1e3*r))}jM(a)}static createUserTimingTrace(e,t){jM(new _h(e,t,!1,t))}}function r5(n,e){const t=e;if(!t||void 0===t.responseStart)return;const i=Ir.getInstance().getTimeOrigin(),r=Math.floor(1e3*(t.startTime+i)),s=t.responseStart?Math.floor(1e3*(t.responseStart-t.startTime)):void 0,a=Math.floor(1e3*(t.responseEnd-t.startTime));!function wfe(n){const e=yo.getInstance();if(!e.instrumentationEnabled)return;const t=n.url,i=e.logEndPointUrl.split("?")[0],r=e.flTransportEndpointUrl.split("?")[0];t===i||t===r||!e.loggingEnabled||!e.logNetworkAfterSampling||setTimeout(()=>n5(n,0),0)}({performanceController:n,url:t.name&&t.name.split("?")[0],responsePayloadBytes:t.transferSize,startTimeUs:r,timeToResponseInitiatedUs:s,timeToResponseCompletedUs:a})}function s5(n){!iV()||(setTimeout(()=>function Ofe(n){const e=Ir.getInstance(),t=e.getEntriesByType("navigation"),i=e.getEntriesByType("paint");if(e.onFirstInputDelay){let r=setTimeout(()=>{_h.createOobTrace(n,t,i),r=void 0},5e3);e.onFirstInputDelay(s=>{r&&(clearTimeout(r),_h.createOobTrace(n,t,i,s))})}else _h.createOobTrace(n,t,i)}(n),0),setTimeout(()=>function Rfe(n){const e=Ir.getInstance(),t=e.getEntriesByType("resource");for(const i of t)r5(n,i);e.setupObserver("resource",i=>r5(n,i))}(n),0),setTimeout(()=>function Pfe(n){const e=Ir.getInstance(),t=e.getEntriesByType("measure");for(const i of t)o5(n,i);e.setupObserver("measure",i=>o5(n,i))}(n),0))}function o5(n,e){const t=e.name;t.substring(0,tV.length)!==tV&&_h.createUserTimingTrace(n,t)}class Nfe{constructor(e,t){this.app=e,this.installations=t,this.initialized=!1}_init(e){this.initialized||(void 0!==e?.dataCollectionEnabled&&(this.dataCollectionEnabled=e.dataCollectionEnabled),void 0!==e?.instrumentationEnabled&&(this.instrumentationEnabled=e.instrumentationEnabled),Ir.getInstance().requiredApisAvailable()?(0,q.eu)().then(t=>{t&&(function gfe(){t5||(zM(5500),t5=!0)}(),Xq(this).then(()=>s5(this),()=>s5(this)),this.initialized=!0)}).catch(t=>{ic.info(`Environment doesn't support IndexedDB: ${t}`)}):ic.info('Firebase Performance cannot start if the browser does not support "Fetch" and "Promise", or cookies are disabled.'))}set instrumentationEnabled(e){yo.getInstance().instrumentationEnabled=e}get instrumentationEnabled(){return yo.getInstance().instrumentationEnabled}set dataCollectionEnabled(e){yo.getInstance().dataCollectionEnabled=e}get dataCollectionEnabled(){return yo.getInstance().dataCollectionEnabled}}function Lfe(n=(0,ot.getApp)()){return n=(0,q.m9)(n),(0,ot._getProvider)(n,"performance").getImmediate()}const Bfe=(n,{options:e})=>{const t=n.getProvider("app").getImmediate(),i=n.getProvider("installations-internal").getImmediate();if("[DEFAULT]"!==t.name)throw Ur.create("FB not default");if(typeof window>"u")throw Ur.create("no window");!function jhe(n){Gq=n}(window);const r=new Nfe(t,i);return r._init(e),r};!function Vfe(){(0,ot._registerComponent)(new kr.wA("performance",Bfe,"PUBLIC")),(0,ot.registerVersion)(Fq,eV),(0,ot.registerVersion)(Fq,eV,"esm2017")}();class uV{constructor(e){return e}}const a5="performance",dV=new l.OlP("angularfire2.performance-instances");function Hfe(n){return(e,t,i)=>{if(!nr(t))return null;const r=e.runOutsideAngular(()=>n(i));return new uV(r)}}const zfe={provide:class Ufe{constructor(){return Pa(a5)}},deps:[[new l.FiY,dV]]},jfe={provide:uV,useFactory:function $fe(n,e,t){if(!nr(t))return null;const i=Rr(a5,n,e);return i&&new uV(i)},deps:[[new l.FiY,dV],mn,l.Lbi]};let Gfe=(()=>{class n{constructor(){(0,ot.registerVersion)("angularfire",Qr.full,"perf")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[jfe,zfe]}),n})();function Wfe(n,...e){return{ngModule:Gfe,providers:[{provide:dV,useFactory:Hfe(n),multi:!0,deps:[l.R0b,l.Lbi,l.zs3,Xr,Na,...e]}]}}const qfe=Qn(Lfe,!0);class hV{constructor(e){return e}}const l5="remote-config",fV=new l.OlP("angularfire2.remote-config-instances");function Kfe(n){return(e,t)=>{if(!__.sync())return null;const i=e.runOutsideAngular(()=>n(t));return new hV(i)}}const Qfe={provide:class Yfe{constructor(){return Pa(l5)}},deps:[[new l.FiY,fV]]},Xfe={provide:hV,useFactory:function Zfe(n,e){if(!__.sync())return null;const t=Rr(l5,n,e);return t&&new hV(t)},deps:[[new l.FiY,fV],mn]};let Jfe=(()=>{class n{constructor(){(0,ot.registerVersion)("angularfire",Qr.full,"rc")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[Xfe,Qfe,{provide:l.ip1,useValue:__.async,multi:!0}]}),n})();function epe(n,...e){return{ngModule:Jfe,providers:[{provide:fV,useFactory:Kfe(n),multi:!0,deps:[l.R0b,l.zs3,Xr,Na,...e]}]}}const tpe=Qn(Qk,!0);let npe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[ai,fte,Dte,Jy,bF,IF,uu,Ax]}),n})(),pV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[ai,uu,Ax]}),n})(),ipe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[ai,ov,BF,EF,uu,Ax,pV]}),n})(),rpe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[ai,Ax,uu,ov,EF,BF,pV]}),n})(),spe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[ai,ov,IF,BF,Sse,pV,uu,EF,bF]}),n})(),ope=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[ai,see,VG,uu,npe,IF,ipe,rpe,bF,spe]}),n})(),ape=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[ai]}),n})(),lpe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[ai]}),n})(),cpe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[ai,uu,zb]}),n})(),upe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[ai,cpe,fH]}),n})(),dpe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[ai,fH]}),n})(),hpe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[ai,lpe,upe,dpe]}),n})(),fpe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n,bootstrap:[coe]}),n.\u0275inj=l.cJS({providers:[DW,xL,{provide:Es.Dh,useValue:AL.firebase}],imports:[ga,JX,lle,VG,uu,GR(()=>WR(AL.firebase)),Ple(()=>hle()),_2(()=>D1()),rhe(()=>she()),P7(()=>F7()),Mhe(()=>khe()),Bhe(()=>Vhe()),Wfe(()=>qfe()),epe(()=>tpe()),Gre(()=>wG()),ope,ape,hpe,SG]}),n})();AL.production&&(0,l.G48)(),Cc().bootstrapModule(fpe).catch(n=>console.error(n))},127:(At,He,z)=>{z.d(He,{Z:()=>l.Z});var l=z(3942);l.Z.registerVersion("firebase","9.14.0","app-compat")},5881:(At,He,z)=>{z.r(He);var l=z(5861),W=z(3942),H=z(8247),ve=z(2090),we=(z(9681),z(1877),z(4859));function ke(){return window}function Q(){return(Q=(0,l.Z)(function*(j,P,V){var ce;const{BuildInfo:Ve}=ke();(0,H.ap)(P.sessionId,"AuthEvent did not contain a session ID");const ft=yield Se(P.sessionId),yt={};return(0,H.aq)()?yt.ibi=Ve.packageName:(0,H.ar)()?yt.apn=Ve.packageName:(0,H.as)(j,"operation-not-supported-in-this-environment"),Ve.displayName&&(yt.appDisplayName=Ve.displayName),yt.sessionId=ft,(0,H.at)(j,V,P.type,void 0,null!==(ce=P.eventId)&&void 0!==ce?ce:void 0,yt)})).apply(this,arguments)}function Xe(){return(Xe=(0,l.Z)(function*(j){const{BuildInfo:P}=ke(),V={};(0,H.aq)()?V.iosBundleId=P.packageName:(0,H.ar)()?V.androidPackageName=P.packageName:(0,H.as)(j,"operation-not-supported-in-this-environment"),yield(0,H.au)(j,V)})).apply(this,arguments)}function ut(){return(ut=(0,l.Z)(function*(j,P,V){const{cordova:ce}=ke();let Ve=()=>{};try{yield new Promise((ft,yt)=>{let Me=null;function je(){var Gt;ft();const Sn=null===(Gt=ce.plugins.browsertab)||void 0===Gt?void 0:Gt.close;"function"==typeof Sn&&Sn(),"function"==typeof V?.close&&V.close()}function Ft(){Me||(Me=window.setTimeout(()=>{yt((0,H.aw)(j,"redirect-cancelled-by-user"))},2e3))}function Cn(){"visible"===document?.visibilityState&&Ft()}P.addPassiveListener(je),document.addEventListener("resume",Ft,!1),(0,H.ar)()&&document.addEventListener("visibilitychange",Cn,!1),Ve=()=>{P.removePassiveListener(je),document.removeEventListener("resume",Ft,!1),document.removeEventListener("visibilitychange",Cn,!1),Me&&window.clearTimeout(Me)}})}finally{Ve()}})).apply(this,arguments)}function Se(j){return mt.apply(this,arguments)}function mt(){return(mt=(0,l.Z)(function*(j){const P=gt(j),V=yield crypto.subtle.digest("SHA-256",P);return Array.from(new Uint8Array(V)).map(Ve=>Ve.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function gt(j){if((0,H.ap)(/[0-9a-zA-Z]+/.test(j),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(j);const P=new ArrayBuffer(j.length),V=new Uint8Array(P);for(let ce=0;ce<j.length;ce++)V[ce]=j.charCodeAt(ce);return V}class Pe extends H.ay{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(P=>{this.resolveInialized=P})}addPassiveListener(P){this.passiveListeners.add(P)}removePassiveListener(P){this.passiveListeners.delete(P)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(P){return this.resolveInialized(),this.passiveListeners.forEach(V=>V(P)),super.onEvent(P)}initialized(){var P=this;return(0,l.Z)(function*(){yield P.initPromise})()}}function de(j){return fe.apply(this,arguments)}function fe(){return(fe=(0,l.Z)(function*(j){const P=yield ie()._get(_e(j));return P&&(yield ie()._remove(_e(j))),P})).apply(this,arguments)}function ne(){const j=[],P="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let V=0;V<20;V++){const ce=Math.floor(Math.random()*P.length);j.push(P.charAt(ce))}return j.join("")}function ie(){return(0,H.az)(H.b)}function _e(j){return(0,H.aA)("authEvent",j.config.apiKey,j.name)}function qe(j){if(!j?.includes("?"))return{};const[P,...V]=j.split("?");return(0,ve.zd)(V.join("?"))}function et(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,H.aw)("no-auth-event")}}function tn(){var j;return(null===(j=self?.location)||void 0===j?void 0:j.protocol)||null}function er(j=(0,ve.z$)()){return!("file:"!==tn()&&"ionic:"!==tn()&&"capacitor:"!==tn()||!j.toLowerCase().match(/iphone|ipad|ipod|android/))}function xs(){try{const j=self.localStorage,P=H.aI();if(j)return j.setItem(P,"1"),j.removeItem(P),!function Zs(j=(0,ve.z$)()){return function bo(){return(0,ve.w1)()&&11===document?.documentMode}()||function oi(j=(0,ve.z$)()){return/Edge\/\d+/.test(j)}(j)}()||(0,ve.hl)()}catch{return hr()&&(0,ve.hl)()}return!1}function hr(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function tr(){return(function zt(){return"http:"===tn()||"https:"===tn()}()||(0,ve.ru)()||er())&&!function As(){return(0,ve.b$)()||(0,ve.UG)()}()&&xs()&&!hr()}function Ks(){return er()&&typeof document<"u"}function dt(){return(dt=(0,l.Z)(function*(){return!!Ks()&&new Promise(j=>{const P=setTimeout(()=>{j(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(P),j(!0)})})})).apply(this,arguments)}const Ii={LOCAL:"local",NONE:"none",SESSION:"session"},Un=H.ax,Tr="persistence";function $n(j){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,l.Z)(function*(j){yield j._initializationPromise;const P=Ct(),V=H.aA(Tr,j.config.apiKey,j.name);P&&P.setItem(V,j._getPersistence())})).apply(this,arguments)}function Ct(){var j;try{return(null===(j=function Pi(){return typeof window<"u"?window:null}())||void 0===j?void 0:j.sessionStorage)||null}catch{return null}}const St=H.ax;class $t{constructor(){this.browserResolver=H.az(H.k),this.cordovaResolver=H.az(class fn{constructor(){this._redirectPersistence=H.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=H.aB,this._overrideRedirectResult=H.aC}_initialize(P){var V=this;return(0,l.Z)(function*(){const ce=P._key();let Ve=V.eventManagers.get(ce);return Ve||(Ve=new Pe(P),V.eventManagers.set(ce,Ve),V.attachCallbackListeners(P,Ve)),Ve})()}_openPopup(P){(0,H.as)(P,"operation-not-supported-in-this-environment")}_openRedirect(P,V,ce,Ve){var ft=this;return(0,l.Z)(function*(){!function me(j){var P,V,ce,Ve,ft,yt,Me,je,Ft,Cn;const Gt=ke();(0,H.ax)("function"==typeof(null===(P=Gt?.universalLinks)||void 0===P?void 0:P.subscribe),j,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,H.ax)(typeof(null===(V=Gt?.BuildInfo)||void 0===V?void 0:V.packageName)<"u",j,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,H.ax)("function"==typeof(null===(ft=null===(Ve=null===(ce=Gt?.cordova)||void 0===ce?void 0:ce.plugins)||void 0===Ve?void 0:Ve.browsertab)||void 0===ft?void 0:ft.openUrl),j,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,H.ax)("function"==typeof(null===(je=null===(Me=null===(yt=Gt?.cordova)||void 0===yt?void 0:yt.plugins)||void 0===Me?void 0:Me.browsertab)||void 0===je?void 0:je.isAvailable),j,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,H.ax)("function"==typeof(null===(Cn=null===(Ft=Gt?.cordova)||void 0===Ft?void 0:Ft.InAppBrowser)||void 0===Cn?void 0:Cn.open),j,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(P);const yt=yield ft._initialize(P);yield yt.initialized(),yt.resetRedirect(),(0,H.aD)(),yield ft._originValidation(P);const Me=function Ae(j,P,V=null){return{type:P,eventId:V,urlResponse:null,sessionId:ne(),postBody:null,tenantId:j.tenantId,error:(0,H.aw)(j,"no-auth-event")}}(P,ce,Ve);yield function Je(j,P){return ie()._set(_e(j),P)}(P,Me);const je=yield function K(j,P,V){return Q.apply(this,arguments)}(P,Me,V),Ft=yield function Qe(j){const{cordova:P}=ke();return new Promise(V=>{P.plugins.browsertab.isAvailable(ce=>{let Ve=null;ce?P.plugins.browsertab.openUrl(j):Ve=P.InAppBrowser.open(j,(0,H.av)()?"_blank":"_system","location=yes"),V(Ve)})})}(je);return function Le(j,P,V){return ut.apply(this,arguments)}(P,yt,Ft)})()}_isIframeWebStorageSupported(P,V){throw new Error("Method not implemented.")}_originValidation(P){const V=P._key();return this.originValidationPromises[V]||(this.originValidationPromises[V]=function re(j){return Xe.apply(this,arguments)}(P)),this.originValidationPromises[V]}attachCallbackListeners(P,V){const{universalLinks:ce,handleOpenURL:Ve,BuildInfo:ft}=ke(),yt=setTimeout((0,l.Z)(function*(){yield de(P),V.onEvent(et())}),500),Me=function(){var Cn=(0,l.Z)(function*(Gt){clearTimeout(yt);const Sn=yield de(P);let Ms=null;Sn&&Gt?.url&&(Ms=function Te(j,P){var V,ce;const Ve=function We(j){const P=qe(j),V=P.link?decodeURIComponent(P.link):void 0,ce=qe(V).link,Ve=P.deep_link_id?decodeURIComponent(P.deep_link_id):void 0;return qe(Ve).link||Ve||ce||V||j}(P);if(Ve.includes("/__/auth/callback")){const ft=qe(Ve),yt=ft.firebaseError?function he(j){try{return JSON.parse(j)}catch{return null}}(decodeURIComponent(ft.firebaseError)):null,Me=null===(ce=null===(V=yt?.code)||void 0===V?void 0:V.split("auth/"))||void 0===ce?void 0:ce[1],je=Me?(0,H.aw)(Me):null;return je?{type:j.type,eventId:j.eventId,tenantId:j.tenantId,error:je,urlResponse:null,sessionId:null,postBody:null}:{type:j.type,eventId:j.eventId,tenantId:j.tenantId,sessionId:j.sessionId,urlResponse:Ve,postBody:null}}return null}(Sn,Gt.url)),V.onEvent(Ms||et())});return function(Sn){return Cn.apply(this,arguments)}}();typeof ce<"u"&&"function"==typeof ce.subscribe&&ce.subscribe(null,Me);const je=Ve,Ft=`${ft.packageName.toLowerCase()}://`;ke().handleOpenURL=function(){var Cn=(0,l.Z)(function*(Gt){if(Gt.toLowerCase().startsWith(Ft)&&Me({url:Gt}),"function"==typeof je)try{je(Gt)}catch(Sn){console.error(Sn)}});return function(Gt){return Cn.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=H.a,this._completeRedirectFn=H.aB,this._overrideRedirectResult=H.aC}_initialize(P){var V=this;return(0,l.Z)(function*(){return yield V.selectUnderlyingResolver(),V.assertedUnderlyingResolver._initialize(P)})()}_openPopup(P,V,ce,Ve){var ft=this;return(0,l.Z)(function*(){return yield ft.selectUnderlyingResolver(),ft.assertedUnderlyingResolver._openPopup(P,V,ce,Ve)})()}_openRedirect(P,V,ce,Ve){var ft=this;return(0,l.Z)(function*(){return yield ft.selectUnderlyingResolver(),ft.assertedUnderlyingResolver._openRedirect(P,V,ce,Ve)})()}_isIframeWebStorageSupported(P,V){this.assertedUnderlyingResolver._isIframeWebStorageSupported(P,V)}_originValidation(P){return this.assertedUnderlyingResolver._originValidation(P)}get _shouldInitProactively(){return Ks()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return St(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var P=this;return(0,l.Z)(function*(){if(P.underlyingResolver)return;const V=yield function Eo(){return dt.apply(this,arguments)}();P.underlyingResolver=V?P.cordovaResolver:P.browserResolver})()}}function Dr(j){return j.unwrap()}function fr(j){return pr(j)}function pr(j){const{_tokenResponse:P}=j instanceof ve.ZR?j.customData:j;if(!P)return null;if(!(j instanceof ve.ZR)&&"temporaryProof"in P&&"phoneNumber"in P)return H.P.credentialFromResult(j);const V=P.providerId;if(!V||V===H.o.PASSWORD)return null;let ce;switch(V){case H.o.GOOGLE:ce=H.Q;break;case H.o.FACEBOOK:ce=H.N;break;case H.o.GITHUB:ce=H.T;break;case H.o.TWITTER:ce=H.W;break;default:const{oauthIdToken:Ve,oauthAccessToken:ft,oauthTokenSecret:yt,pendingToken:Me,nonce:je}=P;return ft||yt||Ve||Me?Me?V.startsWith("saml.")?H.aL._create(V,Me):H.J._fromParams({providerId:V,signInMethod:V,pendingToken:Me,idToken:Ve,accessToken:ft}):new H.U(V).credential({idToken:Ve,accessToken:ft,rawNonce:je}):null}return j instanceof ve.ZR?ce.credentialFromError(j):ce.credentialFromResult(j)}function Ht(j,P){return P.catch(V=>{throw V instanceof ve.ZR&&function Nt(j,P){var V,ce;const Ve=null===(V=P.customData)||void 0===V?void 0:V._tokenResponse;if("auth/multi-factor-auth-required"===(null===(ce=P)||void 0===ce?void 0:ce.code))P.resolver=new Hi(j,H.an(j,P));else if(Ve){const ft=pr(P),yt=P;ft&&(yt.credential=ft,yt.tenantId=Ve.tenantId||void 0,yt.email=Ve.email||void 0,yt.phoneNumber=Ve.phoneNumber||void 0)}}(j,V),V}).then(V=>{const Ve=V.user;return{operationType:V.operationType,credential:fr(V),additionalUserInfo:H.al(V),user:ti.getOrCreate(Ve)}})}function ss(j,P){return an.apply(this,arguments)}function an(){return(an=(0,l.Z)(function*(j,P){const V=yield P;return{verificationId:V.verificationId,confirm:ce=>Ht(j,V.confirm(ce))}})).apply(this,arguments)}class Hi{constructor(P,V){this.resolver=V,this.auth=function Ti(j){return j.wrapped()}(P)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(P){return Ht(Dr(this.auth),this.resolver.resolveSignIn(P))}}class ti{constructor(P){this._delegate=P,this.multiFactor=H.ao(P)}static getOrCreate(P){return ti.USER_MAP.has(P)||ti.USER_MAP.set(P,new ti(P)),ti.USER_MAP.get(P)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(P){return this._delegate.getIdTokenResult(P)}getIdToken(P){return this._delegate.getIdToken(P)}linkAndRetrieveDataWithCredential(P){return this.linkWithCredential(P)}linkWithCredential(P){var V=this;return(0,l.Z)(function*(){return Ht(V.auth,H.Z(V._delegate,P))})()}linkWithPhoneNumber(P,V){var ce=this;return(0,l.Z)(function*(){return ss(ce.auth,H.l(ce._delegate,P,V))})()}linkWithPopup(P){var V=this;return(0,l.Z)(function*(){return Ht(V.auth,H.d(V._delegate,P,$t))})()}linkWithRedirect(P){var V=this;return(0,l.Z)(function*(){return yield $n(H.aE(V.auth)),H.g(V._delegate,P,$t)})()}reauthenticateAndRetrieveDataWithCredential(P){return this.reauthenticateWithCredential(P)}reauthenticateWithCredential(P){var V=this;return(0,l.Z)(function*(){return Ht(V.auth,H._(V._delegate,P))})()}reauthenticateWithPhoneNumber(P,V){return ss(this.auth,H.r(this._delegate,P,V))}reauthenticateWithPopup(P){return Ht(this.auth,H.e(this._delegate,P,$t))}reauthenticateWithRedirect(P){var V=this;return(0,l.Z)(function*(){return yield $n(H.aE(V.auth)),H.h(V._delegate,P,$t)})()}sendEmailVerification(P){return H.ab(this._delegate,P)}unlink(P){var V=this;return(0,l.Z)(function*(){return yield H.ak(V._delegate,P),V})()}updateEmail(P){return H.ag(this._delegate,P)}updatePassword(P){return H.ah(this._delegate,P)}updatePhoneNumber(P){return H.u(this._delegate,P)}updateProfile(P){return H.af(this._delegate,P)}verifyBeforeUpdateEmail(P,V){return H.ac(this._delegate,P,V)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}ti.USER_MAP=new WeakMap;const lt=H.ax;let Re=(()=>{class j{constructor(V,ce){if(this.app=V,ce.isInitialized())return this._delegate=ce.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Ve}=V.options;lt(Ve,"invalid-api-key",{appName:V.name}),lt(Ve,"invalid-api-key",{appName:V.name});const ft=typeof window<"u"?$t:void 0;this._delegate=ce.initialize({options:{persistence:Mt(Ve,V.name),popupRedirectResolver:ft}}),this._delegate._updateErrorMap(H.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?ti.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(V){this._delegate.languageCode=V}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(V){this._delegate.tenantId=V}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(V,ce){H.G(this._delegate,V,ce)}applyActionCode(V){return H.a2(this._delegate,V)}checkActionCode(V){return H.a3(this._delegate,V)}confirmPasswordReset(V,ce){return H.a1(this._delegate,V,ce)}createUserWithEmailAndPassword(V,ce){var Ve=this;return(0,l.Z)(function*(){return Ht(Ve._delegate,H.a5(Ve._delegate,V,ce))})()}fetchProvidersForEmail(V){return this.fetchSignInMethodsForEmail(V)}fetchSignInMethodsForEmail(V){return H.aa(this._delegate,V)}isSignInWithEmailLink(V){return H.a8(this._delegate,V)}getRedirectResult(){var V=this;return(0,l.Z)(function*(){lt(tr(),V._delegate,"operation-not-supported-in-this-environment");const ce=yield H.j(V._delegate,$t);return ce?Ht(V._delegate,Promise.resolve(ce)):{credential:null,user:null}})()}addFrameworkForLogging(V){!function Tn(j,P){(0,H.aE)(j)._logFramework(P)}(this._delegate,V)}onAuthStateChanged(V,ce,Ve){const{next:ft,error:yt,complete:Me}=ht(V,ce,Ve);return this._delegate.onAuthStateChanged(ft,yt,Me)}onIdTokenChanged(V,ce,Ve){const{next:ft,error:yt,complete:Me}=ht(V,ce,Ve);return this._delegate.onIdTokenChanged(ft,yt,Me)}sendSignInLinkToEmail(V,ce){return H.a7(this._delegate,V,ce)}sendPasswordResetEmail(V,ce){return H.a0(this._delegate,V,ce||void 0)}setPersistence(V){var ce=this;return(0,l.Z)(function*(){let Ve;switch(function sc(j,P){Un(Object.values(Ii).includes(P),j,"invalid-persistence-type"),(0,ve.b$)()?Un(P!==Ii.SESSION,j,"unsupported-persistence-type"):(0,ve.UG)()?Un(P===Ii.NONE,j,"unsupported-persistence-type"):hr()?Un(P===Ii.NONE||P===Ii.LOCAL&&(0,ve.hl)(),j,"unsupported-persistence-type"):Un(P===Ii.NONE||xs(),j,"unsupported-persistence-type")}(ce._delegate,V),V){case Ii.SESSION:Ve=H.a;break;case Ii.LOCAL:Ve=(yield H.az(H.i)._isAvailable())?H.i:H.b;break;case Ii.NONE:Ve=H.L;break;default:return H.as("argument-error",{appName:ce._delegate.name})}return ce._delegate.setPersistence(Ve)})()}signInAndRetrieveDataWithCredential(V){return this.signInWithCredential(V)}signInAnonymously(){return Ht(this._delegate,H.X(this._delegate))}signInWithCredential(V){return Ht(this._delegate,H.Y(this._delegate,V))}signInWithCustomToken(V){return Ht(this._delegate,H.$(this._delegate,V))}signInWithEmailAndPassword(V,ce){return Ht(this._delegate,H.a6(this._delegate,V,ce))}signInWithEmailLink(V,ce){return Ht(this._delegate,H.a9(this._delegate,V,ce))}signInWithPhoneNumber(V,ce){return ss(this._delegate,H.s(this._delegate,V,ce))}signInWithPopup(V){var ce=this;return(0,l.Z)(function*(){return lt(tr(),ce._delegate,"operation-not-supported-in-this-environment"),Ht(ce._delegate,H.c(ce._delegate,V,$t))})()}signInWithRedirect(V){var ce=this;return(0,l.Z)(function*(){return lt(tr(),ce._delegate,"operation-not-supported-in-this-environment"),yield $n(ce._delegate),H.f(ce._delegate,V,$t)})()}updateCurrentUser(V){return this._delegate.updateCurrentUser(V)}verifyPasswordResetCode(V){return H.a4(this._delegate,V)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return j.Persistence=Ii,j})();function ht(j,P,V){let ce=j;"function"!=typeof j&&({next:ce,error:P,complete:V}=j);const Ve=ce;return{next:yt=>Ve(yt&&ti.getOrCreate(yt)),error:P,complete:V}}function Mt(j,P){const V=function Mn(j,P){const V=Ct();if(!V)return[];const ce=H.aA(Tr,j,P);switch(V.getItem(ce)){case Ii.NONE:return[H.L];case Ii.LOCAL:return[H.i,H.a];case Ii.SESSION:return[H.a];default:return[]}}(j,P);if(typeof self<"u"&&!V.includes(H.i)&&V.push(H.i),typeof window<"u")for(const ce of[H.b,H.a])V.includes(ce)||V.push(ce);return V.includes(H.L)||V.push(H.L),V}class Rt{constructor(){this.providerId="phone",this._delegate=new H.P(Dr(W.Z.auth()))}static credential(P,V){return H.P.credential(P,V)}verifyPhoneNumber(P,V){return this._delegate.verifyPhoneNumber(P,V)}unwrap(){return this._delegate}}Rt.PHONE_SIGN_IN_METHOD=H.P.PHONE_SIGN_IN_METHOD,Rt.PROVIDER_ID=H.P.PROVIDER_ID;const un=H.ax;class Y{constructor(P,V,ce=W.Z.app()){var Ve;un(null===(Ve=ce.options)||void 0===Ve?void 0:Ve.apiKey,"invalid-api-key",{appName:ce.name}),this._delegate=new H.R(P,V,ce.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function X(j){j.INTERNAL.registerComponent(new we.wA("auth-compat",P=>{const V=P.getProvider("app-compat").getImmediate(),ce=P.getProvider("auth");return new Re(V,ce)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:H.A.EMAIL_SIGNIN,PASSWORD_RESET:H.A.PASSWORD_RESET,RECOVER_EMAIL:H.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:H.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:H.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:H.A.VERIFY_EMAIL}},EmailAuthProvider:H.M,FacebookAuthProvider:H.N,GithubAuthProvider:H.T,GoogleAuthProvider:H.Q,OAuthProvider:H.U,SAMLAuthProvider:H.V,PhoneAuthProvider:Rt,PhoneMultiFactorGenerator:H.m,RecaptchaVerifier:Y,TwitterAuthProvider:H.W,Auth:Re,AuthCredential:H.H,Error:ve.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),j.registerVersion("@firebase/auth-compat","0.2.24")}(W.Z)},9751:(At,He,z)=>{z.d(He,{y:()=>ke});var l=z(930),W=z(727),H=z(8822),ve=z(9635),Fe=z(2416),Oe=z(576),we=z(2806);let ke=(()=>{class re{constructor(Qe){Qe&&(this._subscribe=Qe)}lift(Qe){const Le=new re;return Le.source=this,Le.operator=Qe,Le}subscribe(Qe,Le,ut){const me=function Q(re){return re&&re instanceof l.Lv||function K(re){return re&&(0,Oe.m)(re.next)&&(0,Oe.m)(re.error)&&(0,Oe.m)(re.complete)}(re)&&(0,W.Nn)(re)}(Qe)?Qe:new l.Hp(Qe,Le,ut);return(0,we.x)(()=>{const{operator:Se,source:mt}=this;me.add(Se?Se.call(me,mt):mt?this._subscribe(me):this._trySubscribe(me))}),me}_trySubscribe(Qe){try{return this._subscribe(Qe)}catch(Le){Qe.error(Le)}}forEach(Qe,Le){return new(Le=Ze(Le))((ut,me)=>{const Se=new l.Hp({next:mt=>{try{Qe(mt)}catch(gt){me(gt),Se.unsubscribe()}},error:me,complete:ut});this.subscribe(Se)})}_subscribe(Qe){var Le;return null===(Le=this.source)||void 0===Le?void 0:Le.subscribe(Qe)}[H.L](){return this}pipe(...Qe){return(0,ve.U)(Qe)(this)}toPromise(Qe){return new(Qe=Ze(Qe))((Le,ut)=>{let me;this.subscribe(Se=>me=Se,Se=>ut(Se),()=>Le(me))})}}return re.create=Xe=>new re(Xe),re})();function Ze(re){var Xe;return null!==(Xe=re??Fe.v.Promise)&&void 0!==Xe?Xe:Promise}},7579:(At,He,z)=>{z.d(He,{x:()=>we});var l=z(9751),W=z(727);const ve=(0,z(3888).d)(Ze=>function(){Ze(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Fe=z(8737),Oe=z(2806);let we=(()=>{class Ze extends l.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(Q){const re=new ke(this,this);return re.operator=Q,re}_throwIfClosed(){if(this.closed)throw new ve}next(Q){(0,Oe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const re of this.currentObservers)re.next(Q)}})}error(Q){(0,Oe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=Q;const{observers:re}=this;for(;re.length;)re.shift().error(Q)}})}complete(){(0,Oe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:Q}=this;for(;Q.length;)Q.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var Q;return(null===(Q=this.observers)||void 0===Q?void 0:Q.length)>0}_trySubscribe(Q){return this._throwIfClosed(),super._trySubscribe(Q)}_subscribe(Q){return this._throwIfClosed(),this._checkFinalizedStatuses(Q),this._innerSubscribe(Q)}_innerSubscribe(Q){const{hasError:re,isStopped:Xe,observers:Qe}=this;return re||Xe?W.Lc:(this.currentObservers=null,Qe.push(Q),new W.w0(()=>{this.currentObservers=null,(0,Fe.P)(Qe,Q)}))}_checkFinalizedStatuses(Q){const{hasError:re,thrownError:Xe,isStopped:Qe}=this;re?Q.error(Xe):Qe&&Q.complete()}asObservable(){const Q=new l.y;return Q.source=this,Q}}return Ze.create=(K,Q)=>new ke(K,Q),Ze})();class ke extends we{constructor(K,Q){super(),this.destination=K,this.source=Q}next(K){var Q,re;null===(re=null===(Q=this.destination)||void 0===Q?void 0:Q.next)||void 0===re||re.call(Q,K)}error(K){var Q,re;null===(re=null===(Q=this.destination)||void 0===Q?void 0:Q.error)||void 0===re||re.call(Q,K)}complete(){var K,Q;null===(Q=null===(K=this.destination)||void 0===K?void 0:K.complete)||void 0===Q||Q.call(K)}_subscribe(K){var Q,re;return null!==(re=null===(Q=this.source)||void 0===Q?void 0:Q.subscribe(K))&&void 0!==re?re:W.Lc}}},930:(At,He,z)=>{z.d(He,{Hp:()=>ut,Lv:()=>re});var l=z(576),W=z(727),H=z(2416),ve=z(7849),Fe=z(5032);const Oe=Ze("C",void 0,void 0);function Ze(Ge,Pe,Ae){return{kind:Ge,value:Pe,error:Ae}}var K=z(3410),Q=z(2806);class re extends W.w0{constructor(Pe){super(),this.isStopped=!1,Pe?(this.destination=Pe,(0,W.Nn)(Pe)&&Pe.add(this)):this.destination=gt}static create(Pe,Ae,Je){return new ut(Pe,Ae,Je)}next(Pe){this.isStopped?mt(function ke(Ge){return Ze("N",Ge,void 0)}(Pe),this):this._next(Pe)}error(Pe){this.isStopped?mt(function we(Ge){return Ze("E",void 0,Ge)}(Pe),this):(this.isStopped=!0,this._error(Pe))}complete(){this.isStopped?mt(Oe,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Pe){this.destination.next(Pe)}_error(Pe){try{this.destination.error(Pe)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Xe=Function.prototype.bind;function Qe(Ge,Pe){return Xe.call(Ge,Pe)}class Le{constructor(Pe){this.partialObserver=Pe}next(Pe){const{partialObserver:Ae}=this;if(Ae.next)try{Ae.next(Pe)}catch(Je){me(Je)}}error(Pe){const{partialObserver:Ae}=this;if(Ae.error)try{Ae.error(Pe)}catch(Je){me(Je)}else me(Pe)}complete(){const{partialObserver:Pe}=this;if(Pe.complete)try{Pe.complete()}catch(Ae){me(Ae)}}}class ut extends re{constructor(Pe,Ae,Je){let de;if(super(),(0,l.m)(Pe)||!Pe)de={next:Pe??void 0,error:Ae??void 0,complete:Je??void 0};else{let fe;this&&H.v.useDeprecatedNextContext?(fe=Object.create(Pe),fe.unsubscribe=()=>this.unsubscribe(),de={next:Pe.next&&Qe(Pe.next,fe),error:Pe.error&&Qe(Pe.error,fe),complete:Pe.complete&&Qe(Pe.complete,fe)}):de=Pe}this.destination=new Le(de)}}function me(Ge){H.v.useDeprecatedSynchronousErrorHandling?(0,Q.O)(Ge):(0,ve.h)(Ge)}function mt(Ge,Pe){const{onStoppedNotification:Ae}=H.v;Ae&&K.z.setTimeout(()=>Ae(Ge,Pe))}const gt={closed:!0,next:Fe.Z,error:function Se(Ge){throw Ge},complete:Fe.Z}},727:(At,He,z)=>{z.d(He,{Lc:()=>Oe,w0:()=>Fe,Nn:()=>we});var l=z(576);const H=(0,z(3888).d)(Ze=>function(Q){Ze(this),this.message=Q?`${Q.length} errors occurred during unsubscription:\n${Q.map((re,Xe)=>`${Xe+1}) ${re.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Q});var ve=z(8737);class Fe{constructor(K){this.initialTeardown=K,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let K;if(!this.closed){this.closed=!0;const{_parentage:Q}=this;if(Q)if(this._parentage=null,Array.isArray(Q))for(const Qe of Q)Qe.remove(this);else Q.remove(this);const{initialTeardown:re}=this;if((0,l.m)(re))try{re()}catch(Qe){K=Qe instanceof H?Qe.errors:[Qe]}const{_finalizers:Xe}=this;if(Xe){this._finalizers=null;for(const Qe of Xe)try{ke(Qe)}catch(Le){K=K??[],Le instanceof H?K=[...K,...Le.errors]:K.push(Le)}}if(K)throw new H(K)}}add(K){var Q;if(K&&K!==this)if(this.closed)ke(K);else{if(K instanceof Fe){if(K.closed||K._hasParent(this))return;K._addParent(this)}(this._finalizers=null!==(Q=this._finalizers)&&void 0!==Q?Q:[]).push(K)}}_hasParent(K){const{_parentage:Q}=this;return Q===K||Array.isArray(Q)&&Q.includes(K)}_addParent(K){const{_parentage:Q}=this;this._parentage=Array.isArray(Q)?(Q.push(K),Q):Q?[Q,K]:K}_removeParent(K){const{_parentage:Q}=this;Q===K?this._parentage=null:Array.isArray(Q)&&(0,ve.P)(Q,K)}remove(K){const{_finalizers:Q}=this;Q&&(0,ve.P)(Q,K),K instanceof Fe&&K._removeParent(this)}}Fe.EMPTY=(()=>{const Ze=new Fe;return Ze.closed=!0,Ze})();const Oe=Fe.EMPTY;function we(Ze){return Ze instanceof Fe||Ze&&"closed"in Ze&&(0,l.m)(Ze.remove)&&(0,l.m)(Ze.add)&&(0,l.m)(Ze.unsubscribe)}function ke(Ze){(0,l.m)(Ze)?Ze():Ze.unsubscribe()}},2416:(At,He,z)=>{z.d(He,{v:()=>l});const l={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(At,He,z)=>{z.d(He,{E:()=>W});const W=new(z(9751).y)(Fe=>Fe.complete())},8996:(At,He,z)=>{z.d(He,{D:()=>Pe});var l=z(8421),W=z(5363),H=z(9468),Oe=z(9751),ke=z(2202),Ze=z(576),K=z(9672);function re(Ae,Je){if(!Ae)throw new Error("Iterable cannot be null");return new Oe.y(de=>{(0,K.f)(de,Je,()=>{const fe=Ae[Symbol.asyncIterator]();(0,K.f)(de,Je,()=>{fe.next().then(Te=>{Te.done?de.complete():de.next(Te.value)})},0,!0)})})}var Xe=z(3670),Qe=z(8239),Le=z(1144),ut=z(6495),me=z(2206),Se=z(4532),mt=z(3260);function Pe(Ae,Je){return Je?function Ge(Ae,Je){if(null!=Ae){if((0,Xe.c)(Ae))return function ve(Ae,Je){return(0,l.Xf)(Ae).pipe((0,H.R)(Je),(0,W.Q)(Je))}(Ae,Je);if((0,Le.z)(Ae))return function we(Ae,Je){return new Oe.y(de=>{let fe=0;return Je.schedule(function(){fe===Ae.length?de.complete():(de.next(Ae[fe++]),de.closed||this.schedule())})})}(Ae,Je);if((0,Qe.t)(Ae))return function Fe(Ae,Je){return(0,l.Xf)(Ae).pipe((0,H.R)(Je),(0,W.Q)(Je))}(Ae,Je);if((0,me.D)(Ae))return re(Ae,Je);if((0,ut.T)(Ae))return function Q(Ae,Je){return new Oe.y(de=>{let fe;return(0,K.f)(de,Je,()=>{fe=Ae[ke.h](),(0,K.f)(de,Je,()=>{let Te,ne;try{({value:Te,done:ne}=fe.next())}catch(ie){return void de.error(ie)}ne?de.complete():de.next(Te)},0,!0)}),()=>(0,Ze.m)(fe?.return)&&fe.return()})}(Ae,Je);if((0,mt.L)(Ae))return function gt(Ae,Je){return re((0,mt.Q)(Ae),Je)}(Ae,Je)}throw(0,Se.z)(Ae)}(Ae,Je):(0,l.Xf)(Ae)}},8421:(At,He,z)=>{z.d(He,{Xf:()=>Xe});var l=z(655),W=z(1144),H=z(8239),ve=z(9751),Fe=z(3670),Oe=z(2206),we=z(4532),ke=z(6495),Ze=z(3260),K=z(576),Q=z(7849),re=z(8822);function Xe(Ge){if(Ge instanceof ve.y)return Ge;if(null!=Ge){if((0,Fe.c)(Ge))return function Qe(Ge){return new ve.y(Pe=>{const Ae=Ge[re.L]();if((0,K.m)(Ae.subscribe))return Ae.subscribe(Pe);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ge);if((0,W.z)(Ge))return function Le(Ge){return new ve.y(Pe=>{for(let Ae=0;Ae<Ge.length&&!Pe.closed;Ae++)Pe.next(Ge[Ae]);Pe.complete()})}(Ge);if((0,H.t)(Ge))return function ut(Ge){return new ve.y(Pe=>{Ge.then(Ae=>{Pe.closed||(Pe.next(Ae),Pe.complete())},Ae=>Pe.error(Ae)).then(null,Q.h)})}(Ge);if((0,Oe.D)(Ge))return Se(Ge);if((0,ke.T)(Ge))return function me(Ge){return new ve.y(Pe=>{for(const Ae of Ge)if(Pe.next(Ae),Pe.closed)return;Pe.complete()})}(Ge);if((0,Ze.L)(Ge))return function mt(Ge){return Se((0,Ze.Q)(Ge))}(Ge)}throw(0,we.z)(Ge)}function Se(Ge){return new ve.y(Pe=>{(function gt(Ge,Pe){var Ae,Je,de,fe;return(0,l.mG)(this,void 0,void 0,function*(){try{for(Ae=(0,l.KL)(Ge);!(Je=yield Ae.next()).done;)if(Pe.next(Je.value),Pe.closed)return}catch(Te){de={error:Te}}finally{try{Je&&!Je.done&&(fe=Ae.return)&&(yield fe.call(Ae))}finally{if(de)throw de.error}}Pe.complete()})})(Ge,Pe).catch(Ae=>Pe.error(Ae))})}},6451:(At,He,z)=>{z.d(He,{T:()=>Oe});var l=z(8189),W=z(8421),H=z(515),ve=z(3269),Fe=z(8996);function Oe(...we){const ke=(0,ve.yG)(we),Ze=(0,ve._6)(we,1/0),K=we;return K.length?1===K.length?(0,W.Xf)(K[0]):(0,l.J)(Ze)((0,Fe.D)(K,ke)):H.E}},5403:(At,He,z)=>{z.d(He,{Q:()=>H,x:()=>W});var l=z(930);function W(ve,Fe,Oe,we,ke){return new H(ve,Fe,Oe,we,ke)}class H extends l.Lv{constructor(Fe,Oe,we,ke,Ze,K){super(Fe),this.onFinalize=Ze,this.shouldUnsubscribe=K,this._next=Oe?function(Q){try{Oe(Q)}catch(re){Fe.error(re)}}:super._next,this._error=ke?function(Q){try{ke(Q)}catch(re){Fe.error(re)}finally{this.unsubscribe()}}:super._error,this._complete=we?function(){try{we()}catch(Q){Fe.error(Q)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Fe;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Oe}=this;super.unsubscribe(),!Oe&&(null===(Fe=this.onFinalize)||void 0===Fe||Fe.call(this))}}}},4004:(At,He,z)=>{z.d(He,{U:()=>H});var l=z(4482),W=z(5403);function H(ve,Fe){return(0,l.e)((Oe,we)=>{let ke=0;Oe.subscribe((0,W.x)(we,Ze=>{we.next(ve.call(Fe,Ze,ke++))}))})}},8189:(At,He,z)=>{z.d(He,{J:()=>H});var l=z(5577),W=z(4671);function H(ve=1/0){return(0,l.z)(W.y,ve)}},5577:(At,He,z)=>{z.d(He,{z:()=>ke});var l=z(4004),W=z(8421),H=z(4482),ve=z(9672),Fe=z(5403),we=z(576);function ke(Ze,K,Q=1/0){return(0,we.m)(K)?ke((re,Xe)=>(0,l.U)((Qe,Le)=>K(re,Qe,Xe,Le))((0,W.Xf)(Ze(re,Xe))),Q):("number"==typeof K&&(Q=K),(0,H.e)((re,Xe)=>function Oe(Ze,K,Q,re,Xe,Qe,Le,ut){const me=[];let Se=0,mt=0,gt=!1;const Ge=()=>{gt&&!me.length&&!Se&&K.complete()},Pe=Je=>Se<re?Ae(Je):me.push(Je),Ae=Je=>{Qe&&K.next(Je),Se++;let de=!1;(0,W.Xf)(Q(Je,mt++)).subscribe((0,Fe.x)(K,fe=>{Xe?.(fe),Qe?Pe(fe):K.next(fe)},()=>{de=!0},void 0,()=>{if(de)try{for(Se--;me.length&&Se<re;){const fe=me.shift();Le?(0,ve.f)(K,Le,()=>Ae(fe)):Ae(fe)}Ge()}catch(fe){K.error(fe)}}))};return Ze.subscribe((0,Fe.x)(K,Pe,()=>{gt=!0,Ge()})),()=>{ut?.()}}(re,Xe,Ze,Q)))}},5363:(At,He,z)=>{z.d(He,{Q:()=>ve});var l=z(9672),W=z(4482),H=z(5403);function ve(Fe,Oe=0){return(0,W.e)((we,ke)=>{we.subscribe((0,H.x)(ke,Ze=>(0,l.f)(ke,Fe,()=>ke.next(Ze),Oe),()=>(0,l.f)(ke,Fe,()=>ke.complete(),Oe),Ze=>(0,l.f)(ke,Fe,()=>ke.error(Ze),Oe)))})}},3099:(At,He,z)=>{z.d(He,{B:()=>Fe});var l=z(8421),W=z(7579),H=z(930),ve=z(4482);function Fe(we={}){const{connector:ke=(()=>new W.x),resetOnError:Ze=!0,resetOnComplete:K=!0,resetOnRefCountZero:Q=!0}=we;return re=>{let Xe,Qe,Le,ut=0,me=!1,Se=!1;const mt=()=>{Qe?.unsubscribe(),Qe=void 0},gt=()=>{mt(),Xe=Le=void 0,me=Se=!1},Ge=()=>{const Pe=Xe;gt(),Pe?.unsubscribe()};return(0,ve.e)((Pe,Ae)=>{ut++,!Se&&!me&&mt();const Je=Le=Le??ke();Ae.add(()=>{ut--,0===ut&&!Se&&!me&&(Qe=Oe(Ge,Q))}),Je.subscribe(Ae),!Xe&&ut>0&&(Xe=new H.Hp({next:de=>Je.next(de),error:de=>{Se=!0,mt(),Qe=Oe(gt,Ze,de),Je.error(de)},complete:()=>{me=!0,mt(),Qe=Oe(gt,K),Je.complete()}}),(0,l.Xf)(Pe).subscribe(Xe))})(re)}}function Oe(we,ke,...Ze){if(!0===ke)return void we();if(!1===ke)return;const K=new H.Hp({next:()=>{K.unsubscribe(),we()}});return ke(...Ze).subscribe(K)}},9468:(At,He,z)=>{z.d(He,{R:()=>W});var l=z(4482);function W(H,ve=0){return(0,l.e)((Fe,Oe)=>{Oe.add(H.schedule(()=>Fe.subscribe(Oe),ve))})}},3410:(At,He,z)=>{z.d(He,{z:()=>l});const l={setTimeout(W,H,...ve){const{delegate:Fe}=l;return Fe?.setTimeout?Fe.setTimeout(W,H,...ve):setTimeout(W,H,...ve)},clearTimeout(W){const{delegate:H}=l;return(H?.clearTimeout||clearTimeout)(W)},delegate:void 0}},2202:(At,He,z)=>{z.d(He,{h:()=>W});const W=function l(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(At,He,z)=>{z.d(He,{L:()=>l});const l="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(At,He,z)=>{z.d(He,{_6:()=>Oe,jO:()=>ve,yG:()=>Fe});var l=z(576),W=z(3532);function H(we){return we[we.length-1]}function ve(we){return(0,l.m)(H(we))?we.pop():void 0}function Fe(we){return(0,W.K)(H(we))?we.pop():void 0}function Oe(we,ke){return"number"==typeof H(we)?we.pop():ke}},8737:(At,He,z)=>{function l(W,H){if(W){const ve=W.indexOf(H);0<=ve&&W.splice(ve,1)}}z.d(He,{P:()=>l})},3888:(At,He,z)=>{function l(W){const ve=W(Fe=>{Error.call(Fe),Fe.stack=(new Error).stack});return ve.prototype=Object.create(Error.prototype),ve.prototype.constructor=ve,ve}z.d(He,{d:()=>l})},2806:(At,He,z)=>{z.d(He,{O:()=>ve,x:()=>H});var l=z(2416);let W=null;function H(Fe){if(l.v.useDeprecatedSynchronousErrorHandling){const Oe=!W;if(Oe&&(W={errorThrown:!1,error:null}),Fe(),Oe){const{errorThrown:we,error:ke}=W;if(W=null,we)throw ke}}else Fe()}function ve(Fe){l.v.useDeprecatedSynchronousErrorHandling&&W&&(W.errorThrown=!0,W.error=Fe)}},9672:(At,He,z)=>{function l(W,H,ve,Fe=0,Oe=!1){const we=H.schedule(function(){ve(),Oe?W.add(this.schedule(null,Fe)):this.unsubscribe()},Fe);if(W.add(we),!Oe)return we}z.d(He,{f:()=>l})},4671:(At,He,z)=>{function l(W){return W}z.d(He,{y:()=>l})},1144:(At,He,z)=>{z.d(He,{z:()=>l});const l=W=>W&&"number"==typeof W.length&&"function"!=typeof W},2206:(At,He,z)=>{z.d(He,{D:()=>W});var l=z(576);function W(H){return Symbol.asyncIterator&&(0,l.m)(H?.[Symbol.asyncIterator])}},576:(At,He,z)=>{function l(W){return"function"==typeof W}z.d(He,{m:()=>l})},3670:(At,He,z)=>{z.d(He,{c:()=>H});var l=z(8822),W=z(576);function H(ve){return(0,W.m)(ve[l.L])}},6495:(At,He,z)=>{z.d(He,{T:()=>H});var l=z(2202),W=z(576);function H(ve){return(0,W.m)(ve?.[l.h])}},8239:(At,He,z)=>{z.d(He,{t:()=>W});var l=z(576);function W(H){return(0,l.m)(H?.then)}},3260:(At,He,z)=>{z.d(He,{L:()=>ve,Q:()=>H});var l=z(655),W=z(576);function H(Fe){return(0,l.FC)(this,arguments,function*(){const we=Fe.getReader();try{for(;;){const{value:ke,done:Ze}=yield(0,l.qq)(we.read());if(Ze)return yield(0,l.qq)(void 0);yield yield(0,l.qq)(ke)}}finally{we.releaseLock()}})}function ve(Fe){return(0,W.m)(Fe?.getReader)}},3532:(At,He,z)=>{z.d(He,{K:()=>W});var l=z(576);function W(H){return H&&(0,l.m)(H.schedule)}},4482:(At,He,z)=>{z.d(He,{A:()=>W,e:()=>H});var l=z(576);function W(ve){return(0,l.m)(ve?.lift)}function H(ve){return Fe=>{if(W(Fe))return Fe.lift(function(Oe){try{return ve(Oe,this)}catch(we){this.error(we)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(At,He,z)=>{function l(){}z.d(He,{Z:()=>l})},9635:(At,He,z)=>{z.d(He,{U:()=>H,z:()=>W});var l=z(4671);function W(...ve){return H(ve)}function H(ve){return 0===ve.length?l.y:1===ve.length?ve[0]:function(Oe){return ve.reduce((we,ke)=>ke(we),Oe)}}},7849:(At,He,z)=>{z.d(He,{h:()=>H});var l=z(2416),W=z(3410);function H(ve){W.z.setTimeout(()=>{const{onUnhandledError:Fe}=l.v;if(!Fe)throw ve;Fe(ve)})}},4532:(At,He,z)=>{function l(W){return new TypeError(`You provided ${null!==W&&"object"==typeof W?"an invalid object":`'${W}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}z.d(He,{z:()=>l})},655:(At,He,z)=>{function ve(ne,ie){var _e={};for(var he in ne)Object.prototype.hasOwnProperty.call(ne,he)&&ie.indexOf(he)<0&&(_e[he]=ne[he]);if(null!=ne&&"function"==typeof Object.getOwnPropertySymbols){var We=0;for(he=Object.getOwnPropertySymbols(ne);We<he.length;We++)ie.indexOf(he[We])<0&&Object.prototype.propertyIsEnumerable.call(ne,he[We])&&(_e[he[We]]=ne[he[We]])}return _e}function ke(ne,ie,_e,he){return new(_e||(_e=Promise))(function(qe,wt){function fn(Tn){try{et(he.next(Tn))}catch(hi){wt(hi)}}function en(Tn){try{et(he.throw(Tn))}catch(hi){wt(hi)}}function et(Tn){Tn.done?qe(Tn.value):function We(qe){return qe instanceof _e?qe:new _e(function(wt){wt(qe)})}(Tn.value).then(fn,en)}et((he=he.apply(ne,ie||[])).next())})}function me(ne){return this instanceof me?(this.v=ne,this):new me(ne)}function Se(ne,ie,_e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var We,he=_e.apply(ne,ie||[]),qe=[];return We={},wt("next"),wt("throw"),wt("return"),We[Symbol.asyncIterator]=function(){return this},We;function wt(Dn){he[Dn]&&(We[Dn]=function(pn){return new Promise(function(tn,zt){qe.push([Dn,pn,tn,zt])>1||fn(Dn,pn)})})}function fn(Dn,pn){try{!function en(Dn){Dn.value instanceof me?Promise.resolve(Dn.value.v).then(et,Tn):hi(qe[0][2],Dn)}(he[Dn](pn))}catch(tn){hi(qe[0][3],tn)}}function et(Dn){fn("next",Dn)}function Tn(Dn){fn("throw",Dn)}function hi(Dn,pn){Dn(pn),qe.shift(),qe.length&&fn(qe[0][0],qe[0][1])}}function gt(ne){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var _e,ie=ne[Symbol.asyncIterator];return ie?ie.call(ne):(ne=function re(ne){var ie="function"==typeof Symbol&&Symbol.iterator,_e=ie&&ne[ie],he=0;if(_e)return _e.call(ne);if(ne&&"number"==typeof ne.length)return{next:function(){return ne&&he>=ne.length&&(ne=void 0),{value:ne&&ne[he++],done:!ne}}};throw new TypeError(ie?"Object is not iterable.":"Symbol.iterator is not defined.")}(ne),_e={},he("next"),he("throw"),he("return"),_e[Symbol.asyncIterator]=function(){return this},_e);function he(qe){_e[qe]=ne[qe]&&function(wt){return new Promise(function(fn,en){!function We(qe,wt,fn,en){Promise.resolve(en).then(function(et){qe({value:et,done:fn})},wt)}(fn,en,(wt=ne[qe](wt)).done,wt.value)})}}}z.d(He,{FC:()=>Se,KL:()=>gt,_T:()=>ve,mG:()=>ke,qq:()=>me})},4650:(At,He,z)=>{z.d(He,{$8M:()=>Uu,$Z:()=>yI,AFp:()=>j_,ALo:()=>hD,AaK:()=>ke,Akn:()=>ao,AsE:()=>j0,BQk:()=>Lf,CHM:()=>Nv,CRH:()=>F1,CZH:()=>Xc,CqO:()=>tT,D6c:()=>hy,DdM:()=>b1,EJc:()=>ME,EiD:()=>dl,EpF:()=>JI,F$t:()=>sT,F4k:()=>eT,FYo:()=>ik,FiY:()=>kn,G48:()=>WD,Gf:()=>P1,GfV:()=>kS,Gpc:()=>Q,Gre:()=>NR,Hsn:()=>O0,Ikx:()=>qf,JOm:()=>Vo,JVY:()=>Ym,KtG:()=>Su,L6k:()=>rb,LAX:()=>ob,LFG:()=>Wt,LSH:()=>Km,Lbi:()=>RD,Lck:()=>tD,MAs:()=>Qg,MMx:()=>iD,NdJ:()=>nT,O4$:()=>Am,OlP:()=>Rn,Oqu:()=>z0,PXZ:()=>zD,Q6J:()=>x0,QGY:()=>Bf,QP$:()=>Ve,QbO:()=>PD,Qsj:()=>wV,R0b:()=>_s,RDi:()=>Wm,Rgc:()=>O_,SBq:()=>fl,Sil:()=>q_,Suo:()=>N1,TTD:()=>ua,TgZ:()=>Nf,Tol:()=>gT,Udp:()=>L0,VKq:()=>E1,W1O:()=>U1,WFA:()=>Vf,X6Q:()=>GD,XFs:()=>dt,Xpm:()=>Re,Xts:()=>hb,Y36:()=>$c,YKP:()=>uE,YNc:()=>Kg,Yjl:()=>j,Yz7:()=>pn,Z0I:()=>As,ZZ4:()=>mp,_Bn:()=>eD,_UZ:()=>R0,_Vd:()=>Lc,_c5:()=>dy,_uU:()=>kR,aQg:()=>uy,c2e:()=>xE,cJS:()=>zt,cg1:()=>xl,d8E:()=>Yf,dDg:()=>Z_,dqk:()=>$t,eBb:()=>sb,eFA:()=>$E,ekj:()=>$f,eoX:()=>$D,f3M:()=>An,g9A:()=>AE,h0i:()=>Zc,hGG:()=>gp,hij:()=>a_,iGM:()=>O1,ifc:()=>St,ip1:()=>DE,jDz:()=>x_,kL8:()=>TT,kcU:()=>xm,lG2:()=>X,lcZ:()=>fD,lqb:()=>Bo,lri:()=>BE,mCW:()=>b,n5z:()=>Ao,n_E:()=>gE,oAB:()=>un,oxw:()=>rT,pB0:()=>Wu,q3G:()=>Bn,q4F:()=>RS,qLn:()=>yf,qOj:()=>Of,qZA:()=>Ff,qzn:()=>Bs,rWj:()=>VE,sBO:()=>sy,sIi:()=>jc,s_b:()=>yE,soG:()=>W_,tb:()=>OD,tp0:()=>Ca,uIk:()=>Wg,vHH:()=>Le,vpe:()=>Ba,wAp:()=>Ot,xi3:()=>T1,xp6:()=>aI,ynx:()=>Xg,z2F:()=>dp,z3N:()=>hs,zSh:()=>eg,zs3:()=>ml});var l=z(7579),W=z(727),H=z(9751),ve=z(6451),Fe=z(3099);function Oe(o){for(let c in o)if(o[c]===Oe)return c;throw Error("Could not find renamed property on target object.")}function we(o,c){for(const u in c)c.hasOwnProperty(u)&&!o.hasOwnProperty(u)&&(o[u]=c[u])}function ke(o){if("string"==typeof o)return o;if(Array.isArray(o))return"["+o.map(ke).join(", ")+"]";if(null==o)return""+o;if(o.overriddenName)return`${o.overriddenName}`;if(o.name)return`${o.name}`;const c=o.toString();if(null==c)return""+c;const u=c.indexOf("\n");return-1===u?c:c.substring(0,u)}function Ze(o,c){return null==o||""===o?null===c?"":c:null==c||""===c?o:o+" "+c}const K=Oe({__forward_ref__:Oe});function Q(o){return o.__forward_ref__=Q,o.toString=function(){return ke(this())},o}function re(o){return Xe(o)?o():o}function Xe(o){return"function"==typeof o&&o.hasOwnProperty(K)&&o.__forward_ref__===Q}class Le extends Error{constructor(c,u){super(function ut(o,c){return`NG0${Math.abs(o)}${c?": "+c.trim():""}`}(c,u)),this.code=c}}function me(o){return"string"==typeof o?o:null==o?"":String(o)}function Pe(o,c){throw new Le(-201,!1)}function en(o,c){null==o&&function et(o,c,u,f){throw new Error(`ASSERTION ERROR: ${o}`+(null==f?"":` [Expected=> ${u} ${f} ${c} <=Actual]`))}(c,o,null,"!=")}function pn(o){return{token:o.token,providedIn:o.providedIn||null,factory:o.factory,value:void 0}}function zt(o){return{providers:o.providers||[],imports:o.imports||[]}}function er(o){return bo(o,hr)||bo(o,Ks)}function As(o){return null!==er(o)}function bo(o,c){return o.hasOwnProperty(c)?o[c]:null}function xs(o){return o&&(o.hasOwnProperty(tr)||o.hasOwnProperty(Eo))?o[tr]:null}const hr=Oe({\u0275prov:Oe}),tr=Oe({\u0275inj:Oe}),Ks=Oe({ngInjectableDef:Oe}),Eo=Oe({ngInjectorDef:Oe});var dt=(()=>((dt=dt||{})[dt.Default=0]="Default",dt[dt.Host=1]="Host",dt[dt.Self=2]="Self",dt[dt.SkipSelf=4]="SkipSelf",dt[dt.Optional=8]="Optional",dt))();let Pi;function Un(o){const c=Pi;return Pi=o,c}function Tr(o,c,u){const f=er(o);return f&&"root"==f.providedIn?void 0===f.value?f.value=f.factory():f.value:u&dt.Optional?null:void 0!==c?c:void Pe(ke(o))}function $n(o){return{toString:o}.toString()}var Wn=(()=>((Wn=Wn||{})[Wn.OnPush=0]="OnPush",Wn[Wn.Default=1]="Default",Wn))(),St=(()=>{return(o=St||(St={}))[o.Emulated=0]="Emulated",o[o.None=2]="None",o[o.ShadowDom=3]="ShadowDom",St;var o})();const $t=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),fr={},Nt=[],pr=Oe({\u0275cmp:Oe}),Ht=Oe({\u0275dir:Oe}),ss=Oe({\u0275pipe:Oe}),an=Oe({\u0275mod:Oe}),Hi=Oe({\u0275fac:Oe}),ti=Oe({__NG_ELEMENT_ID__:Oe});let lt=0;function Re(o){return $n(()=>{const u=!0===o.standalone,f={},m={type:o.type,providersResolver:null,decls:o.decls,vars:o.vars,factory:null,template:o.template||null,consts:o.consts||null,ngContentSelectors:o.ngContentSelectors,hostBindings:o.hostBindings||null,hostVars:o.hostVars||0,hostAttrs:o.hostAttrs||null,contentQueries:o.contentQueries||null,declaredInputs:f,inputs:null,outputs:null,exportAs:o.exportAs||null,onPush:o.changeDetection===Wn.OnPush,directiveDefs:null,pipeDefs:null,standalone:u,dependencies:u&&o.dependencies||null,getStandaloneInjector:null,selectors:o.selectors||Nt,viewQuery:o.viewQuery||null,features:o.features||null,data:o.data||{},encapsulation:o.encapsulation||St.Emulated,id:"c"+lt++,styles:o.styles||Nt,_:null,setInput:null,schemas:o.schemas||null,tView:null},_=o.dependencies,E=o.features;return m.inputs=G(o.inputs,f),m.outputs=G(o.outputs),E&&E.forEach(S=>S(m)),m.directiveDefs=_?()=>("function"==typeof _?_():_).map(Mt).filter(Rt):null,m.pipeDefs=_?()=>("function"==typeof _?_():_).map(ce).filter(Rt):null,m})}function Mt(o){return P(o)||V(o)}function Rt(o){return null!==o}function un(o){return $n(()=>({type:o.type,bootstrap:o.bootstrap||Nt,declarations:o.declarations||Nt,imports:o.imports||Nt,exports:o.exports||Nt,transitiveCompileScopes:null,schemas:o.schemas||null,id:o.id||null}))}function G(o,c){if(null==o)return fr;const u={};for(const f in o)if(o.hasOwnProperty(f)){let m=o[f],_=m;Array.isArray(m)&&(_=m[1],m=m[0]),u[m]=f,c&&(c[m]=_)}return u}const X=Re;function j(o){return{type:o.type,name:o.name,factory:null,pure:!1!==o.pure,standalone:!0===o.standalone,onDestroy:o.type.prototype.ngOnDestroy||null}}function P(o){return o[pr]||null}function V(o){return o[Ht]||null}function ce(o){return o[ss]||null}function Ve(o){const c=P(o)||V(o)||ce(o);return null!==c&&c.standalone}function ft(o,c){const u=o[an]||null;if(!u&&!0===c)throw new Error(`Type ${ke(o)} does not have '\u0275mod' property.`);return u}function Ni(o){return Array.isArray(o)&&"object"==typeof o[1]}function xr(o){return Array.isArray(o)&&!0===o[1]}function os(o){return 0!=(8&o.flags)}function wo(o){return 2==(2&o.flags)}function Co(o){return 1==(1&o.flags)}function ks(o){return null!==o.template}function Eu(o){return 0!=(256&o[2])}function zi(o,c){return o.hasOwnProperty(Hi)?o[Hi]:null}class Xa{constructor(c,u,f){this.previousValue=c,this.currentValue=u,this.firstChange=f}isFirstChange(){return this.firstChange}}function ua(){return Em}function Em(o){return o.type.prototype.ngOnChanges&&(o.setInput=Ch),wh}function wh(){const o=Ja(this),c=o?.current;if(c){const u=o.previous;if(u===fr)o.previous=c;else for(let f in c)u[f]=c[f];o.current=null,this.ngOnChanges(c)}}function Ch(o,c,u,f){const m=Ja(o)||function ai(o,c){return o[wm]=c}(o,{previous:fr,current:null}),_=m.current||(m.current={}),E=m.previous,S=this.declaredInputs[u],T=E[S];_[S]=new Xa(T&&T.currentValue,c,E===fr),o[f]=c}ua.ngInherit=!0;const wm="__ngSimpleChanges__";function Ja(o){return o[wm]||null}function ni(o){for(;Array.isArray(o);)o=o[0];return o}function hc(o,c){return ni(c[o])}function mr(o,c){return ni(c[o.index])}function fc(o,c){return o.data[c]}function So(o,c){return o[c]}function vn(o,c){const u=c[o];return Ni(u)?u:u[0]}function Io(o){return 64==(64&o[2])}function Rs(o,c){return null==c?null:o[c]}function pc(o){o[18]=0}function mc(o,c){o[5]+=c;let u=o,f=o[3];for(;null!==f&&(1===c&&1===u[5]||-1===c&&0===u[5]);)f[5]+=c,u=f,f=f[3]}const Vt={lFrame:Ph(null),bindingsEnabled:!0};function gc(){return Vt.bindingsEnabled}function Be(){return Vt.lFrame.lView}function sn(){return Vt.lFrame.tView}function Nv(o){return Vt.lFrame.contextLView=o,o[8]}function Su(o){return Vt.lFrame.contextLView=null,o}function Di(){let o=Iu();for(;null!==o&&64===o.type;)o=o.parent;return o}function Iu(){return Vt.lFrame.currentTNode}function jr(o,c){const u=Vt.lFrame;u.currentTNode=o,u.isParent=c}function Ah(){return Vt.lFrame.isParent}function Du(){Vt.lFrame.isParent=!1}function bi(){const o=Vt.lFrame;let c=o.bindingRootIndex;return-1===c&&(c=o.bindingRootIndex=o.tView.bindingStartIndex),c}function yc(){return Vt.lFrame.bindingIndex++}function To(o){const c=Vt.lFrame,u=c.bindingIndex;return c.bindingIndex=c.bindingIndex+o,u}function Tm(o,c){const u=Vt.lFrame;u.bindingIndex=u.bindingRootIndex=o,Au(c)}function Au(o){Vt.lFrame.currentDirectiveIndex=o}function Mh(o){const c=Vt.lFrame.currentDirectiveIndex;return-1===c?null:o[c]}function kh(){return Vt.lFrame.currentQueryIndex}function Rh(o){Vt.lFrame.currentQueryIndex=o}function Oh(o){const c=o[1];return 2===c.type?c.declTNode:1===c.type?o[6]:null}function Bv(o,c,u){if(u&dt.SkipSelf){let m=c,_=o;for(;!(m=m.parent,null!==m||u&dt.Host||(m=Oh(_),null===m||(_=_[15],10&m.type))););if(null===m)return!1;c=m,o=_}const f=Vt.lFrame=Vv();return f.currentTNode=c,f.lView=o,!0}function xu(o){const c=Vv(),u=o[1];Vt.lFrame=c,c.currentTNode=u.firstChild,c.lView=o,c.tView=u,c.contextLView=o,c.bindingIndex=u.bindingStartIndex,c.inI18n=!1}function Vv(){const o=Vt.lFrame,c=null===o?null:o.child;return null===c?Ph(o):c}function Ph(o){const c={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:o,child:null,inI18n:!1};return null!==o&&(o.child=c),c}function Uv(){const o=Vt.lFrame;return Vt.lFrame=o.parent,o.currentTNode=null,o.lView=null,o}const Dm=Uv;function tl(){const o=Uv();o.isParent=!0,o.tView=null,o.selectedIndex=-1,o.contextLView=null,o.elementDepthCount=0,o.currentDirectiveIndex=-1,o.currentNamespace=null,o.bindingRootIndex=-1,o.bindingIndex=-1,o.currentQueryIndex=0}function qn(){return Vt.lFrame.selectedIndex}function Xs(o){Vt.lFrame.selectedIndex=o}function Yn(){const o=Vt.lFrame;return fc(o.tView,o.selectedIndex)}function Am(){Vt.lFrame.currentNamespace="svg"}function xm(){!function zv(){Vt.lFrame.currentNamespace=null}()}function vc(o,c){for(let u=c.directiveStart,f=c.directiveEnd;u<f;u++){const _=o.data[u].type.prototype,{ngAfterContentInit:E,ngAfterContentChecked:S,ngAfterViewInit:T,ngAfterViewChecked:M,ngOnDestroy:O}=_;E&&(o.contentHooks||(o.contentHooks=[])).push(-u,E),S&&((o.contentHooks||(o.contentHooks=[])).push(u,S),(o.contentCheckHooks||(o.contentCheckHooks=[])).push(u,S)),T&&(o.viewHooks||(o.viewHooks=[])).push(-u,T),M&&((o.viewHooks||(o.viewHooks=[])).push(u,M),(o.viewCheckHooks||(o.viewCheckHooks=[])).push(u,M)),null!=O&&(o.destroyHooks||(o.destroyHooks=[])).push(u,O)}}function bc(o,c,u){Lh(o,c,3,u)}function fa(o,c,u,f){(3&o[2])===u&&Lh(o,c,u,f)}function Fh(o,c){let u=o[2];(3&u)===c&&(u&=2047,u+=1,o[2]=u)}function Lh(o,c,u,f){const _=f??-1,E=c.length-1;let S=0;for(let T=void 0!==f?65535&o[18]:0;T<E;T++)if("number"==typeof c[T+1]){if(S=c[T],null!=f&&S>=f)break}else c[T]<0&&(o[18]+=65536),(S<_||-1==_)&&(Mm(o,u,c,T),o[18]=(4294901760&o[18])+T+2),T++}function Mm(o,c,u,f){const m=u[f]<0,_=u[f+1],S=o[m?-u[f]:u[f]];if(m){if(o[2]>>11<o[18]>>16&&(3&o[2])===c){o[2]+=2048;try{_.call(S)}finally{}}}else try{_.call(S)}finally{}}class Gr{constructor(c,u,f){this.factory=c,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=f}}function Js(o,c,u){let f=0;for(;f<u.length;){const m=u[f];if("number"==typeof m){if(0!==m)break;f++;const _=u[f++],E=u[f++],S=u[f++];o.setAttribute(c,E,S,_)}else{const _=m,E=u[++f];Hh(_)?o.setProperty(c,_,E):o.setAttribute(c,_,E),f++}}return f}function $h(o){return 3===o||4===o||6===o}function Hh(o){return 64===o.charCodeAt(0)}function wc(o,c){if(null!==c&&0!==c.length)if(null===o||0===o.length)o=c.slice();else{let u=-1;for(let f=0;f<c.length;f++){const m=c[f];"number"==typeof m?u=m:0===u||km(o,u,m,null,-1===u||2===u?c[++f]:null)}}return o}function km(o,c,u,f,m){let _=0,E=o.length;if(-1===c)E=-1;else for(;_<o.length;){const S=o[_++];if("number"==typeof S){if(S===c){E=-1;break}if(S>c){E=_-1;break}}}for(;_<o.length;){const S=o[_];if("number"==typeof S)break;if(S===u){if(null===f)return void(null!==m&&(o[_+1]=m));if(f===o[_+1])return void(o[_+2]=m)}_++,null!==f&&_++,null!==m&&_++}-1!==E&&(o.splice(E,0,c),_=E+1),o.splice(_++,0,u),null!==f&&o.splice(_++,0,f),null!==m&&o.splice(_++,0,m)}function Wv(o){return-1!==o}function pa(o){return 32767&o}function Do(o,c){let u=function qv(o){return o>>16}(o),f=c;for(;u>0;)f=f[15],u--;return f}let zh=!0;function Ou(o){const c=zh;return zh=o,c}let Rm=0;const ls={};function ma(o,c){const u=Pu(o,c);if(-1!==u)return u;const f=c[1];f.firstCreatePass&&(o.injectorIndex=c.length,jh(f.data,o),jh(c,null),jh(f.blueprint,null));const m=Cc(o,c),_=o.injectorIndex;if(Wv(m)){const E=pa(m),S=Do(m,c),T=S[1].data;for(let M=0;M<8;M++)c[_+M]=S[E+M]|T[E+M]}return c[_+8]=m,_}function jh(o,c){o.push(0,0,0,0,0,0,0,0,c)}function Pu(o,c){return-1===o.injectorIndex||o.parent&&o.parent.injectorIndex===o.injectorIndex||null===c[o.injectorIndex+8]?-1:o.injectorIndex}function Cc(o,c){if(o.parent&&-1!==o.parent.injectorIndex)return o.parent.injectorIndex;let u=0,f=null,m=c;for(;null!==m;){if(f=Vu(m),null===f)return-1;if(u++,m=m[15],-1!==f.injectorIndex)return f.injectorIndex|u<<16}return-1}function Sc(o,c,u){!function Zv(o,c,u){let f;"string"==typeof u?f=u.charCodeAt(0)||0:u.hasOwnProperty(ti)&&(f=u[ti]),null==f&&(f=u[ti]=Rm++);const m=255&f;c.data[o+(m>>5)]|=1<<m}(o,c,u)}function Nu(o,c,u){if(u&dt.Optional||void 0!==o)return o;Pe()}function ga(o,c,u,f){if(u&dt.Optional&&void 0===f&&(f=null),0==(u&(dt.Self|dt.Host))){const m=o[9],_=Un(void 0);try{return m?m.get(c,f,u&dt.Optional):Tr(c,f,u&dt.Optional)}finally{Un(_)}}return Nu(f,0,u)}function Fu(o,c,u,f=dt.Default,m){if(null!==o){if(1024&c[2]){const E=function Qv(o,c,u,f,m){let _=o,E=c;for(;null!==_&&null!==E&&1024&E[2]&&!(256&E[2]);){const S=Om(_,E,u,f|dt.Self,ls);if(S!==ls)return S;let T=_.parent;if(!T){const M=E[21];if(M){const O=M.get(u,ls,f);if(O!==ls)return O}T=Vu(E),E=E[15]}_=T}return m}(o,c,u,f,ls);if(E!==ls)return E}const _=Om(o,c,u,f,ls);if(_!==ls)return _}return ga(c,u,f,m)}function Om(o,c,u,f,m){const _=function Kv(o){if("string"==typeof o)return o.charCodeAt(0)||0;const c=o.hasOwnProperty(ti)?o[ti]:void 0;return"number"==typeof c?c>=0?255&c:Fm:c}(u);if("function"==typeof _){if(!Bv(c,o,f))return f&dt.Host?Nu(m,0,f):ga(c,u,f,m);try{const E=_(f);if(null!=E||f&dt.Optional)return E;Pe()}finally{Dm()}}else if("number"==typeof _){let E=null,S=Pu(o,c),T=-1,M=f&dt.Host?c[16][6]:null;for((-1===S||f&dt.SkipSelf)&&(T=-1===S?Cc(o,c):c[S+8],-1!==T&&Nm(f,!1)?(E=c[1],S=pa(T),c=Do(T,c)):S=-1);-1!==S;){const O=c[1];if(Lu(_,S,O.data)){const B=Pm(S,c,u,E,f,M);if(B!==ls)return B}T=c[S+8],-1!==T&&Nm(f,c[1].data[S+8]===M)&&Lu(_,S,c)?(E=O,S=pa(T),c=Do(T,c)):S=-1}}return m}function Pm(o,c,u,f,m,_){const E=c[1],S=E.data[o+8],O=Tc(S,E,u,null==f?wo(S)&&zh:f!=E&&0!=(3&S.type),m&dt.Host&&_===S);return null!==O?eo(c,E,O,S):ls}function Tc(o,c,u,f,m){const _=o.providerIndexes,E=c.data,S=1048575&_,T=o.directiveStart,O=_>>20,Z=m?S+O:o.directiveEnd;for(let le=f?S:S+O;le<Z;le++){const De=E[le];if(le<T&&u===De||le>=T&&De.type===u)return le}if(m){const le=E[T];if(le&&ks(le)&&le.type===u)return T}return null}function eo(o,c,u,f){let m=o[u];const _=c.data;if(function Bh(o){return o instanceof Gr}(m)){const E=m;E.resolving&&function mt(o,c){const u=c?`. Dependency path: ${c.join(" > ")} > ${o}`:"";throw new Le(-200,`Circular dependency in DI detected for ${o}${u}`)}(function Se(o){return"function"==typeof o?o.name||o.toString():"object"==typeof o&&null!=o&&"function"==typeof o.type?o.type.name||o.type.toString():me(o)}(_[u]));const S=Ou(E.canSeeViewProviders);E.resolving=!0;const T=E.injectImpl?Un(E.injectImpl):null;Bv(o,f,dt.Default);try{m=o[u]=E.factory(void 0,_,o,f),c.firstCreatePass&&u>=f.directiveStart&&function Mu(o,c,u){const{ngOnChanges:f,ngOnInit:m,ngDoCheck:_}=c.type.prototype;if(f){const E=Em(c);(u.preOrderHooks||(u.preOrderHooks=[])).push(o,E),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(o,E)}m&&(u.preOrderHooks||(u.preOrderHooks=[])).push(0-o,m),_&&((u.preOrderHooks||(u.preOrderHooks=[])).push(o,_),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(o,_))}(u,_[u],c)}finally{null!==T&&Un(T),Ou(S),E.resolving=!1,Dm()}}return m}function Lu(o,c,u){return!!(u[c+(o>>5)]&1<<o)}function Nm(o,c){return!(o&dt.Self||o&dt.Host&&c)}class Dc{constructor(c,u){this._tNode=c,this._lView=u}get(c,u,f){return Fu(this._tNode,this._lView,c,f,u)}}function Fm(){return new Dc(Di(),Be())}function Ao(o){return $n(()=>{const c=o.prototype.constructor,u=c[Hi]||Bu(c),f=Object.prototype;let m=Object.getPrototypeOf(o.prototype).constructor;for(;m&&m!==f;){const _=m[Hi]||Bu(m);if(_&&_!==u)return _;m=Object.getPrototypeOf(m)}return _=>new _})}function Bu(o){return Xe(o)?()=>{const c=Bu(re(o));return c&&c()}:zi(o)}function Vu(o){const c=o[1],u=c.type;return 2===u?c.declTNode:1===u?o[6]:null}function Uu(o){return function Ic(o,c){if("class"===c)return o.classes;if("style"===c)return o.styles;const u=o.attrs;if(u){const f=u.length;let m=0;for(;m<f;){const _=u[m];if($h(_))break;if(0===_)m+=2;else if("number"==typeof _)for(m++;m<f&&"string"==typeof u[m];)m++;else{if(_===c)return u[m+1];m+=2}}}return null}(Di(),o)}const Ac="__parameters__";function xc(o,c,u){return $n(()=>{const f=function Lm(o){return function(...u){if(o){const f=o(...u);for(const m in f)this[m]=f[m]}}}(c);function m(..._){if(this instanceof m)return f.apply(this,_),this;const E=new m(..._);return S.annotation=E,S;function S(T,M,O){const B=T.hasOwnProperty(Ac)?T[Ac]:Object.defineProperty(T,Ac,{value:[]})[Ac];for(;B.length<=O;)B.push(null);return(B[O]=B[O]||[]).push(E),T}}return u&&(m.prototype=Object.create(u.prototype)),m.prototype.ngMetadataName=o,m.annotationCls=m,m})}class Rn{constructor(c,u){this._desc=c,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=pn({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function On(o,c){void 0===c&&(c=o);for(let u=0;u<o.length;u++){let f=o[u];Array.isArray(f)?(c===o&&(c=o.slice(0,u)),On(f,c)):c!==o&&c.push(f)}return c}function to(o,c){o.forEach(u=>Array.isArray(u)?to(u,c):c(u))}function ya(o,c,u){c>=o.length?o.push(u):o.splice(c,0,u)}function Pn(o,c){return c>=o.length-1?o.pop():o.splice(c,1)[0]}function va(o,c){const u=[];for(let f=0;f<o;f++)u.push(c);return u}function rt(o,c,u){let f=Mo(o,c);return f>=0?o[1|f]=u:(f=~f,function eb(o,c,u,f){let m=o.length;if(m==c)o.push(u,f);else if(1===m)o.push(f,o[0]),o[0]=u;else{for(m--,o.push(o[m-1],o[m]);m>c;)o[m]=o[m-2],m--;o[c]=u,o[c+1]=f}}(o,f,c,u)),f}function qh(o,c){const u=Mo(o,c);if(u>=0)return o[1|u]}function Mo(o,c){return function Zh(o,c,u){let f=0,m=o.length>>u;for(;m!==f;){const _=f+(m-f>>1),E=o[_<<u];if(c===E)return _<<u;E>c?m=_:f=_+1}return~(m<<u)}(o,c,1)}const no={},Jh="__NG_DI_FLAG__",ji="ngTempTokenPath",Ns=/\n/gm,Zn="__source";let Oo;function Po(o){const c=Oo;return Oo=o,c}function Nn(o,c=dt.Default){if(void 0===Oo)throw new Le(-203,!1);return null===Oo?Tr(o,void 0,c):Oo.get(o,c&dt.Optional?null:void 0,c)}function Wt(o,c=dt.Default){return(function Ii(){return Pi}()||Nn)(re(o),c)}function An(o,c=dt.Default){return"number"!=typeof c&&(c=0|(c.optional&&8)|(c.host&&1)|(c.self&&2)|(c.skipSelf&&4)),Wt(o,c)}function fi(o){const c=[];for(let u=0;u<o.length;u++){const f=re(o[u]);if(Array.isArray(f)){if(0===f.length)throw new Le(900,!1);let m,_=dt.Default;for(let E=0;E<f.length;E++){const S=f[E],T=Hm(S);"number"==typeof T?-1===T?m=S.token:_|=T:m=S}c.push(Wt(m,_))}else c.push(Wt(f))}return c}function Fs(o,c){return o[Jh]=c,o.prototype[Jh]=c,o}function Hm(o){return o[Jh]}const kn=Fs(xc("Optional"),8),Ca=Fs(xc("SkipSelf"),4);let rf,Rc;function Wm(o){rf=o}function ro(o){return function zu(){if(void 0===Rc&&(Rc=null,$t.trustedTypes))try{Rc=$t.trustedTypes.createPolicy("angular",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return Rc}()?.createHTML(o)||o}class Ta{constructor(c){this.changingThisBreaksApplicationSecurity=c}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class ul extends Ta{getTypeName(){return"HTML"}}class Pc extends Ta{getTypeName(){return"Style"}}class af extends Ta{getTypeName(){return"Script"}}class Gu extends Ta{getTypeName(){return"URL"}}class lf extends Ta{getTypeName(){return"ResourceURL"}}function hs(o){return o instanceof Ta?o.changingThisBreaksApplicationSecurity:o}function Bs(o,c){const u=function cf(o){return o instanceof Ta&&o.getTypeName()||null}(o);if(null!=u&&u!==c){if("ResourceURL"===u&&"URL"===c)return!0;throw new Error(`Required a safe ${c}, got a ${u} (see https://g.co/ng/security#xss)`)}return u===c}function Ym(o){return new ul(o)}function rb(o){return new Pc(o)}function sb(o){return new af(o)}function ob(o){return new Gu(o)}function Wu(o){return new lf(o)}class ab{constructor(c){this.inertDocumentHelper=c}getInertBodyElement(c){c="<body><remove></remove>"+c;try{const u=(new window.DOMParser).parseFromString(ro(c),"text/html").body;return null===u?this.inertDocumentHelper.getInertBodyElement(c):(u.removeChild(u.firstChild),u)}catch{return null}}}class lb{constructor(c){if(this.defaultDoc=c,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const u=this.inertDocument.createElement("html");this.inertDocument.appendChild(u);const f=this.inertDocument.createElement("body");u.appendChild(f)}}getInertBodyElement(c){const u=this.inertDocument.createElement("template");if("content"in u)return u.innerHTML=ro(c),u;const f=this.inertDocument.createElement("body");return f.innerHTML=ro(c),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(f),f}stripCustomNsAttrs(c){const u=c.attributes;for(let m=u.length-1;0<m;m--){const E=u.item(m).name;("xmlns:ns1"===E||0===E.indexOf("ns1:"))&&c.removeAttribute(E)}let f=c.firstChild;for(;f;)f.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(f),f=f.nextSibling}}const y=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function b(o){return(o=String(o)).match(y)?o:"unsafe:"+o}function I(o){const c={};for(const u of o.split(","))c[u]=!0;return c}function R(...o){const c={};for(const u of o)for(const f in u)u.hasOwnProperty(f)&&(c[f]=!0);return c}const N=I("area,br,col,hr,img,wbr"),se=I("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),xe=I("rp,rt"),bn=R(N,R(se,I("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),R(xe,I("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),R(xe,se)),Gi=I("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Yu=R(Gi,I("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),I("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Zu=I("script,style,template");class Da{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(c){let u=c.firstChild,f=!0;for(;u;)if(u.nodeType===Node.ELEMENT_NODE?f=this.startElement(u):u.nodeType===Node.TEXT_NODE?this.chars(u.nodeValue):this.sanitizedSomething=!0,f&&u.firstChild)u=u.firstChild;else for(;u;){u.nodeType===Node.ELEMENT_NODE&&this.endElement(u);let m=this.checkClobberedElement(u,u.nextSibling);if(m){u=m;break}u=this.checkClobberedElement(u,u.parentNode)}return this.buf.join("")}startElement(c){const u=c.nodeName.toLowerCase();if(!bn.hasOwnProperty(u))return this.sanitizedSomething=!0,!Zu.hasOwnProperty(u);this.buf.push("<"),this.buf.push(u);const f=c.attributes;for(let m=0;m<f.length;m++){const _=f.item(m),E=_.name,S=E.toLowerCase();if(!Yu.hasOwnProperty(S)){this.sanitizedSomething=!0;continue}let T=_.value;Gi[S]&&(T=b(T)),this.buf.push(" ",E,'="',Ku(T),'"')}return this.buf.push(">"),!0}endElement(c){const u=c.nodeName.toLowerCase();bn.hasOwnProperty(u)&&!N.hasOwnProperty(u)&&(this.buf.push("</"),this.buf.push(u),this.buf.push(">"))}chars(c){this.buf.push(Ku(c))}checkClobberedElement(c,u){if(u&&(c.compareDocumentPosition(u)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${c.outerHTML}`);return u}}const Zm=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,df=/([^\#-~ |!])/g;function Ku(o){return o.replace(/&/g,"&amp;").replace(Zm,function(c){return"&#"+(1024*(c.charCodeAt(0)-55296)+(c.charCodeAt(1)-56320)+65536)+";"}).replace(df,function(c){return"&#"+c.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Nc;function dl(o,c){let u=null;try{Nc=Nc||function uf(o){const c=new lb(o);return function C(){try{return!!(new window.DOMParser).parseFromString(ro(""),"text/html")}catch{return!1}}()?new ab(c):c}(o);let f=c?String(c):"";u=Nc.getInertBodyElement(f);let m=5,_=f;do{if(0===m)throw new Error("Failed to sanitize html because the input is unstable");m--,f=_,_=u.innerHTML,u=Nc.getInertBodyElement(f)}while(f!==_);return ro((new Da).sanitizeChildren(No(u)||u))}finally{if(u){const f=No(u)||u;for(;f.firstChild;)f.removeChild(f.firstChild)}}}function No(o){return"content"in o&&function cb(o){return o.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===o.nodeName}(o)?o.content:null}var Bn=(()=>((Bn=Bn||{})[Bn.NONE=0]="NONE",Bn[Bn.HTML=1]="HTML",Bn[Bn.STYLE=2]="STYLE",Bn[Bn.SCRIPT=3]="SCRIPT",Bn[Bn.URL=4]="URL",Bn[Bn.RESOURCE_URL=5]="RESOURCE_URL",Bn))();function Km(o){const c=function hf(){const o=Be();return o&&o[12]}();return c?c.sanitize(Bn.URL,o)||"":Bs(o,"URL")?hs(o):b(me(o))}const hb=new Rn("ENVIRONMENT_INITIALIZER"),bS=new Rn("INJECTOR",-1),ES=new Rn("INJECTOR_DEF_TYPES");class wS{get(c,u=no){if(u===no){const f=new Error(`NullInjectorError: No provider for ${ke(c)}!`);throw f.name="NullInjectorError",f}return u}}function JM(...o){return{\u0275providers:CS(0,o)}}function CS(o,...c){const u=[],f=new Set;let m;return to(c,_=>{const E=_;Xm(E,u,[],f)&&(m||(m=[]),m.push(E))}),void 0!==m&&fb(m,u),u}function fb(o,c){for(let u=0;u<o.length;u++){const{providers:m}=o[u];to(m,_=>{c.push(_)})}}function Xm(o,c,u,f){if(!(o=re(o)))return!1;let m=null,_=xs(o);const E=!_&&P(o);if(_||E){if(E&&!E.standalone)return!1;m=o}else{const T=o.ngModule;if(_=xs(T),!_)return!1;m=T}const S=f.has(m);if(E){if(S)return!1;if(f.add(m),E.dependencies){const T="function"==typeof E.dependencies?E.dependencies():E.dependencies;for(const M of T)Xm(M,c,u,f)}}else{if(!_)return!1;{if(null!=_.imports&&!S){let M;f.add(m);try{to(_.imports,O=>{Xm(O,c,u,f)&&(M||(M=[]),M.push(O))})}finally{}void 0!==M&&fb(M,c)}if(!S){const M=zi(m)||(()=>new m);c.push({provide:m,useFactory:M,deps:Nt},{provide:ES,useValue:m,multi:!0},{provide:hb,useValue:()=>Wt(m),multi:!0})}const T=_.providers;null==T||S||to(T,O=>{c.push(O)})}}return m!==o&&void 0!==o.providers}const SS=Oe({provide:String,useValue:Oe});function ff(o){return null!==o&&"object"==typeof o&&SS in o}function Vs(o){return"function"==typeof o}const eg=new Rn("Set Injector scope."),tg={},hl={};let ng;function ig(){return void 0===ng&&(ng=new wS),ng}class Bo{}class pb extends Bo{constructor(c,u,f,m){super(),this.parent=u,this.source=f,this.scopes=m,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,sg(c,E=>this.processProvider(E)),this.records.set(bS,Qu(void 0,this)),m.has("environment")&&this.records.set(Bo,Qu(void 0,this));const _=this.records.get(eg);null!=_&&"string"==typeof _.value&&this.scopes.add(_.value),this.injectorDefTypes=new Set(this.get(ES.multi,Nt,dt.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const c of this._ngOnDestroyHooks)c.ngOnDestroy();for(const c of this._onDestroyHooks)c()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(c){this._onDestroyHooks.push(c)}runInContext(c){this.assertNotDestroyed();const u=Po(this),f=Un(void 0);try{return c()}finally{Po(u),Un(f)}}get(c,u=no,f=dt.Default){this.assertNotDestroyed();const m=Po(this),_=Un(void 0);try{if(!(f&dt.SkipSelf)){let S=this.records.get(c);if(void 0===S){const T=function tk(o){return"function"==typeof o||"object"==typeof o&&o instanceof Rn}(c)&&er(c);S=T&&this.injectableDefInScope(T)?Qu(pf(c),tg):null,this.records.set(c,S)}if(null!=S)return this.hydrate(c,S)}return(f&dt.Self?ig():this.parent).get(c,u=f&dt.Optional&&u===no?null:u)}catch(E){if("NullInjectorError"===E.name){if((E[ji]=E[ji]||[]).unshift(ke(c)),m)throw E;return function tb(o,c,u,f){const m=o[ji];throw c[Zn]&&m.unshift(c[Zn]),o.message=function us(o,c,u,f=null){o=o&&"\n"===o.charAt(0)&&"\u0275"==o.charAt(1)?o.slice(2):o;let m=ke(c);if(Array.isArray(c))m=c.map(ke).join(" -> ");else if("object"==typeof c){let _=[];for(let E in c)if(c.hasOwnProperty(E)){let S=c[E];_.push(E+":"+("string"==typeof S?JSON.stringify(S):ke(S)))}m=`{${_.join(", ")}}`}return`${u}${f?"("+f+")":""}[${m}]: ${o.replace(Ns,"\n  ")}`}("\n"+o.message,m,u,f),o.ngTokenPath=m,o[ji]=null,o}(E,c,"R3InjectorError",this.source)}throw E}finally{Un(_),Po(m)}}resolveInjectorInitializers(){const c=Po(this),u=Un(void 0);try{const f=this.get(hb.multi,Nt,dt.Self);for(const m of f)m()}finally{Po(c),Un(u)}}toString(){const c=[],u=this.records;for(const f of u.keys())c.push(ke(f));return`R3Injector[${c.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Le(205,!1)}processProvider(c){let u=Vs(c=re(c))?c:re(c&&c.provide);const f=function mb(o){return ff(o)?Qu(void 0,o.useValue):Qu(rg(o),tg)}(c);if(Vs(c)||!0!==c.multi)this.records.get(u);else{let m=this.records.get(u);m||(m=Qu(void 0,tg,!0),m.factory=()=>fi(m.multi),this.records.set(u,m)),u=c,m.multi.push(c)}this.records.set(u,f)}hydrate(c,u){return u.value===tg&&(u.value=hl,u.value=u.factory()),"object"==typeof u.value&&u.value&&function ek(o){return null!==o&&"object"==typeof o&&"function"==typeof o.ngOnDestroy}(u.value)&&this._ngOnDestroyHooks.add(u.value),u.value}injectableDefInScope(c){if(!c.providedIn)return!1;const u=re(c.providedIn);return"string"==typeof u?"any"===u||this.scopes.has(u):this.injectorDefTypes.has(u)}}function pf(o){const c=er(o),u=null!==c?c.factory:zi(o);if(null!==u)return u;if(o instanceof Rn)throw new Le(204,!1);if(o instanceof Function)return function TS(o){const c=o.length;if(c>0)throw va(c,"?"),new Le(204,!1);const u=function oi(o){const c=o&&(o[hr]||o[Ks]);if(c){const u=function Zs(o){if(o.hasOwnProperty("name"))return o.name;const c=(""+o).match(/^function\s*([^\s(]+)/);return null===c?"":c[1]}(o);return console.warn(`DEPRECATED: DI is instantiating a token "${u}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${u}" class.`),c}return null}(o);return null!==u?()=>u.factory(o):()=>new o}(o);throw new Le(204,!1)}function rg(o,c,u){let f;if(Vs(o)){const m=re(o);return zi(m)||pf(m)}if(ff(o))f=()=>re(o.useValue);else if(function Lo(o){return!(!o||!o.useFactory)}(o))f=()=>o.useFactory(...fi(o.deps||[]));else if(function Jm(o){return!(!o||!o.useExisting)}(o))f=()=>Wt(re(o.useExisting));else{const m=re(o&&(o.useClass||o.provide));if(!function mf(o){return!!o.deps}(o))return zi(m)||pf(m);f=()=>new m(...fi(o.deps))}return f}function Qu(o,c,u=!1){return{factory:o,value:c,multi:u?[]:void 0}}function gb(o){return!!o.\u0275providers}function sg(o,c){for(const u of o)Array.isArray(u)?sg(u,c):gb(u)?sg(u.\u0275providers,c):c(u)}class _b{}class ag{resolveComponentFactory(c){throw function AS(o){const c=Error(`No component factory found for ${ke(o)}. Did you add it to @NgModule.entryComponents?`);return c.ngComponent=o,c}(c)}}let Lc=(()=>{class o{}return o.NULL=new ag,o})();function nk(){return Xu(Di(),Be())}function Xu(o,c){return new fl(mr(o,c))}let fl=(()=>{class o{constructor(u){this.nativeElement=u}}return o.__NG_ELEMENT_ID__=nk,o})();function MS(o){return o instanceof fl?o.nativeElement:o}class ik{}let wV=(()=>{class o{}return o.__NG_ELEMENT_ID__=()=>function CV(){const o=Be(),u=vn(Di().index,o);return(Ni(u)?u:o)[11]}(),o})(),yb=(()=>{class o{}return o.\u0275prov=pn({token:o,providedIn:"root",factory:()=>null}),o})();class kS{constructor(c){this.full=c,this.major=c.split(".")[0],this.minor=c.split(".")[1],this.patch=c.split(".").slice(2).join(".")}}const RS=new kS("14.2.10"),vb={};function Ib(o){return o.ngOriginalError}class yf{constructor(){this._console=console}handleError(c){const u=this._findOriginalError(c);this._console.error("ERROR",c),u&&this._console.error("ORIGINAL ERROR",u)}_findOriginalError(c){let u=c&&Ib(c);for(;u&&Ib(u);)u=Ib(u);return u||null}}const Tb=new Map;let uk=0;const fg="__ngContext__";function Wi(o,c){Ni(c)?(o[fg]=c[20],function hk(o){Tb.set(o[20],o)}(c)):o[fg]=c}function Aa(o){return o instanceof Function?o():o}var Vo=(()=>((Vo=Vo||{})[Vo.Important=1]="Important",Vo[Vo.DashCase=2]="DashCase",Vo))();function kb(o,c){return undefined(o,c)}function id(o){const c=o[3];return xr(c)?c[3]:c}function gg(o){return jS(o[13])}function _g(o){return jS(o[4])}function jS(o){for(;null!==o&&!xr(o);)o=o[4];return o}function rd(o,c,u,f,m){if(null!=f){let _,E=!1;xr(f)?_=f:Ni(f)&&(E=!0,f=f[0]);const S=ni(f);0===o&&null!==u?null==m?QS(c,u,S):Uo(c,u,S,m||null,!0):1===o&&null!==u?Uo(c,u,S,m||null,!0):2===o?function Tk(o,c,u){const f=bg(o,c);f&&function Ik(o,c,u,f){o.removeChild(c,u,f)}(o,f,c,u)}(c,S,E):3===o&&c.destroyNode(S),null!=_&&function OV(o,c,u,f,m){const _=u[7];_!==ni(u)&&rd(c,o,f,_,m);for(let S=10;S<u.length;S++){const T=u[S];Bc(T[1],T,o,c,f,_)}}(c,o,_,u,m)}}function yg(o,c,u){return o.createElement(c,u)}function YS(o,c){const u=o[9],f=u.indexOf(c),m=c[3];512&c[2]&&(c[2]&=-513,mc(m,-1)),u.splice(f,1)}function Nb(o,c){if(o.length<=10)return;const u=10+c,f=o[u];if(f){const m=f[17];null!==m&&m!==o&&YS(m,f),c>0&&(o[u-1][4]=f[4]);const _=Pn(o,10+c);!function Pb(o,c){Bc(o,c,c[11],2,null,null),c[0]=null,c[6]=null}(f[1],f);const E=_[19];null!==E&&E.detachView(_[1]),f[3]=null,f[4]=null,f[2]&=-65}return f}function Ef(o,c){if(!(128&c[2])){const u=c[11];u.destroyNode&&Bc(o,c,u,3,null,null),function kV(o){let c=o[13];if(!c)return vg(o[1],o);for(;c;){let u=null;if(Ni(c))u=c[13];else{const f=c[10];f&&(u=f)}if(!u){for(;c&&!c[4]&&c!==o;)Ni(c)&&vg(c[1],c),c=c[3];null===c&&(c=o),Ni(c)&&vg(c[1],c),u=c&&c[4]}c=u}}(c)}}function vg(o,c){if(!(128&c[2])){c[2]&=-65,c[2]|=128,function Lb(o,c){let u;if(null!=o&&null!=(u=o.destroyHooks))for(let f=0;f<u.length;f+=2){const m=c[u[f]];if(!(m instanceof Gr)){const _=u[f+1];if(Array.isArray(_))for(let E=0;E<_.length;E+=2){const S=m[_[E]],T=_[E+1];try{T.call(S)}finally{}}else try{_.call(m)}finally{}}}}(o,c),function Fb(o,c){const u=o.cleanup,f=c[7];let m=-1;if(null!==u)for(let _=0;_<u.length-1;_+=2)if("string"==typeof u[_]){const E=u[_+1],S="function"==typeof E?E(c):ni(c[E]),T=f[m=u[_+2]],M=u[_+3];"boolean"==typeof M?S.removeEventListener(u[_],T,M):M>=0?f[m=M]():f[m=-M].unsubscribe(),_+=2}else{const E=f[m=u[_+1]];u[_].call(E)}if(null!==f){for(let _=m+1;_<f.length;_++)(0,f[_])();c[7]=null}}(o,c),1===c[1].type&&c[11].destroy();const u=c[17];if(null!==u&&xr(c[3])){u!==c[3]&&YS(u,c);const f=c[19];null!==f&&f.detachView(o)}!function fk(o){Tb.delete(o[20])}(c)}}function ZS(o,c,u){return function KS(o,c,u){let f=c;for(;null!==f&&40&f.type;)f=(c=f).parent;if(null===f)return u[0];if(2&f.flags){const m=o.data[f.directiveStart].encapsulation;if(m===St.None||m===St.Emulated)return null}return mr(f,u)}(o,c.parent,u)}function Uo(o,c,u,f,m){o.insertBefore(c,u,f,m)}function QS(o,c,u){o.appendChild(c,u)}function XS(o,c,u,f,m){null!==f?Uo(o,c,u,f,m):QS(o,c,u)}function bg(o,c){return o.parentNode(c)}function Li(o,c,u){return Bb(o,c,u)}let Bb=function eI(o,c,u){return 40&o.type?mr(o,u):null};function wg(o,c,u,f){const m=ZS(o,f,c),_=c[11],S=Li(f.parent||c[6],f,c);if(null!=m)if(Array.isArray(u))for(let T=0;T<u.length;T++)XS(_,m,u[T],S,!1);else XS(_,m,u,S,!1)}function Cg(o,c){if(null!==c){const u=c.type;if(3&u)return mr(c,o);if(4&u)return tI(-1,o[c.index]);if(8&u){const f=c.child;if(null!==f)return Cg(o,f);{const m=o[c.index];return xr(m)?tI(-1,m):ni(m)}}if(32&u)return kb(c,o)()||ni(o[c.index]);{const f=Vb(o,c);return null!==f?Array.isArray(f)?f[0]:Cg(id(o[16]),f):Cg(o,c.next)}}return null}function Vb(o,c){return null!==c?o[16][6].projection[c.projection]:null}function tI(o,c){const u=10+o+1;if(u<c.length){const f=c[u],m=f[1].firstChild;if(null!==m)return Cg(f,m)}return c[7]}function Ub(o,c,u,f,m,_,E){for(;null!=u;){const S=f[u.index],T=u.type;if(E&&0===c&&(S&&Wi(ni(S),f),u.flags|=4),64!=(64&u.flags))if(8&T)Ub(o,c,u.child,f,m,_,!1),rd(c,o,m,S,_);else if(32&T){const M=kb(u,f);let O;for(;O=M();)rd(c,o,m,O,_);rd(c,o,m,S,_)}else 16&T?wf(o,c,f,u,m,_):rd(c,o,m,S,_);u=E?u.projectionNext:u.next}}function Bc(o,c,u,f,m,_){Ub(u,f,o.firstChild,c,m,_,!1)}function wf(o,c,u,f,m,_){const E=u[16],T=E[6].projection[f.projection];if(Array.isArray(T))for(let M=0;M<T.length;M++)rd(c,o,m,T[M],_);else Ub(o,c,T,E[3],m,_,!0)}function Vc(o,c,u){o.setAttribute(c,"style",u)}function Cf(o,c,u){""===u?o.removeAttribute(c,"class"):o.setAttribute(c,"class",u)}function Dk(o,c,u){let f=o.length;for(;;){const m=o.indexOf(c,u);if(-1===m)return m;if(0===m||o.charCodeAt(m-1)<=32){const _=c.length;if(m+_===f||o.charCodeAt(m+_)<=32)return m}u=m+1}}const $b="ng-template";function Hb(o,c,u){let f=0;for(;f<o.length;){let m=o[f++];if(u&&"class"===m){if(m=o[f],-1!==Dk(m.toLowerCase(),c,0))return!0}else if(1===m){for(;f<o.length&&"string"==typeof(m=o[f++]);)if(m.toLowerCase()===c)return!0;return!1}}return!1}function rI(o){return 4===o.type&&o.value!==$b}function xk(o,c,u){return c===(4!==o.type||u?o.value:$b)}function Mk(o,c,u){let f=4;const m=o.attrs||[],_=function PV(o){for(let c=0;c<o.length;c++)if($h(o[c]))return c;return o.length}(m);let E=!1;for(let S=0;S<c.length;S++){const T=c[S];if("number"!=typeof T){if(!E)if(4&f){if(f=2|1&f,""!==T&&!xk(o,T,u)||""===T&&1===c.length){if($s(f))return!1;E=!0}}else{const M=8&f?T:c[++S];if(8&f&&null!==o.attrs){if(!Hb(o.attrs,M,u)){if($s(f))return!1;E=!0}continue}const B=kk(8&f?"class":T,m,rI(o),u);if(-1===B){if($s(f))return!1;E=!0;continue}if(""!==M){let Z;Z=B>_?"":m[B+1].toLowerCase();const le=8&f?Z:null;if(le&&-1!==Dk(le,M,0)||2&f&&M!==Z){if($s(f))return!1;E=!0}}}}else{if(!E&&!$s(f)&&!$s(T))return!1;if(E&&$s(T))continue;E=!1,f=T|1&f}}return $s(f)||E}function $s(o){return 0==(1&o)}function kk(o,c,u,f){if(null===c)return-1;let m=0;if(f||!u){let _=!1;for(;m<c.length;){const E=c[m];if(E===o)return m;if(3===E||6===E)_=!0;else{if(1===E||2===E){let S=c[++m];for(;"string"==typeof S;)S=c[++m];continue}if(4===E)break;if(0===E){m+=4;continue}}m+=_?1:2}return-1}return function sI(o,c){let u=o.indexOf(4);if(u>-1)for(u++;u<o.length;){const f=o[u];if("number"==typeof f)return-1;if(f===c)return u;u++}return-1}(c,o)}function Rk(o,c,u=!1){for(let f=0;f<c.length;f++)if(Mk(o,c[f],u))return!0;return!1}function Ok(o,c){e:for(let u=0;u<c.length;u++){const f=c[u];if(o.length===f.length){for(let m=0;m<o.length;m++)if(o[m]!==f[m])continue e;return!0}}return!1}function oI(o,c){return o?":not("+c.trim()+")":c}function zb(o){let c=o[0],u=1,f=2,m="",_=!1;for(;u<o.length;){let E=o[u];if("string"==typeof E)if(2&f){const S=o[++u];m+="["+E+(S.length>0?'="'+S+'"':"")+"]"}else 8&f?m+="."+E:4&f&&(m+=" "+E);else""!==m&&!$s(E)&&(c+=oI(_,m),m=""),f=E,_=_||!$s(f);u++}return""!==m&&(c+=oI(_,m)),c}const qt={};function aI(o){lI(sn(),Be(),qn()+o,!1)}function lI(o,c,u,f){if(!f)if(3==(3&c[2])){const _=o.preOrderCheckHooks;null!==_&&bc(c,_,u)}else{const _=o.preOrderHooks;null!==_&&fa(c,_,0,u)}Xs(u)}function _r(o,c=null,u=null,f){const m=Uc(o,c,u,f);return m.resolveInjectorInitializers(),m}function Uc(o,c=null,u=null,f,m=new Set){const _=[u||Nt,JM(o)];return f=f||("object"==typeof o?void 0:ke(o)),new pb(_,c||ig(),f||null,m)}let ml=(()=>{class o{static create(u,f){if(Array.isArray(u))return _r({name:""},f,u,"");{const m=u.name??"";return _r({name:m},u.parent,u.providers,m)}}}return o.THROW_IF_NOT_FOUND=no,o.NULL=new wS,o.\u0275prov=pn({token:o,providedIn:"any",factory:()=>Wt(bS)}),o.__NG_ELEMENT_ID__=-1,o})();function $c(o,c=dt.Default){const u=Be();return null===u?Wt(o,c):Fu(Di(),u,re(o),c)}function yI(){throw new Error("invalid")}function Tf(o,c){return o<<17|c<<2}function oo(o){return o>>17&32767}function xg(o){return 2|o}function xa(o){return(131068&o)>>2}function Kb(o,c){return-131069&o|c<<2}function Df(o){return 1|o}function Og(o,c){const u=o.contentQueries;if(null!==u)for(let f=0;f<u.length;f+=2){const m=u[f],_=u[f+1];if(-1!==_){const E=o.data[_];Rh(m),E.contentQueries(2,c[_],_)}}}function Pg(o,c,u,f,m,_,E,S,T,M,O){const B=c.blueprint.slice();return B[0]=m,B[2]=76|f,(null!==O||o&&1024&o[2])&&(B[2]|=1024),pc(B),B[3]=B[15]=o,B[8]=u,B[10]=E||o&&o[10],B[11]=S||o&&o[11],B[12]=T||o&&o[12]||null,B[9]=M||o&&o[9]||null,B[6]=_,B[20]=function dk(){return uk++}(),B[21]=O,B[16]=2==c.type?o[16]:B,B}function wl(o,c,u,f,m){let _=o.data[c];if(null===_)_=function Ng(o,c,u,f,m){const _=Iu(),E=Ah(),T=o.data[c]=function NI(o,c,u,f,m,_){return{type:u,index:f,insertBeforeIndex:null,injectorIndex:c?c.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:m,attrs:_,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:c,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,E?_:_&&_.parent,u,c,f,m);return null===o.firstChild&&(o.firstChild=T),null!==_&&(E?null==_.child&&null!==T.parent&&(_.child=T):null===_.next&&(_.next=T)),T}(o,c,u,f,m),function Im(){return Vt.lFrame.inI18n}()&&(_.flags|=64);else if(64&_.type){_.type=u,_.value=f,_.attrs=m;const E=function Tu(){const o=Vt.lFrame,c=o.currentTNode;return o.isParent?c:c.parent}();_.injectorIndex=null===E?-1:E.injectorIndex}return jr(_,!0),_}function ud(o,c,u,f){if(0===u)return-1;const m=c.length;for(let _=0;_<u;_++)c.push(f),o.blueprint.push(f),o.data.push(null);return m}function s0(o,c,u){xu(c);try{const f=o.viewQuery;null!==f&&f0(1,f,u);const m=o.template;null!==m&&OI(o,c,m,1,u),o.firstCreatePass&&(o.firstCreatePass=!1),o.staticContentQueries&&Og(o,c),o.staticViewQueries&&f0(2,o.viewQuery,u);const _=o.components;null!==_&&function WV(o,c){for(let u=0;u<c.length;u++)cR(o,c[u])}(c,_)}catch(f){throw o.firstCreatePass&&(o.incompleteFirstPass=!0,o.firstCreatePass=!1),f}finally{c[2]&=-5,tl()}}function Fg(o,c,u,f){const m=c[2];if(128!=(128&m)){xu(c);try{pc(c),function _c(o){return Vt.lFrame.bindingIndex=o}(o.bindingStartIndex),null!==u&&OI(o,c,u,2,f);const E=3==(3&m);if(E){const M=o.preOrderCheckHooks;null!==M&&bc(c,M,null)}else{const M=o.preOrderHooks;null!==M&&fa(c,M,0,null),Fh(c,0)}if(function aR(o){for(let c=gg(o);null!==c;c=_g(c)){if(!c[2])continue;const u=c[9];for(let f=0;f<u.length;f++){const m=u[f],_=m[3];0==(512&m[2])&&mc(_,1),m[2]|=512}}}(c),function oR(o){for(let c=gg(o);null!==c;c=_g(c))for(let u=10;u<c.length;u++){const f=c[u],m=f[1];Io(f)&&Fg(m,f,m.template,f[8])}}(c),null!==o.contentQueries&&Og(o,c),E){const M=o.contentCheckHooks;null!==M&&bc(c,M)}else{const M=o.contentHooks;null!==M&&fa(c,M,1),Fh(c,1)}!function jV(o,c){const u=o.hostBindingOpCodes;if(null!==u)try{for(let f=0;f<u.length;f++){const m=u[f];if(m<0)Xs(~m);else{const _=m,E=u[++f],S=u[++f];Tm(E,_),S(2,c[_])}}}finally{Xs(-1)}}(o,c);const S=o.components;null!==S&&function GV(o,c){for(let u=0;u<c.length;u++)lR(o,c[u])}(c,S);const T=o.viewQuery;if(null!==T&&f0(2,T,f),E){const M=o.viewCheckHooks;null!==M&&bc(c,M)}else{const M=o.viewHooks;null!==M&&fa(c,M,2),Fh(c,2)}!0===o.firstUpdatePass&&(o.firstUpdatePass=!1),c[2]&=-41,512&c[2]&&(c[2]&=-513,mc(c[3],-1))}finally{tl()}}}function OI(o,c,u,f,m){const _=qn(),E=2&f;try{Xs(-1),E&&c.length>22&&lI(o,c,22,!1),u(f,m)}finally{Xs(_)}}function Lg(o,c,u){if(os(c)){const m=c.directiveEnd;for(let _=c.directiveStart;_<m;_++){const E=o.data[_];E.contentQueries&&E.contentQueries(1,u[_],_)}}}function Bg(o,c,u){!gc()||(function KV(o,c,u,f){const m=u.directiveStart,_=u.directiveEnd;o.firstCreatePass||ma(u,c),Wi(f,c);const E=u.initialInputs;for(let S=m;S<_;S++){const T=o.data[S],M=ks(T);M&&rR(c,u,T);const O=eo(c,o,S,u);Wi(O,c),null!==E&&sR(0,S-m,O,T,0,E),M&&(vn(u.index,c)[8]=O)}}(o,c,u,mr(u,c)),128==(128&u.flags)&&function $g(o,c,u){const f=u.directiveStart,m=u.directiveEnd,_=u.index,E=function dS(){return Vt.lFrame.currentDirectiveIndex}();try{Xs(_);for(let S=f;S<m;S++){const T=o.data[S],M=c[S];Au(S),(null!==T.hostBindings||0!==T.hostVars||null!==T.hostAttrs)&&eR(T,M)}}finally{Xs(-1),Au(E)}}(o,c,u))}function o0(o,c,u=mr){const f=c.localNames;if(null!==f){let m=c.index+1;for(let _=0;_<f.length;_+=2){const E=f[_+1],S=-1===E?u(c,o):o[E];o[m++]=S}}}function a0(o){const c=o.tView;return null===c||c.incompleteFirstPass?o.tView=l0(1,null,o.template,o.decls,o.vars,o.directiveDefs,o.pipeDefs,o.viewQuery,o.schemas,o.consts):c}function l0(o,c,u,f,m,_,E,S,T,M){const O=22+f,B=O+m,Z=function Zr(o,c){const u=[];for(let f=0;f<c;f++)u.push(f<o?null:qt);return u}(O,B),le="function"==typeof M?M():M;return Z[1]={type:o,blueprint:Z,template:u,queries:null,viewQuery:S,declTNode:c,data:Z.slice().fill(null,O),bindingStartIndex:O,expandoStartIndex:B,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof _?_():_,pipeRegistry:"function"==typeof E?E():E,firstChild:null,schemas:T,consts:le,incompleteFirstPass:!1}}function PI(o,c,u,f){const m=HI(c);null===u?m.push(f):(m.push(u),o.firstCreatePass&&p0(o).push(f,m.length-1))}function FI(o,c,u){for(let f in o)if(o.hasOwnProperty(f)){const m=o[f];(u=null===u?{}:u).hasOwnProperty(f)?u[f].push(c,m):u[f]=[c,m]}return u}function Vg(o,c){const f=c.directiveEnd,m=o.data,_=c.attrs,E=[];let S=null,T=null;for(let M=c.directiveStart;M<f;M++){const O=m[M],B=O.inputs,Z=null===_||rI(c)?null:Hg(B,_);E.push(Z),S=FI(B,M,S),T=FI(O.outputs,M,T)}null!==S&&(S.hasOwnProperty("class")&&(c.flags|=16),S.hasOwnProperty("style")&&(c.flags|=32)),c.initialInputs=E,c.inputs=S,c.outputs=T}function fs(o,c,u,f,m,_,E,S){const T=mr(c,u);let O,M=c.inputs;!S&&null!=M&&(O=M[f])?(m0(o,u,O,f,m),wo(c)&&Ug(u,c.index)):3&c.type&&(f=function Qk(o){return"class"===o?"className":"for"===o?"htmlFor":"formaction"===o?"formAction":"innerHtml"===o?"innerHTML":"readonly"===o?"readOnly":"tabindex"===o?"tabIndex":o}(f),m=null!=E?E(m,c.value||"",f):m,_.setProperty(T,f,m))}function Ug(o,c){const u=vn(c,o);16&u[2]||(u[2]|=32)}function LI(o,c,u,f){let m=!1;if(gc()){const _=function tR(o,c,u){const f=o.directiveRegistry;let m=null;if(f)for(let _=0;_<f.length;_++){const E=f[_];Rk(u,E.selectors,!1)&&(m||(m=[]),Sc(ma(u,c),o,E.type),ks(E)?(BI(o,u),m.unshift(E)):m.push(E))}return m}(o,c,u),E=null===f?null:{"":-1};if(null!==_){m=!0,VI(u,o.data.length,_.length);for(let O=0;O<_.length;O++){const B=_[O];B.providersResolver&&B.providersResolver(B)}let S=!1,T=!1,M=ud(o,c,_.length,null);for(let O=0;O<_.length;O++){const B=_[O];u.mergedAttrs=wc(u.mergedAttrs,B.hostAttrs),UI(o,u,c,M,B),iR(M,B,E),null!==B.contentQueries&&(u.flags|=8),(null!==B.hostBindings||null!==B.hostAttrs||0!==B.hostVars)&&(u.flags|=128);const Z=B.type.prototype;!S&&(Z.ngOnChanges||Z.ngOnInit||Z.ngDoCheck)&&((o.preOrderHooks||(o.preOrderHooks=[])).push(u.index),S=!0),!T&&(Z.ngOnChanges||Z.ngDoCheck)&&((o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(u.index),T=!0),M++}Vg(o,u)}E&&function nR(o,c,u){if(c){const f=o.localNames=[];for(let m=0;m<c.length;m+=2){const _=u[c[m+1]];if(null==_)throw new Le(-301,!1);f.push(c[m],_)}}}(u,f,E)}return u.mergedAttrs=wc(u.mergedAttrs,u.attrs),m}function Jk(o,c,u,f,m,_){const E=_.hostBindings;if(E){let S=o.hostBindingOpCodes;null===S&&(S=o.hostBindingOpCodes=[]);const T=~c.index;(function ZV(o){let c=o.length;for(;c>0;){const u=o[--c];if("number"==typeof u&&u<0)return u}return 0})(S)!=T&&S.push(T),S.push(f,m,E)}}function eR(o,c){null!==o.hostBindings&&o.hostBindings(1,c)}function BI(o,c){c.flags|=2,(o.components||(o.components=[])).push(c.index)}function iR(o,c,u){if(u){if(c.exportAs)for(let f=0;f<c.exportAs.length;f++)u[c.exportAs[f]]=o;ks(c)&&(u[""]=o)}}function VI(o,c,u){o.flags|=1,o.directiveStart=c,o.directiveEnd=c+u,o.providerIndexes=c}function UI(o,c,u,f,m){o.data[f]=m;const _=m.factory||(m.factory=zi(m.type)),E=new Gr(_,ks(m),$c);o.blueprint[f]=E,u[f]=E,Jk(o,c,0,f,ud(o,u,m.hostVars,qt),m)}function rR(o,c,u){const f=mr(c,o),m=a0(u),_=o[10],E=hd(o,Pg(o,m,null,u.onPush?32:16,f,c,_,_.createRenderer(f,u),null,null,null));o[c.index]=E}function $o(o,c,u,f,m,_){const E=mr(o,c);!function u0(o,c,u,f,m,_,E){if(null==_)o.removeAttribute(c,m,u);else{const S=null==E?me(_):E(_,f||"",m);o.setAttribute(c,m,S,u)}}(c[11],E,_,o.value,u,f,m)}function sR(o,c,u,f,m,_){const E=_[c];if(null!==E){const S=f.setInput;for(let T=0;T<E.length;){const M=E[T++],O=E[T++],B=E[T++];null!==S?f.setInput(u,B,M,O):u[O]=B}}}function Hg(o,c){let u=null,f=0;for(;f<c.length;){const m=c[f];if(0!==m)if(5!==m){if("number"==typeof m)break;o.hasOwnProperty(m)&&(null===u&&(u=[]),u.push(m,o[m],c[f+1])),f+=2}else f+=2;else f+=4}return u}function $I(o,c,u,f){return new Array(o,!0,!1,c,null,0,f,u,null,null)}function lR(o,c){const u=vn(c,o);if(Io(u)){const f=u[1];48&u[2]?Fg(f,u,f.template,u[8]):u[5]>0&&d0(u)}}function d0(o){for(let f=gg(o);null!==f;f=_g(f))for(let m=10;m<f.length;m++){const _=f[m];if(Io(_))if(512&_[2]){const E=_[1];Fg(E,_,E.template,_[8])}else _[5]>0&&d0(_)}const u=o[1].components;if(null!==u)for(let f=0;f<u.length;f++){const m=vn(u[f],o);Io(m)&&m[5]>0&&d0(m)}}function cR(o,c){const u=vn(c,o),f=u[1];(function QV(o,c){for(let u=c.length;u<o.blueprint.length;u++)c.push(o.blueprint[u])})(f,u),s0(f,u,u[8])}function hd(o,c){return o[13]?o[14][4]=c:o[13]=c,o[14]=c,c}function h0(o){for(;o;){o[2]|=32;const c=id(o);if(Eu(o)&&!c)return o;o=c}return null}function fd(o,c,u,f=!0){const m=c[10];m.begin&&m.begin();try{Fg(o,c,o.template,u)}catch(E){throw f&&jI(c,E),E}finally{m.end&&m.end()}}function f0(o,c,u){Rh(0),c(o,u)}function HI(o){return o[7]||(o[7]=[])}function p0(o){return o.cleanup||(o.cleanup=[])}function zI(o,c,u){return(null===o||ks(o))&&(u=function Cm(o){for(;Array.isArray(o);){if("object"==typeof o[1])return o;o=o[0]}return null}(u[c.index])),u[11]}function jI(o,c){const u=o[9],f=u?u.get(yf,null):null;f&&f.handleError(c)}function m0(o,c,u,f,m){for(let _=0;_<u.length;){const E=u[_++],S=u[_++],T=c[E],M=o.data[E];null!==M.setInput?M.setInput(T,m,f,S):T[S]=m}}function Cl(o,c,u){const f=hc(c,o);!function GS(o,c,u){o.setValue(c,u)}(o[11],f,u)}function Ma(o,c,u){let f=u?o.styles:null,m=u?o.classes:null,_=0;if(null!==c)for(let E=0;E<c.length;E++){const S=c[E];"number"==typeof S?_=S:1==_?m=Ze(m,S):2==_&&(f=Ze(f,S+": "+c[++E]+";"))}u?o.styles=f:o.stylesWithoutHost=f,u?o.classes=m:o.classesWithoutHost=m}function Hs(o,c,u,f,m=!1){for(;null!==u;){const _=c[u.index];if(null!==_&&f.push(ni(_)),xr(_))for(let S=10;S<_.length;S++){const T=_[S],M=T[1].firstChild;null!==M&&Hs(T[1],T,M,f)}const E=u.type;if(8&E)Hs(o,c,u.child,f);else if(32&E){const S=kb(u,c);let T;for(;T=S();)f.push(T)}else if(16&E){const S=Vb(c,u);if(Array.isArray(S))f.push(...S);else{const T=id(c[16]);Hs(T[1],T,S,f,!0)}}u=m?u.projectionNext:u.next}return f}class kf{constructor(c,u){this._lView=c,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const c=this._lView,u=c[1];return Hs(u,c,u.firstChild,[])}get context(){return this._lView[8]}set context(c){this._lView[8]=c}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const c=this._lView[3];if(xr(c)){const u=c[8],f=u?u.indexOf(this):-1;f>-1&&(Nb(c,f),Pn(u,f))}this._attachedToViewContainer=!1}Ef(this._lView[1],this._lView)}onDestroy(c){PI(this._lView[1],this._lView,null,c)}markForCheck(){h0(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){fd(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Le(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function qS(o,c){Bc(o,c,c[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(c){if(this._attachedToViewContainer)throw new Le(902,!1);this._appRef=c}}class g0 extends kf{constructor(c){super(c),this._view=c}detectChanges(){const c=this._view;fd(c[1],c,c[8],!1)}checkNoChanges(){}get context(){return null}}class _0 extends Lc{constructor(c){super(),this.ngModule=c}resolveComponentFactory(c){const u=P(c);return new Rf(u,this.ngModule)}}function y0(o){const c=[];for(let u in o)o.hasOwnProperty(u)&&c.push({propName:o[u],templateName:u});return c}class v0{constructor(c,u){this.injector=c,this.parentInjector=u}get(c,u,f){const m=this.injector.get(c,vb,f);return m!==vb||u===vb?m:this.parentInjector.get(c,u,f)}}class Rf extends _b{constructor(c,u){super(),this.componentDef=c,this.ngModule=u,this.componentType=c.type,this.selector=function Pk(o){return o.map(zb).join(",")}(c.selectors),this.ngContentSelectors=c.ngContentSelectors?c.ngContentSelectors:[],this.isBoundToModule=!!u}get inputs(){return y0(this.componentDef.inputs)}get outputs(){return y0(this.componentDef.outputs)}create(c,u,f,m){let _=(m=m||this.ngModule)instanceof Bo?m:m?.injector;_&&null!==this.componentDef.getStandaloneInjector&&(_=this.componentDef.getStandaloneInjector(_)||_);const E=_?new v0(c,_):c,S=E.get(ik,null);if(null===S)throw new Le(407,!1);const T=E.get(yb,null),M=S.createRenderer(null,this.componentDef),O=this.componentDef.selectors[0][0]||"div",B=f?function Kk(o,c,u){return o.selectRootElement(c,u===St.ShadowDom)}(M,f,this.componentDef.encapsulation):yg(M,O,function dR(o){const c=o.toLowerCase();return"svg"===c?"svg":"math"===c?"math":null}(O)),Z=this.componentDef.onPush?288:272,le=l0(0,null,null,1,0,null,null,null,null,null),De=Pg(null,le,null,Z,null,null,S,M,T,E,null);let Ye,nt;xu(De);try{const vt=function b0(o,c,u,f,m,_){const E=u[1];u[22]=o;const T=wl(E,22,2,"#host",null),M=T.mergedAttrs=c.hostAttrs;null!==M&&(Ma(T,M,!0),null!==o&&(Js(m,o,M),null!==T.classes&&Cf(m,o,T.classes),null!==T.styles&&Vc(m,o,T.styles)));const O=f.createRenderer(o,c),B=Pg(u,a0(c),null,c.onPush?32:16,u[22],T,f,O,_||null,null,null);return E.firstCreatePass&&(Sc(ma(T,u),E,c.type),BI(E,T),VI(T,u.length,1)),hd(u,B),u[22]=B}(B,this.componentDef,De,S,M);if(B)if(f)Js(M,B,["ng-version",RS.full]);else{const{attrs:xt,classes:Ne}=function Nk(o){const c=[],u=[];let f=1,m=2;for(;f<o.length;){let _=o[f];if("string"==typeof _)2===m?""!==_&&c.push(_,o[++f]):8===m&&u.push(_);else{if(!$s(m))break;m=_}f++}return{attrs:c,classes:u}}(this.componentDef.selectors[0]);xt&&Js(M,B,xt),Ne&&Ne.length>0&&Cf(M,B,Ne.join(" "))}if(nt=fc(le,22),void 0!==u){const xt=nt.projection=[];for(let Ne=0;Ne<this.ngContentSelectors.length;Ne++){const Pt=u[Ne];xt.push(null!=Pt?Array.from(Pt):null)}}Ye=function WI(o,c,u,f){const m=u[1],_=function c0(o,c,u){const f=Di();o.firstCreatePass&&(u.providersResolver&&u.providersResolver(u),UI(o,f,c,ud(o,c,1,null),u),Vg(o,f));const m=eo(c,o,f.directiveStart,f);Wi(m,c);const _=mr(f,c);return _&&Wi(_,c),m}(m,u,c);if(o[8]=u[8]=_,null!==f)for(const S of f)S(_,c);if(c.contentQueries){const S=Di();c.contentQueries(1,_,S.directiveStart)}const E=Di();return!m.firstCreatePass||null===c.hostBindings&&null===c.hostAttrs||(Xs(E.index),Jk(u[1],E,0,E.directiveStart,E.directiveEnd,c),eR(c,_)),_}(vt,this.componentDef,De,[E0]),s0(le,De,null)}finally{tl()}return new zc(this.componentType,Ye,Xu(nt,De),De,nt)}}class zc extends class DS{}{constructor(c,u,f,m,_){super(),this.location=f,this._rootLView=m,this._tNode=_,this.instance=u,this.hostView=this.changeDetectorRef=new g0(m),this.componentType=c}setInput(c,u){const f=this._tNode.inputs;let m;if(null!==f&&(m=f[c])){const _=this._rootLView;m0(_[1],_,m,c,u),Ug(_,this._tNode.index)}}get injector(){return new Dc(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(c){this.hostView.onDestroy(c)}}function E0(){const o=Di();vc(Be()[1],o)}function Of(o){let c=function zg(o){return Object.getPrototypeOf(o.prototype).constructor}(o.type),u=!0;const f=[o];for(;c;){let m;if(ks(o))m=c.\u0275cmp||c.\u0275dir;else{if(c.\u0275cmp)throw new Le(903,!1);m=c.\u0275dir}if(m){if(u){f.push(m);const E=o;E.inputs=Pf(o.inputs),E.declaredInputs=Pf(o.declaredInputs),E.outputs=Pf(o.outputs);const S=m.hostBindings;S&&ir(o,S);const T=m.viewQuery,M=m.contentQueries;if(T&&w0(o,T),M&&pR(o,M),we(o.inputs,m.inputs),we(o.declaredInputs,m.declaredInputs),we(o.outputs,m.outputs),ks(m)&&m.data.animation){const O=o.data;O.animation=(O.animation||[]).concat(m.data.animation)}}const _=m.features;if(_)for(let E=0;E<_.length;E++){const S=_[E];S&&S.ngInherit&&S(o),S===Of&&(u=!1)}}c=Object.getPrototypeOf(c)}!function fR(o){let c=0,u=null;for(let f=o.length-1;f>=0;f--){const m=o[f];m.hostVars=c+=m.hostVars,m.hostAttrs=wc(m.hostAttrs,u=wc(u,m.hostAttrs))}}(f)}function Pf(o){return o===fr?{}:o===Nt?[]:o}function w0(o,c){const u=o.viewQuery;o.viewQuery=u?(f,m)=>{c(f,m),u(f,m)}:c}function pR(o,c){const u=o.contentQueries;o.contentQueries=u?(f,m,_)=>{c(f,m,_),u(f,m,_)}:c}function ir(o,c){const u=o.hostBindings;o.hostBindings=u?(f,m)=>{c(f,m),u(f,m)}:c}let pd=null;function Sl(){if(!pd){const o=$t.Symbol;if(o&&o.iterator)pd=o.iterator;else{const c=Object.getOwnPropertyNames(Map.prototype);for(let u=0;u<c.length;++u){const f=c[u];"entries"!==f&&"size"!==f&&Map.prototype[f]===Map.prototype.entries&&(pd=f)}}}return pd}function jc(o){return!!jg(o)&&(Array.isArray(o)||!(o instanceof Map)&&Sl()in o)}function jg(o){return null!==o&&("function"==typeof o||"object"==typeof o)}function Ho(o,c,u){return o[c]=u}function rr(o,c,u){return!Object.is(o[c],u)&&(o[c]=u,!0)}function ka(o,c,u,f){const m=rr(o,c,u);return rr(o,c+1,f)||m}function Wg(o,c,u,f){const m=Be();return rr(m,yc(),c)&&(sn(),$o(Yn(),m,o,c,u,f)),Wg}function md(o,c,u,f){return rr(o,yc(),u)?c+me(u)+f:qt}function Tl(o,c,u,f,m,_){const S=ka(o,function Os(){return Vt.lFrame.bindingIndex}(),u,m);return To(2),S?c+me(u)+f+me(m)+_:qt}function Kg(o,c,u,f,m,_,E,S){const T=Be(),M=sn(),O=o+22,B=M.firstCreatePass?function XI(o,c,u,f,m,_,E,S,T){const M=c.consts,O=wl(c,o,4,E||null,Rs(M,S));LI(c,u,O,Rs(M,T)),vc(c,O);const B=O.tViews=l0(2,O,f,m,_,c.directiveRegistry,c.pipeRegistry,null,c.schemas,M);return null!==c.queries&&(c.queries.template(c,O),B.queries=c.queries.embeddedTView(O)),O}(O,M,T,c,u,f,m,_,E):M.data[O];jr(B,!1);const Z=T[11].createComment("");wg(M,T,Z,B),Wi(Z,T),hd(T,T[O]=$I(Z,T,Z,B)),Co(B)&&Bg(M,T,B),null!=E&&o0(T,B,S)}function Qg(o){return So(function xh(){return Vt.lFrame.contextLView}(),22+o)}function x0(o,c,u){const f=Be();return rr(f,yc(),c)&&fs(sn(),Yn(),f,o,c,f[11],u,!1),x0}function M0(o,c,u,f,m){const E=m?"class":"style";m0(o,u,c.inputs[E],E,f)}function Nf(o,c,u,f){const m=Be(),_=sn(),E=22+o,S=m[11],T=m[E]=yg(S,c,function Nh(){return Vt.lFrame.currentNamespace}()),M=_.firstCreatePass?function k0(o,c,u,f,m,_,E){const S=c.consts,M=wl(c,o,2,m,Rs(S,_));return LI(c,u,M,Rs(S,E)),null!==M.attrs&&Ma(M,M.attrs,!1),null!==M.mergedAttrs&&Ma(M,M.mergedAttrs,!0),null!==c.queries&&c.queries.elementStart(c,M),M}(E,_,m,0,c,u,f):_.data[E];jr(M,!0);const O=M.mergedAttrs;null!==O&&Js(S,T,O);const B=M.classes;null!==B&&Cf(S,T,B);const Z=M.styles;return null!==Z&&Vc(S,T,Z),64!=(64&M.flags)&&wg(_,m,T,M),0===function Ih(){return Vt.lFrame.elementDepthCount}()&&Wi(T,m),function Pv(){Vt.lFrame.elementDepthCount++}(),Co(M)&&(Bg(_,m,M),Lg(_,M,m)),null!==f&&o0(m,M),Nf}function Ff(){let o=Di();Ah()?Du():(o=o.parent,jr(o,!1));const c=o;!function Th(){Vt.lFrame.elementDepthCount--}();const u=sn();return u.firstCreatePass&&(vc(u,o),os(o)&&u.queries.elementEnd(o)),null!=c.classesWithoutHost&&function ku(o){return 0!=(16&o.flags)}(c)&&M0(u,c,Be(),c.classesWithoutHost,!0),null!=c.stylesWithoutHost&&function Ru(o){return 0!=(32&o.flags)}(c)&&M0(u,c,Be(),c.stylesWithoutHost,!1),Ff}function R0(o,c,u,f){return Nf(o,c,u,f),Ff(),R0}function Xg(o,c,u){const f=Be(),m=sn(),_=o+22,E=m.firstCreatePass?function vR(o,c,u,f,m){const _=c.consts,E=Rs(_,f),S=wl(c,o,8,"ng-container",E);return null!==E&&Ma(S,E,!0),LI(c,u,S,Rs(_,m)),null!==c.queries&&c.queries.elementStart(c,S),S}(_,m,f,c,u):m.data[_];jr(E,!0);const S=f[_]=f[11].createComment("");return wg(m,f,S,E),Wi(S,f),Co(E)&&(Bg(m,f,E),Lg(m,E,f)),null!=u&&o0(f,E),Xg}function Lf(){let o=Di();const c=sn();return Ah()?Du():(o=o.parent,jr(o,!1)),c.firstCreatePass&&(vc(c,o),os(o)&&c.queries.elementEnd(o)),Lf}function JI(){return Be()}function Bf(o){return!!o&&"function"==typeof o.then}function eT(o){return!!o&&"function"==typeof o.subscribe}const tT=eT;function nT(o,c,u,f){const m=Be(),_=sn(),E=Di();return bR(_,m,m[11],E,o,c,0,f),nT}function Vf(o,c){const u=Di(),f=Be(),m=sn();return bR(m,f,zI(Mh(m.data),u,f),u,o,c),Vf}function bR(o,c,u,f,m,_,E,S){const T=Co(f),O=o.firstCreatePass&&p0(o),B=c[8],Z=HI(c);let le=!0;if(3&f.type||S){const nt=mr(f,c),vt=S?S(nt):nt,xt=Z.length,Ne=S?gn=>S(ni(gn[f.index])):f.index;let Pt=null;if(!S&&T&&(Pt=function e2(o,c,u,f){const m=o.cleanup;if(null!=m)for(let _=0;_<m.length-1;_+=2){const E=m[_];if(E===u&&m[_+1]===f){const S=c[7],T=m[_+2];return S.length>T?S[T]:null}"string"==typeof E&&(_+=2)}return null}(o,c,m,f.index)),null!==Pt)(Pt.__ngLastListenerFn__||Pt).__ngNextListenerFn__=_,Pt.__ngLastListenerFn__=_,le=!1;else{_=iT(f,c,B,_,!1);const gn=u.listen(vt,m,_);Z.push(_,gn),O&&O.push(m,Ne,xt,xt+1)}}else _=iT(f,c,B,_,!1);const De=f.outputs;let Ye;if(le&&null!==De&&(Ye=De[m])){const nt=Ye.length;if(nt)for(let vt=0;vt<nt;vt+=2){const Jn=c[Ye[vt]][Ye[vt+1]].subscribe(_),Nl=Z.length;Z.push(_,Jn),O&&O.push(m,f.index,Nl,-(Nl+1))}}}function Uf(o,c,u,f){try{return!1!==u(f)}catch(m){return jI(o,m),!1}}function iT(o,c,u,f,m){return function _(E){if(E===Function)return f;h0(2&o.flags?vn(o.index,c):c);let T=Uf(c,0,f,E),M=_.__ngNextListenerFn__;for(;M;)T=Uf(c,0,M,E)&&T,M=M.__ngNextListenerFn__;return m&&!1===T&&(E.preventDefault(),E.returnValue=!1),T}}function rT(o=1){return function ha(o){return(Vt.lFrame.contextLView=function $v(o,c){for(;o>0;)c=c[15],o--;return c}(o,Vt.lFrame.contextLView))[8]}(o)}function ER(o,c){let u=null;const f=function Sg(o){const c=o.attrs;if(null!=c){const u=c.indexOf(5);if(0==(1&u))return c[u+1]}return null}(o);for(let m=0;m<c.length;m++){const _=c[m];if("*"!==_){if(null===f?Rk(o,_,!0):Ok(f,_))return m}else u=m}return u}function sT(o){const c=Be()[16][6];if(!c.projection){const f=c.projection=va(o?o.length:1,null),m=f.slice();let _=c.child;for(;null!==_;){const E=o?ER(_,o):0;null!==E&&(m[E]?m[E].projectionNext=_:f[E]=_,m[E]=_),_=_.next}}}function O0(o,c=0,u){const f=Be(),m=sn(),_=wl(m,22+o,16,null,u||null);null===_.projection&&(_.projection=c),Du(),64!=(64&_.flags)&&function nI(o,c,u){wf(c[11],0,c,u,ZS(o,u,c),Li(u.parent||c[6],u,c))}(m,f,_)}function hT(o,c,u,f,m){const _=o[u+1],E=null===c;let S=f?oo(_):xa(_),T=!1;for(;0!==S&&(!1===T||E);){const O=o[S+1];CR(o[S],c)&&(T=!0,o[S+1]=f?Df(O):xg(O)),S=f?oo(O):xa(O)}T&&(o[u+1]=f?xg(_):Df(_))}function CR(o,c){return null===o||null==c||(Array.isArray(o)?o[1]:o)===c||!(!Array.isArray(o)||"string"!=typeof c)&&Mo(o,c)>=0}const Bi={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function P0(o){return o.substring(Bi.key,Bi.keyEnd)}function SR(o){return o.substring(Bi.value,Bi.valueEnd)}function i_(o,c){const u=Bi.textEnd;return u===c?-1:(c=Bi.keyEnd=function DR(o,c,u){for(;c<u&&o.charCodeAt(c)>32;)c++;return c}(o,Bi.key=c,u),Dl(o,c,u))}function r_(o,c){const u=Bi.textEnd;let f=Bi.key=Dl(o,c,u);return u===f?-1:(f=Bi.keyEnd=function AR(o,c,u){let f;for(;c<u&&(45===(f=o.charCodeAt(c))||95===f||(-33&f)>=65&&(-33&f)<=90||f>=48&&f<=57);)c++;return c}(o,f,u),f=fT(o,f,u),f=Bi.value=Dl(o,f,u),f=Bi.valueEnd=function F0(o,c,u){let f=-1,m=-1,_=-1,E=c,S=E;for(;E<u;){const T=o.charCodeAt(E++);if(59===T)return S;34===T||39===T?S=E=pT(o,T,E,u):c===E-4&&85===_&&82===m&&76===f&&40===T?S=E=pT(o,41,E,u):T>32&&(S=E),_=m,m=f,f=-33&T}return S}(o,f,u),fT(o,f,u))}function N0(o){Bi.key=0,Bi.keyEnd=0,Bi.value=0,Bi.valueEnd=0,Bi.textEnd=o.length}function Dl(o,c,u){for(;c<u&&o.charCodeAt(c)<=32;)c++;return c}function fT(o,c,u,f){return(c=Dl(o,c,u))<u&&c++,c}function pT(o,c,u,f){let m=-1,_=u;for(;_<f;){const E=o.charCodeAt(_++);if(E==c&&92!==m)return _;m=92==E&&92===m?0:E}throw new Error}function L0(o,c,u){return lo(o,c,u,!1),L0}function $f(o,c){return lo(o,c,null,!0),$f}function ao(o){ms($0,B0,o,!1)}function B0(o,c){for(let u=function TR(o){return N0(o),r_(o,Dl(o,0,Bi.textEnd))}(c);u>=0;u=r_(c,u))$0(o,P0(c),SR(c))}function gT(o){ms(rt,zs,o,!0)}function zs(o,c){for(let u=function IR(o){return N0(o),i_(o,Dl(o,0,Bi.textEnd))}(c);u>=0;u=i_(c,u))rt(o,P0(c),!0)}function lo(o,c,u,f){const m=Be(),_=sn(),E=To(2);_.firstUpdatePass&&V0(_,o,E,f),c!==qt&&rr(m,E,c)&&jf(_,_.data[qn()],m,m[11],o,m[E+1]=function Oa(o,c){return null==o||("string"==typeof c?o+=c:"object"==typeof o&&(o=ke(hs(o)))),o}(c,u),f,E)}function ms(o,c,u,f){const m=sn(),_=To(2);m.firstUpdatePass&&V0(m,null,_,f);const E=Be();if(u!==qt&&rr(E,_,u)){const S=m.data[qn()];if(o_(S,f)&&!s_(m,_)){let T=f?S.classesWithoutHost:S.stylesWithoutHost;null!==T&&(u=Ze(T,u||"")),M0(m,S,E,u,f)}else!function yT(o,c,u,f,m,_,E,S){m===qt&&(m=Nt);let T=0,M=0,O=0<m.length?m[0]:null,B=0<_.length?_[0]:null;for(;null!==O||null!==B;){const Z=T<m.length?m[T+1]:void 0,le=M<_.length?_[M+1]:void 0;let Ye,De=null;O===B?(T+=2,M+=2,Z!==le&&(De=B,Ye=le)):null===B||null!==O&&O<B?(T+=2,De=O):(M+=2,De=B,Ye=le),null!==De&&jf(o,c,u,f,De,Ye,E,S),O=T<m.length?m[T]:null,B=M<_.length?_[M]:null}}(m,S,E,E[11],E[_+1],E[_+1]=function Ra(o,c,u){if(null==u||""===u)return Nt;const f=[],m=hs(u);if(Array.isArray(m))for(let _=0;_<m.length;_++)o(f,m[_],!0);else if("object"==typeof m)for(const _ in m)m.hasOwnProperty(_)&&o(f,_,m[_]);else"string"==typeof m&&c(f,m);return f}(o,c,u),f,_)}}function s_(o,c){return c>=o.expandoStartIndex}function V0(o,c,u,f){const m=o.data;if(null===m[u+1]){const _=m[qn()],E=s_(o,u);o_(_,f)&&null===c&&!E&&(c=!1),c=function _T(o,c,u,f){const m=Mh(o);let _=f?c.residualClasses:c.residualStyles;if(null===m)0===(f?c.classBindings:c.styleBindings)&&(u=zf(u=Hf(null,o,c,u,f),c.attrs,f),_=null);else{const E=c.directiveStylingLast;if(-1===E||o[E]!==m)if(u=Hf(m,o,c,u,f),null===_){let T=function xR(o,c,u){const f=u?c.classBindings:c.styleBindings;if(0!==xa(f))return o[oo(f)]}(o,c,f);void 0!==T&&Array.isArray(T)&&(T=Hf(null,o,c,T[1],f),T=zf(T,c.attrs,f),function U0(o,c,u,f){o[oo(u?c.classBindings:c.styleBindings)]=f}(o,c,f,T))}else _=function MR(o,c,u){let f;const m=c.directiveEnd;for(let _=1+c.directiveStylingLast;_<m;_++)f=zf(f,o[_].hostAttrs,u);return zf(f,c.attrs,u)}(o,c,f)}return void 0!==_&&(f?c.residualClasses=_:c.residualStyles=_),u}(m,_,c,f),function wR(o,c,u,f,m,_){let E=_?c.classBindings:c.styleBindings,S=oo(E),T=xa(E);o[f]=u;let O,M=!1;if(Array.isArray(u)){const B=u;O=B[1],(null===O||Mo(B,O)>0)&&(M=!0)}else O=u;if(m)if(0!==T){const Z=oo(o[S+1]);o[f+1]=Tf(Z,S),0!==Z&&(o[Z+1]=Kb(o[Z+1],f)),o[S+1]=function bI(o,c){return 131071&o|c<<17}(o[S+1],f)}else o[f+1]=Tf(S,0),0!==S&&(o[S+1]=Kb(o[S+1],f)),S=f;else o[f+1]=Tf(T,0),0===S?S=f:o[T+1]=Kb(o[T+1],f),T=f;M&&(o[f+1]=xg(o[f+1])),hT(o,O,f,!0),hT(o,O,f,!1),function ps(o,c,u,f,m){const _=m?o.residualClasses:o.residualStyles;null!=_&&"string"==typeof c&&Mo(_,c)>=0&&(u[f+1]=Df(u[f+1]))}(c,O,o,f,_),E=Tf(S,T),_?c.classBindings=E:c.styleBindings=E}(m,_,c,u,E,f)}}function Hf(o,c,u,f,m){let _=null;const E=u.directiveEnd;let S=u.directiveStylingLast;for(-1===S?S=u.directiveStart:S++;S<E&&(_=c[S],f=zf(f,_.hostAttrs,m),_!==o);)S++;return null!==o&&(u.directiveStylingLast=S),f}function zf(o,c,u){const f=u?1:2;let m=-1;if(null!==c)for(let _=0;_<c.length;_++){const E=c[_];"number"==typeof E?m=E:m===f&&(Array.isArray(o)||(o=void 0===o?[]:["",o]),rt(o,E,!!u||c[++_]))}return void 0===o?null:o}function $0(o,c,u){rt(o,c,hs(u))}function jf(o,c,u,f,m,_,E,S){if(!(3&c.type))return;const T=o.data,M=T[S+1];Gf(function vl(o){return 1==(1&o)}(M)?H0(T,c,u,m,xa(M),E):void 0)||(Gf(_)||function yl(o){return 2==(2&o)}(M)&&(_=H0(T,null,u,m,S,E)),function iI(o,c,u,f,m){if(c)m?o.addClass(u,f):o.removeClass(u,f);else{let _=-1===f.indexOf("-")?void 0:Vo.DashCase;null==m?o.removeStyle(u,f,_):("string"==typeof m&&m.endsWith("!important")&&(m=m.slice(0,-10),_|=Vo.Important),o.setStyle(u,f,m,_))}}(f,E,hc(qn(),u),m,_))}function H0(o,c,u,f,m,_){const E=null===c;let S;for(;m>0;){const T=o[m],M=Array.isArray(T),O=M?T[1]:T,B=null===O;let Z=u[m+1];Z===qt&&(Z=B?Nt:void 0);let le=B?qh(Z,f):O===f?Z:void 0;if(M&&!Gf(le)&&(le=qh(T,f)),Gf(le)&&(S=le,E))return S;const De=o[m+1];m=E?oo(De):xa(De)}if(null!==c){let T=_?c.residualClasses:c.residualStyles;null!=T&&(S=qh(T,f))}return S}function Gf(o){return void 0!==o}function o_(o,c){return 0!=(o.flags&(c?16:32))}function kR(o,c=""){const u=Be(),f=sn(),m=o+22,_=f.firstCreatePass?wl(f,m,1,c,null):f.data[m],E=u[m]=function Ob(o,c){return o.createText(c)}(u[11],c);wg(f,u,E,_),jr(_,!1)}function z0(o){return a_("",o,""),z0}function a_(o,c,u){const f=Be(),m=md(f,o,c,u);return m!==qt&&Cl(f,qn(),m),a_}function j0(o,c,u,f,m){const _=Be(),E=Tl(_,o,c,u,f,m);return E!==qt&&Cl(_,qn(),E),j0}function NR(o,c,u){ms(rt,zs,md(Be(),o,c,u),!0)}function qf(o,c,u){const f=Be();return rr(f,yc(),c)&&fs(sn(),Yn(),f,o,c,f[11],u,!0),qf}function Yf(o,c,u){const f=Be();if(rr(f,yc(),c)){const _=sn(),E=Yn();fs(_,E,f,o,c,zI(Mh(_.data),E,f),u,!0)}return Yf}const zo=void 0;var y_=["en",[["a","p"],["AM","PM"],zo],[["AM","PM"],zo,zo],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],zo,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],zo,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",zo,"{1} 'at' {0}",zo],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function __(o){const u=Math.floor(Math.abs(o)),f=o.toString().replace(/^[^.]*\.?/,"").length;return 1===u&&0===f?1:5}];let Rr={};function xl(o){const c=function Yc(o){return o.toLowerCase().replace(/_/g,"-")}(o);let u=Xr(c);if(u)return u;const f=c.split("-")[0];if(u=Xr(f),u)return u;if("en"===f)return y_;throw new Le(701,!1)}function TT(o){return xl(o)[Ot.PluralCase]}function Xr(o){return o in Rr||(Rr[o]=$t.ng&&$t.ng.common&&$t.ng.common.locales&&$t.ng.common.locales[o]),Rr[o]}var Ot=(()=>((Ot=Ot||{})[Ot.LocaleId=0]="LocaleId",Ot[Ot.DayPeriodsFormat=1]="DayPeriodsFormat",Ot[Ot.DayPeriodsStandalone=2]="DayPeriodsStandalone",Ot[Ot.DaysFormat=3]="DaysFormat",Ot[Ot.DaysStandalone=4]="DaysStandalone",Ot[Ot.MonthsFormat=5]="MonthsFormat",Ot[Ot.MonthsStandalone=6]="MonthsStandalone",Ot[Ot.Eras=7]="Eras",Ot[Ot.FirstDayOfWeek=8]="FirstDayOfWeek",Ot[Ot.WeekendRange=9]="WeekendRange",Ot[Ot.DateFormat=10]="DateFormat",Ot[Ot.TimeFormat=11]="TimeFormat",Ot[Ot.DateTimeFormat=12]="DateTimeFormat",Ot[Ot.NumberSymbols=13]="NumberSymbols",Ot[Ot.NumberFormats=14]="NumberFormats",Ot[Ot.CurrencyCode=15]="CurrencyCode",Ot[Ot.CurrencySymbol=16]="CurrencySymbol",Ot[Ot.CurrencyName=17]="CurrencyName",Ot[Ot.Currencies=18]="Currencies",Ot[Ot.Directionality=19]="Directionality",Ot[Ot.PluralCase=20]="PluralCase",Ot[Ot.ExtraData=21]="ExtraData",Ot))();const xi="en-US";let jR=xi;function oE(o,c,u,f,m){if(o=re(o),Array.isArray(o))for(let _=0;_<o.length;_++)oE(o[_],c,u,f,m);else{const _=sn(),E=Be();let S=Vs(o)?o:re(o.provide),T=rg(o);const M=Di(),O=1048575&M.providerIndexes,B=M.directiveStart,Z=M.providerIndexes>>20;if(Vs(o)||!o.multi){const le=new Gr(T,m,$c),De=A_(S,c,m?O:O+Z,B);-1===De?(Sc(ma(M,E),_,S),aE(_,o,c.length),c.push(S),M.directiveStart++,M.directiveEnd++,m&&(M.providerIndexes+=1048576),u.push(le),E.push(le)):(u[De]=le,E[De]=le)}else{const le=A_(S,c,O+Z,B),De=A_(S,c,O,O+Z),Ye=le>=0&&u[le],nt=De>=0&&u[De];if(m&&!nt||!m&&!Ye){Sc(ma(M,E),_,S);const vt=function h1(o,c,u,f,m){const _=new Gr(o,u,$c);return _.multi=[],_.index=c,_.componentProviders=0,ep(_,m,f&&!u),_}(m?lE:JT,u.length,m,f,T);!m&&nt&&(u[De].providerFactory=vt),aE(_,o,c.length,0),c.push(S),M.directiveStart++,M.directiveEnd++,m&&(M.providerIndexes+=1048576),u.push(vt),E.push(vt)}else aE(_,o,le>-1?le:De,ep(u[m?De:le],T,!m&&f));!m&&f&&nt&&u[De].componentProviders++}}}function aE(o,c,u,f){const m=Vs(c),_=function IS(o){return!!o.useClass}(c);if(m||_){const T=(_?re(c.useClass):c).prototype.ngOnDestroy;if(T){const M=o.destroyHooks||(o.destroyHooks=[]);if(!m&&c.multi){const O=M.indexOf(u);-1===O?M.push(u,[f,T]):M[O+1].push(f,T)}else M.push(u,T)}}}function ep(o,c,u){return u&&o.componentProviders++,o.multi.push(c)-1}function A_(o,c,u,f){for(let m=u;m<f;m++)if(c[m]===o)return m;return-1}function JT(o,c,u,f){return cE(this.multi,[])}function lE(o,c,u,f){const m=this.multi;let _;if(this.providerFactory){const E=this.providerFactory.componentProviders,S=eo(u,u[1],this.providerFactory.index,f);_=S.slice(0,E),cE(m,_);for(let T=E;T<S.length;T++)_.push(S[T])}else _=[],cE(m,_);return _}function cE(o,c){for(let u=0;u<o.length;u++)c.push((0,o[u])());return c}function eD(o,c=[]){return u=>{u.providersResolver=(f,m)=>function d1(o,c,u){const f=sn();if(f.firstCreatePass){const m=ks(o);oE(u,f.data,f.blueprint,m,!0),oE(c,f.data,f.blueprint,m,!1)}}(f,m?m(o):o,c)}}class Zc{}class uE{}function tD(o,c){return new dE(o,c??null)}class dE extends Zc{constructor(c,u){super(),this._parent=u,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new _0(this);const f=ft(c);this._bootstrapComponents=Aa(f.bootstrap),this._r3Injector=Uc(c,u,[{provide:Zc,useValue:this},{provide:Lc,useValue:this.componentFactoryResolver}],ke(c),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(c)}get injector(){return this._r3Injector}destroy(){const c=this._r3Injector;!c.destroyed&&c.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(c){this.destroyCbs.push(c)}}class nD extends uE{constructor(c){super(),this.moduleType=c}create(c){return new dE(this.moduleType,c)}}class p1 extends Zc{constructor(c,u,f){super(),this.componentFactoryResolver=new _0(this),this.instance=null;const m=new pb([...c,{provide:Zc,useValue:this},{provide:Lc,useValue:this.componentFactoryResolver}],u||ig(),f,new Set(["environment"]));this.injector=m,m.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(c){this.injector.onDestroy(c)}}function iD(o,c,u=null){return new p1(o,c,u).injector}let u2=(()=>{class o{constructor(u){this._injector=u,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(u){if(!u.standalone)return null;if(!this.cachedInjectors.has(u.id)){const f=CS(0,u.type),m=f.length>0?iD([f],this._injector,`Standalone[${u.type.name}]`):null;this.cachedInjectors.set(u.id,m)}return this.cachedInjectors.get(u.id)}ngOnDestroy(){try{for(const u of this.cachedInjectors.values())null!==u&&u.destroy()}finally{this.cachedInjectors.clear()}}}return o.\u0275prov=pn({token:o,providedIn:"environment",factory:()=>new o(Wt(Bo))}),o})();function x_(o){o.getStandaloneInjector=c=>c.get(u2).getOrCreateStandaloneInjector(o)}function b1(o,c,u){const f=bi()+o,m=Be();return m[f]===qt?Ho(m,f,u?c.call(u):c()):function Gc(o,c){return o[c]}(m,f)}function E1(o,c,u,f){return S1(Be(),bi(),o,c,u,f)}function La(o,c){const u=o[c];return u===qt?void 0:u}function S1(o,c,u,f,m,_){const E=c+u;return rr(o,E,m)?Ho(o,E+1,_?f.call(_,m):f(m)):La(o,E+1)}function hD(o,c){const u=sn();let f;const m=o+22;u.firstCreatePass?(f=function I1(o,c){if(c)for(let u=c.length-1;u>=0;u--){const f=c[u];if(o===f.name)return f}}(c,u.pipeRegistry),u.data[m]=f,f.onDestroy&&(u.destroyHooks||(u.destroyHooks=[])).push(m,f.onDestroy)):f=u.data[m];const _=f.factory||(f.factory=zi(f.type)),E=Un($c);try{const S=Ou(!1),T=_();return Ou(S),function yR(o,c,u,f){u>=o.data.length&&(o.data[u]=null,o.blueprint[u]=null),c[u]=f}(u,Be(),m,T),T}finally{Un(E)}}function fD(o,c,u){const f=o+22,m=Be(),_=So(m,f);return R_(m,f)?S1(m,bi(),c,_.transform,u,_):_.transform(u)}function T1(o,c,u,f){const m=o+22,_=Be(),E=So(_,m);return R_(_,m)?function k_(o,c,u,f,m,_,E){const S=c+u;return ka(o,S,m,_)?Ho(o,S+2,E?f.call(E,m,_):f(m,_)):La(o,S+2)}(_,bi(),c,E.transform,u,f,E):E.transform(u,f)}function R_(o,c){return o[1].data[c].pure}function pD(o){return c=>{setTimeout(o,void 0,c)}}const Ba=class E2 extends l.x{constructor(c=!1){super(),this.__isAsync=c}emit(c){super.next(c)}subscribe(c,u,f){let m=c,_=u||(()=>null),E=f;if(c&&"object"==typeof c){const T=c;m=T.next?.bind(T),_=T.error?.bind(T),E=T.complete?.bind(T)}this.__isAsync&&(_=pD(_),m&&(m=pD(m)),E&&(E=pD(E)));const S=super.subscribe({next:m,error:_,complete:E});return c instanceof W.w0&&c.add(S),S}};function w2(){return this._results[Sl()]()}class gE{constructor(c=!1){this._emitDistinctChangesOnly=c,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=Sl(),f=gE.prototype;f[u]||(f[u]=w2)}get changes(){return this._changes||(this._changes=new Ba)}get(c){return this._results[c]}map(c){return this._results.map(c)}filter(c){return this._results.filter(c)}find(c){return this._results.find(c)}reduce(c,u){return this._results.reduce(c,u)}forEach(c){this._results.forEach(c)}some(c){return this._results.some(c)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(c,u){const f=this;f.dirty=!1;const m=On(c);(this._changesDetected=!function Tt(o,c,u){if(o.length!==c.length)return!1;for(let f=0;f<o.length;f++){let m=o[f],_=c[f];if(u&&(m=u(m),_=u(_)),_!==m)return!1}return!0}(f._results,m,u))&&(f._results=m,f.length=m.length,f.last=m[this.length-1],f.first=m[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let O_=(()=>{class o{}return o.__NG_ELEMENT_ID__=S2,o})();const D1=O_,C2=class extends D1{constructor(c,u,f){super(),this._declarationLView=c,this._declarationTContainer=u,this.elementRef=f}createEmbeddedView(c,u){const f=this._declarationTContainer.tViews,m=Pg(this._declarationLView,f,c,16,null,f.declTNode,null,null,null,null,u||null);m[17]=this._declarationLView[this._declarationTContainer.index];const E=this._declarationLView[19];return null!==E&&(m[19]=E.createEmbeddedView(f)),s0(f,m,c),new kf(m)}};function S2(){return _E(Di(),Be())}function _E(o,c){return 4&o.type?new C2(c,o,Xu(o,c)):null}let yE=(()=>{class o{}return o.__NG_ELEMENT_ID__=I2,o})();function I2(){return M1(Di(),Be())}const T2=yE,A1=class extends T2{constructor(c,u,f){super(),this._lContainer=c,this._hostTNode=u,this._hostLView=f}get element(){return Xu(this._hostTNode,this._hostLView)}get injector(){return new Dc(this._hostTNode,this._hostLView)}get parentInjector(){const c=Cc(this._hostTNode,this._hostLView);if(Wv(c)){const u=Do(c,this._hostLView),f=pa(c);return new Dc(u[1].data[f+8],u)}return new Dc(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(c){const u=x1(this._lContainer);return null!==u&&u[c]||null}get length(){return this._lContainer.length-10}createEmbeddedView(c,u,f){let m,_;"number"==typeof f?m=f:null!=f&&(m=f.index,_=f.injector);const E=c.createEmbeddedView(u||{},_);return this.insert(E,m),E}createComponent(c,u,f,m,_){const E=c&&!function Ps(o){return"function"==typeof o}(c);let S;if(E)S=u;else{const B=u||{};S=B.index,f=B.injector,m=B.projectableNodes,_=B.environmentInjector||B.ngModuleRef}const T=E?c:new Rf(P(c)),M=f||this.parentInjector;if(!_&&null==T.ngModule){const Z=(E?M:this.parentInjector).get(Bo,null);Z&&(_=Z)}const O=T.create(M,m,void 0,_);return this.insert(O.hostView,S),O}insert(c,u){const f=c._lView,m=f[1];if(function Ov(o){return xr(o[3])}(f)){const O=this.indexOf(c);if(-1!==O)this.detach(O);else{const B=f[3],Z=new A1(B,B[6],B[3]);Z.detach(Z.indexOf(c))}}const _=this._adjustIndex(u),E=this._lContainer;!function Ck(o,c,u,f){const m=10+f,_=u.length;f>0&&(u[m-1][4]=c),f<_-10?(c[4]=u[m],ya(u,10+f,c)):(u.push(c),c[4]=null),c[3]=u;const E=c[17];null!==E&&u!==E&&function Sk(o,c){const u=o[9];c[16]!==c[3][3][16]&&(o[2]=!0),null===u?o[9]=[c]:u.push(c)}(E,c);const S=c[19];null!==S&&S.insertView(o),c[2]|=64}(m,f,E,_);const S=tI(_,E),T=f[11],M=bg(T,E[7]);return null!==M&&function WS(o,c,u,f,m,_){f[0]=m,f[6]=c,Bc(o,f,u,1,m,_)}(m,E[6],T,f,M,S),c.attachToViewContainerRef(),ya(mD(E),_,c),c}move(c,u){return this.insert(c,u)}indexOf(c){const u=x1(this._lContainer);return null!==u?u.indexOf(c):-1}remove(c){const u=this._adjustIndex(c,-1),f=Nb(this._lContainer,u);f&&(Pn(mD(this._lContainer),u),Ef(f[1],f))}detach(c){const u=this._adjustIndex(c,-1),f=Nb(this._lContainer,u);return f&&null!=Pn(mD(this._lContainer),u)?new kf(f):null}_adjustIndex(c,u=0){return c??this.length+u}};function x1(o){return o[8]}function mD(o){return o[8]||(o[8]=[])}function M1(o,c){let u;const f=c[o.index];if(xr(f))u=f;else{let m;if(8&o.type)m=ni(f);else{const _=c[11];m=_.createComment("");const E=mr(o,c);Uo(_,bg(_,E),m,function JS(o,c){return o.nextSibling(c)}(_,E),!1)}c[o.index]=u=$I(f,c,m,o),hd(c,u)}return new A1(u,o,c)}class gD{constructor(c){this.queryList=c,this.matches=null}clone(){return new gD(this.queryList)}setDirty(){this.queryList.setDirty()}}class _D{constructor(c=[]){this.queries=c}createEmbeddedView(c){const u=c.queries;if(null!==u){const f=null!==c.contentQueries?c.contentQueries[0]:u.length,m=[];for(let _=0;_<f;_++){const E=u.getByIndex(_);m.push(this.queries[E.indexInDeclarationView].clone())}return new _D(m)}return null}insertView(c){this.dirtyQueriesWithMatches(c)}detachView(c){this.dirtyQueriesWithMatches(c)}dirtyQueriesWithMatches(c){for(let u=0;u<this.queries.length;u++)null!==V1(c,u).matches&&this.queries[u].setDirty()}}class k1{constructor(c,u,f=null){this.predicate=c,this.flags=u,this.read=f}}class yD{constructor(c=[]){this.queries=c}elementStart(c,u){for(let f=0;f<this.queries.length;f++)this.queries[f].elementStart(c,u)}elementEnd(c){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(c)}embeddedTView(c){let u=null;for(let f=0;f<this.length;f++){const m=null!==u?u.length:0,_=this.getByIndex(f).embeddedTView(c,m);_&&(_.indexInDeclarationView=f,null!==u?u.push(_):u=[_])}return null!==u?new yD(u):null}template(c,u){for(let f=0;f<this.queries.length;f++)this.queries[f].template(c,u)}getByIndex(c){return this.queries[c]}get length(){return this.queries.length}track(c){this.queries.push(c)}}class vD{constructor(c,u=-1){this.metadata=c,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(c,u){this.isApplyingToNode(u)&&this.matchTNode(c,u)}elementEnd(c){this._declarationNodeIndex===c.index&&(this._appliesToNextNode=!1)}template(c,u){this.elementStart(c,u)}embeddedTView(c,u){return this.isApplyingToNode(c)?(this.crossesNgTemplate=!0,this.addMatch(-c.index,u),new vD(this.metadata)):null}isApplyingToNode(c){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let f=c.parent;for(;null!==f&&8&f.type&&f.index!==u;)f=f.parent;return u===(null!==f?f.index:-1)}return this._appliesToNextNode}matchTNode(c,u){const f=this.metadata.predicate;if(Array.isArray(f))for(let m=0;m<f.length;m++){const _=f[m];this.matchTNodeWithReadOption(c,u,x2(u,_)),this.matchTNodeWithReadOption(c,u,Tc(u,c,_,!1,!1))}else f===O_?4&u.type&&this.matchTNodeWithReadOption(c,u,-1):this.matchTNodeWithReadOption(c,u,Tc(u,c,f,!1,!1))}matchTNodeWithReadOption(c,u,f){if(null!==f){const m=this.metadata.read;if(null!==m)if(m===fl||m===yE||m===O_&&4&u.type)this.addMatch(u.index,-2);else{const _=Tc(u,c,m,!1,!1);null!==_&&this.addMatch(u.index,_)}else this.addMatch(u.index,f)}}addMatch(c,u){null===this.matches?this.matches=[c,u]:this.matches.push(c,u)}}function x2(o,c){const u=o.localNames;if(null!==u)for(let f=0;f<u.length;f+=2)if(u[f]===c)return u[f+1];return null}function k2(o,c,u,f){return-1===u?function M2(o,c){return 11&o.type?Xu(o,c):4&o.type?_E(o,c):null}(c,o):-2===u?function R2(o,c,u){return u===fl?Xu(c,o):u===O_?_E(c,o):u===yE?M1(c,o):void 0}(o,c,f):eo(o,o[1],u,c)}function R1(o,c,u,f){const m=c[19].queries[f];if(null===m.matches){const _=o.data,E=u.matches,S=[];for(let T=0;T<E.length;T+=2){const M=E[T];S.push(M<0?null:k2(c,_[M],E[T+1],u.metadata.read))}m.matches=S}return m.matches}function bD(o,c,u,f){const m=o.queries.getByIndex(u),_=m.matches;if(null!==_){const E=R1(o,c,m,u);for(let S=0;S<_.length;S+=2){const T=_[S];if(T>0)f.push(E[S/2]);else{const M=_[S+1],O=c[-T];for(let B=10;B<O.length;B++){const Z=O[B];Z[17]===Z[3]&&bD(Z[1],Z,M,f)}if(null!==O[9]){const B=O[9];for(let Z=0;Z<B.length;Z++){const le=B[Z];bD(le[1],le,M,f)}}}}}return f}function O1(o){const c=Be(),u=sn(),f=kh();Rh(f+1);const m=V1(u,f);if(o.dirty&&function Rv(o){return 4==(4&o[2])}(c)===(2==(2&m.metadata.flags))){if(null===m.matches)o.reset([]);else{const _=m.crossesNgTemplate?bD(u,c,f,[]):R1(u,c,m,f);o.reset(_,MS),o.notifyOnChanges()}return!0}return!1}function P1(o,c,u){const f=sn();f.firstCreatePass&&(B1(f,new k1(o,c,u),-1),2==(2&c)&&(f.staticViewQueries=!0)),L1(f,Be(),c)}function N1(o,c,u,f){const m=sn();if(m.firstCreatePass){const _=Di();B1(m,new k1(c,u,f),_.index),function P2(o,c){const u=o.contentQueries||(o.contentQueries=[]);c!==(u.length?u[u.length-1]:-1)&&u.push(o.queries.length-1,c)}(m,o),2==(2&u)&&(m.staticContentQueries=!0)}L1(m,Be(),u)}function F1(){return function O2(o,c){return o[19].queries[c].queryList}(Be(),kh())}function L1(o,c,u){const f=new gE(4==(4&u));PI(o,c,f,f.destroy),null===c[19]&&(c[19]=new _D),c[19].queries.push(new gD(f))}function B1(o,c,u){null===o.queries&&(o.queries=new yD),o.queries.track(new vD(c,u))}function V1(o,c){return o.queries.getByIndex(c)}function U1(o,c){return _E(o,c)}function ap(...o){}const DE=new Rn("Application Initializer");let Xc=(()=>{class o{constructor(u){this.appInits=u,this.resolve=ap,this.reject=ap,this.initialized=!1,this.done=!1,this.donePromise=new Promise((f,m)=>{this.resolve=f,this.reject=m})}runInitializers(){if(this.initialized)return;const u=[],f=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let m=0;m<this.appInits.length;m++){const _=this.appInits[m]();if(Bf(_))u.push(_);else if(tT(_)){const E=new Promise((S,T)=>{_.subscribe({complete:S,error:T})});u.push(E)}}Promise.all(u).then(()=>{f()}).catch(m=>{this.reject(m)}),0===u.length&&f(),this.initialized=!0}}return o.\u0275fac=function(u){return new(u||o)(Wt(DE,8))},o.\u0275prov=pn({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const j_=new Rn("AppId",{providedIn:"root",factory:function G_(){return`${lp()}${lp()}${lp()}`}});function lp(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const AE=new Rn("Platform Initializer"),RD=new Rn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),OD=new Rn("appBootstrapListener"),PD=new Rn("AnimationModuleType");let xE=(()=>{class o{log(u){console.log(u)}warn(u){console.warn(u)}}return o.\u0275fac=function(u){return new(u||o)},o.\u0275prov=pn({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();const W_=new Rn("LocaleId",{providedIn:"root",factory:()=>An(W_,dt.Optional|dt.SkipSelf)||function ND(){return typeof $localize<"u"&&$localize.locale||xi}()}),ME=new Rn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class ar{constructor(c,u){this.ngModuleFactory=c,this.componentFactories=u}}let q_=(()=>{class o{compileModuleSync(u){return new nD(u)}compileModuleAsync(u){return Promise.resolve(this.compileModuleSync(u))}compileModuleAndAllComponentsSync(u){const f=this.compileModuleSync(u),_=Aa(ft(u).declarations).reduce((E,S)=>{const T=P(S);return T&&E.push(new Rf(T)),E},[]);return new ar(f,_)}compileModuleAndAllComponentsAsync(u){return Promise.resolve(this.compileModuleAndAllComponentsSync(u))}clearCache(){}clearCacheFor(u){}getModuleId(u){}}return o.\u0275fac=function(u){return new(u||o)},o.\u0275prov=pn({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const OE=(()=>Promise.resolve(0))();function PE(o){typeof Zone>"u"?OE.then(()=>{o&&o.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",o)}class _s{constructor({enableLongStackTrace:c=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:f=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ba(!1),this.onMicrotaskEmpty=new Ba(!1),this.onStable=new Ba(!1),this.onError=new Ba(!1),typeof Zone>"u")throw new Le(908,!1);Zone.assertZonePatched();const m=this;if(m._nesting=0,m._outer=m._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const _=Zone.AsyncStackTaggingZoneSpec;m._inner=m._inner.fork(new _("Angular"))}Zone.TaskTrackingZoneSpec&&(m._inner=m._inner.fork(new Zone.TaskTrackingZoneSpec)),c&&Zone.longStackTraceZoneSpec&&(m._inner=m._inner.fork(Zone.longStackTraceZoneSpec)),m.shouldCoalesceEventChangeDetection=!f&&u,m.shouldCoalesceRunChangeDetection=f,m.lastRequestAnimationFrameId=-1,m.nativeRequestAnimationFrame=function NE(){let o=$t.requestAnimationFrame,c=$t.cancelAnimationFrame;if(typeof Zone<"u"&&o&&c){const u=o[Zone.__symbol__("OriginalDelegate")];u&&(o=u);const f=c[Zone.__symbol__("OriginalDelegate")];f&&(c=f)}return{nativeRequestAnimationFrame:o,nativeCancelAnimationFrame:c}}().nativeRequestAnimationFrame,function LE(o){const c=()=>{!function FE(o){o.isCheckStableRunning||-1!==o.lastRequestAnimationFrameId||(o.lastRequestAnimationFrameId=o.nativeRequestAnimationFrame.call($t,()=>{o.fakeTopEventTask||(o.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{o.lastRequestAnimationFrameId=-1,Y_(o),o.isCheckStableRunning=!0,Td(o),o.isCheckStableRunning=!1},void 0,()=>{},()=>{})),o.fakeTopEventTask.invoke()}),Y_(o))}(o)};o._inner=o._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,f,m,_,E,S)=>{try{return VD(o),u.invokeTask(m,_,E,S)}finally{(o.shouldCoalesceEventChangeDetection&&"eventTask"===_.type||o.shouldCoalesceRunChangeDetection)&&c(),Dd(o)}},onInvoke:(u,f,m,_,E,S,T)=>{try{return VD(o),u.invoke(m,_,E,S,T)}finally{o.shouldCoalesceRunChangeDetection&&c(),Dd(o)}},onHasTask:(u,f,m,_)=>{u.hasTask(m,_),f===m&&("microTask"==_.change?(o._hasPendingMicrotasks=_.microTask,Y_(o),Td(o)):"macroTask"==_.change&&(o.hasPendingMacrotasks=_.macroTask))},onHandleError:(u,f,m,_)=>(u.handleError(m,_),o.runOutsideAngular(()=>o.onError.emit(_)),!1)})}(m)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!_s.isInAngularZone())throw new Le(909,!1)}static assertNotInAngularZone(){if(_s.isInAngularZone())throw new Le(909,!1)}run(c,u,f){return this._inner.run(c,u,f)}runTask(c,u,f,m){const _=this._inner,E=_.scheduleEventTask("NgZoneEvent: "+m,c,K1,ap,ap);try{return _.runTask(E,u,f)}finally{_.cancelTask(E)}}runGuarded(c,u,f){return this._inner.runGuarded(c,u,f)}runOutsideAngular(c){return this._outer.run(c)}}const K1={};function Td(o){if(0==o._nesting&&!o.hasPendingMicrotasks&&!o.isStable)try{o._nesting++,o.onMicrotaskEmpty.emit(null)}finally{if(o._nesting--,!o.hasPendingMicrotasks)try{o.runOutsideAngular(()=>o.onStable.emit(null))}finally{o.isStable=!0}}}function Y_(o){o.hasPendingMicrotasks=!!(o._hasPendingMicrotasks||(o.shouldCoalesceEventChangeDetection||o.shouldCoalesceRunChangeDetection)&&-1!==o.lastRequestAnimationFrameId)}function VD(o){o._nesting++,o.isStable&&(o.isStable=!1,o.onUnstable.emit(null))}function Dd(o){o._nesting--,Td(o)}class UD{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ba,this.onMicrotaskEmpty=new Ba,this.onStable=new Ba,this.onError=new Ba}run(c,u,f){return c.apply(u,f)}runGuarded(c,u,f){return c.apply(u,f)}runOutsideAngular(c){return c()}runTask(c,u,f,m){return c.apply(u,f)}}const BE=new Rn(""),VE=new Rn("");let Rl,Z_=(()=>{class o{constructor(u,f,m){this._ngZone=u,this.registry=f,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Rl||(function Q1(o){Rl=o}(m),m.addToWindow(f)),this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{_s.assertNotInAngularZone(),PE(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())PE(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(f=>!f.updateCb||!f.updateCb(u)||(clearTimeout(f.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,f,m){let _=-1;f&&f>0&&(_=setTimeout(()=>{this._callbacks=this._callbacks.filter(E=>E.timeoutId!==_),u(this._didWork,this.getPendingTasks())},f)),this._callbacks.push({doneCb:u,timeoutId:_,updateCb:m})}whenStable(u,f,m){if(m&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,f,m),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(u){this.registry.registerApplication(u,this)}unregisterApplication(u){this.registry.unregisterApplication(u)}findProviders(u,f,m){return[]}}return o.\u0275fac=function(u){return new(u||o)(Wt(_s),Wt($D),Wt(VE))},o.\u0275prov=pn({token:o,factory:o.\u0275fac}),o})(),$D=(()=>{class o{constructor(){this._applications=new Map}registerApplication(u,f){this._applications.set(u,f)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,f=!0){return Rl?.findTestabilityInTree(this,u,f)??null}}return o.\u0275fac=function(u){return new(u||o)},o.\u0275prov=pn({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})(),Ol=null;const HD=new Rn("AllowMultipleToken"),Va=new Rn("PlatformDestroyListeners");class zD{constructor(c,u){this.name=c,this.token=u}}function $E(o,c,u=[]){const f=`Platform: ${c}`,m=new Rn(f);return(_=[])=>{let E=Jc();if(!E||E.injector.get(HD,!1)){const S=[...u,..._,{provide:m,useValue:!0}];o?o(S):function Pr(o){if(Ol&&!Ol.get(HD,!1))throw new Le(400,!1);Ol=o;const c=o.get(Q_);(function Ad(o){const c=o.get(AE,null);c&&c.forEach(u=>u())})(o)}(function zE(o=[],c){return ml.create({name:c,providers:[{provide:eg,useValue:"platform"},{provide:Va,useValue:new Set([()=>Ol=null])},...o]})}(S,f))}return function HE(o){const c=Jc();if(!c)throw new Le(401,!1);return c}()}}function Jc(){return Ol?.get(Q_)??null}let Q_=(()=>{class o{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,f){const m=function J_(o,c){let u;return u="noop"===o?new UD:("zone.js"===o?void 0:o)||new _s(c),u}(f?.ngZone,function X_(o){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!o||!o.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!o||!o.ngZoneRunCoalescing)||!1}}(f)),_=[{provide:_s,useValue:m}];return m.run(()=>{const E=ml.create({providers:_,parent:this.injector,name:u.moduleType.name}),S=u.create(E),T=S.injector.get(yf,null);if(!T)throw new Le(402,!1);return m.runOutsideAngular(()=>{const M=m.onError.subscribe({next:O=>{T.handleError(O)}});S.onDestroy(()=>{ey(this._modules,S),M.unsubscribe()})}),function up(o,c,u){try{const f=u();return Bf(f)?f.catch(m=>{throw c.runOutsideAngular(()=>o.handleError(m)),m}):f}catch(f){throw c.runOutsideAngular(()=>o.handleError(f)),f}}(T,m,()=>{const M=S.injector.get(Xc);return M.runInitializers(),M.donePromise.then(()=>(function AT(o){en(o,"Expected localeId to be defined"),"string"==typeof o&&(jR=o.toLowerCase().replace(/_/g,"-"))}(S.injector.get(W_,xi)||xi),this._moduleDoBootstrap(S),S))})})}bootstrapModule(u,f=[]){const m=xd({},f);return function K_(o,c,u){const f=new nD(u);return Promise.resolve(f)}(0,0,u).then(_=>this.bootstrapModuleFactory(_,m))}_moduleDoBootstrap(u){const f=u.injector.get(dp);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(m=>f.bootstrap(m));else{if(!u.instance.ngDoBootstrap)throw new Le(403,!1);u.instance.ngDoBootstrap(f)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Le(404,!1);this._modules.slice().forEach(f=>f.destroy()),this._destroyListeners.forEach(f=>f());const u=this._injector.get(Va,null);u&&(u.forEach(f=>f()),u.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return o.\u0275fac=function(u){return new(u||o)(Wt(ml))},o.\u0275prov=pn({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();function xd(o,c){return Array.isArray(c)?c.reduce(xd,o):{...o,...c}}let dp=(()=>{class o{constructor(u,f,m){this._zone=u,this._injector=f,this._exceptionHandler=m,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const _=new H.y(S=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{S.next(this._stable),S.complete()})}),E=new H.y(S=>{let T;this._zone.runOutsideAngular(()=>{T=this._zone.onStable.subscribe(()=>{_s.assertNotInAngularZone(),PE(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,S.next(!0))})})});const M=this._zone.onUnstable.subscribe(()=>{_s.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{S.next(!1)}))});return()=>{T.unsubscribe(),M.unsubscribe()}});this.isStable=(0,ve.T)(_,E.pipe((0,Fe.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(u,f){const m=u instanceof _b;if(!this._injector.get(Xc).done)throw!m&&Ve(u),new Le(405,false);let E;E=m?u:this._injector.get(Lc).resolveComponentFactory(u),this.componentTypes.push(E.componentType);const S=function cp(o){return o.isBoundToModule}(E)?void 0:this._injector.get(Zc),M=E.create(ml.NULL,[],f||E.selector,S),O=M.location.nativeElement,B=M.injector.get(BE,null);return B?.registerApplication(O),M.onDestroy(()=>{this.detachView(M.hostView),ey(this.components,M),B?.unregisterApplication(O)}),this._loadComponent(M),M}tick(){if(this._runningTick)throw new Le(101,!1);try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(u))}finally{this._runningTick=!1}}attachView(u){const f=u;this._views.push(f),f.attachToAppRef(this)}detachView(u){const f=u;ey(this._views,f),f.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u),this._injector.get(OD,[]).concat(this._bootstrapListeners).forEach(m=>m(u))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(u=>u()),this._views.slice().forEach(u=>u.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(u){return this._destroyListeners.push(u),()=>ey(this._destroyListeners,u)}destroy(){if(this._destroyed)throw new Le(406,!1);const u=this._injector;u.destroy&&!u.destroyed&&u.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return o.\u0275fac=function(u){return new(u||o)(Wt(_s),Wt(Bo),Wt(yf))},o.\u0275prov=pn({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function ey(o,c){const u=o.indexOf(c);u>-1&&o.splice(u,1)}let iy=!0,jE=!1;function GD(){return jE=!0,iy}function WD(){if(jE)throw new Error("Cannot enable prod mode after platform setup.");iy=!1}let sy=(()=>{class o{}return o.__NG_ELEMENT_ID__=hp,o})();function hp(o){return function eu(o,c,u){if(wo(o)&&!u){const f=vn(o.index,c);return new kf(f,f)}return 47&o.type?new kf(c[16],c):null}(Di(),Be(),16==(16&o))}class $a{constructor(){}supports(c){return jc(c)}create(c){return new ZD(c)}}const YD=(o,c)=>c;class ZD{constructor(c){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=c||YD}forEachItem(c){let u;for(u=this._itHead;null!==u;u=u._next)c(u)}forEachOperation(c){let u=this._itHead,f=this._removalsHead,m=0,_=null;for(;u||f;){const E=!f||u&&u.currentIndex<XD(f,m,_)?u:f,S=XD(E,m,_),T=E.currentIndex;if(E===f)m--,f=f._nextRemoved;else if(u=u._next,null==E.previousIndex)m++;else{_||(_=[]);const M=S-m,O=T-m;if(M!=O){for(let Z=0;Z<M;Z++){const le=Z<_.length?_[Z]:_[Z]=0,De=le+Z;O<=De&&De<M&&(_[Z]=le+1)}_[E.previousIndex]=O-M}}S!==T&&c(E,S,T)}}forEachPreviousItem(c){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)c(u)}forEachAddedItem(c){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)c(u)}forEachMovedItem(c){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)c(u)}forEachRemovedItem(c){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)c(u)}forEachIdentityChange(c){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)c(u)}diff(c){if(null==c&&(c=[]),!jc(c))throw new Le(900,!1);return this.check(c)?this:null}onDestroy(){}check(c){this._reset();let m,_,E,u=this._itHead,f=!1;if(Array.isArray(c)){this.length=c.length;for(let S=0;S<this.length;S++)_=c[S],E=this._trackByFn(S,_),null!==u&&Object.is(u.trackById,E)?(f&&(u=this._verifyReinsertion(u,_,E,S)),Object.is(u.item,_)||this._addIdentityChange(u,_)):(u=this._mismatch(u,_,E,S),f=!0),u=u._next}else m=0,function I0(o,c){if(Array.isArray(o))for(let u=0;u<o.length;u++)c(o[u]);else{const u=o[Sl()]();let f;for(;!(f=u.next()).done;)c(f.value)}}(c,S=>{E=this._trackByFn(m,S),null!==u&&Object.is(u.trackById,E)?(f&&(u=this._verifyReinsertion(u,S,E,m)),Object.is(u.item,S)||this._addIdentityChange(u,S)):(u=this._mismatch(u,S,E,m),f=!0),u=u._next,m++}),this.length=m;return this._truncate(u),this.collection=c,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let c;for(c=this._previousItHead=this._itHead;null!==c;c=c._next)c._nextPrevious=c._next;for(c=this._additionsHead;null!==c;c=c._nextAdded)c.previousIndex=c.currentIndex;for(this._additionsHead=this._additionsTail=null,c=this._movesHead;null!==c;c=c._nextMoved)c.previousIndex=c.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(c,u,f,m){let _;return null===c?_=this._itTail:(_=c._prev,this._remove(c)),null!==(c=null===this._unlinkedRecords?null:this._unlinkedRecords.get(f,null))?(Object.is(c.item,u)||this._addIdentityChange(c,u),this._reinsertAfter(c,_,m)):null!==(c=null===this._linkedRecords?null:this._linkedRecords.get(f,m))?(Object.is(c.item,u)||this._addIdentityChange(c,u),this._moveAfter(c,_,m)):c=this._addAfter(new KD(u,f),_,m),c}_verifyReinsertion(c,u,f,m){let _=null===this._unlinkedRecords?null:this._unlinkedRecords.get(f,null);return null!==_?c=this._reinsertAfter(_,c._prev,m):c.currentIndex!=m&&(c.currentIndex=m,this._addToMoves(c,m)),c}_truncate(c){for(;null!==c;){const u=c._next;this._addToRemovals(this._unlink(c)),c=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(c,u,f){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(c);const m=c._prevRemoved,_=c._nextRemoved;return null===m?this._removalsHead=_:m._nextRemoved=_,null===_?this._removalsTail=m:_._prevRemoved=m,this._insertAfter(c,u,f),this._addToMoves(c,f),c}_moveAfter(c,u,f){return this._unlink(c),this._insertAfter(c,u,f),this._addToMoves(c,f),c}_addAfter(c,u,f){return this._insertAfter(c,u,f),this._additionsTail=null===this._additionsTail?this._additionsHead=c:this._additionsTail._nextAdded=c,c}_insertAfter(c,u,f){const m=null===u?this._itHead:u._next;return c._next=m,c._prev=u,null===m?this._itTail=c:m._prev=c,null===u?this._itHead=c:u._next=c,null===this._linkedRecords&&(this._linkedRecords=new QD),this._linkedRecords.put(c),c.currentIndex=f,c}_remove(c){return this._addToRemovals(this._unlink(c))}_unlink(c){null!==this._linkedRecords&&this._linkedRecords.remove(c);const u=c._prev,f=c._next;return null===u?this._itHead=f:u._next=f,null===f?this._itTail=u:f._prev=u,c}_addToMoves(c,u){return c.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=c:this._movesTail._nextMoved=c),c}_addToRemovals(c){return null===this._unlinkedRecords&&(this._unlinkedRecords=new QD),this._unlinkedRecords.put(c),c.currentIndex=null,c._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=c,c._prevRemoved=null):(c._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=c),c}_addIdentityChange(c,u){return c.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=c:this._identityChangesTail._nextIdentityChange=c,c}}class KD{constructor(c,u){this.item=c,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class kd{constructor(){this._head=null,this._tail=null}add(c){null===this._head?(this._head=this._tail=c,c._nextDup=null,c._prevDup=null):(this._tail._nextDup=c,c._prevDup=this._tail,c._nextDup=null,this._tail=c)}get(c,u){let f;for(f=this._head;null!==f;f=f._nextDup)if((null===u||u<=f.currentIndex)&&Object.is(f.trackById,c))return f;return null}remove(c){const u=c._prevDup,f=c._nextDup;return null===u?this._head=f:u._nextDup=f,null===f?this._tail=u:f._prevDup=u,null===this._head}}class QD{constructor(){this.map=new Map}put(c){const u=c.trackById;let f=this.map.get(u);f||(f=new kd,this.map.set(u,f)),f.add(c)}get(c,u){const m=this.map.get(c);return m?m.get(c,u):null}remove(c){const u=c.trackById;return this.map.get(u).remove(c)&&this.map.delete(u),c}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function XD(o,c,u){const f=o.previousIndex;if(null===f)return f;let m=0;return u&&f<u.length&&(m=u[f]),f+c+m}class qE{constructor(){}supports(c){return c instanceof Map||jg(c)}create(){return new iO}}class iO{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(c){let u;for(u=this._mapHead;null!==u;u=u._next)c(u)}forEachPreviousItem(c){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)c(u)}forEachChangedItem(c){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)c(u)}forEachAddedItem(c){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)c(u)}forEachRemovedItem(c){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)c(u)}diff(c){if(c){if(!(c instanceof Map||jg(c)))throw new Le(900,!1)}else c=new Map;return this.check(c)?this:null}onDestroy(){}check(c){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(c,(f,m)=>{if(u&&u.key===m)this._maybeAddToChanges(u,f),this._appendAfter=u,u=u._next;else{const _=this._getOrCreateRecordForKey(m,f);u=this._insertBeforeOrAppend(u,_)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let f=u;null!==f;f=f._nextRemoved)f===this._mapHead&&(this._mapHead=null),this._records.delete(f.key),f._nextRemoved=f._next,f.previousValue=f.currentValue,f.currentValue=null,f._prev=null,f._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(c,u){if(c){const f=c._prev;return u._next=c,u._prev=f,c._prev=u,f&&(f._next=u),c===this._mapHead&&(this._mapHead=u),this._appendAfter=c,c}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(c,u){if(this._records.has(c)){const m=this._records.get(c);this._maybeAddToChanges(m,u);const _=m._prev,E=m._next;return _&&(_._next=E),E&&(E._prev=_),m._next=null,m._prev=null,m}const f=new JD(c);return this._records.set(c,f),f.currentValue=u,this._addToAdditions(f),f}_reset(){if(this.isDirty){let c;for(this._previousMapHead=this._mapHead,c=this._previousMapHead;null!==c;c=c._next)c._nextPrevious=c._next;for(c=this._changesHead;null!==c;c=c._nextChanged)c.previousValue=c.currentValue;for(c=this._additionsHead;null!=c;c=c._nextAdded)c.previousValue=c.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(c,u){Object.is(u,c.currentValue)||(c.previousValue=c.currentValue,c.currentValue=u,this._addToChanges(c))}_addToAdditions(c){null===this._additionsHead?this._additionsHead=this._additionsTail=c:(this._additionsTail._nextAdded=c,this._additionsTail=c)}_addToChanges(c){null===this._changesHead?this._changesHead=this._changesTail=c:(this._changesTail._nextChanged=c,this._changesTail=c)}_forEach(c,u){c instanceof Map?c.forEach(u):Object.keys(c).forEach(f=>u(c[f],f))}}class JD{constructor(c){this.key=c,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function YE(){return new mp([new $a])}let mp=(()=>{class o{constructor(u){this.factories=u}static create(u,f){if(null!=f){const m=f.factories.slice();u=u.concat(m)}return new o(u)}static extend(u){return{provide:o,useFactory:f=>o.create(u,f||YE()),deps:[[o,new Ca,new kn]]}}find(u){const f=this.factories.find(m=>m.supports(u));if(null!=f)return f;throw new Le(901,!1)}}return o.\u0275prov=pn({token:o,providedIn:"root",factory:YE}),o})();function ZE(){return new uy([new qE])}let uy=(()=>{class o{constructor(u){this.factories=u}static create(u,f){if(f){const m=f.factories.slice();u=u.concat(m)}return new o(u)}static extend(u){return{provide:o,useFactory:f=>o.create(u,f||ZE()),deps:[[o,new Ca,new kn]]}}find(u){const f=this.factories.find(m=>m.supports(u));if(f)return f;throw new Le(901,!1)}}return o.\u0275prov=pn({token:o,providedIn:"root",factory:ZE}),o})();const dy=$E(null,"core",[]);let gp=(()=>{class o{constructor(u){}}return o.\u0275fac=function(u){return new(u||o)(Wt(dp))},o.\u0275mod=un({type:o}),o.\u0275inj=zt({}),o})();function hy(o){return"boolean"==typeof o?o:null!=o&&"false"!==o}},3942:(At,He,z)=>{z.d(He,{Z:()=>Le});var l=z(2090),W=z(4859),H=z(9681),ve=z(1877);class Fe{constructor(me,Se){this._delegate=me,this.firebase=Se,(0,H._addComponent)(me,new W.wA("app-compat",()=>this,"PUBLIC")),this.container=me.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(me){this._delegate.automaticDataCollectionEnabled=me}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(me=>{this._delegate.checkDestroyed(),me()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,H.deleteApp)(this._delegate)))}_getService(me,Se=H._DEFAULT_ENTRY_NAME){var mt;this._delegate.checkDestroyed();const gt=this._delegate.container.getProvider(me);return!gt.isInitialized()&&"EXPLICIT"===(null===(mt=gt.getComponent())||void 0===mt?void 0:mt.instantiationMode)&&gt.initialize(),gt.getImmediate({identifier:Se})}_removeServiceInstance(me,Se=H._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(me).clearInstance(Se)}_addComponent(me){(0,H._addComponent)(this._delegate,me)}_addOrOverwriteComponent(me){(0,H._addOrOverwriteComponent)(this._delegate,me)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const we=new l.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),K=function Ze(){const ut=function ke(ut){const me={},Se={__esModule:!0,initializeApp:function Ge(de,fe={}){const Te=H.initializeApp(de,fe);if((0,l.r3)(me,Te.name))return me[Te.name];const ne=new ut(Te,Se);return me[Te.name]=ne,ne},app:gt,registerVersion:H.registerVersion,setLogLevel:H.setLogLevel,onLog:H.onLog,apps:null,SDK_VERSION:H.SDK_VERSION,INTERNAL:{registerComponent:function Ae(de){const fe=de.name,Te=fe.replace("-compat","");if(H._registerComponent(de)&&"PUBLIC"===de.type){const ne=(ie=gt())=>{if("function"!=typeof ie[Te])throw we.create("invalid-app-argument",{appName:fe});return ie[Te]()};void 0!==de.serviceProps&&(0,l.ZB)(ne,de.serviceProps),Se[Te]=ne,ut.prototype[Te]=function(...ie){return this._getService.bind(this,fe).apply(this,de.multipleInstances?ie:[])}}return"PUBLIC"===de.type?Se[Te]:null},removeApp:function mt(de){delete me[de]},useAsService:function Je(de,fe){return"serverAuth"===fe?null:fe},modularAPIs:H}};function gt(de){if(!(0,l.r3)(me,de=de||H._DEFAULT_ENTRY_NAME))throw we.create("no-app",{appName:de});return me[de]}return Se.default=Se,Object.defineProperty(Se,"apps",{get:function Pe(){return Object.keys(me).map(de=>me[de])}}),gt.App=ut,Se}(Fe);return ut.INTERNAL=Object.assign(Object.assign({},ut.INTERNAL),{createFirebaseNamespace:Ze,extendNamespace:function me(Se){(0,l.ZB)(ut,Se)},createSubscribe:l.ne,ErrorFactory:l.LL,deepExtend:l.ZB}),ut}(),Q=new ve.Yd("@firebase/app-compat");if((0,l.jU)()&&void 0!==self.firebase){Q.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const ut=self.firebase.SDK_VERSION;ut&&ut.indexOf("LITE")>=0&&Q.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Le=K;!function Qe(ut){(0,H.registerVersion)("@firebase/app-compat","0.1.39",ut)}()},9681:(At,He,z)=>{z.r(He),z.d(He,{FirebaseError:()=>ve.ZR,SDK_VERSION:()=>xs,_DEFAULT_ENTRY_NAME:()=>en,_addComponent:()=>Dn,_addOrOverwriteComponent:()=>pn,_apps:()=>Tn,_clearComponents:()=>As,_components:()=>hi,_getProvider:()=>zt,_registerComponent:()=>tn,_removeServiceInstance:()=>er,deleteApp:()=>Eo,getApp:()=>tr,getApps:()=>Ks,initializeApp:()=>hr,onLog:()=>Ii,registerVersion:()=>Pi,setLogLevel:()=>Un});var l=z(5861),W=z(4859),H=z(1877),ve=z(2090),Fe=z(8766);class Oe{constructor(Re){this.container=Re}getPlatformInfoString(){return this.container.getProviders().map(ht=>{if(function we(lt){return"VERSION"===lt.getComponent()?.type}(ht)){const Mt=ht.getImmediate();return`${Mt.library}/${Mt.version}`}return null}).filter(ht=>ht).join(" ")}}const ke="@firebase/app",K=new H.Yd("@firebase/app"),en="[DEFAULT]",et={[ke]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Tn=new Map,hi=new Map;function Dn(lt,Re){try{lt.container.addComponent(Re)}catch(ht){K.debug(`Component ${Re.name} failed to register with FirebaseApp ${lt.name}`,ht)}}function pn(lt,Re){lt.container.addOrOverwriteComponent(Re)}function tn(lt){const Re=lt.name;if(hi.has(Re))return K.debug(`There were multiple attempts to register component ${Re}.`),!1;hi.set(Re,lt);for(const ht of Tn.values())Dn(ht,lt);return!0}function zt(lt,Re){const ht=lt.container.getProvider("heartbeat").getImmediate({optional:!0});return ht&&ht.triggerHeartbeat(),lt.container.getProvider(Re)}function er(lt,Re,ht=en){zt(lt,Re).clearInstance(ht)}function As(){hi.clear()}const oi=new ve.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Zs{constructor(Re,ht,Mt){this._isDeleted=!1,this._options=Object.assign({},Re),this._config=Object.assign({},ht),this._name=ht.name,this._automaticDataCollectionEnabled=ht.automaticDataCollectionEnabled,this._container=Mt,this.container.addComponent(new W.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Re){this.checkDestroyed(),this._automaticDataCollectionEnabled=Re}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Re){this._isDeleted=Re}checkDestroyed(){if(this.isDeleted)throw oi.create("app-deleted",{appName:this._name})}}const xs="9.14.0";function hr(lt,Re={}){let ht=lt;"object"!=typeof Re&&(Re={name:Re});const Mt=Object.assign({name:en,automaticDataCollectionEnabled:!1},Re),Rt=Mt.name;if("string"!=typeof Rt||!Rt)throw oi.create("bad-app-name",{appName:String(Rt)});if(ht||(ht=(0,ve.aH)()),!ht)throw oi.create("no-options");const un=Tn.get(Rt);if(un){if((0,ve.vZ)(ht,un.options)&&(0,ve.vZ)(Mt,un.config))return un;throw oi.create("duplicate-app",{appName:Rt})}const Y=new W.H0(Rt);for(const X of hi.values())Y.addComponent(X);const G=new Zs(ht,Mt,Y);return Tn.set(Rt,G),G}function tr(lt=en){const Re=Tn.get(lt);if(!Re&&lt===en)return hr();if(!Re)throw oi.create("no-app",{appName:lt});return Re}function Ks(){return Array.from(Tn.values())}function Eo(lt){return dt.apply(this,arguments)}function dt(){return(dt=(0,l.Z)(function*(lt){const Re=lt.name;Tn.has(Re)&&(Tn.delete(Re),yield Promise.all(lt.container.getProviders().map(ht=>ht.delete())),lt.isDeleted=!0)})).apply(this,arguments)}function Pi(lt,Re,ht){var Mt;let Rt=null!==(Mt=et[lt])&&void 0!==Mt?Mt:lt;ht&&(Rt+=`-${ht}`);const un=Rt.match(/\s|\//),Y=Re.match(/\s|\//);if(un||Y){const G=[`Unable to register library "${Rt}" with version "${Re}":`];return un&&G.push(`library name "${Rt}" contains illegal characters (whitespace or "/")`),un&&Y&&G.push("and"),Y&&G.push(`version name "${Re}" contains illegal characters (whitespace or "/")`),void K.warn(G.join(" "))}tn(new W.wA(`${Rt}-version`,()=>({library:Rt,version:Re}),"VERSION"))}function Ii(lt,Re){if(null!==lt&&"function"!=typeof lt)throw oi.create("invalid-log-argument");(0,H.Am)(lt,Re)}function Un(lt){(0,H.Ub)(lt)}const $n="firebase-heartbeat-store";let Wn=null;function Mn(){return Wn||(Wn=(0,Fe.X3)("firebase-heartbeat-database",1,{upgrade:(lt,Re)=>{0===Re&&lt.createObjectStore($n)}}).catch(lt=>{throw oi.create("idb-open",{originalErrorMessage:lt.message})})),Wn}function St(){return(St=(0,l.Z)(function*(lt){var Re;try{return(yield Mn()).transaction($n).objectStore($n).get(Ti(lt))}catch(ht){if(ht instanceof ve.ZR)K.warn(ht.message);else{const Mt=oi.create("idb-get",{originalErrorMessage:null===(Re=ht)||void 0===Re?void 0:Re.message});K.warn(Mt.message)}}})).apply(this,arguments)}function $t(lt,Re){return Dr.apply(this,arguments)}function Dr(){return(Dr=(0,l.Z)(function*(lt,Re){var ht;try{const Rt=(yield Mn()).transaction($n,"readwrite");return yield Rt.objectStore($n).put(Re,Ti(lt)),Rt.done}catch(Mt){if(Mt instanceof ve.ZR)K.warn(Mt.message);else{const Rt=oi.create("idb-set",{originalErrorMessage:null===(ht=Mt)||void 0===ht?void 0:ht.message});K.warn(Rt.message)}}})).apply(this,arguments)}function Ti(lt){return`${lt.name}!${lt.options.appId}`}class pr{constructor(Re){this.container=Re,this._heartbeatsCache=null;const ht=this.container.getProvider("app").getImmediate();this._storage=new an(ht),this._heartbeatsCachePromise=this._storage.read().then(Mt=>(this._heartbeatsCache=Mt,Mt))}triggerHeartbeat(){var Re=this;return(0,l.Z)(function*(){const Mt=Re.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Rt=Ht();if(null===Re._heartbeatsCache&&(Re._heartbeatsCache=yield Re._heartbeatsCachePromise),Re._heartbeatsCache.lastSentHeartbeatDate!==Rt&&!Re._heartbeatsCache.heartbeats.some(un=>un.date===Rt))return Re._heartbeatsCache.heartbeats.push({date:Rt,agent:Mt}),Re._heartbeatsCache.heartbeats=Re._heartbeatsCache.heartbeats.filter(un=>{const Y=new Date(un.date).valueOf();return Date.now()-Y<=2592e6}),Re._storage.overwrite(Re._heartbeatsCache)})()}getHeartbeatsHeader(){var Re=this;return(0,l.Z)(function*(){if(null===Re._heartbeatsCache&&(yield Re._heartbeatsCachePromise),null===Re._heartbeatsCache||0===Re._heartbeatsCache.heartbeats.length)return"";const ht=Ht(),{heartbeatsToSend:Mt,unsentEntries:Rt}=function ss(lt,Re=1024){const ht=[];let Mt=lt.slice();for(const Rt of lt){const un=ht.find(Y=>Y.agent===Rt.agent);if(un){if(un.dates.push(Rt.date),Hi(ht)>Re){un.dates.pop();break}}else if(ht.push({agent:Rt.agent,dates:[Rt.date]}),Hi(ht)>Re){ht.pop();break}Mt=Mt.slice(1)}return{heartbeatsToSend:ht,unsentEntries:Mt}}(Re._heartbeatsCache.heartbeats),un=(0,ve.L)(JSON.stringify({version:2,heartbeats:Mt}));return Re._heartbeatsCache.lastSentHeartbeatDate=ht,Rt.length>0?(Re._heartbeatsCache.heartbeats=Rt,yield Re._storage.overwrite(Re._heartbeatsCache)):(Re._heartbeatsCache.heartbeats=[],Re._storage.overwrite(Re._heartbeatsCache)),un})()}}function Ht(){return(new Date).toISOString().substring(0,10)}class an{constructor(Re){this.app=Re,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,l.Z)(function*(){return!!(0,ve.hl)()&&(0,ve.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Re=this;return(0,l.Z)(function*(){return(yield Re._canUseIndexedDBPromise)&&(yield function Ct(lt){return St.apply(this,arguments)}(Re.app))||{heartbeats:[]}})()}overwrite(Re){var ht=this;return(0,l.Z)(function*(){var Mt;if(yield ht._canUseIndexedDBPromise){const un=yield ht.read();return $t(ht.app,{lastSentHeartbeatDate:null!==(Mt=Re.lastSentHeartbeatDate)&&void 0!==Mt?Mt:un.lastSentHeartbeatDate,heartbeats:Re.heartbeats})}})()}add(Re){var ht=this;return(0,l.Z)(function*(){var Mt;if(yield ht._canUseIndexedDBPromise){const un=yield ht.read();return $t(ht.app,{lastSentHeartbeatDate:null!==(Mt=Re.lastSentHeartbeatDate)&&void 0!==Mt?Mt:un.lastSentHeartbeatDate,heartbeats:[...un.heartbeats,...Re.heartbeats]})}})()}}function Hi(lt){return(0,ve.L)(JSON.stringify({version:2,heartbeats:lt})).length}!function ti(lt){tn(new W.wA("platform-logger",Re=>new Oe(Re),"PRIVATE")),tn(new W.wA("heartbeat",Re=>new pr(Re),"PRIVATE")),Pi(ke,"0.8.4",lt),Pi(ke,"0.8.4","esm2017"),Pi("fire-js","")}("")},4859:(At,He,z)=>{z.d(He,{H0:()=>ke,wA:()=>H});var l=z(5861),W=z(2090);class H{constructor(K,Q,re){this.name=K,this.instanceFactory=Q,this.type=re,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(K){return this.instantiationMode=K,this}setMultipleInstances(K){return this.multipleInstances=K,this}setServiceProps(K){return this.serviceProps=K,this}setInstanceCreatedCallback(K){return this.onInstanceCreated=K,this}}const ve="[DEFAULT]";class Fe{constructor(K,Q){this.name=K,this.container=Q,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(K){const Q=this.normalizeInstanceIdentifier(K);if(!this.instancesDeferred.has(Q)){const re=new W.BH;if(this.instancesDeferred.set(Q,re),this.isInitialized(Q)||this.shouldAutoInitialize())try{const Xe=this.getOrInitializeService({instanceIdentifier:Q});Xe&&re.resolve(Xe)}catch{}}return this.instancesDeferred.get(Q).promise}getImmediate(K){var Q;const re=this.normalizeInstanceIdentifier(K?.identifier),Xe=null!==(Q=K?.optional)&&void 0!==Q&&Q;if(!this.isInitialized(re)&&!this.shouldAutoInitialize()){if(Xe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:re})}catch(Qe){if(Xe)return null;throw Qe}}getComponent(){return this.component}setComponent(K){if(K.name!==this.name)throw Error(`Mismatching Component ${K.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=K,this.shouldAutoInitialize()){if(function we(Ze){return"EAGER"===Ze.instantiationMode}(K))try{this.getOrInitializeService({instanceIdentifier:ve})}catch{}for(const[Q,re]of this.instancesDeferred.entries()){const Xe=this.normalizeInstanceIdentifier(Q);try{const Qe=this.getOrInitializeService({instanceIdentifier:Xe});re.resolve(Qe)}catch{}}}}clearInstance(K=ve){this.instancesDeferred.delete(K),this.instancesOptions.delete(K),this.instances.delete(K)}delete(){var K=this;return(0,l.Z)(function*(){const Q=Array.from(K.instances.values());yield Promise.all([...Q.filter(re=>"INTERNAL"in re).map(re=>re.INTERNAL.delete()),...Q.filter(re=>"_delete"in re).map(re=>re._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(K=ve){return this.instances.has(K)}getOptions(K=ve){return this.instancesOptions.get(K)||{}}initialize(K={}){const{options:Q={}}=K,re=this.normalizeInstanceIdentifier(K.instanceIdentifier);if(this.isInitialized(re))throw Error(`${this.name}(${re}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Xe=this.getOrInitializeService({instanceIdentifier:re,options:Q});for(const[Qe,Le]of this.instancesDeferred.entries())re===this.normalizeInstanceIdentifier(Qe)&&Le.resolve(Xe);return Xe}onInit(K,Q){var re;const Xe=this.normalizeInstanceIdentifier(Q),Qe=null!==(re=this.onInitCallbacks.get(Xe))&&void 0!==re?re:new Set;Qe.add(K),this.onInitCallbacks.set(Xe,Qe);const Le=this.instances.get(Xe);return Le&&K(Le,Xe),()=>{Qe.delete(K)}}invokeOnInitCallbacks(K,Q){const re=this.onInitCallbacks.get(Q);if(re)for(const Xe of re)try{Xe(K,Q)}catch{}}getOrInitializeService({instanceIdentifier:K,options:Q={}}){let re=this.instances.get(K);if(!re&&this.component&&(re=this.component.instanceFactory(this.container,{instanceIdentifier:(Ze=K,Ze===ve?void 0:Ze),options:Q}),this.instances.set(K,re),this.instancesOptions.set(K,Q),this.invokeOnInitCallbacks(re,K),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,K,re)}catch{}var Ze;return re||null}normalizeInstanceIdentifier(K=ve){return this.component?this.component.multipleInstances?K:ve:K}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ke{constructor(K){this.name=K,this.providers=new Map}addComponent(K){const Q=this.getProvider(K.name);if(Q.isComponentSet())throw new Error(`Component ${K.name} has already been registered with ${this.name}`);Q.setComponent(K)}addOrOverwriteComponent(K){this.getProvider(K.name).isComponentSet()&&this.providers.delete(K.name),this.addComponent(K)}getProvider(K){if(this.providers.has(K))return this.providers.get(K);const Q=new Fe(K,this);return this.providers.set(K,Q),Q}getProviders(){return Array.from(this.providers.values())}}},1877:(At,He,z)=>{z.d(He,{Am:()=>Ze,Ub:()=>ke,Yd:()=>we,in:()=>W});const l=[];var W=(()=>{return(K=W||(W={}))[K.DEBUG=0]="DEBUG",K[K.VERBOSE=1]="VERBOSE",K[K.INFO=2]="INFO",K[K.WARN=3]="WARN",K[K.ERROR=4]="ERROR",K[K.SILENT=5]="SILENT",W;var K})();const H={debug:W.DEBUG,verbose:W.VERBOSE,info:W.INFO,warn:W.WARN,error:W.ERROR,silent:W.SILENT},ve=W.INFO,Fe={[W.DEBUG]:"log",[W.VERBOSE]:"log",[W.INFO]:"info",[W.WARN]:"warn",[W.ERROR]:"error"},Oe=(K,Q,...re)=>{if(Q<K.logLevel)return;const Xe=(new Date).toISOString(),Qe=Fe[Q];if(!Qe)throw new Error(`Attempted to log a message with an invalid logType (value: ${Q})`);console[Qe](`[${Xe}]  ${K.name}:`,...re)};class we{constructor(Q){this.name=Q,this._logLevel=ve,this._logHandler=Oe,this._userLogHandler=null,l.push(this)}get logLevel(){return this._logLevel}set logLevel(Q){if(!(Q in W))throw new TypeError(`Invalid value "${Q}" assigned to \`logLevel\``);this._logLevel=Q}setLogLevel(Q){this._logLevel="string"==typeof Q?H[Q]:Q}get logHandler(){return this._logHandler}set logHandler(Q){if("function"!=typeof Q)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Q}get userLogHandler(){return this._userLogHandler}set userLogHandler(Q){this._userLogHandler=Q}debug(...Q){this._userLogHandler&&this._userLogHandler(this,W.DEBUG,...Q),this._logHandler(this,W.DEBUG,...Q)}log(...Q){this._userLogHandler&&this._userLogHandler(this,W.VERBOSE,...Q),this._logHandler(this,W.VERBOSE,...Q)}info(...Q){this._userLogHandler&&this._userLogHandler(this,W.INFO,...Q),this._logHandler(this,W.INFO,...Q)}warn(...Q){this._userLogHandler&&this._userLogHandler(this,W.WARN,...Q),this._logHandler(this,W.WARN,...Q)}error(...Q){this._userLogHandler&&this._userLogHandler(this,W.ERROR,...Q),this._logHandler(this,W.ERROR,...Q)}}function ke(K){l.forEach(Q=>{Q.setLogLevel(K)})}function Ze(K,Q){for(const re of l){let Xe=null;Q&&Q.level&&(Xe=H[Q.level]),re.userLogHandler=null===K?null:(Qe,Le,...ut)=>{const me=ut.map(Se=>{if(null==Se)return null;if("string"==typeof Se)return Se;if("number"==typeof Se||"boolean"==typeof Se)return Se.toString();if(Se instanceof Error)return Se.message;try{return JSON.stringify(Se)}catch{return null}}).filter(Se=>Se).join(" ");Le>=(Xe??Qe.logLevel)&&K({level:W[Le].toLowerCase(),message:me,args:ut,type:Qe.name})}}}},8766:(At,He,z)=>{z.d(He,{Lj:()=>Ge,X3:()=>gt});var l=z(5861);let H,ve;const we=new WeakMap,ke=new WeakMap,Ze=new WeakMap,K=new WeakMap,Q=new WeakMap;let Qe={get(fe,Te,ne){if(fe instanceof IDBTransaction){if("done"===Te)return ke.get(fe);if("objectStoreNames"===Te)return fe.objectStoreNames||Ze.get(fe);if("store"===Te)return ne.objectStoreNames[1]?void 0:ne.objectStore(ne.objectStoreNames[0])}return Se(fe[Te])},set:(fe,Te,ne)=>(fe[Te]=ne,!0),has:(fe,Te)=>fe instanceof IDBTransaction&&("done"===Te||"store"===Te)||Te in fe};function me(fe){return"function"==typeof fe?function ut(fe){return fe!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Oe(){return ve||(ve=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(fe)?function(...Te){return fe.apply(mt(this),Te),Se(we.get(this))}:function(...Te){return Se(fe.apply(mt(this),Te))}:function(Te,...ne){const ie=fe.call(mt(this),Te,...ne);return Ze.set(ie,Te.sort?Te.sort():[Te]),Se(ie)}}(fe):(fe instanceof IDBTransaction&&function Xe(fe){if(ke.has(fe))return;const Te=new Promise((ne,ie)=>{const _e=()=>{fe.removeEventListener("complete",he),fe.removeEventListener("error",We),fe.removeEventListener("abort",We)},he=()=>{ne(),_e()},We=()=>{ie(fe.error||new DOMException("AbortError","AbortError")),_e()};fe.addEventListener("complete",he),fe.addEventListener("error",We),fe.addEventListener("abort",We)});ke.set(fe,Te)}(fe),((fe,Te)=>Te.some(ne=>fe instanceof ne))(fe,function Fe(){return H||(H=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(fe,Qe):fe)}function Se(fe){if(fe instanceof IDBRequest)return function re(fe){const Te=new Promise((ne,ie)=>{const _e=()=>{fe.removeEventListener("success",he),fe.removeEventListener("error",We)},he=()=>{ne(Se(fe.result)),_e()},We=()=>{ie(fe.error),_e()};fe.addEventListener("success",he),fe.addEventListener("error",We)});return Te.then(ne=>{ne instanceof IDBCursor&&we.set(ne,fe)}).catch(()=>{}),Q.set(Te,fe),Te}(fe);if(K.has(fe))return K.get(fe);const Te=me(fe);return Te!==fe&&(K.set(fe,Te),Q.set(Te,fe)),Te}const mt=fe=>Q.get(fe);function gt(fe,Te,{blocked:ne,upgrade:ie,blocking:_e,terminated:he}={}){const We=indexedDB.open(fe,Te),qe=Se(We);return ie&&We.addEventListener("upgradeneeded",wt=>{ie(Se(We.result),wt.oldVersion,wt.newVersion,Se(We.transaction))}),ne&&We.addEventListener("blocked",()=>ne()),qe.then(wt=>{he&&wt.addEventListener("close",()=>he()),_e&&wt.addEventListener("versionchange",()=>_e())}).catch(()=>{}),qe}function Ge(fe,{blocked:Te}={}){const ne=indexedDB.deleteDatabase(fe);return Te&&ne.addEventListener("blocked",()=>Te()),Se(ne).then(()=>{})}const Pe=["get","getKey","getAll","getAllKeys","count"],Ae=["put","add","delete","clear"],Je=new Map;function de(fe,Te){if(!(fe instanceof IDBDatabase)||Te in fe||"string"!=typeof Te)return;if(Je.get(Te))return Je.get(Te);const ne=Te.replace(/FromIndex$/,""),ie=Te!==ne,_e=Ae.includes(ne);if(!(ne in(ie?IDBIndex:IDBObjectStore).prototype)||!_e&&!Pe.includes(ne))return;const he=function(){var We=(0,l.Z)(function*(qe,...wt){const fn=this.transaction(qe,_e?"readwrite":"readonly");let en=fn.store;return ie&&(en=en.index(wt.shift())),(yield Promise.all([en[ne](...wt),_e&&fn.done]))[0]});return function(wt){return We.apply(this,arguments)}}();return Je.set(Te,he),he}!function Le(fe){Qe=fe(Qe)}(fe=>({...fe,get:(Te,ne,ie)=>de(Te,ne)||fe.get(Te,ne,ie),has:(Te,ne)=>!!de(Te,ne)||fe.has(Te,ne)}))},5861:(At,He,z)=>{function l(H,ve,Fe,Oe,we,ke,Ze){try{var K=H[ke](Ze),Q=K.value}catch(re){return void Fe(re)}K.done?ve(Q):Promise.resolve(Q).then(Oe,we)}function W(H){return function(){var ve=this,Fe=arguments;return new Promise(function(Oe,we){var ke=H.apply(ve,Fe);function Ze(Q){l(ke,Oe,we,Ze,K,"next",Q)}function K(Q){l(ke,Oe,we,Ze,K,"throw",Q)}Ze(void 0)})}}z.d(He,{Z:()=>W})}},At=>{At(At.s=9923)}]);