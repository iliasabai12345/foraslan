"use strict";(self.webpackChunkaslanAngularBooks=self.webpackChunkaslanAngularBooks||[]).push([[179],{2011:(Dt,He,z)=>{z.d(He,{Dh:()=>Ce,GT:()=>Fe,cc:()=>Xe,on:()=>Ze,pX:()=>ve,xv:()=>ke});var c=z(4650),W=z(127);Dt=z.hmd(Dt);const H=["ngOnDestroy"],ve=(me,Se,mt,gt={})=>new Proxy(me,{get:(Ge,Pe)=>mt.runOutsideAngular(()=>{var Ae;if(me[Pe])return!(null===(Ae=gt?.spy)||void 0===Ae)&&Ae.get&&gt.spy.get(Pe,me[Pe]),me[Pe];if(H.indexOf(Pe)>-1)return()=>{};const Je=Se.toPromise().then(de=>{const fe=de&&de[Pe];return"function"==typeof fe?fe.bind(de):fe&&fe.then?fe.then(Te=>mt.run(()=>Te)):mt.run(()=>fe)});return new Proxy(()=>{},{get:(de,fe)=>Je[fe],apply:(de,fe,Te)=>Je.then(ne=>{var ie;const _e=ne&&ne(...Te);return!(null===(ie=gt?.spy)||void 0===ie)&&ie.apply&&gt.spy.apply(Pe,Te,_e),_e})})})}),Fe=(me,Se)=>{Se.forEach(mt=>{Object.getOwnPropertyNames(mt.prototype||mt).forEach(gt=>{Object.defineProperty(me.prototype,gt,Object.getOwnPropertyDescriptor(mt.prototype||mt,gt))})})};class Oe{constructor(Se){return Se}}const Ce=new c.OlP("angularfire2.app.options"),ke=new c.OlP("angularfire2.app.name");function Ze(me,Se,mt){const Ge="object"==typeof mt&&mt||{};Ge.name=Ge.name||"string"==typeof mt&&mt||"[DEFAULT]";const Ae=W.Z.apps.filter(Je=>Je&&Je.name===Ge.name)[0]||Se.runOutsideAngular(()=>W.Z.initializeApp(me,Ge));try{JSON.stringify(me)!==JSON.stringify(Ae.options)&&K("error",`${Ae.name} Firebase App already initialized with different options${Dt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new Oe(Ae)}const K=(me,...Se)=>{(0,c.X6Q)()&&typeof console<"u"&&console[me](...Se)};function Xe(me,Se,mt,gt,Ge){const[,Pe,Ae]=globalThis.\u0275AngularfireInstanceCache.find(Je=>Je[0]===me)||[];if(Pe)return function Qe(me,Se){try{return me.toString()===Se.toString()}catch{return me===Se}}(Ge,Ae)||(ut("error",`${Se} was already initialized on the ${mt} Firebase App with different settings.${Le?" You may need to reload as Firebase is not HMR aware.":""}`),ut("warn",{is:Ge,was:Ae})),Pe;{const Je=gt();return globalThis.\u0275AngularfireInstanceCache.push([me,Je,Ge]),Je}}const Le=!!Dt.hot,ut=(me,...Se)=>{(0,c.X6Q)()&&typeof console<"u"&&console[me](...Se)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},8247:(Dt,He,z)=>{z.d(He,{$:()=>oc,A:()=>Q,B:()=>Qe,G:()=>Xo,H:()=>Fr,J:()=>qs,L:()=>Y,M:()=>dm,N:()=>hm,P:()=>Gv,Q:()=>fh,R:()=>jv,T:()=>ph,U:()=>aa,V:()=>la,W:()=>bv,X:()=>HC,Y:()=>rc,Z:()=>Vt,_:()=>zC,a:()=>wo,a0:()=>Tv,a1:()=>wi,a2:()=>yu,a3:()=>vh,a4:()=>Dv,a5:()=>jC,a6:()=>mi,a7:()=>xs,a8:()=>lc,a9:()=>Eo,aA:()=>G,aB:()=>Hr,aC:()=>Wn,aD:()=>Ir,aE:()=>It,aI:()=>Xa,aL:()=>Za,aa:()=>GC,ab:()=>Eh,ac:()=>Ch,af:()=>Mv,ag:()=>kv,ah:()=>ym,ak:()=>nc,al:()=>Pv,an:()=>Nv,ao:()=>kh,ap:()=>Te,aq:()=>je,ar:()=>ft,as:()=>gt,at:()=>rl,au:()=>ss,av:()=>Nt,aw:()=>Ge,ax:()=>de,ay:()=>Ec,az:()=>ie,b:()=>da,c:()=>Bn,d:()=>Rm,e:()=>Hh,f:()=>Un,g:()=>Om,h:()=>Rn,i:()=>Mu,j:()=>Os,k:()=>Kh,l:()=>zt,m:()=>os,n:()=>Jv,o:()=>ke,r:()=>Qs,s:()=>Ms,u:()=>Mm,v:()=>uc});var c=z(5861),W=z(2090),H=z(9681),ve=z(1877),Fe=z(655),Oe=z(4859);const ke={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Q={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Qe=function re(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Le=function Xe(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ut=new W.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Se=new ve.Yd("@firebase/auth");function mt(C,...y){Se.logLevel<=ve.in.ERROR&&Se.error(`Auth (${H.SDK_VERSION}): ${C}`,...y)}function gt(C,...y){throw Je(C,...y)}function Ge(C,...y){return Je(C,...y)}function Pe(C,y,b){const I=Object.assign(Object.assign({},Le()),{[y]:b});return new W.LL("auth","Firebase",I).create(y,{appName:C.name})}function Ae(C,y,b){if(!(y instanceof b))throw b.name!==y.constructor.name&&gt(C,"argument-error"),Pe(C,"argument-error",`Type of ${y.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Je(C,...y){if("string"!=typeof C){const b=y[0],I=[...y.slice(1)];return I[0]&&(I[0].appName=C.name),C._errorFactory.create(b,...I)}return ut.create(C,...y)}function de(C,y,...b){if(!C)throw Je(y,...b)}function fe(C){const y="INTERNAL ASSERTION FAILED: "+C;throw mt(y),new Error(y)}function Te(C,y){C||fe(y)}const ne=new Map;function ie(C){Te(C instanceof Function,"Expected a class definition");let y=ne.get(C);return y?(Te(y instanceof C,"Instance stored in cache mismatched with class"),y):(y=new C,ne.set(C,y),y)}function We(){var C;return typeof self<"u"&&(null===(C=self.location)||void 0===C?void 0:C.href)||""}function qe(){return"http:"===wt()||"https:"===wt()}function wt(){var C;return typeof self<"u"&&(null===(C=self.location)||void 0===C?void 0:C.protocol)||null}class et{constructor(y,b){this.shortDelay=y,this.longDelay=b,Te(b>y,"Short delay should be less than long delay!"),this.isMobile=(0,W.uI)()||(0,W.b$)()}get(){return function hn(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(qe()||(0,W.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Sn(C,y){Te(C.emulator,"Emulator should always be set here");const{url:b}=C.emulator;return y?`${b}${y.startsWith("/")?y.slice(1):y}`:b}class ai{static initialize(y,b,I){this.fetchImpl=y,b&&(this.headersImpl=b),I&&(this.responseImpl=I)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void fe("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void fe("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void fe("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const In={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},fn=new et(3e4,6e4);function en(C,y){return C.tenantId&&!y.tenantId?Object.assign(Object.assign({},y),{tenantId:C.tenantId}):y}function Ht(C,y,b,I){return Yi.apply(this,arguments)}function Yi(){return(Yi=(0,c.Z)(function*(C,y,b,I,R={}){return Cs(C,R,(0,c.Z)(function*(){let N={},se={};I&&("GET"===y?se=I:N={body:JSON.stringify(I)});const xe=(0,W.xO)(Object.assign({key:C.config.apiKey},se)).slice(1),ct=yield C._getAdditionalHeaders();return ct["Content-Type"]="application/json",C.languageCode&&(ct["X-Firebase-Locale"]=C.languageCode),ai.fetch()(Ss(C,C.config.apiHost,b,xe),Object.assign({method:y,headers:ct,referrerPolicy:"no-referrer"},N))}))})).apply(this,arguments)}function Cs(C,y,b){return _o.apply(this,arguments)}function _o(){return(_o=(0,c.Z)(function*(C,y,b){C._canInitEmulator=!1;const I=Object.assign(Object.assign({},In),y);try{const R=new ar(C),N=yield Promise.race([b(),R.promise]);R.clearNetworkTimeout();const se=yield N.json();if("needConfirmation"in se)throw Zi(C,"account-exists-with-different-credential",se);if(N.ok&&!("errorMessage"in se))return se;{const xe=N.ok?se.errorMessage:se.error.message,[ct,Tt]=xe.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===ct)throw Zi(C,"credential-already-in-use",se);if("EMAIL_EXISTS"===ct)throw Zi(C,"email-already-in-use",se);if("USER_DISABLED"===ct)throw Zi(C,"user-disabled",se);const Qt=I[ct]||ct.toLowerCase().replace(/[_\s]+/g,"-");if(Tt)throw Pe(C,Qt,Tt);gt(C,Qt)}}catch(R){if(R instanceof W.ZR)throw R;gt(C,"network-request-failed")}})).apply(this,arguments)}function ii(C,y,b,I){return Gs.apply(this,arguments)}function Gs(){return(Gs=(0,c.Z)(function*(C,y,b,I,R={}){const N=yield Ht(C,y,b,I,R);return"mfaPendingCredential"in N&&gt(C,"multi-factor-auth-required",{_serverResponse:N}),N})).apply(this,arguments)}function Ss(C,y,b,I){const R=`${y}${b}?${I}`;return C.config.emulator?Sn(C.config,R):`${C.config.apiScheme}://${R}`}class ar{constructor(y){this.auth=y,this.timer=null,this.promise=new Promise((b,I)=>{this.timer=setTimeout(()=>I(Ge(this.auth,"network-request-failed")),fn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Zi(C,y,b){const I={appName:C.name};b.email&&(I.email=b.email),b.phoneNumber&&(I.phoneNumber=b.phoneNumber);const R=Ge(C,y,I);return R.customData._tokenResponse=b,R}function yo(){return(yo=(0,c.Z)(function*(C,y){return Ht(C,"POST","/v1/accounts:delete",y)})).apply(this,arguments)}function dt(C,y){return xi.apply(this,arguments)}function xi(){return(xi=(0,c.Z)(function*(C,y){return Ht(C,"POST","/v1/accounts:update",y)})).apply(this,arguments)}function bi(C,y){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,c.Z)(function*(C,y){return Ht(C,"POST","/v1/accounts:lookup",y)})).apply(this,arguments)}function Er(C){if(C)try{const y=new Date(Number(C));if(!isNaN(y.getTime()))return y.toUTCString()}catch{}}function zn(){return(zn=(0,c.Z)(function*(C,y=!1){const b=(0,W.m9)(C),I=yield b.getIdToken(y),R=Ct(I);de(R&&R.exp&&R.auth_time&&R.iat,b.auth,"internal-error");const N="object"==typeof R.firebase?R.firebase:void 0,se=N?.sign_in_provider;return{claims:R,token:I,authTime:Er(Dn(R.auth_time)),issuedAtTime:Er(Dn(R.iat)),expirationTime:Er(Dn(R.exp)),signInProvider:se||null,signInSecondFactor:N?.sign_in_second_factor||null}})).apply(this,arguments)}function Dn(C){return 1e3*Number(C)}function Ct(C){var y;const[b,I,R]=C.split(".");if(void 0===b||void 0===I||void 0===R)return mt("JWT malformed, contained fewer than 3 sections"),null;try{const N=(0,W.tV)(I);return N?JSON.parse(N):(mt("Failed to decode base64 JWT payload"),null)}catch(N){return mt("Caught error parsing JWT payload as JSON",null===(y=N)||void 0===y?void 0:y.toString()),null}}function Ut(C,y){return wr.apply(this,arguments)}function wr(){return(wr=(0,c.Z)(function*(C,y,b=!1){if(b)return y;try{return yield y}catch(I){throw I instanceof W.ZR&&Ei(I)&&C.auth.currentUser===C&&(yield C.auth.signOut()),I}})).apply(this,arguments)}function Ei({code:C}){return"auth/user-disabled"===C||"auth/user-token-expired"===C}class lr{constructor(y){this.user=y,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(y){var b;if(y){const I=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),I}{this.errorBackoff=3e4;const R=(null!==(b=this.user.stsTokenManager.expirationTime)&&void 0!==b?b:0)-Date.now()-3e5;return Math.max(0,R)}}schedule(y=!1){var b=this;if(!this.isRunning)return;const I=this.getInterval(y);this.timerId=setTimeout((0,c.Z)(function*(){yield b.iteration()}),I)}iteration(){var y=this;return(0,c.Z)(function*(){var b;try{yield y.user.getIdToken(!0)}catch(I){return void("auth/network-request-failed"===(null===(b=I)||void 0===b?void 0:b.code)&&y.schedule(!0))}y.schedule()})()}}class Pt{constructor(y,b){this.createdAt=y,this.lastLoginAt=b,this._initializeTime()}_initializeTime(){this.lastSignInTime=Er(this.lastLoginAt),this.creationTime=Er(this.createdAt)}_copy(y){this.createdAt=y.createdAt,this.lastLoginAt=y.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function cr(C){return $t.apply(this,arguments)}function $t(){return($t=(0,c.Z)(function*(C){var y;const b=C.auth,I=yield C.getIdToken(),R=yield Ut(C,bi(b,{idToken:I}));de(R?.users.length,b,"internal-error");const N=R.users[0];C._notifyReloadListener(N);const se=null!==(y=N.providerUserInfo)&&void 0!==y&&y.length?Qn(N.providerUserInfo):[],xe=Li(C.providerData,se),Qt=!!C.isAnonymous&&!(C.email&&N.passwordHash||xe?.length),vn={uid:N.localId,displayName:N.displayName||null,photoURL:N.photoUrl||null,email:N.email||null,emailVerified:N.emailVerified||!1,phoneNumber:N.phoneNumber||null,tenantId:N.tenantId||null,providerData:xe,metadata:new Pt(N.createdAt,N.lastLoginAt),isAnonymous:Qt};Object.assign(C,vn)})).apply(this,arguments)}function on(){return(on=(0,c.Z)(function*(C){const y=(0,W.m9)(C);yield cr(y),yield y.auth._persistUserIfCurrent(y),y.auth._notifyListenersIfCurrent(y)})).apply(this,arguments)}function Li(C,y){return[...C.filter(I=>!y.some(R=>R.providerId===I.providerId)),...y]}function Qn(C){return C.map(y=>{var{providerId:b}=y,I=(0,Fe._T)(y,["providerId"]);return{providerId:b,uid:I.rawId||"",displayName:I.displayName||null,email:I.email||null,phoneNumber:I.phoneNumber||null,photoURL:I.photoUrl||null}})}function Re(){return(Re=(0,c.Z)(function*(C,y){const b=yield Cs(C,{},(0,c.Z)(function*(){const I=(0,W.xO)({grant_type:"refresh_token",refresh_token:y}).slice(1),{tokenApiHost:R,apiKey:N}=C.config,se=Ss(C,R,"/v1/token",`key=${N}`),xe=yield C._getAdditionalHeaders();return xe["Content-Type"]="application/x-www-form-urlencoded",ai.fetch()(se,{method:"POST",headers:xe,body:I})}));return{accessToken:b.access_token,expiresIn:b.expires_in,refreshToken:b.refresh_token}})).apply(this,arguments)}class ht{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(y){de(y.idToken,"internal-error"),de(typeof y.idToken<"u","internal-error"),de(typeof y.refreshToken<"u","internal-error");const b="expiresIn"in y&&typeof y.expiresIn<"u"?Number(y.expiresIn):function St(C){const y=Ct(C);return de(y,"internal-error"),de(typeof y.exp<"u","internal-error"),de(typeof y.iat<"u","internal-error"),Number(y.exp)-Number(y.iat)}(y.idToken);this.updateTokensAndExpiration(y.idToken,y.refreshToken,b)}getToken(y,b=!1){var I=this;return(0,c.Z)(function*(){return de(!I.accessToken||I.refreshToken,y,"user-token-expired"),b||!I.accessToken||I.isExpired?I.refreshToken?(yield I.refresh(y,I.refreshToken),I.accessToken):null:I.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(y,b){var I=this;return(0,c.Z)(function*(){const{accessToken:R,refreshToken:N,expiresIn:se}=yield function lt(C,y){return Re.apply(this,arguments)}(y,b);I.updateTokensAndExpiration(R,N,Number(se))})()}updateTokensAndExpiration(y,b,I){this.refreshToken=b||null,this.accessToken=y||null,this.expirationTime=Date.now()+1e3*I}static fromJSON(y,b){const{refreshToken:I,accessToken:R,expirationTime:N}=b,se=new ht;return I&&(de("string"==typeof I,"internal-error",{appName:y}),se.refreshToken=I),R&&(de("string"==typeof R,"internal-error",{appName:y}),se.accessToken=R),N&&(de("number"==typeof N,"internal-error",{appName:y}),se.expirationTime=N),se}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(y){this.accessToken=y.accessToken,this.refreshToken=y.refreshToken,this.expirationTime=y.expirationTime}_clone(){return Object.assign(new ht,this.toJSON())}_performRefresh(){return fe("not implemented")}}function xt(C,y){de("string"==typeof C||typeof C>"u","internal-error",{appName:y})}class kt{constructor(y){var{uid:b,auth:I,stsTokenManager:R}=y,N=(0,Fe._T)(y,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new lr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=b,this.auth=I,this.stsTokenManager=R,this.accessToken=R.accessToken,this.displayName=N.displayName||null,this.email=N.email||null,this.emailVerified=N.emailVerified||!1,this.phoneNumber=N.phoneNumber||null,this.photoURL=N.photoURL||null,this.isAnonymous=N.isAnonymous||!1,this.tenantId=N.tenantId||null,this.providerData=N.providerData?[...N.providerData]:[],this.metadata=new Pt(N.createdAt||void 0,N.lastLoginAt||void 0)}getIdToken(y){var b=this;return(0,c.Z)(function*(){const I=yield Ut(b,b.stsTokenManager.getToken(b.auth,y));return de(I,b.auth,"internal-error"),b.accessToken!==I&&(b.accessToken=I,yield b.auth._persistUserIfCurrent(b),b.auth._notifyListenersIfCurrent(b)),I})()}getIdTokenResult(y){return function Vn(C){return zn.apply(this,arguments)}(this,y)}reload(){return function es(C){return on.apply(this,arguments)}(this)}_assign(y){this!==y&&(de(this.uid===y.uid,this.auth,"internal-error"),this.displayName=y.displayName,this.photoURL=y.photoURL,this.email=y.email,this.emailVerified=y.emailVerified,this.phoneNumber=y.phoneNumber,this.isAnonymous=y.isAnonymous,this.tenantId=y.tenantId,this.providerData=y.providerData.map(b=>Object.assign({},b)),this.metadata._copy(y.metadata),this.stsTokenManager._assign(y.stsTokenManager))}_clone(y){return new kt(Object.assign(Object.assign({},this),{auth:y,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(y){de(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=y,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(y){this.reloadListener?this.reloadListener(y):this.reloadUserInfo=y}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(y,b=!1){var I=this;return(0,c.Z)(function*(){let R=!1;y.idToken&&y.idToken!==I.stsTokenManager.accessToken&&(I.stsTokenManager.updateFromServerResponse(y),R=!0),b&&(yield cr(I)),yield I.auth._persistUserIfCurrent(I),R&&I.auth._notifyListenersIfCurrent(I)})()}delete(){var y=this;return(0,c.Z)(function*(){const b=yield y.getIdToken();return yield Ut(y,function Ws(C,y){return yo.apply(this,arguments)}(y.auth,{idToken:b})),y.stsTokenManager.clearRefreshToken(),y.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(y=>Object.assign({},y)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(y,b){var I,R,N,se,xe,ct,Tt,Qt;const vn=null!==(I=b.displayName)&&void 0!==I?I:void 0,Ui=null!==(R=b.email)&&void 0!==R?R:void 0,jr=null!==(N=b.phoneNumber)&&void 0!==N?N:void 0,Bu=null!==(se=b.photoURL)&&void 0!==se?se:void 0,Uu=null!==(xe=b.tenantId)&&void 0!==xe?xe:void 0,$u=null!==(ct=b._redirectEventId)&&void 0!==ct?ct:void 0,Sa=null!==(Tt=b.createdAt)&&void 0!==Tt?Tt:void 0,Um=null!==(Qt=b.lastLoginAt)&&void 0!==Qt?Qt:void 0,{uid:ef,emailVerified:Hu,isAnonymous:Tc,providerData:ol,stsTokenManager:ko}=b;de(ef&&ko,y,"internal-error");const eb=ht.fromJSON(this.name,ko);de("string"==typeof ef,y,"internal-error"),xt(vn,y.name),xt(Ui,y.name),de("boolean"==typeof Hu,y,"internal-error"),de("boolean"==typeof Tc,y,"internal-error"),xt(jr,y.name),xt(Bu,y.name),xt(Uu,y.name),xt($u,y.name),xt(Sa,y.name),xt(Um,y.name);const Fn=new kt({uid:ef,auth:y,email:Ui,emailVerified:Hu,displayName:vn,isAnonymous:Tc,photoURL:Bu,phoneNumber:jr,tenantId:Uu,stsTokenManager:eb,createdAt:Sa,lastLoginAt:Um});return ol&&Array.isArray(ol)&&(Fn.providerData=ol.map(tb=>Object.assign({},tb))),$u&&(Fn._redirectEventId=$u),Fn}static _fromIdTokenResponse(y,b,I=!1){return(0,c.Z)(function*(){const R=new ht;R.updateFromServerResponse(b);const N=new kt({uid:b.localId,auth:y,stsTokenManager:R,isAnonymous:I});return yield cr(N),N})()}}const Y=(()=>{class C{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,c.Z)(function*(){return!0})()}_set(b,I){var R=this;return(0,c.Z)(function*(){R.storage[b]=I})()}_get(b){var I=this;return(0,c.Z)(function*(){const R=I.storage[b];return void 0===R?null:R})()}_remove(b){var I=this;return(0,c.Z)(function*(){delete I.storage[b]})()}_addListener(b,I){}_removeListener(b,I){}}return C.type="NONE",C})();function G(C,y,b){return`firebase:${C}:${y}:${b}`}class X{constructor(y,b,I){this.persistence=y,this.auth=b,this.userKey=I;const{config:R,name:N}=this.auth;this.fullUserKey=G(this.userKey,R.apiKey,N),this.fullPersistenceKey=G("persistence",R.apiKey,N),this.boundEventHandler=b._onStorageEvent.bind(b),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(y){return this.persistence._set(this.fullUserKey,y.toJSON())}getCurrentUser(){var y=this;return(0,c.Z)(function*(){const b=yield y.persistence._get(y.fullUserKey);return b?kt._fromJSON(y.auth,b):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(y){var b=this;return(0,c.Z)(function*(){if(b.persistence===y)return;const I=yield b.getCurrentUser();return yield b.removeCurrentUser(),b.persistence=y,I?b.setCurrentUser(I):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(y,b,I="authUser"){return(0,c.Z)(function*(){if(!b.length)return new X(ie(Y),y,I);const R=(yield Promise.all(b.map(function(){var Tt=(0,c.Z)(function*(Qt){if(yield Qt._isAvailable())return Qt});return function(Qt){return Tt.apply(this,arguments)}}()))).filter(Tt=>Tt);let N=R[0]||ie(Y);const se=G(I,y.config.apiKey,y.name);let xe=null;for(const Tt of b)try{const Qt=yield Tt._get(se);if(Qt){const vn=kt._fromJSON(y,Qt);Tt!==N&&(xe=vn),N=Tt;break}}catch{}const ct=R.filter(Tt=>Tt._shouldAllowMigration);return N._shouldAllowMigration&&ct.length?(N=ct[0],xe&&(yield N._set(se,xe.toJSON())),yield Promise.all(b.map(function(){var Tt=(0,c.Z)(function*(Qt){if(Qt!==N)try{yield Qt._remove(se)}catch{}});return function(Qt){return Tt.apply(this,arguments)}}())),new X(N,y,I)):new X(N,y,I)})()}}function j(C){const y=C.toLowerCase();if(y.includes("opera/")||y.includes("opr/")||y.includes("opios/"))return"Opera";if(Be(y))return"IEMobile";if(y.includes("msie")||y.includes("trident/"))return"IE";if(y.includes("edge/"))return"Edge";if(P(y))return"Firefox";if(y.includes("silk/"))return"Silk";if(yt(y))return"Blackberry";if(Me(y))return"Webos";if(B(y))return"Safari";if((y.includes("chrome/")||ce(y))&&!y.includes("edge/"))return"Chrome";if(ft(y))return"Android";{const I=C.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===I?.length)return I[1]}return"Other"}function P(C=(0,W.z$)()){return/firefox\//i.test(C)}function B(C=(0,W.z$)()){const y=C.toLowerCase();return y.includes("safari/")&&!y.includes("chrome/")&&!y.includes("crios/")&&!y.includes("android")}function ce(C=(0,W.z$)()){return/crios\//i.test(C)}function Be(C=(0,W.z$)()){return/iemobile/i.test(C)}function ft(C=(0,W.z$)()){return/android/i.test(C)}function yt(C=(0,W.z$)()){return/blackberry/i.test(C)}function Me(C=(0,W.z$)()){return/webos/i.test(C)}function je(C=(0,W.z$)()){return/iphone|ipad|ipod/i.test(C)||/macintosh/i.test(C)&&/mobile/i.test(C)}function Nt(C=(0,W.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(C)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(C)}function Cn(C=(0,W.z$)()){return je(C)||ft(C)||Me(C)||yt(C)||/windows phone/i.test(C)||Be(C)}function Pn(C,y=[]){let b;switch(C){case"Browser":b=j((0,W.z$)());break;case"Worker":b=`${j((0,W.z$)())}-${C}`;break;default:b=C}const I=y.length?y.join(","):"FirebaseCore-web";return`${b}/JsCore/${H.SDK_VERSION}/${I}`}class Kl{constructor(y){this.auth=y,this.queue=[]}pushCallback(y,b){const I=N=>new Promise((se,xe)=>{try{se(y(N))}catch(ct){xe(ct)}});I.onAbort=b,this.queue.push(I);const R=this.queue.length-1;return()=>{this.queue[R]=()=>Promise.resolve()}}runMiddleware(y){var b=this;return(0,c.Z)(function*(){var I;if(b.auth.currentUser===y)return;const R=[];try{for(const N of b.queue)yield N(y),N.onAbort&&R.push(N.onAbort)}catch(N){R.reverse();for(const se of R)try{se()}catch{}throw b.auth._errorFactory.create("login-blocked",{originalMessage:null===(I=N)||void 0===I?void 0:I.message})}})()}}class Ql{constructor(y,b,I){this.app=y,this.heartbeatServiceProvider=b,this.config=I,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Qo(this),this.idTokenSubscription=new Qo(this),this.beforeStateQueue=new Kl(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ut,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=y.name,this.clientVersion=I.sdkClientVersion}_initializeWithPersistence(y,b){var I=this;return b&&(this._popupRedirectResolver=ie(b)),this._initializationPromise=this.queue((0,c.Z)(function*(){var R,N;if(!I._deleted&&(I.persistenceManager=yield X.create(I,y),!I._deleted)){if(null!==(R=I._popupRedirectResolver)&&void 0!==R&&R._shouldInitProactively)try{yield I._popupRedirectResolver._initialize(I)}catch{}yield I.initializeCurrentUser(b),I.lastNotifiedUid=(null===(N=I.currentUser)||void 0===N?void 0:N.uid)||null,!I._deleted&&(I._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var y=this;return(0,c.Z)(function*(){if(y._deleted)return;const b=yield y.assertedPersistence.getCurrentUser();if(y.currentUser||b){if(y.currentUser&&b&&y.currentUser.uid===b.uid)return y._currentUser._assign(b),void(yield y.currentUser.getIdToken());yield y._updateCurrentUser(b,!0)}})()}initializeCurrentUser(y){var b=this;return(0,c.Z)(function*(){var I;const R=yield b.assertedPersistence.getCurrentUser();let N=R,se=!1;if(y&&b.config.authDomain){yield b.getOrInitRedirectPersistenceManager();const xe=null===(I=b.redirectUser)||void 0===I?void 0:I._redirectEventId,ct=N?._redirectEventId,Tt=yield b.tryRedirectSignIn(y);(!xe||xe===ct)&&Tt?.user&&(N=Tt.user,se=!0)}if(!N)return b.directlySetCurrentUser(null);if(!N._redirectEventId){if(se)try{yield b.beforeStateQueue.runMiddleware(N)}catch(xe){N=R,b._popupRedirectResolver._overrideRedirectResult(b,()=>Promise.reject(xe))}return N?b.reloadAndSetCurrentUserOrClear(N):b.directlySetCurrentUser(null)}return de(b._popupRedirectResolver,b,"argument-error"),yield b.getOrInitRedirectPersistenceManager(),b.redirectUser&&b.redirectUser._redirectEventId===N._redirectEventId?b.directlySetCurrentUser(N):b.reloadAndSetCurrentUserOrClear(N)})()}tryRedirectSignIn(y){var b=this;return(0,c.Z)(function*(){let I=null;try{I=yield b._popupRedirectResolver._completeRedirectFn(b,y,!0)}catch{yield b._setRedirectUser(null)}return I})()}reloadAndSetCurrentUserOrClear(y){var b=this;return(0,c.Z)(function*(){var I;try{yield cr(y)}catch(R){if("auth/network-request-failed"!==(null===(I=R)||void 0===I?void 0:I.code))return b.directlySetCurrentUser(null)}return b.directlySetCurrentUser(y)})()}useDeviceLanguage(){this.languageCode=function Jt(){if(typeof navigator>"u")return null;const C=navigator;return C.languages&&C.languages[0]||C.language||null}()}_delete(){var y=this;return(0,c.Z)(function*(){y._deleted=!0})()}updateCurrentUser(y){var b=this;return(0,c.Z)(function*(){const I=y?(0,W.m9)(y):null;return I&&de(I.auth.config.apiKey===b.config.apiKey,b,"invalid-user-token"),b._updateCurrentUser(I&&I._clone(b))})()}_updateCurrentUser(y,b=!1){var I=this;return(0,c.Z)(function*(){if(!I._deleted)return y&&de(I.tenantId===y.tenantId,I,"tenant-id-mismatch"),b||(yield I.beforeStateQueue.runMiddleware(y)),I.queue((0,c.Z)(function*(){yield I.directlySetCurrentUser(y),I.notifyAuthListeners()}))})()}signOut(){var y=this;return(0,c.Z)(function*(){return yield y.beforeStateQueue.runMiddleware(null),(y.redirectPersistenceManager||y._popupRedirectResolver)&&(yield y._setRedirectUser(null)),y._updateCurrentUser(null,!0)})()}setPersistence(y){var b=this;return this.queue((0,c.Z)(function*(){yield b.assertedPersistence.setPersistence(ie(y))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(y){this._errorFactory=new W.LL("auth","Firebase",y())}onAuthStateChanged(y,b,I){return this.registerStateListener(this.authStateSubscription,y,b,I)}beforeAuthStateChanged(y,b){return this.beforeStateQueue.pushCallback(y,b)}onIdTokenChanged(y,b,I){return this.registerStateListener(this.idTokenSubscription,y,b,I)}toJSON(){var y;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(y=this._currentUser)||void 0===y?void 0:y.toJSON()}}_setRedirectUser(y,b){var I=this;return(0,c.Z)(function*(){const R=yield I.getOrInitRedirectPersistenceManager(b);return null===y?R.removeCurrentUser():R.setCurrentUser(y)})()}getOrInitRedirectPersistenceManager(y){var b=this;return(0,c.Z)(function*(){if(!b.redirectPersistenceManager){const I=y&&ie(y)||b._popupRedirectResolver;de(I,b,"argument-error"),b.redirectPersistenceManager=yield X.create(b,[ie(I._redirectPersistence)],"redirectUser"),b.redirectUser=yield b.redirectPersistenceManager.getCurrentUser()}return b.redirectPersistenceManager})()}_redirectUserForId(y){var b=this;return(0,c.Z)(function*(){var I,R;return b._isInitialized&&(yield b.queue((0,c.Z)(function*(){}))),(null===(I=b._currentUser)||void 0===I?void 0:I._redirectEventId)===y?b._currentUser:(null===(R=b.redirectUser)||void 0===R?void 0:R._redirectEventId)===y?b.redirectUser:null})()}_persistUserIfCurrent(y){var b=this;return(0,c.Z)(function*(){if(y===b.currentUser)return b.queue((0,c.Z)(function*(){return b.directlySetCurrentUser(y)}))})()}_notifyListenersIfCurrent(y){y===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var y,b;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const I=null!==(b=null===(y=this.currentUser)||void 0===y?void 0:y.uid)&&void 0!==b?b:null;this.lastNotifiedUid!==I&&(this.lastNotifiedUid=I,this.authStateSubscription.next(this.currentUser))}registerStateListener(y,b,I,R){if(this._deleted)return()=>{};const N="function"==typeof b?b:b.next.bind(b),se=this._isInitialized?Promise.resolve():this._initializationPromise;return de(se,this,"internal-error"),se.then(()=>N(this.currentUser)),"function"==typeof b?y.addObserver(b,I,R):y.addObserver(b)}directlySetCurrentUser(y){var b=this;return(0,c.Z)(function*(){b.currentUser&&b.currentUser!==y&&b._currentUser._stopProactiveRefresh(),y&&b.isProactiveRefreshEnabled&&y._startProactiveRefresh(),b.currentUser=y,y?yield b.assertedPersistence.setCurrentUser(y):yield b.assertedPersistence.removeCurrentUser()})()}queue(y){return this.operations=this.operations.then(y,y),this.operations}get assertedPersistence(){return de(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(y){!y||this.frameworks.includes(y)||(this.frameworks.push(y),this.frameworks.sort(),this.clientVersion=Pn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var y=this;return(0,c.Z)(function*(){var b;const I={"X-Client-Version":y.clientVersion};y.app.options.appId&&(I["X-Firebase-gmpid"]=y.app.options.appId);const R=yield null===(b=y.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===b?void 0:b.getHeartbeatsHeader();return R&&(I["X-Firebase-Client"]=R),I})()}}function It(C){return(0,W.m9)(C)}class Qo{constructor(y){this.auth=y,this.observer=null,this.addObserver=(0,W.ne)(b=>this.observer=b)}get next(){return de(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Xo(C,y,b){const I=It(C);de(I._canInitEmulator,I,"emulator-config-failed"),de(/^https?:\/\//.test(y),I,"invalid-emulator-scheme");const R=!!b?.disableWarnings,N=du(y),{host:se,port:xe}=function Jo(C){const y=du(C),b=/(\/\/)?([^?#/]+)/.exec(C.substr(y.length));if(!b)return{host:"",port:null};const I=b[2].split("@").pop()||"",R=/^(\[[^\]]+\])(:|$)/.exec(I);if(R){const N=R[1];return{host:N,port:pi(I.substr(N.length+1))}}{const[N,se]=I.split(":");return{host:N,port:pi(se)}}}(y);I.config.emulator={url:`${N}//${se}${null===xe?"":`:${xe}`}/`},I.settings.appVerificationDisabledForTesting=!0,I.emulatorConfig=Object.freeze({host:se,port:xe,protocol:N.replace(":",""),options:Object.freeze({disableWarnings:R})}),R||function ea(){function C(){const y=document.createElement("p"),b=y.style;y.innerText="Running in emulator mode. Do not use with production credentials.",b.position="fixed",b.width="100%",b.backgroundColor="#ffffff",b.border=".1em solid #000000",b.color="#b50000",b.bottom="0px",b.left="0px",b.margin="0px",b.zIndex="10000",b.textAlign="center",y.classList.add("firebase-emulator-warning"),document.body.appendChild(y)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",C):C())}()}function du(C){const y=C.indexOf(":");return y<0?"":C.substr(0,y+1)}function pi(C){if(!C)return null;const y=Number(C);return isNaN(y)?null:y}class Fr{constructor(y,b){this.providerId=y,this.signInMethod=b}toJSON(){return fe("not implemented")}_getIdTokenResponse(y){return fe("not implemented")}_linkToIdToken(y,b){return fe("not implemented")}_getReauthenticationResolver(y){return fe("not implemented")}}function Lr(C,y){return ta.apply(this,arguments)}function ta(){return(ta=(0,c.Z)(function*(C,y){return Ht(C,"POST","/v1/accounts:resetPassword",en(C,y))})).apply(this,arguments)}function uh(C,y){return _n.apply(this,arguments)}function _n(){return(_n=(0,c.Z)(function*(C,y){return Ht(C,"POST","/v1/accounts:update",y)})).apply(this,arguments)}function yv(C,y){return hu.apply(this,arguments)}function hu(){return(hu=(0,c.Z)(function*(C,y){return Ht(C,"POST","/v1/accounts:update",en(C,y))})).apply(this,arguments)}function Jl(){return(Jl=(0,c.Z)(function*(C,y){return ii(C,"POST","/v1/accounts:signInWithPassword",en(C,y))})).apply(this,arguments)}function Vr(C,y){return na.apply(this,arguments)}function na(){return(na=(0,c.Z)(function*(C,y){return Ht(C,"POST","/v1/accounts:sendOobCode",en(C,y))})).apply(this,arguments)}function ia(C,y){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,c.Z)(function*(C,y){return Vr(C,y)})).apply(this,arguments)}function vv(C,y){return Mi.apply(this,arguments)}function Mi(){return(Mi=(0,c.Z)(function*(C,y){return Vr(C,y)})).apply(this,arguments)}function Cr(C,y){return Ts.apply(this,arguments)}function Ts(){return(Ts=(0,c.Z)(function*(C,y){return Vr(C,y)})).apply(this,arguments)}function ra(C,y){return sa.apply(this,arguments)}function sa(){return(sa=(0,c.Z)(function*(C,y){return Vr(C,y)})).apply(this,arguments)}function fu(){return(fu=(0,c.Z)(function*(C,y){return ii(C,"POST","/v1/accounts:signInWithEmailLink",en(C,y))})).apply(this,arguments)}function dh(){return(dh=(0,c.Z)(function*(C,y){return ii(C,"POST","/v1/accounts:signInWithEmailLink",en(C,y))})).apply(this,arguments)}class Wa extends Fr{constructor(y,b,I,R=null){super("password",I),this._email=y,this._password=b,this._tenantId=R}static _fromEmailAndPassword(y,b){return new Wa(y,b,"password")}static _fromEmailAndCode(y,b,I=null){return new Wa(y,b,"emailLink",I)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(y){const b="string"==typeof y?JSON.parse(y):y;if(b?.email&&b?.password){if("password"===b.signInMethod)return this._fromEmailAndPassword(b.email,b.password);if("emailLink"===b.signInMethod)return this._fromEmailAndCode(b.email,b.password,b.tenantId)}return null}_getIdTokenResponse(y){var b=this;return(0,c.Z)(function*(){switch(b.signInMethod){case"password":return function Xl(C,y){return Jl.apply(this,arguments)}(y,{returnSecureToken:!0,email:b._email,password:b._password});case"emailLink":return function Ds(C,y){return fu.apply(this,arguments)}(y,{email:b._email,oobCode:b._password});default:gt(y,"internal-error")}})()}_linkToIdToken(y,b){var I=this;return(0,c.Z)(function*(){switch(I.signInMethod){case"password":return uh(y,{idToken:b,returnSecureToken:!0,email:I._email,password:I._password});case"emailLink":return function FC(C,y){return dh.apply(this,arguments)}(y,{idToken:b,email:I._email,oobCode:I._password});default:gt(y,"internal-error")}})()}_getReauthenticationResolver(y){return this._getIdTokenResponse(y)}}function oa(C,y){return Br.apply(this,arguments)}function Br(){return(Br=(0,c.Z)(function*(C,y){return ii(C,"POST","/v1/accounts:signInWithIdp",en(C,y))})).apply(this,arguments)}class qs extends Fr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(y){const b=new qs(y.providerId,y.signInMethod);return y.idToken||y.accessToken?(y.idToken&&(b.idToken=y.idToken),y.accessToken&&(b.accessToken=y.accessToken),y.nonce&&!y.pendingToken&&(b.nonce=y.nonce),y.pendingToken&&(b.pendingToken=y.pendingToken)):y.oauthToken&&y.oauthTokenSecret?(b.accessToken=y.oauthToken,b.secret=y.oauthTokenSecret):gt("argument-error"),b}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(y){const b="string"==typeof y?JSON.parse(y):y,{providerId:I,signInMethod:R}=b,N=(0,Fe._T)(b,["providerId","signInMethod"]);if(!I||!R)return null;const se=new qs(I,R);return se.idToken=N.idToken||void 0,se.accessToken=N.accessToken||void 0,se.secret=N.secret,se.nonce=N.nonce,se.pendingToken=N.pendingToken||null,se}_getIdTokenResponse(y){return oa(y,this.buildRequest())}_linkToIdToken(y,b){const I=this.buildRequest();return I.idToken=b,oa(y,I)}_getReauthenticationResolver(y){const b=this.buildRequest();return b.autoCreate=!1,oa(y,b)}buildRequest(){const y={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)y.pendingToken=this.pendingToken;else{const b={};this.idToken&&(b.id_token=this.idToken),this.accessToken&&(b.access_token=this.accessToken),this.secret&&(b.oauth_token_secret=this.secret),b.providerId=this.providerId,this.nonce&&!this.pendingToken&&(b.nonce=this.nonce),y.postBody=(0,W.xO)(b)}return y}}function VC(C,y){return sm.apply(this,arguments)}function sm(){return(sm=(0,c.Z)(function*(C,y){return Ht(C,"POST","/v1/accounts:sendVerificationCode",en(C,y))})).apply(this,arguments)}function am(){return(am=(0,c.Z)(function*(C,y){return ii(C,"POST","/v1/accounts:signInWithPhoneNumber",en(C,y))})).apply(this,arguments)}function lm(){return(lm=(0,c.Z)(function*(C,y){const b=yield ii(C,"POST","/v1/accounts:signInWithPhoneNumber",en(C,y));if(b.temporaryProof)throw Zi(C,"account-exists-with-different-credential",b);return b})).apply(this,arguments)}const UC={USER_NOT_FOUND:"user-not-found"};function cm(){return(cm=(0,c.Z)(function*(C,y){return ii(C,"POST","/v1/accounts:signInWithPhoneNumber",en(C,Object.assign(Object.assign({},y),{operation:"REAUTH"})),UC)})).apply(this,arguments)}class qa extends Fr{constructor(y){super("phone","phone"),this.params=y}static _fromVerification(y,b){return new qa({verificationId:y,verificationCode:b})}static _fromTokenResponse(y,b){return new qa({phoneNumber:y,temporaryProof:b})}_getIdTokenResponse(y){return function om(C,y){return am.apply(this,arguments)}(y,this._makeVerificationRequest())}_linkToIdToken(y,b){return function BC(C,y){return lm.apply(this,arguments)}(y,Object.assign({idToken:b},this._makeVerificationRequest()))}_getReauthenticationResolver(y){return function $C(C,y){return cm.apply(this,arguments)}(y,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:y,phoneNumber:b,verificationId:I,verificationCode:R}=this.params;return y&&b?{temporaryProof:y,phoneNumber:b}:{sessionInfo:I,code:R}}toJSON(){const y={providerId:this.providerId};return this.params.phoneNumber&&(y.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(y.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(y.verificationCode=this.params.verificationCode),this.params.verificationId&&(y.verificationId=this.params.verificationId),y}static fromJSON(y){"string"==typeof y&&(y=JSON.parse(y));const{verificationId:b,verificationCode:I,phoneNumber:R,temporaryProof:N}=y;return I||b||R||N?new qa({verificationId:b,verificationCode:I,phoneNumber:R,temporaryProof:N}):null}}class pu{constructor(y){var b,I,R,N,se,xe;const ct=(0,W.zd)((0,W.pd)(y)),Tt=null!==(b=ct.apiKey)&&void 0!==b?b:null,Qt=null!==(I=ct.oobCode)&&void 0!==I?I:null,vn=function um(C){switch(C){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(R=ct.mode)&&void 0!==R?R:null);de(Tt&&Qt&&vn,"argument-error"),this.apiKey=Tt,this.operation=vn,this.code=Qt,this.continueUrl=null!==(N=ct.continueUrl)&&void 0!==N?N:null,this.languageCode=null!==(se=ct.languageCode)&&void 0!==se?se:null,this.tenantId=null!==(xe=ct.tenantId)&&void 0!==xe?xe:null}static parseLink(y){const b=function hh(C){const y=(0,W.zd)((0,W.pd)(C)).link,b=y?(0,W.zd)((0,W.pd)(y)).deep_link_id:null,I=(0,W.zd)((0,W.pd)(C)).deep_link_id;return(I?(0,W.zd)((0,W.pd)(I)).link:null)||I||b||y||C}(y);try{return new pu(b)}catch{return null}}}let dm=(()=>{class C{constructor(){this.providerId=C.PROVIDER_ID}static credential(b,I){return Wa._fromEmailAndPassword(b,I)}static credentialWithLink(b,I){const R=pu.parseLink(I);return de(R,"argument-error"),Wa._fromEmailAndCode(b,R.code,R.tenantId)}}return C.PROVIDER_ID="password",C.EMAIL_PASSWORD_SIGN_IN_METHOD="password",C.EMAIL_LINK_SIGN_IN_METHOD="emailLink",C})();class Vi{constructor(y){this.providerId=y,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(y){this.defaultLanguageCode=y}setCustomParameters(y){return this.customParameters=y,this}getCustomParameters(){return this.customParameters}}class Ya extends Vi{constructor(){super(...arguments),this.scopes=[]}addScope(y){return this.scopes.includes(y)||this.scopes.push(y),this}getScopes(){return[...this.scopes]}}class aa extends Ya{static credentialFromJSON(y){const b="string"==typeof y?JSON.parse(y):y;return de("providerId"in b&&"signInMethod"in b,"argument-error"),qs._fromParams(b)}credential(y){return this._credential(Object.assign(Object.assign({},y),{nonce:y.rawNonce}))}_credential(y){return de(y.idToken||y.accessToken,"argument-error"),qs._fromParams(Object.assign(Object.assign({},y),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(y){return aa.oauthCredentialFromTaggedObject(y)}static credentialFromError(y){return aa.oauthCredentialFromTaggedObject(y.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthIdToken:b,oauthAccessToken:I,oauthTokenSecret:R,pendingToken:N,nonce:se,providerId:xe}=y;if(!I&&!R&&!b&&!N||!xe)return null;try{return new aa(xe)._credential({idToken:b,accessToken:I,nonce:se,pendingToken:N})}catch{return null}}}let hm=(()=>{class C extends Ya{constructor(){super("facebook.com")}static credential(b){return qs._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.FACEBOOK_SIGN_IN_METHOD,accessToken:b})}static credentialFromResult(b){return C.credentialFromTaggedObject(b)}static credentialFromError(b){return C.credentialFromTaggedObject(b.customData||{})}static credentialFromTaggedObject({_tokenResponse:b}){if(!b||!("oauthAccessToken"in b)||!b.oauthAccessToken)return null;try{return C.credential(b.oauthAccessToken)}catch{return null}}}return C.FACEBOOK_SIGN_IN_METHOD="facebook.com",C.PROVIDER_ID="facebook.com",C})(),fh=(()=>{class C extends Ya{constructor(){super("google.com"),this.addScope("profile")}static credential(b,I){return qs._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.GOOGLE_SIGN_IN_METHOD,idToken:b,accessToken:I})}static credentialFromResult(b){return C.credentialFromTaggedObject(b)}static credentialFromError(b){return C.credentialFromTaggedObject(b.customData||{})}static credentialFromTaggedObject({_tokenResponse:b}){if(!b)return null;const{oauthIdToken:I,oauthAccessToken:R}=b;if(!I&&!R)return null;try{return C.credential(I,R)}catch{return null}}}return C.GOOGLE_SIGN_IN_METHOD="google.com",C.PROVIDER_ID="google.com",C})(),ph=(()=>{class C extends Ya{constructor(){super("github.com")}static credential(b){return qs._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.GITHUB_SIGN_IN_METHOD,accessToken:b})}static credentialFromResult(b){return C.credentialFromTaggedObject(b)}static credentialFromError(b){return C.credentialFromTaggedObject(b.customData||{})}static credentialFromTaggedObject({_tokenResponse:b}){if(!b||!("oauthAccessToken"in b)||!b.oauthAccessToken)return null;try{return C.credential(b.oauthAccessToken)}catch{return null}}}return C.GITHUB_SIGN_IN_METHOD="github.com",C.PROVIDER_ID="github.com",C})();class Za extends Fr{constructor(y,b){super(y,y),this.pendingToken=b}_getIdTokenResponse(y){return oa(y,this.buildRequest())}_linkToIdToken(y,b){const I=this.buildRequest();return I.idToken=b,oa(y,I)}_getReauthenticationResolver(y){const b=this.buildRequest();return b.autoCreate=!1,oa(y,b)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(y){const b="string"==typeof y?JSON.parse(y):y,{providerId:I,signInMethod:R,pendingToken:N}=b;return I&&R&&N&&I===R?new Za(I,N):null}static _create(y,b){return new Za(y,b)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class la extends Vi{constructor(y){de(y.startsWith("saml."),"argument-error"),super(y)}static credentialFromResult(y){return la.samlCredentialFromTaggedObject(y)}static credentialFromError(y){return la.samlCredentialFromTaggedObject(y.customData||{})}static credentialFromJSON(y){const b=Za.fromJSON(y);return de(b,"argument-error"),b}static samlCredentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{pendingToken:b,providerId:I}=y;if(!b||!I)return null;try{return Za._create(I,b)}catch{return null}}}let bv=(()=>{class C extends Ya{constructor(){super("twitter.com")}static credential(b,I){return qs._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.TWITTER_SIGN_IN_METHOD,oauthToken:b,oauthTokenSecret:I})}static credentialFromResult(b){return C.credentialFromTaggedObject(b)}static credentialFromError(b){return C.credentialFromTaggedObject(b.customData||{})}static credentialFromTaggedObject({_tokenResponse:b}){if(!b)return null;const{oauthAccessToken:I,oauthTokenSecret:R}=b;if(!I||!R)return null;try{return C.credential(I,R)}catch{return null}}}return C.TWITTER_SIGN_IN_METHOD="twitter.com",C.PROVIDER_ID="twitter.com",C})();function Sr(C,y){return ec.apply(this,arguments)}function ec(){return(ec=(0,c.Z)(function*(C,y){return ii(C,"POST","/v1/accounts:signUp",en(C,y))})).apply(this,arguments)}class Ki{constructor(y){this.user=y.user,this.providerId=y.providerId,this._tokenResponse=y._tokenResponse,this.operationType=y.operationType}static _fromIdTokenResponse(y,b,I,R=!1){return(0,c.Z)(function*(){const N=yield kt._fromIdTokenResponse(y,I,R),se=tc(I);return new Ki({user:N,providerId:se,_tokenResponse:I,operationType:b})})()}static _forOperation(y,b,I){return(0,c.Z)(function*(){yield y._updateTokensIfNecessary(I,!0);const R=tc(I);return new Ki({user:y,providerId:R,_tokenResponse:I,operationType:b})})()}}function tc(C){return C.providerId?C.providerId:"phoneNumber"in C?"phone":null}function HC(C){return Ev.apply(this,arguments)}function Ev(){return(Ev=(0,c.Z)(function*(C){var y;const b=It(C);if(yield b._initializationPromise,null!==(y=b.currentUser)&&void 0!==y&&y.isAnonymous)return new Ki({user:b.currentUser,providerId:null,operationType:"signIn"});const I=yield Sr(b,{returnSecureToken:!0}),R=yield Ki._fromIdTokenResponse(b,"signIn",I,!0);return yield b._updateCurrentUser(R.user),R})).apply(this,arguments)}class Xn extends W.ZR{constructor(y,b,I,R){var N;super(b.code,b.message),this.operationType=I,this.user=R,Object.setPrototypeOf(this,Xn.prototype),this.customData={appName:y.name,tenantId:null!==(N=y.tenantId)&&void 0!==N?N:void 0,_serverResponse:b.customData._serverResponse,operationType:I}}static _fromErrorAndOperation(y,b,I,R){return new Xn(y,b,I,R)}}function pm(C,y,b,I){return("reauthenticate"===y?b._getReauthenticationResolver(C):b._getIdTokenResponse(C)).catch(N=>{throw"auth/multi-factor-auth-required"===N.code?Xn._fromErrorAndOperation(C,N,y,I):N})}function wv(C){return new Set(C.map(({providerId:y})=>y).filter(y=>!!y))}function nc(C,y){return ur.apply(this,arguments)}function ur(){return(ur=(0,c.Z)(function*(C,y){const b=(0,W.m9)(C);yield vo(!0,b,y);const{providerUserInfo:I}=yield dt(b.auth,{idToken:yield b.getIdToken(),deleteProvider:[y]}),R=wv(I||[]);return b.providerData=b.providerData.filter(N=>R.has(N.providerId)),R.has("phone")||(b.phoneNumber=null),yield b.auth._persistUserIfCurrent(b),b})).apply(this,arguments)}function mm(C,y){return ic.apply(this,arguments)}function ic(){return(ic=(0,c.Z)(function*(C,y,b=!1){const I=yield Ut(C,y._linkToIdToken(C.auth,yield C.getIdToken()),b);return Ki._forOperation(C,"link",I)})).apply(this,arguments)}function vo(C,y,b){return yn.apply(this,arguments)}function yn(){return(yn=(0,c.Z)(function*(C,y,b){yield cr(y);const R=!1===C?"provider-already-linked":"no-such-provider";de(wv(y.providerData).has(b)===C,y.auth,R)})).apply(this,arguments)}function Cv(C,y){return bo.apply(this,arguments)}function bo(){return(bo=(0,c.Z)(function*(C,y,b=!1){var I;const{auth:R}=C,N="reauthenticate";try{const se=yield Ut(C,pm(R,N,y,C),b);de(se.idToken,R,"internal-error");const xe=Ct(se.idToken);de(xe,R,"internal-error");const{sub:ct}=xe;return de(C.uid===ct,R,"user-mismatch"),Ki._forOperation(C,N,se)}catch(se){throw"auth/user-not-found"===(null===(I=se)||void 0===I?void 0:I.code)&&gt(R,"user-mismatch"),se}})).apply(this,arguments)}function Sv(C,y){return As.apply(this,arguments)}function As(){return(As=(0,c.Z)(function*(C,y,b=!1){const I="signIn",R=yield pm(C,I,y),N=yield Ki._fromIdTokenResponse(C,I,R);return b||(yield C._updateCurrentUser(N.user)),N})).apply(this,arguments)}function rc(C,y){return sc.apply(this,arguments)}function sc(){return(sc=(0,c.Z)(function*(C,y){return Sv(It(C),y)})).apply(this,arguments)}function Vt(C,y){return mh.apply(this,arguments)}function mh(){return(mh=(0,c.Z)(function*(C,y){const b=(0,W.m9)(C);return yield vo(!1,b,y.providerId),mm(b,y)})).apply(this,arguments)}function zC(C,y){return gh.apply(this,arguments)}function gh(){return(gh=(0,c.Z)(function*(C,y){return Cv((0,W.m9)(C),y)})).apply(this,arguments)}function Iv(C,y){return _h.apply(this,arguments)}function _h(){return(_h=(0,c.Z)(function*(C,y){return ii(C,"POST","/v1/accounts:signInWithCustomToken",en(C,y))})).apply(this,arguments)}function oc(C,y){return yh.apply(this,arguments)}function yh(){return(yh=(0,c.Z)(function*(C,y){const b=It(C),I=yield Iv(b,{token:y,returnSecureToken:!0}),R=yield Ki._fromIdTokenResponse(b,"signIn",I);return yield b._updateCurrentUser(R.user),R})).apply(this,arguments)}class mu{constructor(y,b){this.factorId=y,this.uid=b.mfaEnrollmentId,this.enrollmentTime=new Date(b.enrolledAt).toUTCString(),this.displayName=b.displayName}static _fromServerResponse(y,b){return"phoneInfo"in b?Ve._fromServerResponse(y,b):gt(y,"internal-error")}}class Ve extends mu{constructor(y){super("phone",y),this.phoneNumber=y.phoneInfo}static _fromServerResponse(y,b){return new Ve(b)}}function sn(C,y,b){var I;de((null===(I=b.url)||void 0===I?void 0:I.length)>0,C,"invalid-continue-uri"),de(typeof b.dynamicLinkDomain>"u"||b.dynamicLinkDomain.length>0,C,"invalid-dynamic-link-domain"),y.continueUrl=b.url,y.dynamicLinkDomain=b.dynamicLinkDomain,y.canHandleCodeInApp=b.handleCodeInApp,b.iOS&&(de(b.iOS.bundleId.length>0,C,"missing-ios-bundle-id"),y.iOSBundleId=b.iOS.bundleId),b.android&&(de(b.android.packageName.length>0,C,"missing-android-pkg-name"),y.androidInstallApp=b.android.installApp,y.androidMinimumVersionCode=b.android.minimumVersion,y.androidPackageName=b.android.packageName)}function Tv(C,y,b){return gu.apply(this,arguments)}function gu(){return(gu=(0,c.Z)(function*(C,y,b){const I=(0,W.m9)(C),R={requestType:"PASSWORD_RESET",email:y};b&&sn(I,R,b),yield vv(I,R)})).apply(this,arguments)}function wi(C,y,b){return _u.apply(this,arguments)}function _u(){return(_u=(0,c.Z)(function*(C,y,b){yield Lr((0,W.m9)(C),{oobCode:y,newPassword:b})})).apply(this,arguments)}function yu(C,y){return Ur.apply(this,arguments)}function Ur(){return(Ur=(0,c.Z)(function*(C,y){yield yv((0,W.m9)(C),{oobCode:y})})).apply(this,arguments)}function vh(C,y){return vu.apply(this,arguments)}function vu(){return(vu=(0,c.Z)(function*(C,y){const b=(0,W.m9)(C),I=yield Lr(b,{oobCode:y}),R=I.requestType;switch(de(R,b,"internal-error"),R){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":de(I.newEmail,b,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":de(I.mfaInfo,b,"internal-error");default:de(I.email,b,"internal-error")}let N=null;return I.mfaInfo&&(N=mu._fromServerResponse(It(b),I.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===I.requestType?I.newEmail:I.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===I.requestType?I.email:I.newEmail)||null,multiFactorInfo:N},operation:R}})).apply(this,arguments)}function Dv(C,y){return bh.apply(this,arguments)}function bh(){return(bh=(0,c.Z)(function*(C,y){const{data:b}=yield vh((0,W.m9)(C),y);return b.email})).apply(this,arguments)}function jC(C,y,b){return Ka.apply(this,arguments)}function Ka(){return(Ka=(0,c.Z)(function*(C,y,b){const I=It(C),R=yield Sr(I,{returnSecureToken:!0,email:y,password:b}),N=yield Ki._fromIdTokenResponse(I,"signIn",R);return yield I._updateCurrentUser(N.user),N})).apply(this,arguments)}function mi(C,y,b){return rc((0,W.m9)(C),dm.credential(y,b))}function xs(C,y,b){return ac.apply(this,arguments)}function ac(){return(ac=(0,c.Z)(function*(C,y,b){const I=(0,W.m9)(C),R={requestType:"EMAIL_SIGNIN",email:y};de(b.handleCodeInApp,I,"argument-error"),b&&sn(I,R,b),yield Cr(I,R)})).apply(this,arguments)}function lc(C,y){return"EMAIL_SIGNIN"===pu.parseLink(y)?.operation}function Eo(C,y,b){return gm.apply(this,arguments)}function gm(){return(gm=(0,c.Z)(function*(C,y,b){const I=(0,W.m9)(C),R=dm.credentialWithLink(y,b||We());return de(R._tenantId===(I.tenantId||null),I,"tenant-id-mismatch"),rc(I,R)})).apply(this,arguments)}function Av(C,y){return _m.apply(this,arguments)}function _m(){return(_m=(0,c.Z)(function*(C,y){return Ht(C,"POST","/v1/accounts:createAuthUri",en(C,y))})).apply(this,arguments)}function GC(C,y){return bu.apply(this,arguments)}function bu(){return(bu=(0,c.Z)(function*(C,y){const I={identifier:y,continueUri:qe()?We():"http://localhost"},{signinMethods:R}=yield Av((0,W.m9)(C),I);return R||[]})).apply(this,arguments)}function Eh(C,y){return wh.apply(this,arguments)}function wh(){return(wh=(0,c.Z)(function*(C,y){const b=(0,W.m9)(C),R={requestType:"VERIFY_EMAIL",idToken:yield C.getIdToken()};y&&sn(b.auth,R,y);const{email:N}=yield ia(b.auth,R);N!==C.email&&(yield C.reload())})).apply(this,arguments)}function Ch(C,y,b){return Sh.apply(this,arguments)}function Sh(){return(Sh=(0,c.Z)(function*(C,y,b){const I=(0,W.m9)(C),N={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield C.getIdToken(),newEmail:y};b&&sn(I.auth,N,b);const{email:se}=yield ra(I.auth,N);se!==C.email&&(yield C.reload())})).apply(this,arguments)}function xv(C,y){return Eu.apply(this,arguments)}function Eu(){return(Eu=(0,c.Z)(function*(C,y){return Ht(C,"POST","/v1/accounts:update",y)})).apply(this,arguments)}function Mv(C,y){return Ih.apply(this,arguments)}function Ih(){return(Ih=(0,c.Z)(function*(C,{displayName:y,photoURL:b}){if(void 0===y&&void 0===b)return;const I=(0,W.m9)(C),N={idToken:yield I.getIdToken(),displayName:y,photoUrl:b,returnSecureToken:!0},se=yield Ut(I,xv(I.auth,N));I.displayName=se.displayName||null,I.photoURL=se.photoUrl||null;const xe=I.providerData.find(({providerId:ct})=>"password"===ct);xe&&(xe.displayName=I.displayName,xe.photoURL=I.photoURL),yield I._updateTokensIfNecessary(se)})).apply(this,arguments)}function kv(C,y){return Qa((0,W.m9)(C),y,null)}function ym(C,y){return Qa((0,W.m9)(C),null,y)}function Qa(C,y,b){return ca.apply(this,arguments)}function ca(){return(ca=(0,c.Z)(function*(C,y,b){const{auth:I}=C,N={idToken:yield C.getIdToken(),returnSecureToken:!0};y&&(N.email=y),b&&(N.password=b);const se=yield Ut(C,uh(I,N));yield C._updateTokensIfNecessary(se,!0)})).apply(this,arguments)}class jn{constructor(y,b,I={}){this.isNewUser=y,this.providerId=b,this.profile=I}}class Ys extends jn{constructor(y,b,I,R){super(y,b,I),this.username=R}}class Gn extends jn{constructor(y,b){super(y,"facebook.com",b)}}class vm extends Ys{constructor(y,b){super(y,"github.com",b,"string"==typeof b?.login?b?.login:null)}}class Ov extends jn{constructor(y,b){super(y,"google.com",b)}}class bm extends Ys{constructor(y,b,I){super(y,"twitter.com",b,I)}}function Pv(C){const{user:y,_tokenResponse:b}=C;return y.isAnonymous&&!b?{providerId:null,isNewUser:!1,profile:null}:function Rv(C){var y,b;if(!C)return null;const{providerId:I}=C,R=C.rawUserInfo?JSON.parse(C.rawUserInfo):{},N=C.isNewUser||"identitytoolkit#SignupNewUserResponse"===C.kind;if(!I&&C?.idToken){const se=null===(b=null===(y=Ct(C.idToken))||void 0===y?void 0:y.firebase)||void 0===b?void 0:b.sign_in_provider;if(se)return new jn(N,"anonymous"!==se&&"custom"!==se?se:null)}if(!I)return null;switch(I){case"facebook.com":return new Gn(N,R);case"github.com":return new vm(N,R);case"google.com":return new Ov(N,R);case"twitter.com":return new bm(N,R,C.screenName||null);case"custom":case"anonymous":return new jn(N,null);default:return new jn(N,I,R)}}(b)}function uc(C,y,b,I){return(0,W.m9)(C).onAuthStateChanged(y,b,I)}class $r{constructor(y,b,I){this.type=y,this.credential=b,this.auth=I}static _fromIdtoken(y,b){return new $r("enroll",y,b)}static _fromMfaPendingCredential(y){return new $r("signin",y)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(y){var b,I;if(y?.multiFactorSession){if(null!==(b=y.multiFactorSession)&&void 0!==b&&b.pendingCredential)return $r._fromMfaPendingCredential(y.multiFactorSession.pendingCredential);if(null!==(I=y.multiFactorSession)&&void 0!==I&&I.idToken)return $r._fromIdtoken(y.multiFactorSession.idToken)}return null}}class xh{constructor(y,b,I){this.session=y,this.hints=b,this.signInResolver=I}static _fromError(y,b){const I=It(y),R=b.customData._serverResponse,N=(R.mfaInfo||[]).map(xe=>mu._fromServerResponse(I,xe));de(R.mfaPendingCredential,I,"internal-error");const se=$r._fromMfaPendingCredential(R.mfaPendingCredential);return new xh(se,N,function(){var xe=(0,c.Z)(function*(ct){const Tt=yield ct._process(I,se);delete R.mfaInfo,delete R.mfaPendingCredential;const Qt=Object.assign(Object.assign({},R),{idToken:Tt.idToken,refreshToken:Tt.refreshToken});switch(b.operationType){case"signIn":const vn=yield Ki._fromIdTokenResponse(I,b.operationType,Qt);return yield I._updateCurrentUser(vn.user),vn;case"reauthenticate":return de(b.user,I,"internal-error"),Ki._forOperation(b.user,b.operationType,Qt);default:gt(I,"internal-error")}});return function(ct){return xe.apply(this,arguments)}}())}resolveSignIn(y){var b=this;return(0,c.Z)(function*(){return b.signInResolver(y)})()}}function Nv(C,y){var b;const I=(0,W.m9)(C),R=y;return de(y.customData.operationType,I,"argument-error"),de(null===(b=R.customData._serverResponse)||void 0===b?void 0:b.mfaPendingCredential,I,"argument-error"),xh._fromError(I,R)}function dc(C,y){return Ht(C,"POST","/v2/accounts/mfaEnrollment:start",en(C,y))}class Su{constructor(y){this.user=y,this.enrolledFactors=[],y._onReload(b=>{b.mfaInfo&&(this.enrolledFactors=b.mfaInfo.map(I=>mu._fromServerResponse(y.auth,I)))})}static _fromUser(y){return new Su(y)}getSession(){var y=this;return(0,c.Z)(function*(){return $r._fromIdtoken(yield y.user.getIdToken(),y.user.auth)})()}enroll(y,b){var I=this;return(0,c.Z)(function*(){const R=y,N=yield I.getSession(),se=yield Ut(I.user,R._process(I.user.auth,N,b));return yield I.user._updateTokensIfNecessary(se),I.user.reload()})()}unenroll(y){var b=this;return(0,c.Z)(function*(){var I;const R="string"==typeof y?y:y.uid,N=yield b.user.getIdToken(),se=yield Ut(b.user,function Cu(C,y){return Ht(C,"POST","/v2/accounts/mfaEnrollment:withdraw",en(C,y))}(b.user.auth,{idToken:N,mfaEnrollmentId:R}));b.enrolledFactors=b.enrolledFactors.filter(({uid:xe})=>xe!==R),yield b.user._updateTokensIfNecessary(se);try{yield b.user.reload()}catch(xe){if("auth/user-token-expired"!==(null===(I=xe)||void 0===I?void 0:I.code))throw xe}})()}}const Fv=new WeakMap;function kh(C){const y=(0,W.m9)(C);return Fv.has(y)||Fv.set(y,Su._fromUser(y)),Fv.get(y)}const Zs="__sak";class Rh{constructor(y,b){this.storageRetriever=y,this.type=b}_isAvailable(){try{return this.storage?(this.storage.setItem(Zs,"1"),this.storage.removeItem(Zs),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(y,b){return this.storage.setItem(y,JSON.stringify(b)),Promise.resolve()}_get(y){const b=this.storage.getItem(y);return Promise.resolve(b?JSON.parse(b):null)}_remove(y){return this.storage.removeItem(y),Promise.resolve()}get storage(){return this.storageRetriever()}}const da=(()=>{class C extends Rh{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(b,I)=>this.onStorageEvent(b,I),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Oh(){const C=(0,W.z$)();return B(C)||je(C)}()&&function Is(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Cn(),this._shouldAllowMigration=!0}forAllChangedKeys(b){for(const I of Object.keys(this.listeners)){const R=this.storage.getItem(I),N=this.localCache[I];R!==N&&b(I,N,R)}}onStorageEvent(b,I=!1){if(!b.key)return void this.forAllChangedKeys((xe,ct,Tt)=>{this.notifyListeners(xe,Tt)});const R=b.key;if(I?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const xe=this.storage.getItem(R);if(b.newValue!==xe)null!==b.newValue?this.storage.setItem(R,b.newValue):this.storage.removeItem(R);else if(this.localCache[R]===b.newValue&&!I)return}const N=()=>{const xe=this.storage.getItem(R);!I&&this.localCache[R]===xe||this.notifyListeners(R,xe)},se=this.storage.getItem(R);!function Gt(){return(0,W.w1)()&&10===document.documentMode}()||se===b.newValue||b.newValue===b.oldValue?N():setTimeout(N,10)}notifyListeners(b,I){this.localCache[b]=I;const R=this.listeners[b];if(R)for(const N of Array.from(R))N(I&&JSON.parse(I))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((b,I,R)=>{this.onStorageEvent(new StorageEvent("storage",{key:b,oldValue:I,newValue:R}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(b,I){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[b]||(this.listeners[b]=new Set,this.localCache[b]=this.storage.getItem(b)),this.listeners[b].add(I)}_removeListener(b,I){this.listeners[b]&&(this.listeners[b].delete(I),0===this.listeners[b].size&&delete this.listeners[b]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(b,I){var R=()=>super._set,N=this;return(0,c.Z)(function*(){yield R().call(N,b,I),N.localCache[b]=JSON.stringify(I)})()}_get(b){var I=()=>super._get,R=this;return(0,c.Z)(function*(){const N=yield I().call(R,b);return R.localCache[b]=JSON.stringify(N),N})()}_remove(b){var I=()=>super._remove,R=this;return(0,c.Z)(function*(){yield I().call(R,b),delete R.localCache[b]})()}}return C.type="LOCAL",C})(),wo=(()=>{class C extends Rh{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(b,I){}_removeListener(b,I){}}return C.type="SESSION",C})();let Iu=(()=>{class C{constructor(b){this.eventTarget=b,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(b){const I=this.receivers.find(N=>N.isListeningto(b));if(I)return I;const R=new C(b);return this.receivers.push(R),R}isListeningto(b){return this.eventTarget===b}handleEvent(b){var I=this;return(0,c.Z)(function*(){const R=b,{eventId:N,eventType:se,data:xe}=R.data,ct=I.handlersMap[se];if(!ct?.size)return;R.ports[0].postMessage({status:"ack",eventId:N,eventType:se});const Tt=Array.from(ct).map(function(){var vn=(0,c.Z)(function*(Ui){return Ui(R.origin,xe)});return function(Ui){return vn.apply(this,arguments)}}()),Qt=yield function Ph(C){return Promise.all(C.map(function(){var y=(0,c.Z)(function*(b){try{return{fulfilled:!0,value:yield b}}catch(I){return{fulfilled:!1,reason:I}}});return function(b){return y.apply(this,arguments)}}()))}(Tt);R.ports[0].postMessage({status:"done",eventId:N,eventType:se,response:Qt})})()}_subscribe(b,I){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[b]||(this.handlersMap[b]=new Set),this.handlersMap[b].add(I)}_unsubscribe(b,I){this.handlersMap[b]&&I&&this.handlersMap[b].delete(I),(!I||0===this.handlersMap[b].size)&&delete this.handlersMap[b],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return C.receivers=[],C})();function Xa(C="",y=10){let b="";for(let I=0;I<y;I++)b+=Math.floor(10*Math.random());return C+b}class Bv{constructor(y){this.target=y,this.handlers=new Set}removeMessageHandler(y){y.messageChannel&&(y.messageChannel.port1.removeEventListener("message",y.onMessage),y.messageChannel.port1.close()),this.handlers.delete(y)}_send(y,b,I=50){var R=this;return(0,c.Z)(function*(){const N=typeof MessageChannel<"u"?new MessageChannel:null;if(!N)throw new Error("connection_unavailable");let se,xe;return new Promise((ct,Tt)=>{const Qt=Xa("",20);N.port1.start();const vn=setTimeout(()=>{Tt(new Error("unsupported_event"))},I);xe={messageChannel:N,onMessage(Ui){const jr=Ui;if(jr.data.eventId===Qt)switch(jr.data.status){case"ack":clearTimeout(vn),se=setTimeout(()=>{Tt(new Error("timeout"))},3e3);break;case"done":clearTimeout(se),ct(jr.data.response);break;default:clearTimeout(vn),clearTimeout(se),Tt(new Error("invalid_response"))}}},R.handlers.add(xe),N.port1.addEventListener("message",xe.onMessage),R.target.postMessage({eventType:y,eventId:Qt,data:b},[N.port2])}).finally(()=>{xe&&R.removeMessageHandler(xe)})})()}}function gi(){return window}function ns(){return typeof gi().WorkerGlobalScope<"u"&&"function"==typeof gi().importScripts}function ha(){return(ha=(0,c.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const fc="firebaseLocalStorageDb",mc="firebaseLocalStorage",Du="fbase_key";class fa{constructor(y){this.request=y}toPromise(){return new Promise((y,b)=>{this.request.addEventListener("success",()=>{y(this.request.result)}),this.request.addEventListener("error",()=>{b(this.request.error)})})}}function Au(C,y){return C.transaction([mc],y?"readwrite":"readonly").objectStore(mc)}function Im(){const C=indexedDB.open(fc,1);return new Promise((y,b)=>{C.addEventListener("error",()=>{b(C.error)}),C.addEventListener("upgradeneeded",()=>{const I=C.result;try{I.createObjectStore(mc,{keyPath:Du})}catch(R){b(R)}}),C.addEventListener("success",(0,c.Z)(function*(){const I=C.result;I.objectStoreNames.contains(mc)?y(I):(I.close(),yield function Sm(){const C=indexedDB.deleteDatabase(fc);return new fa(C).toPromise()}(),y(yield Im()))}))})}function gc(C,y,b){return Ks.apply(this,arguments)}function Ks(){return(Ks=(0,c.Z)(function*(C,y,b){const I=Au(C,!0).put({[Du]:y,value:b});return new fa(I).toPromise()})).apply(this,arguments)}function xu(){return(xu=(0,c.Z)(function*(C,y){const b=Au(C,!1).get(y),I=yield new fa(b).toPromise();return void 0===I?null:I.value})).apply(this,arguments)}function Tm(C,y){const b=Au(C,!0).delete(y);return new fa(b).toPromise()}const Mu=(()=>{class C{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var b=this;return(0,c.Z)(function*(){return b.db||(b.db=yield Im()),b.db})()}_withRetries(b){var I=this;return(0,c.Z)(function*(){let R=0;for(;;)try{const N=yield I._openDb();return yield b(N)}catch(N){if(R++>3)throw N;I.db&&(I.db.close(),I.db=void 0)}})()}initializeServiceWorkerMessaging(){var b=this;return(0,c.Z)(function*(){return ns()?b.initializeReceiver():b.initializeSender()})()}initializeReceiver(){var b=this;return(0,c.Z)(function*(){b.receiver=Iu._getInstance(function Tu(){return ns()?self:null}()),b.receiver._subscribe("keyChanged",function(){var I=(0,c.Z)(function*(R,N){return{keyProcessed:(yield b._poll()).includes(N.key)}});return function(R,N){return I.apply(this,arguments)}}()),b.receiver._subscribe("ping",function(){var I=(0,c.Z)(function*(R,N){return["keyChanged"]});return function(R,N){return I.apply(this,arguments)}}())})()}initializeSender(){var b=this;return(0,c.Z)(function*(){var I,R;if(b.activeServiceWorker=yield function Uv(){return ha.apply(this,arguments)}(),!b.activeServiceWorker)return;b.sender=new Bv(b.activeServiceWorker);const N=yield b.sender._send("ping",{},800);!N||(null===(I=N[0])||void 0===I?void 0:I.fulfilled)&&(null===(R=N[0])||void 0===R?void 0:R.value.includes("keyChanged"))&&(b.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(b){var I=this;return(0,c.Z)(function*(){if(I.sender&&I.activeServiceWorker&&function Nh(){var C;return(null===(C=navigator?.serviceWorker)||void 0===C?void 0:C.controller)||null}()===I.activeServiceWorker)try{yield I.sender._send("keyChanged",{key:b},I.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,c.Z)(function*(){try{if(!indexedDB)return!1;const b=yield Im();return yield gc(b,Zs,"1"),yield Tm(b,Zs),!0}catch{}return!1})()}_withPendingWrite(b){var I=this;return(0,c.Z)(function*(){I.pendingWrites++;try{yield b()}finally{I.pendingWrites--}})()}_set(b,I){var R=this;return(0,c.Z)(function*(){return R._withPendingWrite((0,c.Z)(function*(){return yield R._withRetries(N=>gc(N,b,I)),R.localCache[b]=I,R.notifyServiceWorker(b)}))})()}_get(b){var I=this;return(0,c.Z)(function*(){const R=yield I._withRetries(N=>function $v(C,y){return xu.apply(this,arguments)}(N,b));return I.localCache[b]=R,R})()}_remove(b){var I=this;return(0,c.Z)(function*(){return I._withPendingWrite((0,c.Z)(function*(){return yield I._withRetries(R=>Tm(R,b)),delete I.localCache[b],I.notifyServiceWorker(b)}))})()}_poll(){var b=this;return(0,c.Z)(function*(){const I=yield b._withRetries(se=>{const xe=Au(se,!1).getAll();return new fa(xe).toPromise()});if(!I)return[];if(0!==b.pendingWrites)return[];const R=[],N=new Set;for(const{fbase_key:se,value:xe}of I)N.add(se),JSON.stringify(b.localCache[se])!==JSON.stringify(xe)&&(b.notifyListeners(se,xe),R.push(se));for(const se of Object.keys(b.localCache))b.localCache[se]&&!N.has(se)&&(b.notifyListeners(se,null),R.push(se));return R})()}notifyListeners(b,I){this.localCache[b]=I;const R=this.listeners[b];if(R)for(const N of Array.from(R))N(I)}startPolling(){var b=this;this.stopPolling(),this.pollTimer=setInterval((0,c.Z)(function*(){return b._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(b,I){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[b]||(this.listeners[b]=new Set,this._get(b)),this.listeners[b].add(I)}_removeListener(b,I){this.listeners[b]&&(this.listeners[b].delete(I),0===this.listeners[b].size&&delete this.listeners[b]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return C.type="LOCAL",C})();function Hv(C,y){return Ht(C,"POST","/v2/accounts/mfaSignIn:start",en(C,y))}function pa(){return(pa=(0,c.Z)(function*(C){return(yield Ht(C,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Ja(C){return new Promise((y,b)=>{const I=document.createElement("script");I.setAttribute("src",C),I.onload=y,I.onerror=R=>{const N=Ge("internal-error");N.customData=R,b(N)},I.type="text/javascript",I.charset="UTF-8",function yc(){var C,y;return null!==(y=null===(C=document.getElementsByTagName("head"))||void 0===C?void 0:C[0])&&void 0!==y?y:document}().appendChild(I)})}function Fh(C){return`__${C}${Math.floor(1e6*Math.random())}`}const xm=1e12;class WC{constructor(y){this.auth=y,this.counter=xm,this._widgets=new Map}render(y,b){const I=this.counter;return this._widgets.set(I,new xn(y,this.auth.name,b||{})),this.counter++,I}reset(y){var b;const I=y||xm;null===(b=this._widgets.get(I))||void 0===b||b.delete(),this._widgets.delete(I)}getResponse(y){var b;return(null===(b=this._widgets.get(y||xm))||void 0===b?void 0:b.getResponse())||""}execute(y){var b=this;return(0,c.Z)(function*(){var I;return null===(I=b._widgets.get(y||xm))||void 0===I||I.execute(),""})()}}class xn{constructor(y,b,I){this.params=I,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const R="string"==typeof y?document.getElementById(y):y;de(R,"argument-error",{appName:b}),this.container=R,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function qC(C){const y=[],b="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let I=0;I<C;I++)y.push(b.charAt(Math.floor(Math.random()*b.length)));return y.join("")}(50);const{callback:y,"expired-callback":b}=this.params;if(y)try{y(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,b)try{b()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const zv=Fh("rcb"),CM=new et(3e4,6e4);class IM{constructor(){var y;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(y=gi().grecaptcha)||void 0===y||!y.render)}load(y,b=""){return de(function TM(C){return C.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(C)}(b),y,"argument-error"),this.shouldResolveImmediately(b)?Promise.resolve(gi().grecaptcha):new Promise((I,R)=>{const N=gi().setTimeout(()=>{R(Ge(y,"network-request-failed"))},CM.get());gi()[zv]=()=>{gi().clearTimeout(N),delete gi()[zv];const xe=gi().grecaptcha;if(!xe)return void R(Ge(y,"internal-error"));const ct=xe.render;xe.render=(Tt,Qt)=>{const vn=ct(Tt,Qt);return this.counter++,vn},this.hostLanguage=b,I(xe)},Ja(`https://www.google.com/recaptcha/api.js??${(0,W.xO)({onload:zv,render:"explicit",hl:b})}`).catch(()=>{clearTimeout(N),R(Ge(y,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(y){var b;return!(null===(b=gi().grecaptcha)||void 0===b||!b.render)&&(y===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class DM{load(y){return(0,c.Z)(function*(){return new WC(y)})()}clearedOneInstance(){}}const So="recaptcha",YC={theme:"light",type:"image"};class jv{constructor(y,b=Object.assign({},YC),I){this.parameters=b,this.type=So,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=It(I),this.isInvisible="invisible"===this.parameters.size,de(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const R="string"==typeof y?document.getElementById(y):y;de(R,this.auth,"argument-error"),this.container=R,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new DM:new IM,this.validateStartingState()}verify(){var y=this;return(0,c.Z)(function*(){y.assertNotDestroyed();const b=yield y.render(),I=y.getAssertedRecaptcha();return I.getResponse(b)||new Promise(N=>{const se=xe=>{!xe||(y.tokenChangeListeners.delete(se),N(xe))};y.tokenChangeListeners.add(se),y.isInvisible&&I.execute(b)})})()}render(){try{this.assertNotDestroyed()}catch(y){return Promise.reject(y)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(y=>{throw this.renderPromise=null,y})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(y=>{this.container.removeChild(y)})}validateStartingState(){de(!this.parameters.sitekey,this.auth,"argument-error"),de(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),de(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(y){return b=>{if(this.tokenChangeListeners.forEach(I=>I(b)),"function"==typeof y)y(b);else if("string"==typeof y){const I=gi()[y];"function"==typeof I&&I(b)}}}assertNotDestroyed(){de(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var y=this;return(0,c.Z)(function*(){if(yield y.init(),!y.widgetId){let b=y.container;if(!y.isInvisible){const I=document.createElement("div");b.appendChild(I),b=I}y.widgetId=y.getAssertedRecaptcha().render(b,y.parameters)}return y.widgetId})()}init(){var y=this;return(0,c.Z)(function*(){de(qe()&&!ns(),y.auth,"internal-error"),yield function Ci(){let C=null;return new Promise(y=>{"complete"!==document.readyState?(C=()=>y(),window.addEventListener("load",C)):y()}).catch(y=>{throw C&&window.removeEventListener("load",C),y})}(),y.recaptcha=yield y._recaptchaLoader.load(y.auth,y.auth.languageCode||void 0);const b=yield function Ru(C){return pa.apply(this,arguments)}(y.auth);de(b,y.auth,"internal-error"),y.parameters.sitekey=b})()}getAssertedRecaptcha(){return de(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class dn{constructor(y,b){this.verificationId=y,this.onConfirmation=b}confirm(y){const b=qa._fromVerification(this.verificationId,y);return this.onConfirmation(b)}}function Ms(C,y,b){return tt.apply(this,arguments)}function tt(){return(tt=(0,c.Z)(function*(C,y,b){const I=It(C),R=yield kn(I,y,(0,W.m9)(b));return new dn(R,N=>rc(I,N))})).apply(this,arguments)}function zt(C,y,b){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,c.Z)(function*(C,y,b){const I=(0,W.m9)(C);yield vo(!1,I,"phone");const R=yield kn(I.auth,y,(0,W.m9)(b));return new dn(R,N=>Vt(I,N))})).apply(this,arguments)}function Qs(C,y,b){return ma.apply(this,arguments)}function ma(){return(ma=(0,c.Z)(function*(C,y,b){const I=(0,W.m9)(C),R=yield kn(I.auth,y,(0,W.m9)(b));return new dn(R,N=>zC(I,N))})).apply(this,arguments)}function kn(C,y,b){return ga.apply(this,arguments)}function ga(){return(ga=(0,c.Z)(function*(C,y,b){var I;const R=yield b.verify();try{let N;if(de("string"==typeof R,C,"argument-error"),de(b.type===So,C,"argument-error"),N="string"==typeof y?{phoneNumber:y}:y,"session"in N){const se=N.session;if("phoneNumber"in N)return de("enroll"===se.type,C,"internal-error"),(yield dc(C,{idToken:se.credential,phoneEnrollmentInfo:{phoneNumber:N.phoneNumber,recaptchaToken:R}})).phoneSessionInfo.sessionInfo;{de("signin"===se.type,C,"internal-error");const xe=(null===(I=N.multiFactorHint)||void 0===I?void 0:I.uid)||N.multiFactorUid;return de(xe,C,"missing-multi-factor-info"),(yield Hv(C,{mfaPendingCredential:se.credential,mfaEnrollmentId:xe,phoneSignInInfo:{recaptchaToken:R}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:se}=yield VC(C,{phoneNumber:N.phoneNumber,recaptchaToken:R});return se}}finally{b._reset()}})).apply(this,arguments)}function Mm(C,y){return Lh.apply(this,arguments)}function Lh(){return(Lh=(0,c.Z)(function*(C,y){yield mm((0,W.m9)(C),y)})).apply(this,arguments)}let Gv=(()=>{class C{constructor(b){this.providerId=C.PROVIDER_ID,this.auth=It(b)}verifyPhoneNumber(b,I){return kn(this.auth,b,(0,W.m9)(I))}static credential(b,I){return qa._fromVerification(b,I)}static credentialFromResult(b){return C.credentialFromTaggedObject(b)}static credentialFromError(b){return C.credentialFromTaggedObject(b.customData||{})}static credentialFromTaggedObject({_tokenResponse:b}){if(!b)return null;const{phoneNumber:I,temporaryProof:R}=b;return I&&R?qa._fromTokenResponse(I,R):null}}return C.PROVIDER_ID="phone",C.PHONE_SIGN_IN_METHOD="phone",C})();function _a(C,y){return y?ie(y):(de(C._popupRedirectResolver,C,"argument-error"),C._popupRedirectResolver)}class km extends Fr{constructor(y){super("custom","custom"),this.params=y}_getIdTokenResponse(y){return oa(y,this._buildIdpRequest())}_linkToIdToken(y,b){return oa(y,this._buildIdpRequest(b))}_getReauthenticationResolver(y){return oa(y,this._buildIdpRequest())}_buildIdpRequest(y){const b={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return y&&(b.idToken=y),b}}function ya(C){return Sv(C.auth,new km(C),C.bypassAuthState)}function rt(C){const{auth:y,user:b}=C;return de(b,y,"internal-error"),Cv(b,new km(C),C.bypassAuthState)}function Vh(C){return Io.apply(this,arguments)}function Io(){return(Io=(0,c.Z)(function*(C){const{auth:y,user:b}=C;return de(b,y,"internal-error"),mm(b,new km(C),C.bypassAuthState)})).apply(this,arguments)}class Bh{constructor(y,b,I,R,N=!1){this.auth=y,this.resolver=I,this.user=R,this.bypassAuthState=N,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(b)?b:[b]}execute(){var y=this;return new Promise(function(){var b=(0,c.Z)(function*(I,R){y.pendingPromise={resolve:I,reject:R};try{y.eventManager=yield y.resolver._initialize(y.auth),yield y.onExecution(),y.eventManager.registerConsumer(y)}catch(N){y.reject(N)}});return function(I,R){return b.apply(this,arguments)}}())}onAuthEvent(y){var b=this;return(0,c.Z)(function*(){const{urlResponse:I,sessionId:R,postBody:N,tenantId:se,error:xe,type:ct}=y;if(xe)return void b.reject(xe);const Tt={auth:b.auth,requestUri:I,sessionId:R,tenantId:se||void 0,postBody:N||void 0,user:b.user,bypassAuthState:b.bypassAuthState};try{b.resolve(yield b.getIdpTask(ct)(Tt))}catch(Qt){b.reject(Qt)}})()}onError(y){this.reject(y)}getIdpTask(y){switch(y){case"signInViaPopup":case"signInViaRedirect":return ya;case"linkViaPopup":case"linkViaRedirect":return Vh;case"reauthViaPopup":case"reauthViaRedirect":return rt;default:gt(this.auth,"internal-error")}}resolve(y){Te(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(y),this.unregisterAndCleanUp()}reject(y){Te(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(y),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Uh=new et(2e3,1e4);function Bn(C,y,b){return $h.apply(this,arguments)}function $h(){return($h=(0,c.Z)(function*(C,y,b){const I=It(C);Ae(C,y,Vi);const R=_a(I,b);return new bc(I,"signInViaPopup",y,R).executeNotNull()})).apply(this,arguments)}function Hh(C,y,b){return zh.apply(this,arguments)}function zh(){return(zh=(0,c.Z)(function*(C,y,b){const I=(0,W.m9)(C);Ae(I.auth,y,Vi);const R=_a(I.auth,b);return new bc(I.auth,"reauthViaPopup",y,R,I).executeNotNull()})).apply(this,arguments)}function Rm(C,y,b){return va.apply(this,arguments)}function va(){return(va=(0,c.Z)(function*(C,y,b){const I=(0,W.m9)(C);Ae(I.auth,y,Vi);const R=_a(I.auth,b);return new bc(I.auth,"linkViaPopup",y,R,I).executeNotNull()})).apply(this,arguments)}let bc=(()=>{class C extends Bh{constructor(b,I,R,N,se){super(b,I,N,se),this.provider=R,this.authWindow=null,this.pollId=null,C.currentPopupAction&&C.currentPopupAction.cancel(),C.currentPopupAction=this}executeNotNull(){var b=this;return(0,c.Z)(function*(){const I=yield b.execute();return de(I,b.auth,"internal-error"),I})()}onExecution(){var b=this;return(0,c.Z)(function*(){Te(1===b.filter.length,"Popup operations only handle one event");const I=Xa();b.authWindow=yield b.resolver._openPopup(b.auth,b.provider,b.filter[0],I),b.authWindow.associatedEvent=I,b.resolver._originValidation(b.auth).catch(R=>{b.reject(R)}),b.resolver._isIframeWebStorageSupported(b.auth,R=>{R||b.reject(Ge(b.auth,"web-storage-unsupported"))}),b.pollUserCancellation()})()}get eventId(){var b;return(null===(b=this.authWindow)||void 0===b?void 0:b.associatedEvent)||null}cancel(){this.reject(Ge(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,C.currentPopupAction=null}pollUserCancellation(){const b=()=>{var I,R;this.pollId=null!==(R=null===(I=this.authWindow)||void 0===I?void 0:I.window)&&void 0!==R&&R.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Ge(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(b,Uh.get())};b()}}return C.currentPopupAction=null,C})();const is=new Map;class Do extends Bh{constructor(y,b,I=!1){super(y,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],b,void 0,I),this.eventId=null}execute(){var y=()=>super.execute,b=this;return(0,c.Z)(function*(){let I=is.get(b.auth._key());if(!I){try{const N=(yield function jh(C,y){return Bi.apply(this,arguments)}(b.resolver,b.auth))?yield y().call(b):null;I=()=>Promise.resolve(N)}catch(R){I=()=>Promise.reject(R)}is.set(b.auth._key(),I)}return b.bypassAuthState||is.set(b.auth._key(),()=>Promise.resolve(null)),I()})()}onAuthEvent(y){var b=()=>super.onAuthEvent,I=this;return(0,c.Z)(function*(){if("signInViaRedirect"===y.type)return b().call(I,y);if("unknown"!==y.type){if(y.eventId){const R=yield I.auth._redirectUserForId(y.eventId);if(R)return I.user=R,b().call(I,y);I.resolve(null)}}else I.resolve(null)})()}onExecution(){return(0,c.Z)(function*(){})()}cleanUp(){}}function Bi(){return(Bi=(0,c.Z)(function*(C,y){const b=Mo(y),I=xo(C);if(!(yield I._isAvailable()))return!1;const R="true"===(yield I._get(b));return yield I._remove(b),R})).apply(this,arguments)}function Ao(C,y){return ks.apply(this,arguments)}function ks(){return(ks=(0,c.Z)(function*(C,y){return xo(C)._set(Mo(y),"true")})).apply(this,arguments)}function Ir(){is.clear()}function Wn(C,y){is.set(C._key(),y)}function xo(C){return ie(C._redirectPersistence)}function Mo(C){return G("pendingRedirect",C.config.apiKey,C.name)}function Un(C,y,b){return function tn(C,y,b){return _i.apply(this,arguments)}(C,y,b)}function _i(){return(_i=(0,c.Z)(function*(C,y,b){const I=It(C);Ae(C,y,Vi);const R=_a(I,b);return yield Ao(R,I),R._openRedirect(I,y,"signInViaRedirect")})).apply(this,arguments)}function Rn(C,y,b){return function li(C,y,b){return Rs.apply(this,arguments)}(C,y,b)}function Rs(){return(Rs=(0,c.Z)(function*(C,y,b){const I=(0,W.m9)(C);Ae(I.auth,y,Vi);const R=_a(I.auth,b);yield Ao(R,I.auth);const N=yield el(I);return R._openRedirect(I.auth,y,"reauthViaRedirect",N)})).apply(this,arguments)}function Om(C,y,b){return function Wv(C,y,b){return rs.apply(this,arguments)}(C,y,b)}function rs(){return(rs=(0,c.Z)(function*(C,y,b){const I=(0,W.m9)(C);Ae(I.auth,y,Vi);const R=_a(I.auth,b);yield vo(!1,I,y.providerId),yield Ao(R,I.auth);const N=yield el(I);return R._openRedirect(I.auth,y,"linkViaRedirect",N)})).apply(this,arguments)}function Os(C,y){return An.apply(this,arguments)}function An(){return(An=(0,c.Z)(function*(C,y){return yield It(C)._initializationPromise,Hr(C,y,!1)})).apply(this,arguments)}function Hr(C,y){return ba.apply(this,arguments)}function ba(){return(ba=(0,c.Z)(function*(C,y,b=!1){const I=It(C),R=_a(I,y),se=yield new Do(I,R,b).execute();return se&&!b&&(delete se.user._redirectEventId,yield I._persistUserIfCurrent(se.user),yield I._setRedirectUser(null,y)),se})).apply(this,arguments)}function el(C){return tl.apply(this,arguments)}function tl(){return(tl=(0,c.Z)(function*(C){const y=Xa(`${C.uid}:::`);return C._redirectEventId=y,yield C.auth._setRedirectUser(C),yield C.auth._persistUserIfCurrent(C),y})).apply(this,arguments)}class Ec{constructor(y){this.auth=y,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(y){this.consumers.add(y),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,y)&&(this.sendToConsumer(this.queuedRedirectEvent,y),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(y){this.consumers.delete(y)}onEvent(y){if(this.hasEventBeenHandled(y))return!1;let b=!1;return this.consumers.forEach(I=>{this.isEventForConsumer(y,I)&&(b=!0,this.sendToConsumer(y,I),this.saveEventToCache(y))}),this.hasHandledPotentialRedirect||!function Kt(C){switch(C.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return wc(C);default:return!1}}(y)||(this.hasHandledPotentialRedirect=!0,b||(this.queuedRedirectEvent=y,b=!0)),b}sendToConsumer(y,b){var I;if(y.error&&!wc(y)){const R=(null===(I=y.error.code)||void 0===I?void 0:I.split("auth/")[1])||"internal-error";b.onError(Ge(this.auth,R))}else b.onAuthEvent(y)}isEventForConsumer(y,b){const I=null===b.eventId||!!y.eventId&&y.eventId===b.eventId;return b.filter.includes(y.type)&&I}hasEventBeenHandled(y){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ou(y))}saveEventToCache(y){this.cachedEventUids.add(Ou(y)),this.lastProcessedEventTime=Date.now()}}function Ou(C){return[C.type,C.eventId,C.sessionId,C.tenantId].filter(y=>y).join("-")}function wc({type:C,error:y}){return"unknown"===C&&"auth/no-auth-event"===y?.code}function ss(C){return Ea.apply(this,arguments)}function Ea(){return(Ea=(0,c.Z)(function*(C,y={}){return Ht(C,"GET","/v1/projects",y)})).apply(this,arguments)}const il=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ZC=/^https?/;function zr(){return(zr=(0,c.Z)(function*(C){if(C.config.emulator)return;const{authorizedDomains:y}=yield ss(C);for(const b of y)try{if(qv(b))return}catch{}gt(C,"unauthorized-domain")})).apply(this,arguments)}function qv(C){const y=We(),{protocol:b,hostname:I}=new URL(y);if(C.startsWith("chrome-extension://")){const se=new URL(C);return""===se.hostname&&""===I?"chrome-extension:"===b&&C.replace("chrome-extension://","")===y.replace("chrome-extension://",""):"chrome-extension:"===b&&se.hostname===I}if(!ZC.test(b))return!1;if(il.test(C))return I===C;const R=C.replace(/\./g,"\\.");return new RegExp("^(.+\\."+R+"|"+R+")$","i").test(I)}const Nm=new et(3e4,6e4);function Gh(){const C=gi().___jsl;if(C?.H)for(const y of Object.keys(C.H))if(C.H[y].r=C.H[y].r||[],C.H[y].L=C.H[y].L||[],C.H[y].r=[...C.H[y].L],C.CP)for(let b=0;b<C.CP.length;b++)C.CP[b]=null}let qn=null;function Xs(C){return qn=qn||function KC(C){return new Promise((y,b)=>{var I,R,N;function se(){Gh(),gapi.load("gapi.iframes",{callback:()=>{y(gapi.iframes.getContext())},ontimeout:()=>{Gh(),b(Ge(C,"network-request-failed"))},timeout:Nm.get()})}if(null!==(R=null===(I=gi().gapi)||void 0===I?void 0:I.iframes)&&void 0!==R&&R.Iframe)y(gapi.iframes.getContext());else{if(null===(N=gi().gapi)||void 0===N||!N.load){const xe=Fh("iframefcb");return gi()[xe]=()=>{gapi.load?se():b(Ge(C,"network-request-failed"))},Ja(`https://apis.google.com/js/api.js?onload=${xe}`).catch(ct=>b(ct))}se()}}).catch(y=>{throw qn=null,y})}(C),qn}const Wh=new et(5e3,15e3),qh={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Yv=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Yh(C){const y=C.config;de(y.authDomain,C,"auth-domain-config-required");const b=y.emulator?Sn(y,"emulator/auth/iframe"):`https://${C.config.authDomain}/__/auth/iframe`,I={apiKey:y.apiKey,appName:C.name,v:H.SDK_VERSION},R=Yv.get(C.config.apiHost);R&&(I.eid=R);const N=C._getFrameworks();return N.length&&(I.fw=N.join(",")),`${b}?${(0,W.xO)(I).slice(1)}`}function Pu(){return Pu=(0,c.Z)(function*(C){const y=yield Xs(C),b=gi().gapi;return de(b,C,"internal-error"),y.open({where:document.body,url:Yh(C),messageHandlersFilter:b.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:qh,dontclear:!0},I=>new Promise(function(){var R=(0,c.Z)(function*(N,se){yield I.restyle({setHideOnLeave:!1});const xe=Ge(C,"network-request-failed"),ct=gi().setTimeout(()=>{se(xe)},Wh.get());function Tt(){gi().clearTimeout(ct),N(I)}I.ping(Tt).then(Tt,()=>{se(xe)})});return function(N,se){return R.apply(this,arguments)}}()))}),Pu.apply(this,arguments)}const Cc={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Sc{constructor(y){this.window=y,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function rl(C,y,b,I,R,N){de(C.config.authDomain,C,"auth-domain-config-required"),de(C.config.apiKey,C,"invalid-api-key");const se={apiKey:C.config.apiKey,appName:C.name,authType:b,redirectUrl:I,v:H.SDK_VERSION,eventId:R};if(y instanceof Vi){y.setDefaultLanguage(C.languageCode),se.providerId=y.providerId||"",(0,W.xb)(y.getCustomParameters())||(se.customParameters=JSON.stringify(y.getCustomParameters()));for(const[ct,Tt]of Object.entries(N||{}))se[ct]=Tt}if(y instanceof Ya){const ct=y.getScopes().filter(Tt=>""!==Tt);ct.length>0&&(se.scopes=ct.join(","))}C.tenantId&&(se.tid=C.tenantId);const xe=se;for(const ct of Object.keys(xe))void 0===xe[ct]&&delete xe[ct];return`${function Ca({config:C}){return C.emulator?Sn(C,"emulator/auth/handler"):`https://${C.authDomain}/__/auth/handler`}(C)}?${(0,W.xO)(xe).slice(1)}`}const sl="webStorageSupport",Kh=class Ic{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=wo,this._completeRedirectFn=Hr,this._overrideRedirectResult=Wn}_openPopup(y,b,I,R){var N=this;return(0,c.Z)(function*(){var se;Te(null===(se=N.eventManagers[y._key()])||void 0===se?void 0:se.manager,"_initialize() not called before _openPopup()");const xe=rl(y,b,I,We(),R);return function Fu(C,y,b,I=500,R=600){const N=Math.max((window.screen.availHeight-R)/2,0).toString(),se=Math.max((window.screen.availWidth-I)/2,0).toString();let xe="";const ct=Object.assign(Object.assign({},Cc),{width:I.toString(),height:R.toString(),top:N,left:se}),Tt=(0,W.z$)().toLowerCase();b&&(xe=ce(Tt)?"_blank":b),P(Tt)&&(y=y||"http://localhost",ct.scrollbars="yes");const Qt=Object.entries(ct).reduce((Ui,[jr,Bu])=>`${Ui}${jr}=${Bu},`,"");if(function wn(C=(0,W.z$)()){var y;return je(C)&&!(null===(y=window.navigator)||void 0===y||!y.standalone)}(Tt)&&"_self"!==xe)return function eo(C,y){const b=document.createElement("a");b.href=C,b.target=y;const I=document.createEvent("MouseEvent");I.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),b.dispatchEvent(I)}(y||"",xe),new Sc(null);const vn=window.open(y||"",xe,Qt);de(vn,C,"popup-blocked");try{vn.focus()}catch{}return new Sc(vn)}(y,xe,Xa())})()}_openRedirect(y,b,I,R){var N=this;return(0,c.Z)(function*(){return yield N._originValidation(y),function Cm(C){gi().location.href=C}(rl(y,b,I,We(),R)),new Promise(()=>{})})()}_initialize(y){const b=y._key();if(this.eventManagers[b]){const{manager:R,promise:N}=this.eventManagers[b];return R?Promise.resolve(R):(Te(N,"If manager is not set, promise should be"),N)}const I=this.initAndGetManager(y);return this.eventManagers[b]={promise:I},I.catch(()=>{delete this.eventManagers[b]}),I}initAndGetManager(y){var b=this;return(0,c.Z)(function*(){const I=yield function Lm(C){return Pu.apply(this,arguments)}(y),R=new Ec(y);return I.register("authEvent",N=>(de(N?.authEvent,y,"invalid-auth-event"),{status:R.onEvent(N.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),b.eventManagers[y._key()]={manager:R},b.iframes[y._key()]=I,R})()}_isIframeWebStorageSupported(y,b){this.iframes[y._key()].send(sl,{type:sl},R=>{var N;const se=null===(N=R?.[0])||void 0===N?void 0:N[sl];void 0!==se&&b(!!se),gt(y,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(y){const b=y._key();return this.originValidationPromises[b]||(this.originValidationPromises[b]=function Pm(C){return zr.apply(this,arguments)}(y)),this.originValidationPromises[b]}get _shouldInitProactively(){return Cn()||B()||je()}};class Qh extends class Lu{constructor(y){this.factorId=y}_process(y,b,I){switch(b.type){case"enroll":return this._finalizeEnroll(y,b.credential,I);case"signin":return this._finalizeSignIn(y,b.credential);default:return fe("unexpected MultiFactorSessionType")}}}{constructor(y){super("phone"),this.credential=y}static _fromCredential(y){return new Qh(y)}_finalizeEnroll(y,b,I){return function Mh(C,y){return Ht(C,"POST","/v2/accounts/mfaEnrollment:finalize",en(C,y))}(y,{idToken:b,displayName:I,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(y,b){return function ku(C,y){return Ht(C,"POST","/v2/accounts/mfaSignIn:finalize",en(C,y))}(y,{mfaPendingCredential:b,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let os=(()=>{class C{constructor(){}static assertion(b){return Qh._fromCredential(b)}}return C.FACTOR_ID="phone",C})();var Ps="@firebase/auth",Xh="0.20.11";class Bm{constructor(y){this.auth=y,this.internalListeners=new Map}getUid(){var y;return this.assertAuthConfigured(),(null===(y=this.auth.currentUser)||void 0===y?void 0:y.uid)||null}getToken(y){var b=this;return(0,c.Z)(function*(){return b.assertAuthConfigured(),yield b.auth._initializationPromise,b.auth.currentUser?{accessToken:yield b.auth.currentUser.getIdToken(y)}:null})()}addAuthTokenListener(y){if(this.assertAuthConfigured(),this.internalListeners.has(y))return;const b=this.auth.onIdTokenChanged(I=>{var R;y((null===(R=I)||void 0===R?void 0:R.stsTokenManager.accessToken)||null)});this.internalListeners.set(y,b),this.updateProactiveRefresh()}removeAuthTokenListener(y){this.assertAuthConfigured();const b=this.internalListeners.get(y);!b||(this.internalListeners.delete(y),b(),this.updateProactiveRefresh())}assertAuthConfigured(){de(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Vu=(0,W.Pz)("authIdTokenMaxAge")||300;let Jh=null;const Xv=C=>function(){var y=(0,c.Z)(function*(b){const I=b&&(yield b.getIdTokenResult()),R=I&&((new Date).getTime()-Date.parse(I.issuedAtTime))/1e3;if(R&&R>Vu)return;const N=I?.token;Jh!==N&&(Jh=N,yield fetch(C,{method:N?"POST":"DELETE",headers:N?{Authorization:`Bearer ${N}`}:{}}))});return function(b){return y.apply(this,arguments)}}();function Jv(C=(0,H.getApp)()){const y=(0,H._getProvider)(C,"auth");if(y.isInitialized())return y.getImmediate();const b=function _e(C,y){const b=(0,H._getProvider)(C,"auth");if(b.isInitialized()){const R=b.getImmediate(),N=b.getOptions();if((0,W.vZ)(N,y??{}))return R;gt(R,"already-initialized")}return b.initialize({options:y})}(C,{popupRedirectResolver:Kh,persistence:[Mu,da,wo]}),I=(0,W.Pz)("authTokenSyncURL");if(I){const N=Xv(I);(function cc(C,y,b){(0,W.m9)(C).beforeAuthStateChanged(y,b)})(b,N,()=>N(b.currentUser)),function wu(C,y,b,I){(0,W.m9)(C).onIdTokenChanged(y,b,I)}(b,se=>N(se))}const R=(0,W.q4)("auth");return R&&Xo(b,`http://${R}`),b}!function Kv(C){(0,H._registerComponent)(new Oe.wA("auth",(y,{options:b})=>{const I=y.getProvider("app").getImmediate(),R=y.getProvider("heartbeat"),{apiKey:N,authDomain:se}=I.options;return((xe,ct)=>{de(N&&!N.includes(":"),"invalid-api-key",{appName:xe.name}),de(!se?.includes(":"),"argument-error",{appName:xe.name});const Tt={apiKey:N,authDomain:se,clientPlatform:C,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Pn(C)},Qt=new Ql(xe,ct,Tt);return function he(C,y){const b=y?.persistence||[],I=(Array.isArray(b)?b:[b]).map(ie);y?.errorMap&&C._updateErrorMap(y.errorMap),C._initializeWithPersistence(I,y?.popupRedirectResolver)}(Qt,b),Qt})(I,R)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((y,b,I)=>{y.getProvider("auth-internal").initialize()})),(0,H._registerComponent)(new Oe.wA("auth-internal",y=>{const b=It(y.getProvider("auth").getImmediate());return new Bm(b)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,H.registerVersion)(Ps,Xh,function Zv(C){switch(C){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(C)),(0,H.registerVersion)(Ps,Xh,"esm2017")}("Browser")},2090:(Dt,He,z)=>{z.d(He,{$s:()=>ht,BH:()=>Jt,DV:()=>Zi,G6:()=>Ae,GJ:()=>Ss,L:()=>ke,LL:()=>In,P0:()=>qe,Pz:()=>hn,Sg:()=>et,UG:()=>Le,UI:()=>yo,US:()=>Oe,Wl:()=>Yi,Yr:()=>Pe,ZB:()=>Q,ZR:()=>ai,aH:()=>wt,b$:()=>Se,cI:()=>Ht,dS:()=>$t,eu:()=>de,g5:()=>H,gK:()=>Ei,gQ:()=>Vn,h$:()=>Ce,hl:()=>Je,hu:()=>W,jU:()=>ut,m9:()=>cn,ne:()=>zn,p$:()=>K,pd:()=>Zl,q4:()=>We,r3:()=>ar,ru:()=>me,tV:()=>Ze,uI:()=>Qe,ug:()=>es,vZ:()=>dt,w1:()=>gt,w9:()=>Gs,xO:()=>Ln,xb:()=>Ws,z$:()=>Xe,zI:()=>fe,zd:()=>Er});const W=function(Y,G){if(!Y)throw H(G)},H=function(Y){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+Y)},ve=function(Y){const G=[];let X=0;for(let j=0;j<Y.length;j++){let P=Y.charCodeAt(j);P<128?G[X++]=P:P<2048?(G[X++]=P>>6|192,G[X++]=63&P|128):55296==(64512&P)&&j+1<Y.length&&56320==(64512&Y.charCodeAt(j+1))?(P=65536+((1023&P)<<10)+(1023&Y.charCodeAt(++j)),G[X++]=P>>18|240,G[X++]=P>>12&63|128,G[X++]=P>>6&63|128,G[X++]=63&P|128):(G[X++]=P>>12|224,G[X++]=P>>6&63|128,G[X++]=63&P|128)}return G},Oe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Y,G){if(!Array.isArray(Y))throw Error("encodeByteArray takes an array as a parameter");this.init_();const X=G?this.byteToCharMapWebSafe_:this.byteToCharMap_,j=[];for(let P=0;P<Y.length;P+=3){const B=Y[P],ce=P+1<Y.length,Be=ce?Y[P+1]:0,ft=P+2<Y.length,yt=ft?Y[P+2]:0;let Nt=(15&Be)<<2|yt>>6,wn=63&yt;ft||(wn=64,ce||(Nt=64)),j.push(X[B>>2],X[(3&B)<<4|Be>>4],X[Nt],X[wn])}return j.join("")},encodeString(Y,G){return this.HAS_NATIVE_SUPPORT&&!G?btoa(Y):this.encodeByteArray(ve(Y),G)},decodeString(Y,G){return this.HAS_NATIVE_SUPPORT&&!G?atob(Y):function(Y){const G=[];let X=0,j=0;for(;X<Y.length;){const P=Y[X++];if(P<128)G[j++]=String.fromCharCode(P);else if(P>191&&P<224){const B=Y[X++];G[j++]=String.fromCharCode((31&P)<<6|63&B)}else if(P>239&&P<365){const ft=((7&P)<<18|(63&Y[X++])<<12|(63&Y[X++])<<6|63&Y[X++])-65536;G[j++]=String.fromCharCode(55296+(ft>>10)),G[j++]=String.fromCharCode(56320+(1023&ft))}else{const B=Y[X++],ce=Y[X++];G[j++]=String.fromCharCode((15&P)<<12|(63&B)<<6|63&ce)}}return G.join("")}(this.decodeStringToByteArray(Y,G))},decodeStringToByteArray(Y,G){this.init_();const X=G?this.charToByteMapWebSafe_:this.charToByteMap_,j=[];for(let P=0;P<Y.length;){const B=X[Y.charAt(P++)],Be=P<Y.length?X[Y.charAt(P)]:0;++P;const yt=P<Y.length?X[Y.charAt(P)]:64;++P;const je=P<Y.length?X[Y.charAt(P)]:64;if(++P,null==B||null==Be||null==yt||null==je)throw Error();j.push(B<<2|Be>>4),64!==yt&&(j.push(Be<<4&240|yt>>2),64!==je&&j.push(yt<<6&192|je))}return j},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Y=0;Y<this.ENCODED_VALS.length;Y++)this.byteToCharMap_[Y]=this.ENCODED_VALS.charAt(Y),this.charToByteMap_[this.byteToCharMap_[Y]]=Y,this.byteToCharMapWebSafe_[Y]=this.ENCODED_VALS_WEBSAFE.charAt(Y),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Y]]=Y,Y>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Y)]=Y,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Y)]=Y)}}},Ce=function(Y){const G=ve(Y);return Oe.encodeByteArray(G,!0)},ke=function(Y){return Ce(Y).replace(/\./g,"")},Ze=function(Y){try{return Oe.decodeString(Y,!0)}catch(G){console.error("base64Decode failed: ",G)}return null};function K(Y){return Q(void 0,Y)}function Q(Y,G){if(!(G instanceof Object))return G;switch(G.constructor){case Date:return new Date(G.getTime());case Object:void 0===Y&&(Y={});break;case Array:Y=[];break;default:return G}for(const X in G)!G.hasOwnProperty(X)||!re(X)||(Y[X]=Q(Y[X],G[X]));return Y}function re(Y){return"__proto__"!==Y}function Xe(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Qe(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Xe())}function Le(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function ut(){return"object"==typeof self&&self.self===self}function me(){const Y="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Y&&void 0!==Y.id}function Se(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function gt(){const Y=Xe();return Y.indexOf("MSIE ")>=0||Y.indexOf("Trident/")>=0}function Pe(){return!1}function Ae(){return!Le()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Je(){return"object"==typeof indexedDB}function de(){return new Promise((Y,G)=>{try{let X=!0;const j="validate-browser-context-for-indexeddb-analytics-module",P=self.indexedDB.open(j);P.onsuccess=()=>{P.result.close(),X||self.indexedDB.deleteDatabase(j),Y(!0)},P.onupgradeneeded=()=>{X=!1},P.onerror=()=>{var B;G((null===(B=P.error)||void 0===B?void 0:B.message)||"")}}catch(X){G(X)}})}function fe(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const he=()=>{try{return function Te(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const Y=process.env.__FIREBASE_DEFAULTS__;return Y?JSON.parse(Y):void 0})()||(()=>{if(typeof document>"u")return;let Y;try{Y=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const G=Y&&Ze(Y[1]);return G&&JSON.parse(G)})()}catch(Y){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Y}`)}},We=Y=>{var G,X;return null===(X=null===(G=he())||void 0===G?void 0:G.emulatorHosts)||void 0===X?void 0:X[Y]},qe=Y=>{const G=We(Y);if(!G)return;const X=G.lastIndexOf(":");if(X<=0||X+1===G.length)throw new Error(`Invalid host ${G} with no separate hostname and port!`);const j=parseInt(G.substring(X+1),10);return"["===G[0]?[G.substring(1,X-1),j]:[G.substring(0,X),j]},wt=()=>{var Y;return null===(Y=he())||void 0===Y?void 0:Y.config},hn=Y=>{var G;return null===(G=he())||void 0===G?void 0:G[`_${Y}`]};class Jt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((G,X)=>{this.resolve=G,this.reject=X})}wrapCallback(G){return(X,j)=>{X?this.reject(X):this.resolve(j),"function"==typeof G&&(this.promise.catch(()=>{}),1===G.length?G(X):G(X,j))}}}function et(Y,G){if(Y.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const j=G||"demo-project",P=Y.iat||0,B=Y.sub||Y.user_id;if(!B)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const ce=Object.assign({iss:`https://securetoken.google.com/${j}`,aud:j,iat:P,exp:P+3600,auth_time:P,sub:B,user_id:B,firebase:{sign_in_provider:"custom",identities:{}}},Y);return[ke(JSON.stringify({alg:"none",type:"JWT"})),ke(JSON.stringify(ce)),""].join(".")}class ai extends Error{constructor(G,X,j){super(X),this.code=G,this.customData=j,this.name="FirebaseError",Object.setPrototypeOf(this,ai.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,In.prototype.create)}}class In{constructor(G,X,j){this.service=G,this.serviceName=X,this.errors=j}create(G,...X){const j=X[0]||{},P=`${this.service}/${G}`,B=this.errors[G],ce=B?function fn(Y,G){return Y.replace(en,(X,j)=>{const P=G[j];return null!=P?String(P):`<${j}?>`})}(B,j):"Error";return new ai(P,`${this.serviceName}: ${ce} (${P}).`,j)}}const en=/\{\$([^}]+)}/g;function Ht(Y){return JSON.parse(Y)}function Yi(Y){return JSON.stringify(Y)}const Cs=function(Y){let G={},X={},j={},P="";try{const B=Y.split(".");G=Ht(Ze(B[0])||""),X=Ht(Ze(B[1])||""),P=B[2],j=X.d||{},delete X.d}catch{}return{header:G,claims:X,data:j,signature:P}},Gs=function(Y){const X=Cs(Y).claims;return!!X&&"object"==typeof X&&X.hasOwnProperty("iat")},Ss=function(Y){const G=Cs(Y).claims;return"object"==typeof G&&!0===G.admin};function ar(Y,G){return Object.prototype.hasOwnProperty.call(Y,G)}function Zi(Y,G){if(Object.prototype.hasOwnProperty.call(Y,G))return Y[G]}function Ws(Y){for(const G in Y)if(Object.prototype.hasOwnProperty.call(Y,G))return!1;return!0}function yo(Y,G,X){const j={};for(const P in Y)Object.prototype.hasOwnProperty.call(Y,P)&&(j[P]=G.call(X,Y[P],P,Y));return j}function dt(Y,G){if(Y===G)return!0;const X=Object.keys(Y),j=Object.keys(G);for(const P of X){if(!j.includes(P))return!1;const B=Y[P],ce=G[P];if(xi(B)&&xi(ce)){if(!dt(B,ce))return!1}else if(B!==ce)return!1}for(const P of j)if(!X.includes(P))return!1;return!0}function xi(Y){return null!==Y&&"object"==typeof Y}function Ln(Y){const G=[];for(const[X,j]of Object.entries(Y))Array.isArray(j)?j.forEach(P=>{G.push(encodeURIComponent(X)+"="+encodeURIComponent(P))}):G.push(encodeURIComponent(X)+"="+encodeURIComponent(j));return G.length?"&"+G.join("&"):""}function Er(Y){const G={};return Y.replace(/^\?/,"").split("&").forEach(j=>{if(j){const[P,B]=j.split("=");G[decodeURIComponent(P)]=decodeURIComponent(B)}}),G}function Zl(Y){const G=Y.indexOf("?");if(!G)return"";const X=Y.indexOf("#",G);return Y.substring(G,X>0?X:void 0)}class Vn{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let G=1;G<this.blockSize;++G)this.pad_[G]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(G,X){X||(X=0);const j=this.W_;if("string"==typeof G)for(let je=0;je<16;je++)j[je]=G.charCodeAt(X)<<24|G.charCodeAt(X+1)<<16|G.charCodeAt(X+2)<<8|G.charCodeAt(X+3),X+=4;else for(let je=0;je<16;je++)j[je]=G[X]<<24|G[X+1]<<16|G[X+2]<<8|G[X+3],X+=4;for(let je=16;je<80;je++){const Nt=j[je-3]^j[je-8]^j[je-14]^j[je-16];j[je]=4294967295&(Nt<<1|Nt>>>31)}let yt,Me,P=this.chain_[0],B=this.chain_[1],ce=this.chain_[2],Be=this.chain_[3],ft=this.chain_[4];for(let je=0;je<80;je++){je<40?je<20?(yt=Be^B&(ce^Be),Me=1518500249):(yt=B^ce^Be,Me=1859775393):je<60?(yt=B&ce|Be&(B|ce),Me=2400959708):(yt=B^ce^Be,Me=3395469782);const Nt=(P<<5|P>>>27)+yt+ft+Me+j[je]&4294967295;ft=Be,Be=ce,ce=4294967295&(B<<30|B>>>2),B=P,P=Nt}this.chain_[0]=this.chain_[0]+P&4294967295,this.chain_[1]=this.chain_[1]+B&4294967295,this.chain_[2]=this.chain_[2]+ce&4294967295,this.chain_[3]=this.chain_[3]+Be&4294967295,this.chain_[4]=this.chain_[4]+ft&4294967295}update(G,X){if(null==G)return;void 0===X&&(X=G.length);const j=X-this.blockSize;let P=0;const B=this.buf_;let ce=this.inbuf_;for(;P<X;){if(0===ce)for(;P<=j;)this.compress_(G,P),P+=this.blockSize;if("string"==typeof G){for(;P<X;)if(B[ce]=G.charCodeAt(P),++ce,++P,ce===this.blockSize){this.compress_(B),ce=0;break}}else for(;P<X;)if(B[ce]=G[P],++ce,++P,ce===this.blockSize){this.compress_(B),ce=0;break}}this.inbuf_=ce,this.total_+=X}digest(){const G=[];let X=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let P=this.blockSize-1;P>=56;P--)this.buf_[P]=255&X,X/=256;this.compress_(this.buf_);let j=0;for(let P=0;P<5;P++)for(let B=24;B>=0;B-=8)G[j]=this.chain_[P]>>B&255,++j;return G}}function zn(Y,G){const X=new Dn(Y,G);return X.subscribe.bind(X)}class Dn{constructor(G,X){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=X,this.task.then(()=>{G(this)}).catch(j=>{this.error(j)})}next(G){this.forEachObserver(X=>{X.next(G)})}error(G){this.forEachObserver(X=>{X.error(G)}),this.close(G)}complete(){this.forEachObserver(G=>{G.complete()}),this.close()}subscribe(G,X,j){let P;if(void 0===G&&void 0===X&&void 0===j)throw new Error("Missing Observer.");P=function St(Y,G){if("object"!=typeof Y||null===Y)return!1;for(const X of G)if(X in Y&&"function"==typeof Y[X])return!0;return!1}(G,["next","error","complete"])?G:{next:G,error:X,complete:j},void 0===P.next&&(P.next=Ut),void 0===P.error&&(P.error=Ut),void 0===P.complete&&(P.complete=Ut);const B=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?P.error(this.finalError):P.complete()}catch{}}),this.observers.push(P),B}unsubscribeOne(G){void 0===this.observers||void 0===this.observers[G]||(delete this.observers[G],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(G){if(!this.finalized)for(let X=0;X<this.observers.length;X++)this.sendOne(X,G)}sendOne(G,X){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[G])try{X(this.observers[G])}catch(j){typeof console<"u"&&console.error&&console.error(j)}})}close(G){this.finalized||(this.finalized=!0,void 0!==G&&(this.finalError=G),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ut(){}function Ei(Y,G){return`${Y} failed: ${G} argument `}const $t=function(Y){const G=[];let X=0;for(let j=0;j<Y.length;j++){let P=Y.charCodeAt(j);if(P>=55296&&P<=56319){const B=P-55296;j++,W(j<Y.length,"Surrogate pair missing trail surrogate."),P=65536+(B<<10)+(Y.charCodeAt(j)-56320)}P<128?G[X++]=P:P<2048?(G[X++]=P>>6|192,G[X++]=63&P|128):P<65536?(G[X++]=P>>12|224,G[X++]=P>>6&63|128,G[X++]=63&P|128):(G[X++]=P>>18|240,G[X++]=P>>12&63|128,G[X++]=P>>6&63|128,G[X++]=63&P|128)}return G},es=function(Y){let G=0;for(let X=0;X<Y.length;X++){const j=Y.charCodeAt(X);j<128?G++:j<2048?G+=2:j>=55296&&j<=56319?(G+=4,X++):G+=3}return G};function ht(Y,G=1e3,X=2){const j=G*Math.pow(X,Y),P=Math.round(.5*j*(Math.random()-.5)*2);return Math.min(144e5,j+P)}function cn(Y){return Y&&Y._delegate?Y._delegate:Y}},7149:(Dt,He,z)=>{var c=z(4650);let W=null;function H(){return W}const Ce=new c.OlP("DocumentToken");let ke=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return function Ze(){return(0,c.LFG)(Q)}()},providedIn:"platform"}),n})();const K=new c.OlP("Location Initialized");let Q=(()=>{class n extends ke{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return H().getBaseHref(this._doc)}onPopState(t){const i=H().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=H().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,i,r){re()?this._history.pushState(t,i,r):this.location.hash=r}replaceState(t,i,r){re()?this._history.replaceState(t,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Ce))},n.\u0275prov=c.Yz7({token:n,factory:function(){return function Xe(){return new Q((0,c.LFG)(Ce))}()},providedIn:"platform"}),n})();function re(){return!!window.history.pushState}function Qe(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Le(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function ut(n){return n&&"?"!==n[0]?"?"+n:n}let me=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return(0,c.f3M)(mt)},providedIn:"root"}),n})();const Se=new c.OlP("appBaseHref");let mt=(()=>{class n extends me{constructor(t,i){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??(0,c.f3M)(Ce).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Qe(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+ut(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,s){const a=this.prepareExternalUrl(r+ut(s));this._platformLocation.pushState(t,i,a)}replaceState(t,i,r,s){const a=this.prepareExternalUrl(r+ut(s));this._platformLocation.replaceState(t,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ke),c.LFG(Se,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),gt=(()=>{class n extends me{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(t){const i=Qe(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,r,s){let a=this.prepareExternalUrl(r+ut(s));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.pushState(t,i,a)}replaceState(t,i,r,s){let a=this.prepareExternalUrl(r+ut(s));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ke),c.LFG(Se,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),Ge=(()=>{class n{constructor(t){this._subject=new c.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const i=this._locationStrategy.getBaseHref();this._baseHref=Le(Je(i)),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+ut(i))}normalize(t){return n.stripTrailingSlash(function Ae(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,Je(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._locationStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ut(i)),r)}replaceState(t,i="",r=null){this._locationStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ut(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}}return n.normalizeQueryParams=ut,n.joinWithSlash=Qe,n.stripTrailingSlash=Le,n.\u0275fac=function(t){return new(t||n)(c.LFG(me))},n.\u0275prov=c.Yz7({token:n,factory:function(){return function Pe(){return new Ge((0,c.LFG)(me))}()},providedIn:"root"}),n})();function Je(n){return n.replace(/\/index.html$/,"")}let _n=(()=>{class n{constructor(t,i,r,s){this._iterableDiffers=t,this._keyValueDiffers=i,this._ngEl=r,this._renderer=s,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&((0,c.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),t.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),t.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,c.AaK)(i.item)}`);this._toggleClass(i.item,!0)}),t.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(i=>this._toggleClass(i,!0)):Object.keys(t).forEach(i=>this._toggleClass(i,!!t[i])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(i=>this._toggleClass(i,!1)):Object.keys(t).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(t,i){(t=t.trim())&&t.split(/\s+/g).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.ZZ4),c.Y36(c.aQg),c.Y36(c.SBq),c.Y36(c.Qsj))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class Jl{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Vr=(()=>{class n{constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const i=this._viewContainer;t.forEachOperation((r,s,a)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new Jl(r.item,this._ngForOf,-1,-1),null===a?void 0:a);else if(null==a)i.remove(null===s?void 0:s);else if(null!==s){const d=i.get(s);i.move(d,a),na(d,r)}});for(let r=0,s=i.length;r<s;r++){const d=i.get(r).context;d.index=r,d.count=s,d.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{na(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(c.ZZ4))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function na(n,e){n.context.$implicit=e.item}let Nn=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new vv,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Mi("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Mi("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.Rgc))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class vv{constructor(){this.$implicit=null,this.ngIf=null}}function Mi(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,c.AaK)(e)}'.`)}class Cr{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let Ts=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const i=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let i=0;i<this._defaultViews.length;i++)this._defaultViews[i].enforceState(t)}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),n})(),ra=(()=>{class n{constructor(t,i,r){this.ngSwitch=r,r._addCase(),this._view=new Cr(t,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(Ts,9))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),n})(),sa=(()=>{class n{constructor(t,i,r){r._addDefault(new Cr(t,i))}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(Ts,9))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngSwitchDefault",""]],standalone:!0}),n})(),Wa=(()=>{class n{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(t){if(t.ngTemplateOutlet||t.ngTemplateOutletInjector){const i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:r,ngTemplateOutletContext:s,ngTemplateOutletInjector:a}=this;this._viewRef=i.createEmbeddedView(r,s,a?{injector:a}:void 0)}else this._viewRef=null}else this._viewRef&&t.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[c.TTD]}),n})();class LC{createSubscription(e,t){return e.subscribe({next:t,error:i=>{throw i}})}dispose(e){e.unsubscribe()}}class qs{createSubscription(e,t){return e.then(t,i=>{throw i})}dispose(e){}}const VC=new qs,sm=new LC;let om=(()=>{class n{constructor(t){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,i=>this._updateLatestValue(t,i))}_selectStrategy(t){if((0,c.QGY)(t))return VC;if((0,c.F4k)(t))return sm;throw function Br(n,e){return new c.vHH(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,i){t===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.sBO,16))},n.\u0275pipe=c.Yjl({name:"async",type:n,pure:!1,standalone:!0}),n})(),ki=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const la="browser";function Ki(n){return n===la}function tc(n){return"server"===n}let pm=(()=>{class n{}return n.\u0275prov=(0,c.Yz7)({token:n,providedIn:"root",factory:()=>new wv((0,c.LFG)(Ce),window)}),n})();class wv{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function ur(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const s=r.shadowRoot;if(s){const a=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(a)return a}r=i.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=nc(this.window.history)||nc(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function nc(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Qa extends class ym extends class Oe{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function Fe(n){W||(W=n)}(new Qa)}onAndCancel(e,t,i){return e.addEventListener(t,i,!1),()=>{e.removeEventListener(t,i,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Rv(){return ca=ca||document.querySelector("base"),ca?ca.getAttribute("href"):null}();return null==t?null:function Ys(n){jn=jn||document.createElement("a"),jn.setAttribute("href",n);const e=jn.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){ca=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function uh(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[r,s]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let jn,ca=null;const Gn=new c.OlP("TRANSITION_ID"),Ov=[{provide:c.ip1,useFactory:function vm(n,e,t){return()=>{t.get(c.CZH).donePromise.then(()=>{const i=H(),r=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<r.length;s++)i.remove(r[s])})}},deps:[Gn,Ce,c.zs3],multi:!0}];let Pv=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const Th=new c.OlP("EventManagerPlugins");let wu=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>r.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}addGlobalEventListener(t,i,r){return this._findPluginFor(i).addGlobalEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){const i=this._eventNameToPlugin.get(t);if(i)return i;const r=this._plugins;for(let s=0;s<r.length;s++){const a=r[s];if(a.supports(t))return this._eventNameToPlugin.set(t,a),a}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Th),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class cc{constructor(e){this._doc=e}addGlobalEventListener(e,t,i){const r=H().getGlobalEventTarget(this._doc,e);if(!r)throw new Error(`Unsupported event target ${r} for event ${t}`);return this.addEventListener(r,t,i)}}let uc=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const i=new Set;t.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),ua=(()=>{class n extends uc{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,i,r){t.forEach(s=>{const a=this._doc.createElement("style");a.textContent=s,r.push(i.appendChild(a))})}addHost(t){const i=[];this._addStylesToHost(this._stylesSet,t,i),this._hostNodes.set(t,i)}removeHost(t){const i=this._hostNodes.get(t);i&&i.forEach(Dh),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(t,r,i)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(Dh))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Ce))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function Dh(n){H().remove(n)}const Ah={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Em=/%COMP%/g;function Cu(n,e,t){for(let i=0;i<e.length;i++){let r=e[i];Array.isArray(r)?Cu(n,r,t):(r=r.replace(Em,n),t.push(r))}return t}function Su(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let kh=(()=>{class n{constructor(t,i,r){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new Zs(t)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;switch(i.encapsulation){case c.ifc.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new wm(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(t),r}case 1:case c.ifc.ShadowDom:return new Lv(this.eventManager,this.sharedStylesHost,t,i);default:if(!this.rendererByCompId.has(i.id)){const r=Cu(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(wu),c.LFG(ua),c.LFG(c.AFp))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class Zs{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Ah[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(hc(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(hc(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?document.querySelector(e):e;if(!i)throw new Error(`The selector "${e}" did not match any elements`);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;const s=Ah[r];s?e.setAttributeNS(s,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const r=Ah[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(c.JOm.DashCase|c.JOm.Important)?e.style.setProperty(t,i,r&c.JOm.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&c.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e[t]=i}setValue(e,t){e.nodeValue=t}listen(e,t,i){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Su(i)):this.eventManager.addEventListener(e,t,Su(i))}}function hc(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class wm extends Zs{constructor(e,t,i,r){super(e),this.component=i;const s=Cu(r+"-"+i.id,i.styles,[]);t.addStyles(s),this.contentAttr=function dc(n){return"_ngcontent-%COMP%".replace(Em,n)}(r+"-"+i.id),this.hostAttr=function Mh(n){return"_nghost-%COMP%".replace(Em,n)}(r+"-"+i.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}class Lv extends Zs{constructor(e,t,i,r){super(e),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=Cu(r.id,r.styles,[]);for(let a=0;a<s.length;a++){const d=document.createElement("style");d.textContent=s[a],this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let da=(()=>{class n extends cc{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Ce))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const Vv=["alt","control","meta","shift"],wo={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ph={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Iu=(()=>{class n extends cc{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,r){const s=n.parseEventName(i),a=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>H().onAndCancel(t,s.domEventName,a))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const s=n._normalizeKey(i.pop());let a="",d=i.indexOf("code");if(d>-1&&(i.splice(d,1),a="code."),Vv.forEach(p=>{const _=i.indexOf(p);_>-1&&(i.splice(_,1),a+=p+".")}),a+=s,0!=i.length||0===s.length)return null;const f={};return f.domEventName=r,f.fullKey=a,f}static matchEventFullKeyCode(t,i){let r=wo[t.key]||t.key,s="";return i.indexOf("code.")>-1&&(r=t.code,s="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),Vv.forEach(a=>{a!==r&&(0,Ph[a])(t)&&(s+=a+".")}),s+=r,s===i)}static eventCallback(t,i,r){return s=>{n.matchEventFullKeyCode(s,t)&&r.runGuarded(()=>i(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Ce))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const fc=(0,c.eFA)(c._c5,"browser",[{provide:c.Lbi,useValue:la},{provide:c.g9A,useValue:function Uv(){Qa.makeCurrent()},multi:!0},{provide:Ce,useFactory:function Nh(){return(0,c.RDi)(document),document},deps:[]}]),pc=new c.OlP(""),mc=[{provide:c.rWj,useClass:class bm{addToWindow(e){c.dqk.getAngularTestability=(i,r=!0)=>{const s=e.findTestabilityInTree(i,r);if(null==s)throw new Error("Could not find testability for element.");return s},c.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),c.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),c.dqk.frameworkStabilizers||(c.dqk.frameworkStabilizers=[]),c.dqk.frameworkStabilizers.push(i=>{const r=c.dqk.getAllAngularTestabilities();let s=r.length,a=!1;const d=function(f){a=a||f,s--,0==s&&i(a)};r.forEach(function(f){f.whenStable(d)})})}findTestabilityInTree(e,t,i){return null==t?null:e.getTestability(t)??(i?H().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:c.lri,useClass:c.dDg,deps:[c.R0b,c.eoX,c.rWj]},{provide:c.dDg,useClass:c.dDg,deps:[c.R0b,c.eoX,c.rWj]}],Du=[{provide:c.zSh,useValue:"root"},{provide:c.qLn,useFactory:function ha(){return new c.qLn},deps:[]},{provide:Th,useClass:da,multi:!0,deps:[Ce,c.R0b,c.Lbi]},{provide:Th,useClass:Iu,multi:!0,deps:[Ce]},{provide:kh,useClass:kh,deps:[wu,ua,c.AFp]},{provide:c.FYo,useExisting:kh},{provide:uc,useExisting:ua},{provide:ua,useClass:ua,deps:[Ce]},{provide:wu,useClass:wu,deps:[Th,c.R0b]},{provide:class ic{},useClass:Pv,deps:[]},[]];let fa=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:c.AFp,useValue:t.appId},{provide:Gn,useExisting:c.AFp},Ov]}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(pc,12))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[...Du,...mc],imports:[ki,c.hGG]}),n})(),Ks=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Ce))},n.\u0275prov=c.Yz7({token:n,factory:function(t){let i=null;return i=t?new t:function gc(){return new Ks((0,c.LFG)(Ce))}(),i},providedIn:"root"}),n})();typeof window<"u"&&window;let So=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(t){let i=null;return i=t?new(t||n):c.LFG(jv),i},providedIn:"root"}),n})(),jv=(()=>{class n extends So{constructor(t){super(),this._doc=t}sanitize(t,i){if(null==i)return null;switch(t){case c.q3G.NONE:return i;case c.q3G.HTML:return(0,c.qzn)(i,"HTML")?(0,c.z3N)(i):(0,c.EiD)(this._doc,String(i)).toString();case c.q3G.STYLE:return(0,c.qzn)(i,"Style")?(0,c.z3N)(i):i;case c.q3G.SCRIPT:if((0,c.qzn)(i,"Script"))return(0,c.z3N)(i);throw new Error("unsafe value used in a script context");case c.q3G.URL:return(0,c.qzn)(i,"URL")?(0,c.z3N)(i):(0,c.mCW)(String(i));case c.q3G.RESOURCE_URL:if((0,c.qzn)(i,"ResourceURL"))return(0,c.z3N)(i);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return(0,c.JVY)(t)}bypassSecurityTrustStyle(t){return(0,c.L6k)(t)}bypassSecurityTrustScript(t){return(0,c.eBb)(t)}bypassSecurityTrustUrl(t){return(0,c.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,c.pB0)(t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Ce))},n.\u0275prov=c.Yz7({token:n,factory:function(t){let i=null;return i=t?new t:function YC(n){return new jv(n.get(Ce))}(c.LFG(c.zs3)),i},providedIn:"root"}),n})();var dn=z(8996),Ms=z(3269);function tt(...n){const e=(0,Ms.yG)(n);return(0,dn.D)(n,e)}var zt=z(7579);class Mn extends zt.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}}const ma=(0,z(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var kn=z(9751);const{isArray:ga}=Array,{getPrototypeOf:Mm,prototype:Lh,keys:Gv}=Object;function _a(n){if(1===n.length){const e=n[0];if(ga(e))return{args:e,keys:null};if(function km(n){return n&&"object"==typeof n&&Mm(n)===Lh}(e)){const t=Gv(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}var ya=z(4671),rt=z(4004);const{isArray:Vh}=Array;function Bh(n){return(0,rt.U)(e=>function Io(n,e){return Vh(e)?n(...e):n(e)}(n,e))}function Uh(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}var Bn=z(5403),$h=z(9672);function Hh(...n){const e=(0,Ms.yG)(n),t=(0,Ms.jO)(n),{args:i,keys:r}=_a(n);if(0===i.length)return(0,dn.D)([],e);const s=new kn.y(function zh(n,e,t=ya.y){return i=>{Rm(e,()=>{const{length:r}=n,s=new Array(r);let a=r,d=r;for(let f=0;f<r;f++)Rm(e,()=>{const p=(0,dn.D)(n[f],e);let _=!1;p.subscribe((0,Bn.x)(i,v=>{s[f]=v,_||(_=!0,d--),d||i.next(t(s.slice()))},()=>{--a||i.complete()}))},i)},i)}}(i,e,r?a=>Uh(r,a):ya.y));return t?s.pipe(Bh(t)):s}function Rm(n,e,t){n?(0,$h.f)(t,n,e):e()}var va=z(8189);function To(...n){return function bc(){return(0,va.J)(1)}()((0,dn.D)(n,(0,Ms.yG)(n)))}var is=z(8421);function Do(n){return new kn.y(e=>{(0,is.Xf)(n()).subscribe(e)})}var jh=z(9635),Bi=z(576);function Ao(n,e){const t=(0,Bi.m)(n)?n:()=>n,i=r=>r.error(t());return new kn.y(e?r=>e.schedule(i,0,r):i)}var ks=z(515),Ir=z(727),Wn=z(4482);function xo(){return(0,Wn.e)((n,e)=>{let t=null;n._refCount++;const i=(0,Bn.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const r=n._connection,s=t;t=null,r&&(!s||r===s)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}class Mo extends kn.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Wn.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ir.w0;const t=this.getSubject();e.add(this.source.subscribe((0,Bn.x)(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ir.w0.EMPTY)}return e}refCount(){return xo()(this)}}function Un(n,e){return(0,Wn.e)((t,i)=>{let r=null,s=0,a=!1;const d=()=>a&&!r&&i.complete();t.subscribe((0,Bn.x)(i,f=>{r?.unsubscribe();let p=0;const _=s++;(0,is.Xf)(n(f,_)).subscribe(r=(0,Bn.x)(i,v=>i.next(e?e(f,v,_,p++):v),()=>{r=null,d()}))},()=>{a=!0,d()}))})}function tn(n){return n<=0?()=>ks.E:(0,Wn.e)((e,t)=>{let i=0;e.subscribe((0,Bn.x)(t,r=>{++i<=n&&(t.next(r),n<=i&&t.complete())}))})}function _i(...n){const e=(0,Ms.yG)(n);return(0,Wn.e)((t,i)=>{(e?To(n,t,e):To(n,t)).subscribe(i)})}function Rn(n,e){return(0,Wn.e)((t,i)=>{let r=0;t.subscribe((0,Bn.x)(i,s=>n.call(e,s,r++)&&i.next(s)))})}var li=z(5577);function Rs(n){return(0,Wn.e)((e,t)=>{let i=!1;e.subscribe((0,Bn.x)(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function Om(n=Wv){return(0,Wn.e)((e,t)=>{let i=!1;e.subscribe((0,Bn.x)(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function Wv(){return new ma}function rs(n,e){const t=arguments.length>=2;return i=>i.pipe(n?Rn((r,s)=>n(r,s,i)):ya.y,tn(1),t?Rs(e):Om(()=>new ma))}function Os(n,e){return(0,Bi.m)(e)?(0,li.z)(n,e,1):(0,li.z)(n,1)}function An(n,e,t){const i=(0,Bi.m)(n)||e||t?{next:n,error:e,complete:t}:n;return i?(0,Wn.e)((r,s)=>{var a;null===(a=i.subscribe)||void 0===a||a.call(i);let d=!0;r.subscribe((0,Bn.x)(s,f=>{var p;null===(p=i.next)||void 0===p||p.call(i,f),s.next(f)},()=>{var f;d=!1,null===(f=i.complete)||void 0===f||f.call(i),s.complete()},f=>{var p;d=!1,null===(p=i.error)||void 0===p||p.call(i,f),s.error(f)},()=>{var f,p;d&&(null===(f=i.unsubscribe)||void 0===f||f.call(i)),null===(p=i.finalize)||void 0===p||p.call(i)}))}):ya.y}function Hr(n){return(0,Wn.e)((e,t)=>{let s,i=null,r=!1;i=e.subscribe((0,Bn.x)(t,void 0,void 0,a=>{s=(0,is.Xf)(n(a,Hr(n)(e))),i?(i.unsubscribe(),i=null,s.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(t))})}function ba(n,e,t,i,r){return(s,a)=>{let d=t,f=e,p=0;s.subscribe((0,Bn.x)(a,_=>{const v=p++;f=d?n(f,_,v):(d=!0,_),i&&a.next(f)},r&&(()=>{d&&a.next(f),a.complete()})))}}function el(n,e){return(0,Wn.e)(ba(n,e,arguments.length>=2,!0))}function tl(n){return n<=0?()=>ks.E:(0,Wn.e)((e,t)=>{let i=[];e.subscribe((0,Bn.x)(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function nl(n,e){const t=arguments.length>=2;return i=>i.pipe(n?Rn((r,s)=>n(r,s,i)):ya.y,tl(1),t?Rs(e):Om(()=>new ma))}function Ou(n){return(0,rt.U)(()=>n)}function wc(n){return(0,Wn.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const Kt="primary",ss=Symbol("RouteTitle");class Ea{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function il(n){return new Ea(n)}function ZC(n,e,t){const i=t.path.split("/");if(i.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||i.length<n.length))return null;const r={};for(let s=0;s<i.length;s++){const a=i[s],d=n[s];if(a.startsWith(":"))r[a.substring(1)]=d;else if(a!==d.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function zr(n,e){const t=n?Object.keys(n):void 0,i=e?Object.keys(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let s=0;s<t.length;s++)if(r=t[s],!qv(n[r],e[r]))return!1;return!0}function qv(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),i=[...e].sort();return t.every((r,s)=>i[s]===r)}return n===e}function Nm(n){return Array.prototype.concat.apply([],n)}function Gh(n){return n.length>0?n[n.length-1]:null}function qn(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Xs(n){return(0,c.CqO)(n)?n:(0,c.QGY)(n)?(0,dn.D)(Promise.resolve(n)):tt(n)}const QC={exact:function Lm(n,e,t){if(!eo(n.segments,e.segments)||!Js(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const i in e.children)if(!n.children[i]||!Lm(n.children[i],e.children[i],t))return!1;return!0},subset:Cc},qh={exact:function Yh(n,e){return zr(n,e)},subset:function Pu(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>qv(n[t],e[t]))},ignored:()=>!0};function Yv(n,e,t){return QC[t.paths](n.root,e.root,t.matrixParams)&&qh[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function Cc(n,e,t){return Nu(n,e,e.segments,t)}function Nu(n,e,t,i){if(n.segments.length>t.length){const r=n.segments.slice(0,t.length);return!(!eo(r,t)||e.hasChildren()||!Js(r,t,i))}if(n.segments.length===t.length){if(!eo(n.segments,t)||!Js(n.segments,t,i))return!1;for(const r in e.children)if(!n.children[r]||!Cc(n.children[r],e.children[r],i))return!1;return!0}{const r=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(eo(n.segments,r)&&Js(n.segments,r,i)&&n.children[Kt])&&Nu(n.children[Kt],e,s,i)}}function Js(n,e,t){return e.every((i,r)=>qh[t](n[r].parameters,i.parameters))}class wa{constructor(e,t,i){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=il(this.queryParams)),this._queryParamMap}toString(){return Ca.serialize(this)}}class nn{constructor(e,t){this.segments=e,this.children=t,this.parent=null,qn(t,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return sl(this)}}class Sc{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=il(this.parameters)),this._parameterMap}toString(){return Bm(this)}}function eo(n,e){return n.length===e.length&&n.every((t,i)=>t.path===e[i].path)}let Zh=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return new rl},providedIn:"root"}),n})();class rl{parse(e){const t=new y(e);return new wa(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Ic(e.root,!0)}`,i=function Kv(n){const e=Object.keys(n).map(t=>{const i=n[t];return Array.isArray(i)?i.map(r=>`${Lu(t)}=${Lu(r)}`).join("&"):`${Lu(t)}=${Lu(i)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${i}${"string"==typeof e.fragment?`#${function Qh(n){return encodeURI(n)}(e.fragment)}`:""}`}}const Ca=new rl;function sl(n){return n.segments.map(e=>Bm(e)).join("/")}function Ic(n,e){if(!n.hasChildren())return sl(n);if(e){const t=n.children[Kt]?Ic(n.children[Kt],!1):"",i=[];return qn(n.children,(r,s)=>{s!==Kt&&i.push(`${s}:${Ic(r,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}{const t=function Vm(n,e){let t=[];return qn(n.children,(i,r)=>{r===Kt&&(t=t.concat(e(i,r)))}),qn(n.children,(i,r)=>{r!==Kt&&(t=t.concat(e(i,r)))}),t}(n,(i,r)=>r===Kt?[Ic(n.children[Kt],!1)]:[`${r}:${Ic(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Kt]?`${sl(n)}/${t[0]}`:`${sl(n)}/(${t.join("//")})`}}function Kh(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Lu(n){return Kh(n).replace(/%3B/gi,";")}function os(n){return Kh(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ps(n){return decodeURIComponent(n)}function Xh(n){return Ps(n.replace(/\+/g,"%20"))}function Bm(n){return`${os(n.path)}${function Zv(n){return Object.keys(n).map(e=>`;${os(e)}=${os(n[e])}`).join("")}(n.parameters)}`}const Qv=/^[^\/()?;=#]+/;function Vu(n){const e=n.match(Qv);return e?e[0]:""}const Jh=/^[^=?&#]+/,Jv=/^[^&#]+/;class y{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new nn([],{}):new nn([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[Kt]=new nn(e,t)),i}parseSegment(){const e=Vu(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new c.vHH(4009,!1);return this.capture(e),new Sc(Ps(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Vu(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const r=Vu(this.remaining);r&&(i=r,this.capture(i))}e[Ps(t)]=Ps(i)}parseQueryParam(e){const t=function Xv(n){const e=n.match(Jh);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const a=function C(n){const e=n.match(Jv);return e?e[0]:""}(this.remaining);a&&(i=a,this.capture(i))}const r=Xh(t),s=Xh(i);if(e.hasOwnProperty(r)){let a=e[r];Array.isArray(a)||(a=[a],e[r]=a),a.push(s)}else e[r]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=Vu(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new c.vHH(4010,!1);let s;i.indexOf(":")>-1?(s=i.slice(0,i.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=Kt);const a=this.parseChildren();t[s]=1===Object.keys(a).length?a[Kt]:new nn([],a),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new c.vHH(4011,!1)}}function b(n){return n.segments.length>0?new nn([],{[Kt]:n}):n}function I(n){const e={};for(const i of Object.keys(n.children)){const s=I(n.children[i]);(s.segments.length>0||s.hasChildren())&&(e[i]=s)}return function R(n){if(1===n.numberOfChildren&&n.children[Kt]){const e=n.children[Kt];return new nn(n.segments.concat(e.segments),e.children)}return n}(new nn(n.segments,e))}function N(n){return n instanceof wa}function Qt(n,e,t,i,r){if(0===t.length)return jr(e.root,e.root,e.root,i,r);const s=function $u(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Uu(!0,0,n);let e=0,t=!1;const i=n.reduce((r,s,a)=>{if("object"==typeof s&&null!=s){if(s.outlets){const d={};return qn(s.outlets,(f,p)=>{d[p]="string"==typeof f?f.split("/"):f}),[...r,{outlets:d}]}if(s.segmentPath)return[...r,s.segmentPath]}return"string"!=typeof s?[...r,s]:0===a?(s.split("/").forEach((d,f)=>{0==f&&"."===d||(0==f&&""===d?t=!0:".."===d?e++:""!=d&&r.push(d))}),r):[...r,s]},[]);return new Uu(t,e,i)}(t);return s.toRoot()?jr(e.root,e.root,new nn([],{}),i,r):function a(f){const p=function ef(n,e,t,i){if(n.isAbsolute)return new Sa(e.root,!0,0);if(-1===i)return new Sa(t,t===e.root,0);return function Hu(n,e,t){let i=n,r=e,s=t;for(;s>r;){if(s-=r,i=i.parent,!i)throw new c.vHH(4005,!1);r=i.segments.length}return new Sa(i,!1,r-s)}(t,i+(vn(n.commands[0])?0:1),n.numberOfDoubleDots)}(s,e,n.snapshot?._urlSegment,f),_=p.processChildren?ko(p.segmentGroup,p.index,s.commands):ol(p.segmentGroup,p.index,s.commands);return jr(e.root,p.segmentGroup,_,i,r)}(n.snapshot?._lastPathIndex)}function vn(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Ui(n){return"object"==typeof n&&null!=n&&n.outlets}function jr(n,e,t,i,r){let a,s={};i&&qn(i,(f,p)=>{s[p]=Array.isArray(f)?f.map(_=>`${_}`):`${f}`}),a=n===e?t:Bu(n,e,t);const d=b(I(a));return new wa(d,s,r)}function Bu(n,e,t){const i={};return qn(n.children,(r,s)=>{i[s]=r===e?t:Bu(r,e,t)}),new nn(n.segments,i)}class Uu{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&vn(i[0]))throw new c.vHH(4003,!1);const r=i.find(Ui);if(r&&r!==Gh(i))throw new c.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Sa{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}}function ol(n,e,t){if(n||(n=new nn([],{})),0===n.segments.length&&n.hasChildren())return ko(n,e,t);const i=function eb(n,e,t){let i=0,r=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return s;const a=n.segments[r],d=t[i];if(Ui(d))break;const f=`${d}`,p=i<t.length-1?t[i+1]:null;if(r>0&&void 0===f)break;if(f&&p&&"object"==typeof p&&void 0===p.outlets){if(!$m(f,p,a))return s;i+=2}else{if(!$m(f,{},a))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const s=new nn(n.segments.slice(0,i.pathIndex),{});return s.children[Kt]=new nn(n.segments.slice(i.pathIndex),n.children),ko(s,0,r)}return i.match&&0===r.length?new nn(n.segments,{}):i.match&&!n.hasChildren()?Fn(n,e,t):i.match?ko(n,0,r):Fn(n,e,t)}function ko(n,e,t){if(0===t.length)return new nn(n.segments,{});{const i=function Tc(n){return Ui(n[0])?n[0].outlets:{[Kt]:n}}(t),r={};return qn(i,(s,a)=>{"string"==typeof s&&(s=[s]),null!==s&&(r[a]=ol(n.children[a],e,s))}),qn(n.children,(s,a)=>{void 0===i[a]&&(r[a]=s)}),new nn(n.segments,r)}}function Fn(n,e,t){const i=n.segments.slice(0,e);let r=0;for(;r<t.length;){const s=t[r];if(Ui(s)){const f=tb(s.outlets);return new nn(i,f)}if(0===r&&vn(t[0])){i.push(new Sc(n.segments[e].path,XC(t[0]))),r++;continue}const a=Ui(s)?s.outlets[Kt]:`${s}`,d=r<t.length-1?t[r+1]:null;a&&d&&vn(d)?(i.push(new Sc(a,XC(d))),r+=2):(i.push(new Sc(a,{})),r++)}return new nn(i,{})}function tb(n){const e={};return qn(n,(t,i)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[i]=Fn(new nn([],{}),0,t))}),e}function XC(n){const e={};return qn(n,(t,i)=>e[i]=`${t}`),e}function $m(n,e,t){return n==t.path&&zr(e,t.parameters)}class Ro{constructor(e,t){this.id=e,this.url=t}}class nb extends Ro{constructor(e,t,i="imperative",r=null){super(e,t),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Dc extends Ro{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Hm extends Ro{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class JC extends Ro{constructor(e,t,i,r){super(e,t),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class AM extends Ro{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class jV extends Ro{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class GV extends Ro{constructor(e,t,i,r,s){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class tf extends Ro{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ib extends Ro{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class eS{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class tS{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class nS{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class xM{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class iS{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class rb{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class zm{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class rS{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=nf(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){const t=nf(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=jm(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return jm(e,this._root).map(t=>t.value)}}function nf(n,e){if(n===e.value)return e;for(const t of e.children){const i=nf(n,t);if(i)return i}return null}function jm(n,e){if(n===e.value)return[e];for(const t of e.children){const i=jm(n,t);if(i.length)return i.unshift(e),i}return[]}class Oo{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Ns(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class sS extends rS{constructor(e,t){super(e),this.snapshot=t,rf(this,e)}toString(){return this.snapshot.toString()}}function Gm(n,e){const t=function Wm(n,e){const a=new Po([],{},{},"",{},Kt,e,null,n.root,-1,{});return new sb("",new Oo(a,[]))}(n,e),i=new Mn([new Sc("",{})]),r=new Mn({}),s=new Mn({}),a=new Mn({}),d=new Mn(""),f=new al(i,r,a,d,s,Kt,e,t.root);return f.snapshot=t.root,new sS(new Oo(f,[]),t)}class al{constructor(e,t,i,r,s,a,d,f){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=a,this.component=d,this.title=this.data?.pipe((0,rt.U)(p=>p[ss]))??tt(void 0),this._futureSnapshot=f}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,rt.U)(e=>il(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,rt.U)(e=>il(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function qm(n,e="emptyOnly"){const t=n.pathFromRoot;let i=0;if("always"!==e)for(i=t.length-1;i>=1;){const r=t[i],s=t[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(s.component)break;i--}}return function Ym(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(i))}class Po{constructor(e,t,i,r,s,a,d,f,p,_,v,w){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=a,this.component=d,this.title=this.data?.[ss],this.routeConfig=f,this._urlSegment=p,this._lastPathIndex=_,this._correctedLastPathIndex=w??_,this._resolve=v}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=il(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=il(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class sb extends rS{constructor(e,t){super(t),this.url=e,rf(this,t)}toString(){return oS(this._root)}}function rf(n,e){e.value._routerState=n,e.children.forEach(t=>rf(n,t))}function oS(n){const e=n.children.length>0?` { ${n.children.map(oS).join(", ")} } `:"";return`${n.value}${e}`}function ob(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,zr(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),zr(e.params,t.params)||n.params.next(t.params),function Pm(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!zr(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),zr(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Zm(n,e){const t=zr(n.params,e.params)&&function Fu(n,e){return eo(n,e)&&n.every((t,i)=>zr(t.parameters,e[i].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Zm(n.parent,e.parent))}function sf(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const i=t.value;i._futureSnapshot=e.value;const r=function MM(n,e,t){return e.children.map(i=>{for(const r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return sf(n,i,r);return sf(n,i)})}(n,e,t);return new Oo(i,r)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const a=s.route;return a.value._futureSnapshot=e.value,a.children=e.children.map(d=>sf(n,d)),a}}const i=function kM(n){return new al(new Mn(n.url),new Mn(n.params),new Mn(n.queryParams),new Mn(n.fragment),new Mn(n.data),n.outlet,n.component,n)}(e.value),r=e.children.map(s=>sf(n,s));return new Oo(i,r)}}const ab="ngNavigationCancelingError";function Km(n,e){const{redirectTo:t,navigationBehaviorOptions:i}=N(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=aS(!1,0,e);return r.url=t,r.navigationBehaviorOptions=i,r}function aS(n,e,t){const i=new Error("NavigationCancelingError: "+(n||""));return i[ab]=!0,i.cancellationCode=e,t&&(i.url=t),i}function lb(n){return lS(n)&&N(n.url)}function lS(n){return n&&n[ab]}class cS{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Qm,this.attachRef=null}}let Qm=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,i){const r=this.getOrCreateContext(t);r.outlet=i,this.contexts.set(t,r)}onChildOutletDestroyed(t){const i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new cS,this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Xm=!1;let Ac=(()=>{class n{constructor(t,i,r,s,a){this.parentContexts=t,this.location=i,this.changeDetector=s,this.environmentInjector=a,this.activated=null,this._activatedRoute=null,this.activateEvents=new c.vpe,this.deactivateEvents=new c.vpe,this.attachEvents=new c.vpe,this.detachEvents=new c.vpe,this.name=r||Kt,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new c.vHH(4012,Xm);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new c.vHH(4012,Xm);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new c.vHH(4012,Xm);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new c.vHH(4013,Xm);this._activatedRoute=t;const r=this.location,a=t._futureSnapshot.component,d=this.parentContexts.getOrCreateContext(this.name).children,f=new RM(t,d,r.injector);if(i&&function ju(n){return!!n.resolveComponentFactory}(i)){const p=i.resolveComponentFactory(a);this.activated=r.createComponent(p,r.length,f)}else this.activated=r.createComponent(a,{index:r.length,injector:f,environmentInjector:i??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Qm),c.Y36(c.s_b),c.$8M("name"),c.Y36(c.sBO),c.Y36(c.lqb))},n.\u0275dir=c.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),n})();class RM{constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===al?this.route:e===Qm?this.childContexts:this.parent.get(e,t)}}let ll=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[c.jDz],decls:1,vars:0,template:function(t,i){1&t&&c._UZ(0,"router-outlet")},dependencies:[Ac],encapsulation:2}),n})();function uS(n,e){return n.providers&&!n._injector&&(n._injector=(0,c.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function db(n){const e=n.children&&n.children.map(db),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Kt&&(t.component=ll),t}function Fs(n){return n.outlet||Kt}function Jm(n,e){const t=n.filter(i=>Fs(i)===e);return t.push(...n.filter(i=>Fs(i)!==e)),t}function eg(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class hb{constructor(e,t,i,r){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r}activate(e){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),ob(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){const r=Ns(t);e.children.forEach(s=>{const a=s.value.outlet;this.deactivateRoutes(s,r[a],i),delete r[a]}),qn(r,(s,a)=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(e,t,i){const r=e.value,s=t?t.value:null;if(r===s)if(r.component){const a=i.getContext(r.outlet);a&&this.deactivateChildRoutes(e,t,a.children)}else this.deactivateChildRoutes(e,t,i);else s&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,s=Ns(e);for(const a of Object.keys(s))this.deactivateRouteAndItsChildren(s[a],r);if(i&&i.outlet){const a=i.outlet.detach(),d=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:a,route:e,contexts:d})}}deactivateRouteAndOutlet(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,s=Ns(e);for(const a of Object.keys(s))this.deactivateRouteAndItsChildren(s[a],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(e,t,i){const r=Ns(t);e.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new rb(s.value.snapshot))}),e.children.length&&this.forwardEvent(new xM(e.value.snapshot))}activateRoutes(e,t,i){const r=e.value,s=t?t.value:null;if(ob(r),r===s)if(r.component){const a=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,a.children)}else this.activateChildRoutes(e,t,i);else if(r.component){const a=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const d=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),a.children.onOutletReAttached(d.contexts),a.attachRef=d.componentRef,a.route=d.route.value,a.outlet&&a.outlet.attach(d.componentRef,d.route.value),ob(d.route.value),this.activateChildRoutes(e,null,a.children)}else{const d=eg(r.snapshot),f=d?.get(c._Vd)??null;a.attachRef=null,a.route=r,a.resolver=f,a.injector=d,a.outlet&&a.outlet.activateWith(r,a.injector),this.activateChildRoutes(e,null,a.children)}}else this.activateChildRoutes(e,null,i)}}class PM{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class fb{constructor(e,t){this.component=e,this.route=t}}function KV(n,e,t){const i=n._root;return lf(i,e?e._root:null,t,[i.value])}function af(n,e){const t=Symbol(),i=e.get(n,t);return i===t?"function"!=typeof n||(0,c.Z0I)(n)?e.get(n):n:i}function lf(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=Ns(e);return n.children.forEach(a=>{(function fS(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,a=e?e.value:null,d=t?t.getContext(n.value.outlet):null;if(a&&s.routeConfig===a.routeConfig){const f=function pb(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!eo(n.url,e.url);case"pathParamsOrQueryParamsChange":return!eo(n.url,e.url)||!zr(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Zm(n,e)||!zr(n.queryParams,e.queryParams);default:return!Zm(n,e)}}(a,s,s.routeConfig.runGuardsAndResolvers);f?r.canActivateChecks.push(new PM(i)):(s.data=a.data,s._resolvedData=a._resolvedData),lf(n,e,s.component?d?d.children:null:t,i,r),f&&d&&d.outlet&&d.outlet.isActivated&&r.canDeactivateChecks.push(new fb(d.outlet.component,a))}else a&&Gu(e,d,r),r.canActivateChecks.push(new PM(i)),lf(n,null,s.component?d?d.children:null:t,i,r)})(a,s[a.value.outlet],t,i.concat([a.value]),r),delete s[a.value.outlet]}),qn(s,(a,d)=>Gu(a,t.getContext(d),r)),r}function Gu(n,e,t){const i=Ns(n),r=n.value;qn(i,(s,a)=>{Gu(s,r.component?e?e.children.getContext(a):null:e,t)}),t.canDeactivateChecks.push(new fb(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}function Wu(n){return"function"==typeof n}function tg(n){return n instanceof ma||"EmptyError"===n?.name}const ng=Symbol("INITIAL_VALUE");function qu(){return Un(n=>Hh(n.map(e=>e.pipe(tn(1),_i(ng)))).pipe((0,rt.U)(e=>{for(const t of e)if(!0!==t){if(t===ng)return ng;if(!1===t||t instanceof wa)return t}return!0}),Rn(e=>e!==ng),tn(1)))}function dr(n){return(0,jh.z)(An(e=>{if(N(e))throw Km(0,e)}),(0,rt.U)(e=>!0===e))}const ig={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function rg(n,e,t,i,r){const s=$i(n,e,t);return s.matched?function yb(n,e,t,i){const r=e.canMatch;return r&&0!==r.length?tt(r.map(a=>{const d=af(a,n);return Xs(function FM(n){return n&&Wu(n.canMatch)}(d)?d.canMatch(e,t):n.runInContext(()=>d(e,t)))})).pipe(qu(),dr()):tt(!0)}(i=uS(e,i),e,t).pipe((0,rt.U)(a=>!0===a?s:{...ig})):tt(s)}function $i(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...ig}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const r=(e.matcher||ZC)(t,n,e);if(!r)return{...ig};const s={};qn(r.posParams,(d,f)=>{s[f]=d.path});const a=r.consumed.length>0?{...s,...r.consumed[r.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:a,positionalParamSegments:r.posParams??{}}}function cl(n,e,t,i,r="corrected"){if(t.length>0&&function WM(n,e,t){return t.some(i=>sg(n,e,i)&&Fs(i)!==Kt)}(n,t,i)){const a=new nn(e,function GM(n,e,t,i){const r={};r[Kt]=i,i._sourceSegment=n,i._segmentIndexShift=e.length;for(const s of t)if(""===s.path&&Fs(s)!==Kt){const a=new nn([],{});a._sourceSegment=n,a._segmentIndexShift=e.length,r[Fs(s)]=a}return r}(n,e,i,new nn(t,n.children)));return a._sourceSegment=n,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:[]}}if(0===t.length&&function _S(n,e,t){return t.some(i=>sg(n,e,i))}(n,t,i)){const a=new nn(n.segments,function gS(n,e,t,i,r,s){const a={};for(const d of i)if(sg(n,t,d)&&!r[Fs(d)]){const f=new nn([],{});f._sourceSegment=n,f._segmentIndexShift="legacy"===s?n.segments.length:e.length,a[Fs(d)]=f}return{...r,...a}}(n,e,t,i,n.children,r));return a._sourceSegment=n,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:t}}const s=new nn(n.segments,n.children);return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:t}}function sg(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function vb(n,e,t,i){return!!(Fs(n)===i||i!==Kt&&sg(e,t,n))&&("**"===n.path||$i(e,n,t).matched)}function yS(n,e,t){return 0===e.length&&!n.children[t]}const uf=!1;class og{constructor(e){this.segmentGroup=e||null}}class vS{constructor(e){this.urlTree=e}}function df(n){return Ao(new og(n))}function bS(n){return Ao(new vS(n))}class YM{constructor(e,t,i,r,s){this.injector=e,this.configLoader=t,this.urlSerializer=i,this.urlTree=r,this.config=s,this.allowRedirects=!0}apply(){const e=cl(this.urlTree.root,[],[],this.config).segmentGroup,t=new nn(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,Kt).pipe((0,rt.U)(s=>this.createUrlTree(I(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Hr(s=>{if(s instanceof vS)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof og?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,Kt).pipe((0,rt.U)(r=>this.createUrlTree(I(r),e.queryParams,e.fragment))).pipe(Hr(r=>{throw r instanceof og?this.noMatchError(r):r}))}noMatchError(e){return new c.vHH(4002,uf)}createUrlTree(e,t,i){const r=b(e);return new wa(r,t,i)}expandSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(e,t,i).pipe((0,rt.U)(s=>new nn([],s))):this.expandSegment(e,i,t,i.segments,r,!0)}expandChildren(e,t,i){const r=[];for(const s of Object.keys(i.children))"primary"===s?r.unshift(s):r.push(s);return(0,dn.D)(r).pipe(Os(s=>{const a=i.children[s],d=Jm(t,s);return this.expandSegmentGroup(e,d,a,s).pipe((0,rt.U)(f=>({segment:f,outlet:s})))}),el((s,a)=>(s[a.outlet]=a.segment,s),{}),nl())}expandSegment(e,t,i,r,s,a){return(0,dn.D)(i).pipe(Os(d=>this.expandSegmentAgainstRoute(e,t,i,d,r,s,a).pipe(Hr(p=>{if(p instanceof og)return tt(null);throw p}))),rs(d=>!!d),Hr((d,f)=>{if(tg(d))return yS(t,r,s)?tt(new nn([],{})):df(t);throw d}))}expandSegmentAgainstRoute(e,t,i,r,s,a,d){return vb(r,t,s,a)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,s,a):d&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,i,r,s,a):df(t):df(t)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,s,a){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,i,r,a):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,s,a)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,i,r){const s=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?bS(s):this.lineralizeSegments(i,s).pipe((0,li.z)(a=>{const d=new nn(a,{});return this.expandSegment(e,d,t,a,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,s,a){const{matched:d,consumedSegments:f,remainingSegments:p,positionalParamSegments:_}=$i(t,r,s);if(!d)return df(t);const v=this.applyRedirectCommands(f,r.redirectTo,_);return r.redirectTo.startsWith("/")?bS(v):this.lineralizeSegments(r,v).pipe((0,li.z)(w=>this.expandSegment(e,t,i,w.concat(p),a,!1)))}matchSegmentAgainstRoute(e,t,i,r,s){return"**"===i.path?(e=uS(i,e),i.loadChildren?(i._loadedRoutes?tt({routes:i._loadedRoutes,injector:i._loadedInjector}):this.configLoader.loadChildren(e,i)).pipe((0,rt.U)(d=>(i._loadedRoutes=d.routes,i._loadedInjector=d.injector,new nn(r,{})))):tt(new nn(r,{}))):rg(t,i,r,e).pipe(Un(({matched:a,consumedSegments:d,remainingSegments:f})=>a?this.getChildConfig(e=i._injector??e,i,r).pipe((0,li.z)(_=>{const v=_.injector??e,w=_.routes,{segmentGroup:D,slicedSegments:A}=cl(t,d,f,w),x=new nn(D.segments,D.children);if(0===A.length&&x.hasChildren())return this.expandChildren(v,w,x).pipe((0,rt.U)(U=>new nn(d,U)));if(0===w.length&&0===A.length)return tt(new nn(d,{}));const k=Fs(i)===s;return this.expandSegment(v,x,w,A,k?Kt:s,!0).pipe((0,rt.U)(L=>new nn(d.concat(L.segments),L.children)))})):df(t)))}getChildConfig(e,t,i){return t.children?tt({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?tt({routes:t._loadedRoutes,injector:t._loadedInjector}):function jM(n,e,t,i){const r=e.canLoad;return void 0===r||0===r.length?tt(!0):tt(r.map(a=>{const d=af(a,n);return Xs(function mb(n){return n&&Wu(n.canLoad)}(d)?d.canLoad(e,t):n.runInContext(()=>d(e,t)))})).pipe(qu(),dr())}(e,t,i).pipe((0,li.z)(r=>r?this.configLoader.loadChildren(e,t).pipe(An(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):function Yu(n){return Ao(aS(uf,3))}())):tt({routes:[],injector:e})}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return tt(i);if(r.numberOfChildren>1||!r.children[Kt])return Ao(new c.vHH(4e3,uf));r=r.children[Kt]}}applyRedirectCommands(e,t,i){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,i)}applyRedirectCreateUrlTree(e,t,i,r){const s=this.createSegmentGroup(e,t.root,i,r);return new wa(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const i={};return qn(e,(r,s)=>{if("string"==typeof r&&r.startsWith(":")){const d=r.substring(1);i[s]=t[d]}else i[s]=r}),i}createSegmentGroup(e,t,i,r){const s=this.createSegments(e,t.segments,i,r);let a={};return qn(t.children,(d,f)=>{a[f]=this.createSegmentGroup(e,d,i,r)}),new nn(s,a)}createSegments(e,t,i,r){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,r):this.findOrReturn(s,i))}findPosParam(e,t,i){const r=i[t.path.substring(1)];if(!r)throw new c.vHH(4001,uf);return r}findOrReturn(e,t){let i=0;for(const r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}}class JV{}class No{constructor(e,t,i,r,s,a,d,f){this.injector=e,this.rootComponentType=t,this.config=i,this.urlTree=r,this.url=s,this.paramsInheritanceStrategy=a,this.relativeLinkResolution=d,this.urlSerializer=f}recognize(){const e=cl(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Kt).pipe((0,rt.U)(t=>{if(null===t)return null;const i=new Po([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Kt,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Oo(i,t),s=new sb(this.url,r);return this.inheritParamsAndData(s._root),s}))}inheritParamsAndData(e){const t=e.value,i=qm(t,this.paramsInheritanceStrategy);t.params=Object.freeze(i.params),t.data=Object.freeze(i.data),e.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(e,t,i):this.processSegment(e,t,i,i.segments,r)}processChildren(e,t,i){return(0,dn.D)(Object.keys(i.children)).pipe(Os(r=>{const s=i.children[r],a=Jm(t,r);return this.processSegmentGroup(e,a,s,r)}),el((r,s)=>r&&s?(r.push(...s),r):null),function Ec(n,e=!1){return(0,Wn.e)((t,i)=>{let r=0;t.subscribe((0,Bn.x)(i,s=>{const a=n(s,r++);(a||e)&&i.next(s),!a&&i.complete()}))})}(r=>null!==r),Rs(null),nl(),(0,rt.U)(r=>{if(null===r)return null;const s=Cb(r);return function Eb(n){n.sort((e,t)=>e.value.outlet===Kt?-1:t.value.outlet===Kt?1:e.value.outlet.localeCompare(t.value.outlet))}(s),s}))}processSegment(e,t,i,r,s){return(0,dn.D)(t).pipe(Os(a=>this.processSegmentAgainstRoute(a._injector??e,a,i,r,s)),rs(a=>!!a),Hr(a=>{if(tg(a))return yS(i,r,s)?tt([]):tt(null);throw a}))}processSegmentAgainstRoute(e,t,i,r,s){if(t.redirectTo||!vb(t,i,r,s))return tt(null);let a;if("**"===t.path){const d=r.length>0?Gh(r).parameters:{},f=wS(i)+r.length;a=tt({snapshot:new Po(r,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ag(t),Fs(t),t.component??t._loadedComponent??null,t,Zu(i),f,lg(t),f),consumedSegments:[],remainingSegments:[]})}else a=rg(i,t,r,e).pipe((0,rt.U)(({matched:d,consumedSegments:f,remainingSegments:p,parameters:_})=>{if(!d)return null;const v=wS(i)+f.length;return{snapshot:new Po(f,_,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ag(t),Fs(t),t.component??t._loadedComponent??null,t,Zu(i),v,lg(t),v),consumedSegments:f,remainingSegments:p}}));return a.pipe(Un(d=>{if(null===d)return tt(null);const{snapshot:f,consumedSegments:p,remainingSegments:_}=d;e=t._injector??e;const v=t._loadedInjector??e,w=function wb(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:D,slicedSegments:A}=cl(i,p,_,w.filter(k=>void 0===k.redirectTo),this.relativeLinkResolution);if(0===A.length&&D.hasChildren())return this.processChildren(v,w,D).pipe((0,rt.U)(k=>null===k?null:[new Oo(f,k)]));if(0===w.length&&0===A.length)return tt([new Oo(f,[])]);const x=Fs(t)===s;return this.processSegment(v,w,D,A,x?Kt:s).pipe((0,rt.U)(k=>null===k?null:[new Oo(f,k)]))}))}}function KM(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Cb(n){const e=[],t=new Set;for(const i of n){if(!KM(i)){e.push(i);continue}const r=e.find(s=>i.value.routeConfig===s.value.routeConfig);void 0!==r?(r.children.push(...i.children),t.add(r)):e.push(i)}for(const i of t){const r=Cb(i.children);e.push(new Oo(i.value,r))}return e.filter(i=>!t.has(i))}function Zu(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function wS(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function ag(n){return n.data||{}}function lg(n){return n.resolve||{}}function cg(n){return"string"==typeof n.title||null===n.title}function Ib(n){return Un(e=>{const t=n(e);return t?(0,dn.D)(t).pipe((0,rt.U)(()=>e)):tt(e)})}let TS=(()=>{class n{buildTitle(t){let i,r=t.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(s=>s.outlet===Kt);return i}getResolvedTitleForRoute(t){return t.data[ss]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return(0,c.f3M)(DS)},providedIn:"root"}),n})(),DS=(()=>{class n extends TS{constructor(t){super(),this.title=t}updateTitle(t){const i=this.buildTitle(t);void 0!==i&&this.title.setTitle(i)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Ks))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class JM{}class AS extends class ek{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const hf=new c.OlP("",{providedIn:"root",factory:()=>({})}),Db=new c.OlP("ROUTES");let Ab=(()=>{class n{constructor(t,i){this.injector=t,this.compiler=i,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return tt(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const i=Xs(t.loadComponent()).pipe(An(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),wc(()=>{this.componentLoaders.delete(t)})),r=new Mo(i,()=>new zt.x).pipe(xo());return this.componentLoaders.set(t,r),r}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return tt({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const s=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe((0,rt.U)(d=>{this.onLoadEndListener&&this.onLoadEndListener(i);let f,p,_=!1;Array.isArray(d)?p=d:(f=d.create(t).injector,p=Nm(f.get(Db,[],c.XFs.Self|c.XFs.Optional)));return{routes:p.map(db),injector:f}}),wc(()=>{this.childrenLoaders.delete(i)})),a=new Mo(s,()=>new zt.x).pipe(xo());return this.childrenLoaders.set(i,a),a}loadModuleFactoryOrRoutes(t){return Xs(t()).pipe((0,li.z)(i=>i instanceof c.YKP||Array.isArray(i)?tt(i):(0,dn.D)(this.compiler.compileModuleAsync(i))))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.zs3),c.LFG(c.Sil))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class xS{}class MS{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function kS(n){throw n}function RS(n,e,t){return e.parse("/")}const tk={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},iB={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function OS(){const n=(0,c.f3M)(Zh),e=(0,c.f3M)(Qm),t=(0,c.f3M)(Ge),i=(0,c.f3M)(c.zs3),r=(0,c.f3M)(c.Sil),s=(0,c.f3M)(Db,{optional:!0})??[],a=(0,c.f3M)(hf,{optional:!0})??{},d=(0,c.f3M)(DS),f=(0,c.f3M)(TS,{optional:!0}),p=(0,c.f3M)(xS,{optional:!0}),_=(0,c.f3M)(JM,{optional:!0}),v=new Ri(null,n,e,t,i,r,Nm(s));return p&&(v.urlHandlingStrategy=p),_&&(v.routeReuseStrategy=_),v.titleStrategy=f??d,function dg(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(a,v),v}let Ri=(()=>{class n{constructor(t,i,r,s,a,d,f){this.rootComponentType=t,this.urlSerializer=i,this.rootContexts=r,this.location=s,this.config=f,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new zt.x,this.errorHandler=kS,this.malformedUriErrorHandler=RS,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>tt(void 0),this.urlHandlingStrategy=new MS,this.routeReuseStrategy=new AS,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=a.get(Ab),this.configLoader.onLoadEndListener=w=>this.triggerEvent(new tS(w)),this.configLoader.onLoadStartListener=w=>this.triggerEvent(new eS(w)),this.ngModule=a.get(c.h0i),this.console=a.get(c.c2e);const v=a.get(c.R0b);this.isNgZoneEnabled=v instanceof c.R0b&&c.R0b.isInAngularZone(),this.resetConfig(f),this.currentUrlTree=function Fm(){return new wa(new nn([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Gm(this.currentUrlTree,this.rootComponentType),this.transitions=new Mn({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(t){const i=this.events;return t.pipe(Rn(r=>0!==r.id),(0,rt.U)(r=>({...r,extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),Un(r=>{let s=!1,a=!1;return tt(r).pipe(An(d=>{this.currentNavigation={id:d.id,initialUrl:d.rawUrl,extractedUrl:d.extractedUrl,trigger:d.source,extras:d.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Un(d=>{const f=this.browserUrlTree.toString(),p=!this.navigated||d.extractedUrl.toString()!==f||f!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||p)&&this.urlHandlingStrategy.shouldProcessUrl(d.rawUrl))return xb(d.source)&&(this.browserUrlTree=d.extractedUrl),tt(d).pipe(Un(v=>{const w=this.transitions.getValue();return i.next(new nb(v.id,this.serializeUrl(v.extractedUrl),v.source,v.restoredState)),w!==this.transitions.getValue()?ks.E:Promise.resolve(v)}),function ZM(n,e,t,i){return Un(r=>function Ia(n,e,t,i,r){return new YM(n,e,t,i,r).apply()}(n,e,t,r.extractedUrl,i).pipe((0,rt.U)(s=>({...r,urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),An(v=>{this.currentNavigation={...this.currentNavigation,finalUrl:v.urlAfterRedirects},r.urlAfterRedirects=v.urlAfterRedirects}),function SS(n,e,t,i,r,s){return(0,li.z)(a=>function eB(n,e,t,i,r,s,a="emptyOnly",d="legacy"){return new No(n,e,t,i,r,a,d,s).recognize().pipe(Un(f=>null===f?function ES(n){return new kn.y(e=>e.error(n))}(new JV):tt(f)))}(n,e,t,a.urlAfterRedirects,i.serialize(a.urlAfterRedirects),i,r,s).pipe((0,rt.U)(d=>({...a,targetSnapshot:d}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),An(v=>{if(r.targetSnapshot=v.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!v.extras.skipLocationChange){const D=this.urlHandlingStrategy.merge(v.urlAfterRedirects,v.rawUrl);this.setBrowserUrl(D,v)}this.browserUrlTree=v.urlAfterRedirects}const w=new AM(v.id,this.serializeUrl(v.extractedUrl),this.serializeUrl(v.urlAfterRedirects),v.targetSnapshot);i.next(w)}));if(p&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:w,extractedUrl:D,source:A,restoredState:x,extras:k}=d,F=new nb(w,this.serializeUrl(D),A,x);i.next(F);const L=Gm(D,this.rootComponentType).snapshot;return tt(r={...d,targetSnapshot:L,urlAfterRedirects:D,extras:{...k,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=d.rawUrl,d.resolve(null),ks.E}),An(d=>{const f=new jV(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot);this.triggerEvent(f)}),(0,rt.U)(d=>r={...d,guards:KV(d.targetSnapshot,d.currentSnapshot,this.rootContexts)}),function VM(n,e){return(0,li.z)(t=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:a}}=t;return 0===a.length&&0===s.length?tt({...t,guardsResult:!0}):function BM(n,e,t,i){return(0,dn.D)(n).pipe((0,li.z)(r=>function zM(n,e,t,i,r){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?tt(s.map(d=>{const f=eg(e)??r,p=af(d,f);return Xs(function cf(n){return n&&Wu(n.canDeactivate)}(p)?p.canDeactivate(n,e,t,i):f.runInContext(()=>p(n,e,t,i))).pipe(rs())})).pipe(qu()):tt(!0)}(r.component,r.route,t,e,i)),rs(r=>!0!==r,!0))}(a,i,r,n).pipe((0,li.z)(d=>d&&function pS(n){return"boolean"==typeof n}(d)?function _b(n,e,t,i){return(0,dn.D)(e).pipe(Os(r=>To(function $M(n,e){return null!==n&&e&&e(new nS(n)),tt(!0)}(r.route.parent,i),function UM(n,e){return null!==n&&e&&e(new iS(n)),tt(!0)}(r.route,i),function mS(n,e,t){const i=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(a=>function QV(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(a)).filter(a=>null!==a).map(a=>Do(()=>tt(a.guards.map(f=>{const p=eg(a.node)??t,_=af(f,p);return Xs(function gb(n){return n&&Wu(n.canActivateChild)}(_)?_.canActivateChild(i,n):p.runInContext(()=>_(i,n))).pipe(rs())})).pipe(qu())));return tt(s).pipe(qu())}(n,r.path,t),function HM(n,e,t){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return tt(!0);const r=i.map(s=>Do(()=>{const a=eg(e)??t,d=af(s,a);return Xs(function NM(n){return n&&Wu(n.canActivate)}(d)?d.canActivate(e,n):a.runInContext(()=>d(e,n))).pipe(rs())}));return tt(r).pipe(qu())}(n,r.route,t))),rs(r=>!0!==r,!0))}(i,s,n,e):tt(d)),(0,rt.U)(d=>({...t,guardsResult:d})))})}(this.ngModule.injector,d=>this.triggerEvent(d)),An(d=>{if(r.guardsResult=d.guardsResult,N(d.guardsResult))throw Km(0,d.guardsResult);const f=new GV(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot,!!d.guardsResult);this.triggerEvent(f)}),Rn(d=>!!d.guardsResult||(this.restoreHistory(d),this.cancelNavigationTransition(d,"",3),!1)),Ib(d=>{if(d.guards.canActivateChecks.length)return tt(d).pipe(An(f=>{const p=new tf(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot);this.triggerEvent(p)}),Un(f=>{let p=!1;return tt(f).pipe(function tB(n,e){return(0,li.z)(t=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return tt(t);let s=0;return(0,dn.D)(r).pipe(Os(a=>function Ku(n,e,t,i){const r=n.routeConfig,s=n._resolve;return void 0!==r?.title&&!cg(r)&&(s[ss]=r.title),function Sb(n,e,t,i){const r=function IS(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return tt({});const s={};return(0,dn.D)(r).pipe((0,li.z)(a=>function XM(n,e,t,i){const r=eg(e)??i,s=af(n,r);return Xs(s.resolve?s.resolve(e,t):r.runInContext(()=>s(e,t)))}(n[a],e,t,i).pipe(rs(),An(d=>{s[a]=d}))),tl(1),Ou(s),Hr(a=>tg(a)?ks.E:Ao(a)))}(s,n,e,i).pipe((0,rt.U)(a=>(n._resolvedData=a,n.data=qm(n,t).resolve,r&&cg(r)&&(n.data[ss]=r.title),null)))}(a.route,i,n,e)),An(()=>s++),tl(1),(0,li.z)(a=>s===r.length?tt(t):ks.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),An({next:()=>p=!0,complete:()=>{p||(this.restoreHistory(f),this.cancelNavigationTransition(f,"",2))}}))}),An(f=>{const p=new ib(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot);this.triggerEvent(p)}))}),Ib(d=>{const f=p=>{const _=[];p.routeConfig?.loadComponent&&!p.routeConfig._loadedComponent&&_.push(this.configLoader.loadComponent(p.routeConfig).pipe(An(v=>{p.component=v}),(0,rt.U)(()=>{})));for(const v of p.children)_.push(...f(v));return _};return Hh(f(d.targetSnapshot.root)).pipe(Rs(),tn(1))}),Ib(()=>this.afterPreactivation()),(0,rt.U)(d=>{const f=function zu(n,e,t){const i=sf(n,e._root,t?t._root:void 0);return new sS(i,e)}(this.routeReuseStrategy,d.targetSnapshot,d.currentRouterState);return r={...d,targetRouterState:f}}),An(d=>{this.currentUrlTree=d.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl),this.routerState=d.targetRouterState,"deferred"===this.urlUpdateStrategy&&(d.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,d),this.browserUrlTree=d.urlAfterRedirects)}),((n,e,t)=>(0,rt.U)(i=>(new hb(e,i.targetRouterState,i.currentRouterState,t).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,d=>this.triggerEvent(d)),An({next(){s=!0},complete(){s=!0}}),wc(()=>{s||a||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),Hr(d=>{if(a=!0,lS(d)){lb(d)||(this.navigated=!0,this.restoreHistory(r,!0));const f=new Hm(r.id,this.serializeUrl(r.extractedUrl),d.message,d.cancellationCode);if(i.next(f),lb(d)){const p=this.urlHandlingStrategy.merge(d.url,this.rawUrlTree),_={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||xb(r.source)};this.scheduleNavigation(p,"imperative",null,_,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{this.restoreHistory(r,!0);const f=new JC(r.id,this.serializeUrl(r.extractedUrl),d,r.targetSnapshot??void 0);i.next(f);try{r.resolve(this.errorHandler(d))}catch(p){r.reject(p)}}return ks.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next({...this.transitions.value,...t})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const i="popstate"===t.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{const r={replaceUrl:!0},s=t.state?.navigationId?t.state:null;if(s){const d={...s};delete d.navigationId,delete d.\u0275routerPageId,0!==Object.keys(d).length&&(r.state=d)}const a=this.parseUrl(t.url);this.scheduleNavigation(a,i,s,r)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){this.config=t.map(db),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,i={}){const{relativeTo:r,queryParams:s,fragment:a,queryParamsHandling:d,preserveFragment:f}=i,p=r||this.routerState.root,_=f?this.currentUrlTree.fragment:a;let v=null;switch(d){case"merge":v={...this.currentUrlTree.queryParams,...s};break;case"preserve":v=this.currentUrlTree.queryParams;break;default:v=s||null}return null!==v&&(v=this.removeEmptyProps(v)),Qt(p,this.currentUrlTree,t,v,_??null)}navigateByUrl(t,i={skipLocationChange:!1}){const r=N(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,i)}navigate(t,i={skipLocationChange:!1}){return function PS(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new c.vHH(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let i;try{i=this.urlSerializer.parse(t)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,t)}return i}isActive(t,i){let r;if(r=!0===i?{...tk}:!1===i?{...iB}:i,N(t))return Yv(this.currentUrlTree,t,r);const s=this.parseUrl(t);return Yv(this.currentUrlTree,s,r)}removeEmptyProps(t){return Object.keys(t).reduce((i,r)=>{const s=t[r];return null!=s&&(i[r]=s),i},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Dc(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,i,r,s,a){if(this.disposed)return Promise.resolve(!1);let d,f,p;a?(d=a.resolve,f=a.reject,p=a.promise):p=new Promise((w,D)=>{d=w,f=D});const _=++this.navigationId;let v;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),v=r&&r.\u0275routerPageId?r.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):v=0,this.setTransition({id:_,targetPageId:v,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:s,resolve:d,reject:f,promise:p,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),p.catch(w=>Promise.reject(w))}setBrowserUrl(t,i){const r=this.urlSerializer.serialize(t),s={...i.extras.state,...this.generateNgRouterState(i.id,i.targetPageId)};this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",s):this.location.go(r,"",s)}restoreHistory(t,i=!1){if("computed"===this.canceledNavigationResolution){const r=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===r?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===r&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(r)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,i,r){const s=new Hm(t.id,this.serializeUrl(t.extractedUrl),i,r);this.triggerEvent(s),t.resolve(!1)}generateNgRouterState(t,i){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}}return n.\u0275fac=function(t){c.$Z()},n.\u0275prov=c.Yz7({token:n,factory:function(){return OS()},providedIn:"root"}),n})();function xb(n){return"imperative"!==n}let Qu=(()=>{class n{constructor(t,i,r,s,a){this.router=t,this.route=i,this.tabIndexAttribute=r,this.renderer=s,this.el=a,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.onChanges=new zt.x,this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(t){this._preserveFragment=(0,c.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,c.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,c.D6c)(t)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(t){if(null!=this.tabIndexAttribute)return;const i=this.renderer,r=this.el.nativeElement;null!==t?i.setAttribute(r,"tabindex",t):i.removeAttribute(r,"tabindex")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){return null===this.urlTree||this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Ri),c.Y36(al),c.$8M("tabindex"),c.Y36(c.Qsj),c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,i){1&t&&c.NdJ("click",function(){return i.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[c.TTD]}),n})();class Mb{}let kb=(()=>{class n{constructor(t,i,r,s,a){this.router=t,this.injector=r,this.preloadingStrategy=s,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(Rn(t=>t instanceof Dc),Os(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){const r=[];for(const s of i){s.providers&&!s._injector&&(s._injector=(0,c.MMx)(s.providers,t,`Route: ${s.path}`));const a=s._injector??t,d=s._loadedInjector??a;s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent?r.push(this.preloadConfig(a,s)):(s.children||s._loadedRoutes)&&r.push(this.processRoutes(d,s.children??s._loadedRoutes))}return(0,dn.D)(r).pipe((0,va.J)())}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(t,i):tt(null);const s=r.pipe((0,li.z)(a=>null===a?tt(void 0):(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,this.processRoutes(a.injector??t,a.routes))));if(i.loadComponent&&!i._loadedComponent){const a=this.loader.loadComponent(i);return(0,dn.D)([s,a]).pipe((0,va.J)())}return s})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Ri),c.LFG(c.Sil),c.LFG(c.lqb),c.LFG(Mb),c.LFG(Ab))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const xc=new c.OlP("");let FS=(()=>{class n{constructor(t,i,r={}){this.router=t,this.viewportScroller=i,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof nb?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Dc&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof zm&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.router.triggerEvent(new zm(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){c.$Z()},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function Mc(n,e){return{\u0275kind:n,\u0275providers:e}}function pf(n){return[{provide:Db,multi:!0,useValue:n}]}function rk(){const n=(0,c.f3M)(c.zs3);return e=>{const t=n.get(c.z2F);if(e!==t.components[0])return;const i=n.get(Ri),r=n.get(Rb);1===n.get(Ob)&&i.initialNavigation(),n.get(Ls,null,c.XFs.Optional)?.setUpPreloading(),n.get(xc,null,c.XFs.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),r.next(),r.complete()}}const Rb=new c.OlP("",{factory:()=>new zt.x}),Ob=new c.OlP("",{providedIn:"root",factory:()=>1});const Ls=new c.OlP("");function ak(n){return Mc(0,[{provide:Ls,useExisting:kb},{provide:Mb,useExisting:n}])}const BS=new c.OlP("ROUTER_FORROOT_GUARD"),ck=[Ge,{provide:Zh,useClass:rl},{provide:Ri,useFactory:OS},Qm,{provide:al,useFactory:function LS(n){return n.routerState.root},deps:[Ri]},Ab];function US(){return new c.PXZ("Router",Ri)}let Pb=(()=>{class n{constructor(t){}static forRoot(t,i){return{ngModule:n,providers:[ck,[],pf(t),{provide:BS,useFactory:$S,deps:[[Ri,new c.FiY,new c.tp0]]},{provide:hf,useValue:i||{}},i?.useHash?{provide:me,useClass:gt}:{provide:me,useClass:mt},{provide:xc,useFactory:()=>{const n=(0,c.f3M)(Ri),e=(0,c.f3M)(pm),t=(0,c.f3M)(hf);return t.scrollOffset&&e.setOffset(t.scrollOffset),new FS(n,e,t)}},i?.preloadingStrategy?ak(i.preloadingStrategy).\u0275providers:[],{provide:c.PXZ,multi:!0,useFactory:US},i?.initialNavigation?HS(i):[],[{provide:Nb,useFactory:rk},{provide:c.tb,multi:!0,useExisting:Nb}]]}}static forChild(t){return{ngModule:n,providers:[pf(t)]}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(BS,8))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[ll]}),n})();function $S(n){return"guarded"}function HS(n){return["disabled"===n.initialNavigation?Mc(3,[{provide:c.ip1,multi:!0,useFactory:()=>{const e=(0,c.f3M)(Ri);return()=>{e.setUpLocationChangeListener()}}},{provide:Ob,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Mc(2,[{provide:Ob,useValue:0},{provide:c.ip1,multi:!0,deps:[c.zs3],useFactory:e=>{const t=e.get(K,Promise.resolve());let i=!1;return()=>t.then(()=>new Promise(s=>{const a=e.get(Ri),d=e.get(Rb);(function r(s){e.get(Ri).events.pipe(Rn(d=>d instanceof Dc||d instanceof Hm||d instanceof JC),(0,rt.U)(d=>d instanceof Dc||d instanceof Hm&&(0===d.code||1===d.code)&&null),Rn(d=>null!==d),tn(1)).subscribe(()=>{s()})})(()=>{s(!0),i=!0}),a.afterPreactivation=()=>(s(!0),i||d.closed?tt(void 0):d),a.initialNavigation()}))}}]).\u0275providers:[]]}const Nb=new c.OlP("");var ot=z(9681);(0,ot.registerVersion)("firebase","9.14.0","app");var te=z(5861),q=z(2090),Tr=z(4859),hr=z(1877),kc=z(8766);const ul="@firebase/installations",Fb="0.5.16",_g=`w:${Fb}`,jS="FIS_v2",dl=new q.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function WS(n){return n instanceof q.ZR&&n.code.includes("request-failed")}function hl({projectId:n}){return`https://firebaseinstallations.googleapis.com/v1/projects/${n}/installations`}function qS(n){return{token:n.token,requestStatus:2,expiresIn:mk(n.expiresIn),creationTime:Date.now()}}function yg(n,e){return Xu.apply(this,arguments)}function Xu(){return(Xu=(0,te.Z)(function*(n,e){const i=(yield e.json()).error;return dl.create("request-failed",{requestName:n,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})})).apply(this,arguments)}function YS({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function Lb(n,{refreshToken:e}){const t=YS(n);return t.append("Authorization",function gk(n){return`${jS} ${n}`}(e)),t}function Vb(n){return Bb.apply(this,arguments)}function Bb(){return(Bb=(0,te.Z)(function*(n){const e=yield n();return e.status>=500&&e.status<600?n():e})).apply(this,arguments)}function mk(n){return Number(n.replace("s","000"))}function _k(n,e){return vg.apply(this,arguments)}function vg(){return(vg=(0,te.Z)(function*({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const i=hl(n),r=YS(n),s=e.getImmediate({optional:!0});if(s){const p=yield s.getHeartbeatsHeader();p&&r.append("x-firebase-client",p)}const d={method:"POST",headers:r,body:JSON.stringify({fid:t,authVersion:jS,appId:n.appId,sdkVersion:_g})},f=yield Vb(()=>fetch(i,d));if(f.ok){const p=yield f.json();return{fid:p.fid||t,registrationStatus:2,refreshToken:p.refreshToken,authToken:qS(p.authToken)}}throw yield yg("Create Installation",f)})).apply(this,arguments)}function ZS(n){return new Promise(e=>{setTimeout(e,n)})}const QS=/^[cdef][\w-]{21}$/;function uB(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=function Ub(n){return function KS(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}(n).substr(0,22)}(n);return QS.test(t)?t:""}catch{return""}}function Ju(n){return`${n.appName}!${n.appId}`}const gf=new Map;function Rc(n,e){const t=Ju(n);_f(t,e),function to(n,e){const t=function eI(){return!fl&&"BroadcastChannel"in self&&(fl=new BroadcastChannel("[Firebase] FID Change"),fl.onmessage=n=>{_f(n.data.key,n.data.fid)}),fl}();t&&t.postMessage({key:n,fid:e}),function bg(){0===gf.size&&fl&&(fl.close(),fl=null)}()}(t,e)}function _f(n,e){const t=gf.get(n);if(t)for(const i of t)i(e)}let fl=null;const pl="firebase-installations-store";let yf=null;function tI(){return yf||(yf=(0,kc.X3)("firebase-installations-database",1,{upgrade:(n,e)=>{0===e&&n.createObjectStore(pl)}})),yf}function vf(n,e){return nI.apply(this,arguments)}function nI(){return(nI=(0,te.Z)(function*(n,e){const t=Ju(n),r=(yield tI()).transaction(pl,"readwrite"),s=r.objectStore(pl),a=yield s.get(t);return yield s.put(e,t),yield r.done,(!a||a.fid!==e.fid)&&Rc(n,e.fid),e})).apply(this,arguments)}function ed(n){return td.apply(this,arguments)}function td(){return(td=(0,te.Z)(function*(n){const e=Ju(n),i=(yield tI()).transaction(pl,"readwrite");yield i.objectStore(pl).delete(e),yield i.done})).apply(this,arguments)}function Oc(n,e){return bf.apply(this,arguments)}function bf(){return(bf=(0,te.Z)(function*(n,e){const t=Ju(n),r=(yield tI()).transaction(pl,"readwrite"),s=r.objectStore(pl),a=yield s.get(t),d=e(a);return void 0===d?yield s.delete(t):yield s.put(d,t),yield r.done,d&&(!a||a.fid!==d.fid)&&Rc(n,d.fid),d})).apply(this,arguments)}function Ef(n){return iI.apply(this,arguments)}function iI(){return(iI=(0,te.Z)(function*(n){let e;const t=yield Oc(n.appConfig,i=>{const r=yk(i),s=vk(n,r);return e=s.registrationPromise,s.installationEntry});return""===t.fid?{installationEntry:yield e}:{installationEntry:t,registrationPromise:e}})).apply(this,arguments)}function yk(n){return Ek(n||{fid:uB(),registrationStatus:0})}function vk(n,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(dl.create("app-offline"))};const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=function bk(n,e){return Hb.apply(this,arguments)}(n,t);return{installationEntry:t,registrationPromise:i}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:rI(n)}:{installationEntry:e}}function Hb(){return(Hb=(0,te.Z)(function*(n,e){try{const t=yield _k(n,e);return vf(n.appConfig,t)}catch(t){throw WS(t)&&409===t.customData.serverCode?yield ed(n.appConfig):yield vf(n.appConfig,{fid:e.fid,registrationStatus:0}),t}})).apply(this,arguments)}function rI(n){return sI.apply(this,arguments)}function sI(){return(sI=(0,te.Z)(function*(n){let e=yield oI(n.appConfig);for(;1===e.registrationStatus;)yield ZS(100),e=yield oI(n.appConfig);if(0===e.registrationStatus){const{installationEntry:t,registrationPromise:i}=yield Ef(n);return i||t}return e})).apply(this,arguments)}function oI(n){return Oc(n,e=>{if(!e)throw dl.create("installation-not-found");return Ek(e)})}function Ek(n){return function aI(n){return 1===n.registrationStatus&&n.registrationTime+1e4<Date.now()}(n)?{fid:n.fid,registrationStatus:0}:n}function lI(n,e){return zb.apply(this,arguments)}function zb(){return(zb=(0,te.Z)(function*({appConfig:n,heartbeatServiceProvider:e},t){const i=jb(n,t),r=Lb(n,t),s=e.getImmediate({optional:!0});if(s){const p=yield s.getHeartbeatsHeader();p&&r.append("x-firebase-client",p)}const d={method:"POST",headers:r,body:JSON.stringify({installation:{sdkVersion:_g,appId:n.appId}})},f=yield Vb(()=>fetch(i,d));if(f.ok)return qS(yield f.json());throw yield yg("Generate Auth Token",f)})).apply(this,arguments)}function jb(n,{fid:e}){return`${hl(n)}/${e}/authTokens:generate`}function cI(n){return uI.apply(this,arguments)}function uI(){return(uI=(0,te.Z)(function*(n,e=!1){let t;const i=yield Oc(n.appConfig,s=>{if(!Ck(s))throw dl.create("not-registered");const a=s.authToken;if(!e&&fB(a))return s;if(1===a.requestStatus)return t=dB(n,e),s;{if(!navigator.onLine)throw dl.create("app-offline");const d=ml(s);return t=hB(n,d),d}});return t?yield t:i.authToken})).apply(this,arguments)}function dB(n,e){return dI.apply(this,arguments)}function dI(){return(dI=(0,te.Z)(function*(n,e){let t=yield wk(n.appConfig);for(;1===t.authToken.requestStatus;)yield ZS(100),t=yield wk(n.appConfig);const i=t.authToken;return 0===i.requestStatus?cI(n,e):i})).apply(this,arguments)}function wk(n){return Oc(n,e=>{if(!Ck(e))throw dl.create("not-registered");return function Gb(n){return 1===n.requestStatus&&n.requestTime+1e4<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function hB(n,e){return hI.apply(this,arguments)}function hI(){return(hI=(0,te.Z)(function*(n,e){try{const t=yield lI(n,e),i=Object.assign(Object.assign({},e),{authToken:t});return yield vf(n.appConfig,i),t}catch(t){if(!WS(t)||401!==t.customData.serverCode&&404!==t.customData.serverCode){const i=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield vf(n.appConfig,i)}else yield ed(n.appConfig);throw t}})).apply(this,arguments)}function Ck(n){return void 0!==n&&2===n.registrationStatus}function fB(n){return 2===n.requestStatus&&!function pB(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+36e5}(n)}function ml(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}function Eg(){return(Eg=(0,te.Z)(function*(n){const e=n,{installationEntry:t,registrationPromise:i}=yield Ef(e);return i?i.catch(console.error):cI(e).catch(console.error),t.fid})).apply(this,arguments)}function wg(){return(wg=(0,te.Z)(function*(n,e=!1){const t=n;return yield qb(t),(yield cI(t,e)).token})).apply(this,arguments)}function qb(n){return Yb.apply(this,arguments)}function Yb(){return(Yb=(0,te.Z)(function*(n){const{registrationPromise:e}=yield Ef(n);e&&(yield e)})).apply(this,arguments)}function _l(n){return dl.create("missing-app-config-values",{valueName:n})}const Tg="installations",Zb=n=>{const e=n.getProvider("app").getImmediate(),t=function Ig(n){if(!n||!n.options)throw _l("App Configuration");if(!n.name)throw _l("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw _l(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}(e);return{app:e,appConfig:t,heartbeatServiceProvider:(0,ot._getProvider)(e,"heartbeat"),_delete:()=>Promise.resolve()}},Dg=n=>{const e=n.getProvider("app").getImmediate(),t=(0,ot._getProvider)(e,Tg).getImmediate();return{getId:()=>function Sk(n){return Eg.apply(this,arguments)}(t),getToken:r=>function Wb(n){return wg.apply(this,arguments)}(t,r)}};(function fI(){(0,ot._registerComponent)(new Tr.wA(Tg,Zb,"PUBLIC")),(0,ot._registerComponent)(new Tr.wA("installations-internal",Dg,"PRIVATE"))})(),(0,ot.registerVersion)(ul,Fb),(0,ot.registerVersion)(ul,Fb,"esm2017");const Ag="@firebase/remote-config",Qb="remote-config",Gr=new q.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});function Dk(n=(0,ot.getApp)()){return n=(0,q.m9)(n),(0,ot._getProvider)(n,Qb).getImmediate()}class yI{constructor(e,t,i,r){this.client=e,this.storage=t,this.storageCache=i,this.logger=r}isCachedDataFresh(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const i=Date.now()-t,r=i<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${i}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${r}.`),r}fetch(e){var t=this;return(0,te.Z)(function*(){const[i,r]=yield Promise.all([t.storage.getLastSuccessfulFetchTimestampMillis(),t.storage.getLastSuccessfulFetchResponse()]);if(r&&t.isCachedDataFresh(e.cacheMaxAgeMillis,i))return r;e.eTag=r&&r.eTag;const s=yield t.client.fetch(e),a=[t.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&a.push(t.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(a),s})()}}function Rk(n=navigator){return n.languages&&n.languages[0]||n.language}class Ok{constructor(e,t,i,r,s,a){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=i,this.projectId=r,this.apiKey=s,this.appId=a}fetch(e){var t=this;return(0,te.Z)(function*(){var i,r,s;const[a,d]=yield Promise.all([t.firebaseInstallations.getId(),t.firebaseInstallations.getToken()]),p=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${t.projectId}/namespaces/${t.namespace}:fetch?key=${t.apiKey}`,_={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},v={sdk_version:t.sdkVersion,app_instance_id:a,app_instance_id_token:d,app_id:t.appId,language_code:Rk()},w={method:"POST",headers:_,body:JSON.stringify(v)},D=fetch(p,w),A=new Promise((ee,oe)=>{e.signal.addEventListener(()=>{const ue=new Error("The operation was aborted.");ue.name="AbortError",oe(ue)})});let x;try{yield Promise.race([D,A]),x=yield D}catch(ee){let oe="fetch-client-network";throw"AbortError"===(null===(i=ee)||void 0===i?void 0:i.name)&&(oe="fetch-timeout"),Gr.create(oe,{originalErrorMessage:null===(r=ee)||void 0===r?void 0:r.message})}let k=x.status;const F=x.headers.get("ETag")||void 0;let L,U;if(200===x.status){let ee;try{ee=yield x.json()}catch(oe){throw Gr.create("fetch-client-parse",{originalErrorMessage:null===(s=oe)||void 0===s?void 0:s.message})}L=ee.entries,U=ee.state}if("INSTANCE_STATE_UNSPECIFIED"===U?k=500:"NO_CHANGE"===U?k=304:("NO_TEMPLATE"===U||"EMPTY_CONFIG"===U)&&(L={}),304!==k&&200!==k)throw Gr.create("fetch-status",{httpStatus:k});return{status:k,eTag:F,config:L}})()}}class Pk{constructor(e,t){this.client=e,this.storage=t}fetch(e){var t=this;return(0,te.Z)(function*(){const i=(yield t.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return t.attemptFetch(e,i)})()}attemptFetch(e,{throttleEndTimeMillis:t,backoffCount:i}){var r=this;return(0,te.Z)(function*(){yield function vI(n,e){return new Promise((t,i)=>{const r=Math.max(e-Date.now(),0),s=setTimeout(t,r);n.addEventListener(()=>{clearTimeout(s),i(Gr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,t);try{const s=yield r.client.fetch(e);return yield r.storage.deleteThrottleMetadata(),s}catch(s){if(!function bI(n){if(!(n instanceof q.ZR&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}(s))throw s;const a={throttleEndTimeMillis:Date.now()+(0,q.$s)(i),backoffCount:i+1};return yield r.storage.setThrottleMetadata(a),r.attemptFetch(e,a)}})()}}class Nk{constructor(e,t,i,r,s){this.app=e,this._client=t,this._storageCache=i,this._storage=r,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Og(n,e){var t;const i=n.target.error||void 0;return Gr.create(e,{originalErrorMessage:i&&(null===(t=i)||void 0===t?void 0:t.message)})}const id="app_namespace_store";class Vk{constructor(e,t,i,r=function Lk(){return new Promise((n,e)=>{var t;try{const i=indexedDB.open("firebase_remote_config",1);i.onerror=r=>{e(Og(r,"storage-open"))},i.onsuccess=r=>{n(r.target.result)},i.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(id,{keyPath:"compositeKey"})}}catch(i){e(Gr.create("storage-open",{originalErrorMessage:null===(t=i)||void 0===t?void 0:t.message}))}})}()){this.appId=e,this.appName=t,this.namespace=i,this.openDbPromise=r}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var t=this;return(0,te.Z)(function*(){const i=yield t.openDbPromise;return new Promise((r,s)=>{var a;const f=i.transaction([id],"readonly").objectStore(id),p=t.createCompositeKey(e);try{const _=f.get(p);_.onerror=v=>{s(Og(v,"storage-get"))},_.onsuccess=v=>{const w=v.target.result;r(w?w.value:void 0)}}catch(_){s(Gr.create("storage-get",{originalErrorMessage:null===(a=_)||void 0===a?void 0:a.message}))}})})()}set(e,t){var i=this;return(0,te.Z)(function*(){const r=yield i.openDbPromise;return new Promise((s,a)=>{var d;const p=r.transaction([id],"readwrite").objectStore(id),_=i.createCompositeKey(e);try{const v=p.put({compositeKey:_,value:t});v.onerror=w=>{a(Og(w,"storage-set"))},v.onsuccess=()=>{s()}}catch(v){a(Gr.create("storage-set",{originalErrorMessage:null===(d=v)||void 0===d?void 0:d.message}))}})})()}delete(e){var t=this;return(0,te.Z)(function*(){const i=yield t.openDbPromise;return new Promise((r,s)=>{var a;const f=i.transaction([id],"readwrite").objectStore(id),p=t.createCompositeKey(e);try{const _=f.delete(p);_.onerror=v=>{s(Og(v,"storage-delete"))},_.onsuccess=()=>{r()}}catch(_){s(Gr.create("storage-delete",{originalErrorMessage:null===(a=_)||void 0===a?void 0:a.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class t0{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return(0,te.Z)(function*(){const t=e.storage.getLastFetchStatus(),i=e.storage.getLastSuccessfulFetchTimestampMillis(),r=e.storage.getActiveConfig(),s=yield t;s&&(e.lastFetchStatus=s);const a=yield i;a&&(e.lastSuccessfulFetchTimestampMillis=a);const d=yield r;d&&(e.activeConfig=d)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function n0(){return sd.apply(this,arguments)}function sd(){return(sd=(0,te.Z)(function*(){if(!(0,q.hl)())return!1;try{return yield(0,q.eu)()}catch{return!1}})).apply(this,arguments)}!function Bk(){(0,ot._registerComponent)(new Tr.wA(Qb,function n(e,{instanceIdentifier:t}){const i=e.getProvider("app").getImmediate(),r=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Gr.create("registration-window");if(!(0,q.hl)())throw Gr.create("indexed-db-unavailable");const{projectId:s,apiKey:a,appId:d}=i.options;if(!s)throw Gr.create("registration-project-id");if(!a)throw Gr.create("registration-api-key");if(!d)throw Gr.create("registration-app-id");const f=new Vk(d,i.name,t=t||"firebase"),p=new t0(f),_=new hr.Yd(Ag);_.logLevel=hr.in.ERROR;const v=new Ok(r,ot.SDK_VERSION,t,s,a,d),w=new Pk(v,f),D=new yI(w,f,p,_),A=new Nk(i,D,p,f,_);return function Ak(n){const e=(0,q.m9)(n);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(A),A},"PUBLIC").setMultipleInstances(!0)),(0,ot.registerVersion)(Ag,"0.3.15"),(0,ot.registerVersion)(Ag,"0.3.15","esm2017")}();const CB="/firebase-messaging-sw.js",r0="/firebase-cloud-messaging-push-scope",Uk="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",s0="google.c.a.c_id",CI="google.c.a.c_l",SI="google.c.a.ts",o0="google.c.a.e";var Da=(()=>{return(n=Da||(Da={})).PUSH_RECEIVED="push-received",n.NOTIFICATION_CLICKED="notification-clicked",Da;var n})();function Vs(n){const e=new Uint8Array(n);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function wf(n){const t=(n+"=".repeat((4-n.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),i=atob(t),r=new Uint8Array(i.length);for(let s=0;s<i.length;++s)r[s]=i.charCodeAt(s);return r}const a0="fcm_token_details_db",c0="fcm_token_object_Store";function $k(n){return u0.apply(this,arguments)}function u0(){return u0=(0,te.Z)(function*(n){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(a0))return null;let e=null;return(yield(0,kc.X3)(a0,5,{upgrade:(i=(0,te.Z)(function*(r,s,a,d){var f;if(s<2||!r.objectStoreNames.contains(c0))return;const p=d.objectStore(c0),_=yield p.index("fcmSenderId").get(n);if(yield p.clear(),_)if(2===s){const v=_;if(!v.auth||!v.p256dh||!v.endpoint)return;e={token:v.fcmToken,createTime:null!==(f=v.createTime)&&void 0!==f?f:Date.now(),subscriptionOptions:{auth:v.auth,p256dh:v.p256dh,endpoint:v.endpoint,swScope:v.swScope,vapidKey:"string"==typeof v.vapidKey?v.vapidKey:Vs(v.vapidKey)}}}else if(3===s){const v=_;e={token:v.fcmToken,createTime:v.createTime,subscriptionOptions:{auth:Vs(v.auth),p256dh:Vs(v.p256dh),endpoint:v.endpoint,swScope:v.swScope,vapidKey:Vs(v.vapidKey)}}}else if(4===s){const v=_;e={token:v.fcmToken,createTime:v.createTime,subscriptionOptions:{auth:Vs(v.auth),p256dh:Vs(v.p256dh),endpoint:v.endpoint,swScope:v.swScope,vapidKey:Vs(v.vapidKey)}}}}),function(s,a,d,f){return i.apply(this,arguments)})})).close(),yield(0,kc.Lj)(a0),yield(0,kc.Lj)("fcm_vapid_details_db"),yield(0,kc.Lj)("undefined"),Cf(e)?e:null;var i}),u0.apply(this,arguments)}function Cf(n){if(!n||!n.subscriptionOptions)return!1;const{subscriptionOptions:e}=n;return"number"==typeof n.createTime&&n.createTime>0&&"string"==typeof n.token&&n.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}const Pc="firebase-messaging-store";let II=null;function d0(){return II||(II=(0,kc.X3)("firebase-messaging-database",1,{upgrade:(n,e)=>{0===e&&n.createObjectStore(Pc)}})),II}function TI(n){return h0.apply(this,arguments)}function h0(){return(h0=(0,te.Z)(function*(n){const e=f0(n),i=yield(yield d0()).transaction(Pc).objectStore(Pc).get(e);if(i)return i;{const r=yield $k(n.appConfig.senderId);if(r)return yield Pg(n,r),r}})).apply(this,arguments)}function Pg(n,e){return Sf.apply(this,arguments)}function Sf(){return(Sf=(0,te.Z)(function*(n,e){const t=f0(n),r=(yield d0()).transaction(Pc,"readwrite");return yield r.objectStore(Pc).put(e,t),yield r.done,e})).apply(this,arguments)}function zk(n){return If.apply(this,arguments)}function If(){return(If=(0,te.Z)(function*(n){const e=f0(n),i=(yield d0()).transaction(Pc,"readwrite");yield i.objectStore(Pc).delete(e),yield i.done})).apply(this,arguments)}function f0({appConfig:n}){return n.appId}const Qi=new q.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Gk(n,e){return p0.apply(this,arguments)}function p0(){return(p0=(0,te.Z)(function*(n,e){var t;const i=yield m0(n),r=Ng(e),s={method:"POST",headers:i,body:JSON.stringify(r)};let a;try{a=yield(yield fetch(Nc(n.appConfig),s)).json()}catch(d){throw Qi.create("token-subscribe-failed",{errorInfo:null===(t=d)||void 0===t?void 0:t.toString()})}if(a.error)throw Qi.create("token-subscribe-failed",{errorInfo:a.error.message});if(!a.token)throw Qi.create("token-subscribe-no-token");return a.token})).apply(this,arguments)}function Wk(n,e){return od.apply(this,arguments)}function od(){return(od=(0,te.Z)(function*(n,e){var t;const i=yield m0(n),r=Ng(e.subscriptionOptions),s={method:"PATCH",headers:i,body:JSON.stringify(r)};let a;try{a=yield(yield fetch(`${Nc(n.appConfig)}/${e.token}`,s)).json()}catch(d){throw Qi.create("token-update-failed",{errorInfo:null===(t=d)||void 0===t?void 0:t.toString()})}if(a.error)throw Qi.create("token-update-failed",{errorInfo:a.error.message});if(!a.token)throw Qi.create("token-update-no-token");return a.token})).apply(this,arguments)}function vl(n,e){return DI.apply(this,arguments)}function DI(){return(DI=(0,te.Z)(function*(n,e){var t;const r={method:"DELETE",headers:yield m0(n)};try{const a=yield(yield fetch(`${Nc(n.appConfig)}/${e}`,r)).json();if(a.error)throw Qi.create("token-unsubscribe-failed",{errorInfo:a.error.message})}catch(s){throw Qi.create("token-unsubscribe-failed",{errorInfo:null===(t=s)||void 0===t?void 0:t.toString()})}})).apply(this,arguments)}function Nc({projectId:n}){return`https://fcmregistrations.googleapis.com/v1/projects/${n}/registrations`}function m0(n){return g0.apply(this,arguments)}function g0(){return(g0=(0,te.Z)(function*({appConfig:n,installations:e}){const t=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n.apiKey,"x-goog-firebase-installations-auth":`FIS ${t}`})})).apply(this,arguments)}function Ng({p256dh:n,auth:e,endpoint:t,vapidKey:i}){const r={web:{endpoint:t,auth:e,p256dh:n}};return i!==Uk&&(r.web.applicationPubKey=i),r}const qk=6048e5;function Vo(n){return Fc.apply(this,arguments)}function Fc(){return(Fc=(0,te.Z)(function*(n){const e=yield ad(n.swRegistration,n.vapidKey),t={vapidKey:n.vapidKey,swScope:n.swRegistration.scope,endpoint:e.endpoint,auth:Vs(e.getKey("auth")),p256dh:Vs(e.getKey("p256dh"))},i=yield TI(n.firebaseDependencies);if(i){if(ld(i.subscriptionOptions,t))return Date.now()>=i.createTime+qk?Fg(n,{token:i.token,createTime:Date.now(),subscriptionOptions:t}):i.token;try{yield vl(n.firebaseDependencies,i.token)}catch(r){console.warn(r)}return Lg(n.firebaseDependencies,t)}return Lg(n.firebaseDependencies,t)})).apply(this,arguments)}function Xi(n){return Aa.apply(this,arguments)}function Aa(){return(Aa=(0,te.Z)(function*(n){const e=yield TI(n.firebaseDependencies);e&&(yield vl(n.firebaseDependencies,e.token),yield zk(n.firebaseDependencies));const t=yield n.swRegistration.pushManager.getSubscription();return!t||t.unsubscribe()})).apply(this,arguments)}function Fg(n,e){return Wr.apply(this,arguments)}function Wr(){return(Wr=(0,te.Z)(function*(n,e){try{const t=yield Wk(n.firebaseDependencies,e),i=Object.assign(Object.assign({},e),{token:t,createTime:Date.now()});return yield Pg(n.firebaseDependencies,i),t}catch(t){throw yield Xi(n),t}})).apply(this,arguments)}function Lg(n,e){return bl.apply(this,arguments)}function bl(){return(bl=(0,te.Z)(function*(n,e){const i={token:yield Gk(n,e),createTime:Date.now(),subscriptionOptions:e};return yield Pg(n,i),i.token})).apply(this,arguments)}function ad(n,e){return El.apply(this,arguments)}function El(){return(El=(0,te.Z)(function*(n,e){return(yield n.pushManager.getSubscription())||n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:wf(e)})})).apply(this,arguments)}function ld(n,e){return e.vapidKey===n.vapidKey&&e.endpoint===n.endpoint&&e.auth===n.auth&&e.p256dh===n.p256dh}function Lc(n){const e={from:n.from,collapseKey:n.collapse_key,messageId:n.fcmMessageId};return function cd(n,e){if(!e.notification)return;n.notification={};const t=e.notification.title;t&&(n.notification.title=t);const i=e.notification.body;i&&(n.notification.body=i);const r=e.notification.image;r&&(n.notification.image=r);const s=e.notification.icon;s&&(n.notification.icon=s)}(e,n),function ud(n,e){!e.data||(n.data=e.data)}(e,n),function dd(n,e){var t,i,r,s,a;if(!(e.fcmOptions||null!==(t=e.notification)&&void 0!==t&&t.click_action))return;n.fcmOptions={};const d=null!==(r=null===(i=e.fcmOptions)||void 0===i?void 0:i.link)&&void 0!==r?r:null===(s=e.notification)||void 0===s?void 0:s.click_action;d&&(n.fcmOptions.link=d);const f=null===(a=e.fcmOptions)||void 0===a?void 0:a.analytics_label;f&&(n.fcmOptions.analyticsLabel=f)}(e,n),e}function hd(n){return"object"==typeof n&&!!n&&s0 in n}function _0(n,e){const t=[];for(let i=0;i<n.length;i++)t.push(n.charAt(i)),i<e.length&&t.push(e.charAt(i));return t.join("")}function Vg(n){return Qi.create("missing-app-config-values",{valueName:n})}_0("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),_0("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class xI{constructor(e,t,i){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const r=function AI(n){if(!n||!n.options)throw Vg("App Configuration Object");if(!n.name)throw Vg("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:t}=n;for(const i of e)if(!t[i])throw Vg(i);return{appName:n.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:r,installations:t,analyticsProvider:i}}_delete(){return Promise.resolve()}}function y0(n){return Bg.apply(this,arguments)}function Bg(){return(Bg=(0,te.Z)(function*(n){var e;try{n.swRegistration=yield navigator.serviceWorker.register(CB,{scope:r0}),n.swRegistration.update().catch(()=>{})}catch(t){throw Qi.create("failed-service-worker-registration",{browserErrorMessage:null===(e=t)||void 0===e?void 0:e.message})}})).apply(this,arguments)}function MI(n,e){return Ug.apply(this,arguments)}function Ug(){return(Ug=(0,te.Z)(function*(n,e){if(!e&&!n.swRegistration&&(yield y0(n)),e||!n.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw Qi.create("invalid-sw-registration");n.swRegistration=e}})).apply(this,arguments)}function kI(n,e){return v0.apply(this,arguments)}function v0(){return(v0=(0,te.Z)(function*(n,e){e?n.vapidKey=e:n.vapidKey||(n.vapidKey=Uk)})).apply(this,arguments)}function $g(){return($g=(0,te.Z)(function*(n,e){if(!navigator)throw Qi.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Qi.create("permission-blocked");return yield kI(n,e?.vapidKey),yield MI(n,e?.serviceWorkerRegistration),Vo(n)})).apply(this,arguments)}function Yk(n,e,t){return Hg.apply(this,arguments)}function Hg(){return(Hg=(0,te.Z)(function*(n,e,t){const i=b0(e);(yield n.firebaseDependencies.analyticsProvider.get()).logEvent(i,{message_id:t[s0],message_name:t[CI],message_time:t[SI],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function b0(n){switch(n){case Da.NOTIFICATION_CLICKED:return"notification_open";case Da.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function w0(){return(w0=(0,te.Z)(function*(n,e){const t=e.data;if(!t.isFirebaseMessaging)return;n.onMessageHandler&&t.messageType===Da.PUSH_RECEIVED&&("function"==typeof n.onMessageHandler?n.onMessageHandler(Lc(t)):n.onMessageHandler.next(Lc(t)));const i=t.data;hd(i)&&"1"===i[o0]&&(yield Yk(n,t.messageType,i))})).apply(this,arguments)}const Tf="@firebase/messaging",C0=n=>{const e=new xI(n.getProvider("app").getImmediate(),n.getProvider("installations-internal").getImmediate(),n.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",t=>function E0(n,e){return w0.apply(this,arguments)}(e,t)),e},Zk=n=>{const e=n.getProvider("messaging").getImmediate();return{getToken:i=>function RI(n,e){return $g.apply(this,arguments)}(e,i)}};function Af(){return jg.apply(this,arguments)}function jg(){return(jg=(0,te.Z)(function*(){try{yield(0,q.eu)()}catch{return!1}return typeof window<"u"&&(0,q.hl)()&&(0,q.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}function NI(n=(0,ot.getApp)()){return Af().then(e=>{if(!e)throw Qi.create("unsupported-browser")},e=>{throw Qi.create("indexed-db-unsupported")}),(0,ot._getProvider)((0,q.m9)(n),"messaging").getImmediate()}!function zg(){(0,ot._registerComponent)(new Tr.wA("messaging",C0,"PUBLIC")),(0,ot._registerComponent)(new Tr.wA("messaging-internal",Zk,"PRIVATE")),(0,ot.registerVersion)(Tf,"0.11.0"),(0,ot.registerVersion)(Tf,"0.11.0","esm2017")}();const kf="analytics",LI="firebase_id",BI="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",S0="https://www.googletagmanager.com/gtag/js",Hi=new hr.Yd("@firebase/analytics");function Gg(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function UI(n,e){const t=document.createElement("script");t.src=`${S0}?l=${n}&id=${e}`,t.async=!0,document.head.appendChild(t)}function HI(n,e,t,i,r,s){return Wg.apply(this,arguments)}function Wg(){return(Wg=(0,te.Z)(function*(n,e,t,i,r,s){const a=i[r];try{if(a)yield e[a];else{const f=(yield Gg(t)).find(p=>p.measurementId===r);f&&(yield e[f.appId])}}catch(d){Hi.error(d)}n("config",r,s)})).apply(this,arguments)}function zI(n,e,t,i,r){return qg.apply(this,arguments)}function qg(){return(qg=(0,te.Z)(function*(n,e,t,i,r){try{let s=[];if(r&&r.send_to){let a=r.send_to;Array.isArray(a)||(a=[a]);const d=yield Gg(t);for(const f of a){const p=d.find(v=>v.measurementId===f),_=p&&e[p.appId];if(!_){s=[];break}s.push(_)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),n("event",i,r||{})}catch(s){Hi.error(s)}})).apply(this,arguments)}function TB(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(S0)&&t.src.includes(n))return t;return null}const ls=new q.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),I0=new class Oi{constructor(e={},t=1e3){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function eR(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}function tR(n){return Yg.apply(this,arguments)}function Yg(){return(Yg=(0,te.Z)(function*(n){var e;const{appId:t,apiKey:i}=n,r={method:"GET",headers:eR(i)},s=BI.replace("{app-id}",t),a=yield fetch(s,r);if(200!==a.status&&304!==a.status){let d="";try{const f=yield a.json();null!==(e=f.error)&&void 0!==e&&e.message&&(d=f.error.message)}catch{}throw ls.create("config-fetch-failed",{httpStatus:a.status,responseMessage:d})}return a.json()})).apply(this,arguments)}function nR(n){return Zg.apply(this,arguments)}function Zg(){return(Zg=(0,te.Z)(function*(n,e=I0,t){const{appId:i,apiKey:r,measurementId:s}=n.options;if(!i)throw ls.create("no-app-id");if(!r){if(s)return{measurementId:s,appId:i};throw ls.create("no-api-key")}const a=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},d=new qI;return setTimeout((0,te.Z)(function*(){d.abort()}),void 0!==t?t:6e4),T0({appId:i,apiKey:r,measurementId:s},a,d,e)})).apply(this,arguments)}function T0(n,e,t){return wl.apply(this,arguments)}function wl(){return(wl=(0,te.Z)(function*(n,{throttleEndTimeMillis:e,backoffCount:t},i,r=I0){var s,a;const{appId:d,measurementId:f}=n;try{yield iR(i,e)}catch(p){if(f)return Hi.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${null===(s=p)||void 0===s?void 0:s.message}]`),{appId:d,measurementId:f};throw p}try{const p=yield tR(n);return r.deleteThrottleMetadata(d),p}catch(p){const _=p;if(!rR(_)){if(r.deleteThrottleMetadata(d),f)return Hi.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${_?.message}]`),{appId:d,measurementId:f};throw p}const v=503===Number(null===(a=_?.customData)||void 0===a?void 0:a.httpStatus)?(0,q.$s)(t,r.intervalMillis,30):(0,q.$s)(t,r.intervalMillis),w={throttleEndTimeMillis:Date.now()+v,backoffCount:t+1};return r.setThrottleMetadata(d,w),Hi.debug(`Calling attemptFetch again in ${v} millis`),T0(n,w,i,r)}})).apply(this,arguments)}function iR(n,e){return new Promise((t,i)=>{const r=Math.max(e-Date.now(),0),s=setTimeout(t,r);n.addEventListener(()=>{clearTimeout(s),i(ls.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function rR(n){if(!(n instanceof q.ZR&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}class qI{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let D0,Kg;function ZI(){return(ZI=(0,te.Z)(function*(n,e,t,i,r){if(r&&r.global)n("event",t,i);else{const s=yield e;n("event",t,Object.assign(Object.assign({},i),{send_to:s}))}})).apply(this,arguments)}function x0(){return(x0=(0,te.Z)(function*(n,e,t,i){if(i&&i.global)return n("set",{user_id:t}),Promise.resolve();n("config",yield e,{update:!0,user_id:t})})).apply(this,arguments)}function M0(n){Kg=n}function QI(n){D0=n}function sR(){return k0.apply(this,arguments)}function k0(){return(k0=(0,te.Z)(function*(){var n;if(!(0,q.hl)())return Hi.warn(ls.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,q.eu)()}catch(e){return Hi.warn(ls.create("indexeddb-unavailable",{errorInfo:null===(n=e)||void 0===n?void 0:n.toString()}).message),!1}return!0})).apply(this,arguments)}function Of(){return(Of=(0,te.Z)(function*(n,e,t,i,r,s,a){var d;const f=nR(n);f.then(D=>{t[D.measurementId]=D.appId,n.options.measurementId&&D.measurementId!==n.options.measurementId&&Hi.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${D.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(D=>Hi.error(D)),e.push(f);const p=sR().then(D=>{if(D)return i.getId()}),[_,v]=yield Promise.all([f,p]);TB(s)||UI(s,_.measurementId),Kg&&(r("consent","default",Kg),M0(void 0)),r("js",new Date);const w=null!==(d=a?.config)&&void 0!==d?d:{};return w.origin="firebase",w.update=!0,null!=v&&(w[LI]=v),r("config",_.measurementId,w),D0&&(r("set",D0),QI(void 0)),_.measurementId})).apply(this,arguments)}class Pf{constructor(e){this.app=e}_delete(){return delete xa[this.app.options.appId],Promise.resolve()}}let xa={},R0=[];const XI={};let Ff,Ma,Nf="dataLayer",Qg=!1;function Xg(n,e,t){!function P0(){const n=[];if((0,q.ru)()&&n.push("This is a browser extension environment."),(0,q.zI)()||n.push("Cookies are not available."),n.length>0){const e=n.map((i,r)=>`(${r+1}) ${i}`).join(" "),t=ls.create("invalid-analytics-context",{errorInfo:e});Hi.warn(t.message)}}();const i=n.options.appId;if(!i)throw ls.create("no-app-id");if(!n.options.apiKey){if(!n.options.measurementId)throw ls.create("no-api-key");Hi.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=xa[i])throw ls.create("already-exists",{id:i});if(!Qg){!function $I(n){let e=[];Array.isArray(window[n])?e=window[n]:window[n]=e}(Nf);const{wrappedGtag:s,gtagCore:a}=function GI(n,e,t,i,r){let s=function(...a){window[i].push(arguments)};return window[r]&&"function"==typeof window[r]&&(s=window[r]),window[r]=function jI(n,e,t,i){function s(){return(s=(0,te.Z)(function*(a,d,f){try{"event"===a?yield zI(n,e,t,d,f):"config"===a?yield HI(n,e,t,i,d,f):"consent"===a?n("consent","update",f):n("set",d)}catch(p){Hi.error(p)}})).apply(this,arguments)}return function r(a,d,f){return s.apply(this,arguments)}}(s,n,e,t),{gtagCore:s,wrappedGtag:window[r]}}(xa,R0,XI,Nf,"gtag");Ma=s,Ff=a,Qg=!0}return xa[i]=function oR(n,e,t,i,r,s,a){return Of.apply(this,arguments)}(n,R0,XI,e,Ff,Nf,t),new Pf(n)}function JI(n=(0,ot.getApp)()){n=(0,q.m9)(n);const e=(0,ot._getProvider)(n,kf);return e.isInitialized()?e.getImmediate():function eT(n,e={}){const t=(0,ot._getProvider)(n,kf);if(t.isInitialized()){const r=t.getImmediate();if((0,q.vZ)(e,t.getOptions()))return r;throw ls.create("already-initialized")}return t.initialize({options:e})}(n)}function tT(){return Jg.apply(this,arguments)}function Jg(){return(Jg=(0,te.Z)(function*(){if((0,q.ru)()||!(0,q.zI)()||!(0,q.hl)())return!1;try{return yield(0,q.eu)()}catch{return!1}})).apply(this,arguments)}function nT(n,e,t){n=(0,q.m9)(n),function no(n,e,t,i){return x0.apply(this,arguments)}(Ma,xa[n.app.options.appId],e,t).catch(i=>Hi.error(i))}function iT(n,e,t,i){n=(0,q.m9)(n),function YI(n,e,t,i,r){return ZI.apply(this,arguments)}(Ma,xa[n.app.options.appId],e,t,i).catch(r=>Hi.error(r))}const rT="@firebase/analytics";!function dR(){(0,ot._registerComponent)(new Tr.wA(kf,(e,{options:t})=>Xg(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),t),"PUBLIC")),(0,ot._registerComponent)(new Tr.wA("analytics-internal",function n(e){try{const t=e.getProvider(kf).getImmediate();return{logEvent:(i,r,s)=>iT(t,i,r,s)}}catch(t){throw ls.create("interop-component-reg-failed",{reason:t})}},"PRIVATE")),(0,ot.registerVersion)(rT,"0.8.4"),(0,ot.registerVersion)(rT,"0.8.4","esm2017")}();class hR extends Ir.w0{constructor(e,t){super()}schedule(e,t=0){return this}}const e_={setInterval(n,e,...t){const{delegate:i}=e_;return i?.setInterval?i.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=e_;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var fR=z(8737);class t_ extends hR{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var i;if(this.closed)return this;this.state=e;const r=this.id,s=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(s,r,t)),this.pending=!0,this.delay=t,this.id=null!==(i=this.id)&&void 0!==i?i:this.requestAsyncId(s,this.id,t),this}requestAsyncId(e,t,i=0){return e_.setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,t,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return t;null!=t&&e_.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(e,t);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r,i=!1;try{this.work(e)}catch(s){i=!0,r=s||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:i}=t;this.work=this.state=this.scheduler=null,this.pending=!1,(0,fR.P)(i,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const N0={now:()=>(N0.delegate||Date).now(),delegate:void 0};class Lf{constructor(e,t=Lf.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,i){return new this.schedulerActionCtor(this,e).schedule(i,t)}}Lf.now=N0.now;class n_ extends Lf{constructor(e,t=Lf.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let i;this._active=!0;do{if(i=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,i){for(;e=t.shift();)e.unsubscribe();throw i}}}const gR=new class mR extends n_{}(class pR extends t_{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,i=0){return null!=i&&i>0||null==i&&this.delay>0?super.requestAsyncId(e,t,i):(e.flush(this),0)}}),Vc=new n_(t_),oT=Vc;var Cl=z(5363),fd=z(9468);const qr=new c.GfV("7.4.1"),i_="__angularfire_symbol__analyticsIsSupportedValue",r_="__angularfire_symbol__analyticsIsSupported",s_="__angularfire_symbol__remoteConfigIsSupportedValue",o_="__angularfire_symbol__remoteConfigIsSupported",a_="__angularfire_symbol__messagingIsSupportedValue",Vf="__angularfire_symbol__messagingIsSupported";globalThis[r_]||(globalThis[r_]=tT().then(n=>globalThis[i_]=n).catch(()=>globalThis[i_]=!1)),globalThis[Vf]||(globalThis[Vf]=Af().then(n=>globalThis[a_]=n).catch(()=>globalThis[a_]=!1)),globalThis[o_]||(globalThis[o_]=n0().then(n=>globalThis[s_]=n).catch(()=>globalThis[s_]=!1));const Bf=n=>`The APP_INITIALIZER that is "making" isSupported() sync for the sake of convenient DI has not resolved in this\ncontext. Rather than injecting ${n} in the constructor, first ensure that ${n} is supported by calling\n\`await isSupported()\`, then retrieve the instance from the injector manually \`injector.get(${n})\`.`,Bo={async:()=>globalThis[Vf],sync:()=>{const n=globalThis[a_];if(void 0===n)throw new Error(Bf("Messaging"));return n}},l_={async:()=>globalThis[o_],sync:()=>{const n=globalThis[s_];if(void 0===n)throw new Error(Bf("RemoteConfig"));return n}},c_={async:()=>globalThis[r_],sync:()=>{const n=globalThis[i_];if(void 0===n)throw new Error(Bf("Analytics"));return n}};function Dr(n,e,t){if(e){if(1===e.length)return e[0];const s=e.filter(a=>a.app===t);if(1===s.length)return s[0]}return t.container.getProvider(n).getImmediate({optional:!0})}const ka=(n,e)=>{const t=e?[e]:(0,ot.getApps)(),i=[];return t.forEach(r=>{r.container.getProvider(n).instances.forEach(a=>{i.includes(a)||i.push(a)})}),i};function Sl(){}class _R{constructor(e,t=gR){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,i){const r=this.zone;return this.delegate.schedule(function(a){r.runGuarded(()=>{e.apply(this,[a])})},t,i)}}class aT{constructor(e){this.zone=e,this.task=null}call(e,t){const i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Sl,{},Sl,Sl)),t.pipe(An({next:i,complete:i,error:i})).subscribe(e).add(i)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Yr=(()=>{class n{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new _R(Zone.current)),this.insideAngular=t.run(()=>new _R(Zone.current,Vc)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function pd(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function Rt(n){return pd().ngZone.runOutsideAngular(()=>n())}function Bc(n){return pd().ngZone.run(()=>n())}function lT(n){return n.pipe((0,Cl.Q)(pd().outsideAngular))}function Si(n){return pd(),function yR(n){return function(t){return(t=t.lift(new aT(n.ngZone))).pipe((0,fd.R)(n.outsideAngular),(0,Cl.Q)(n.insideAngular))}}(pd())(n)}const u_=(n,e)=>function(){const i=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),Bc(()=>n.apply(void 0,i))},Jn=(n,e)=>function(){let t;const i=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof i[s]&&(e&&(t||(t=Bc(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Sl,{},Sl,Sl)))),i[s]=u_(i[s],t));const r=Rt(()=>n.apply(this,i));if(!e){if(r instanceof kn.y){const s=pd();return r.pipe((0,fd.R)(s.outsideAngular),(0,Cl.Q)(s.insideAngular))}return Bc(()=>r)}return r instanceof kn.y?r.pipe(Si):r instanceof Promise?Bc(()=>new Promise((s,a)=>r.then(d=>Bc(()=>s(d)),d=>Bc(()=>a(d))))):"function"==typeof r&&t?function(){return setTimeout(()=>{t&&"scheduled"===t.state&&t.invoke()},10),r.apply(this,arguments)}:Bc(()=>r)};class pn{constructor(e){return e}}class Ra{constructor(){return(0,ot.getApps)()}}const F0=new c.OlP("angularfire2._apps"),uT={provide:pn,useFactory:function cT(n){return n&&1===n.length?n[0]:new pn((0,ot.getApp)())},deps:[[new c.FiY,F0]]},dT={provide:Ra,deps:[[new c.FiY,F0]]};function hT(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new pn(i)}}let fT=(()=>{class n{constructor(t){(0,ot.registerVersion)("angularfire",qr.full,"core"),(0,ot.registerVersion)("angularfire",qr.full,"app"),(0,ot.registerVersion)("angular",c.q4F.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.Lbi))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[uT,dT]}),n})();function bR(n,...e){return{ngModule:fT,providers:[{provide:F0,useFactory:hT(n),multi:!0,deps:[c.R0b,c.zs3,Yr,...e]}]}}const ER=Jn(ot.initializeApp,!0),h_=new Map,V0={activated:!1,tokenObservers:[]},pT={initialized:!1,enabled:!1};function Ji(n){return h_.get(n)||Object.assign({},V0)}function Il(){return pT}class SR{constructor(e,t,i,r,s){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=r,r>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,te.Z)(function*(){t.stop();try{t.pending=new q.BH,yield function _T(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new q.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(i){t.retryPolicy(i)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Ar=new q.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function TR(n){if(!Ji(n).activated)throw Ar.create("use-before-activation",{appName:n.name})}function f_(n,e){return md.apply(this,arguments)}function md(){return(md=(0,te.Z)(function*({url:n,body:e},t){var i,r;const s={"Content-Type":"application/json"},a=t.getImmediate({optional:!0});if(a){const D=yield a.getHeartbeatsHeader();D&&(s["X-Firebase-Client"]=D)}const d={method:"POST",body:JSON.stringify(e),headers:s};let f,p;try{f=yield fetch(n,d)}catch(D){throw Ar.create("fetch-network-error",{originalErrorMessage:null===(i=D)||void 0===i?void 0:i.message})}if(200!==f.status)throw Ar.create("fetch-status-error",{httpStatus:f.status});try{p=yield f.json()}catch(D){throw Ar.create("fetch-parse-error",{originalErrorMessage:null===(r=D)||void 0===r?void 0:r.message})}const _=p.ttl.match(/^([\d.]+)(s)$/);if(!_||!_[2]||isNaN(Number(_[1])))throw Ar.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${p.ttl}`});const v=1e3*Number(_[1]),w=Date.now();return{token:p.token,expireTimeMillis:w+v,issuedAtTimeMillis:w}})).apply(this,arguments)}function vT(n,e){const{projectId:t,appId:i,apiKey:r}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${i}:exchangeDebugToken?key=${r}`,body:{debug_token:e}}}const Hf="firebase-app-check-store";let p_=null;function ET(){return p_||(p_=new Promise((n,e)=>{var t;try{const i=indexedDB.open("firebase-app-check-database",1);i.onsuccess=r=>{n(r.target.result)},i.onerror=r=>{var s;e(Ar.create("storage-open",{originalErrorMessage:null===(s=r.target.error)||void 0===s?void 0:s.message}))},i.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Hf,{keyPath:"compositeKey"})}}catch(i){e(Ar.create("storage-open",{originalErrorMessage:null===(t=i)||void 0===t?void 0:t.message}))}}),p_)}function m_(){return(m_=(0,te.Z)(function*(n,e){const i=(yield ET()).transaction(Hf,"readwrite"),s=i.objectStore(Hf).put({compositeKey:n,value:e});return new Promise((a,d)=>{s.onsuccess=f=>{a()},i.onerror=f=>{var p;d(Ar.create("storage-set",{originalErrorMessage:null===(p=f.target.error)||void 0===p?void 0:p.message}))}})})).apply(this,arguments)}const gd=new hr.Yd("@firebase/app-check");function z0(n,e){return(0,q.hl)()?function MR(n,e){return function CT(n,e){return m_.apply(this,arguments)}(function IT(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{gd.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function DT(){return Il().enabled}function AT(){return j0.apply(this,arguments)}function j0(){return(j0=(0,te.Z)(function*(){const n=Il();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const OR={error:"UNKNOWN_ERROR"};function xT(n){return q.US.encodeString(JSON.stringify(n),!1)}function y_(n){return W0.apply(this,arguments)}function W0(){return(W0=(0,te.Z)(function*(n,e=!1){const t=n.app;TR(t);const i=Ji(t);let s,r=i.token;if(r&&!_d(r)&&(i.token=void 0,r=void 0),!r){const f=yield i.cachedTokenPromise;f&&(_d(f)?r=f:yield z0(t,void 0))}if(!e&&r&&_d(r))return{token:r.token};let d,a=!1;if(DT()){i.exchangeTokenPromise||(i.exchangeTokenPromise=f_(vT(t,yield AT()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);const f=yield i.exchangeTokenPromise;return yield z0(t,f),i.token=f,{token:f.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),r=yield Ji(t).exchangeTokenPromise}catch(f){"appCheck/throttled"===f.code?gd.warn(f.message):gd.error(f),s=f}return r?s?d=_d(r)?{token:r.token,internalError:s}:Z0(s):(d={token:r.token},i.token=r,yield z0(t,r)):d=Z0(s),a&&kT(t,d),d})).apply(this,arguments)}function Y0(n,e){const t=Ji(n),i=t.tokenObservers.filter(r=>r.next!==e);0===i.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=i}function MT(n){const{app:e}=n,t=Ji(e);let i=t.tokenRefresher;i||(i=function PR(n){const{app:e}=n;return new SR((0,te.Z)(function*(){let i;if(i=Ji(e).token?yield y_(n,!0):yield y_(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{const t=Ji(e);if(t.token){let i=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,t.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(n),t.tokenRefresher=i),!i.isRunning()&&t.isTokenAutoRefreshEnabled&&i.start()}function kT(n,e){const t=Ji(n).tokenObservers;for(const i of t)try{"EXTERNAL"===i.type&&null!=e.error?i.error(e.error):i.next(e)}catch{}}function _d(n){return n.expireTimeMillis-Date.now()>0}function Z0(n){return{token:xT(OR),error:n}}class RT{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Ji(this.app);for(const t of e)Y0(this.app,t.next);return Promise.resolve()}}const nE="app-check-internal";!function $T(){(0,ot._registerComponent)(new Tr.wA("app-check",n=>function NR(n,e){return new RT(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(nE).initialize()})),(0,ot._registerComponent)(new Tr.wA(nE,n=>function FR(n){return{getToken:e=>y_(n,e),addTokenListener:e=>function q0(n,e,t,i){const{app:r}=n,s=Ji(r);if(s.tokenObservers=[...s.tokenObservers,{next:t,error:i,type:e}],s.token&&_d(s.token)){const d=s.token;Promise.resolve().then(()=>{t({token:d.token}),MT(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>MT(n))}(n,"INTERNAL",e),removeTokenListener:e=>Y0(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,ot.registerVersion)("@firebase/app-check","0.5.17")}();class Oa{constructor(){return ka("app-check")}}typeof window<"u"&&window;var HT=z(8247);function KR(n){return new kn.y(function(e){return{unsubscribe:(0,HT.v)(n,e.next.bind(e),e.error.bind(e),e.complete.bind(e))}})}class E_{constructor(e){return e}}class Pa{constructor(){return ka("auth")}}const w_=new c.OlP("angularfire2.auth-instances");function GT(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new E_(i)}}const WT={provide:Pa,deps:[[new c.FiY,w_]]},qT={provide:E_,useFactory:function jT(n,e){const t=Dr("auth",n,e);return t&&new E_(t)},deps:[[new c.FiY,w_],pn]};let JR=(()=>{class n{constructor(){(0,ot.registerVersion)("angularfire",qr.full,"auth")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[qT,WT]}),n})();function HB(n,...e){return{ngModule:JR,providers:[{provide:w_,useFactory:GT(n),multi:!0,deps:[c.R0b,c.zs3,Yr,Ra,[new c.FiY,Oa],...e]}]}}const YT=Jn(KR,!0),tO=Jn(HT.n,!0);var Et,nD=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},us={},qf=qf||{},jt=nD||self;function Yf(){}function I_(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Zf(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var Kf="closure_uid_"+(1e9*Math.random()>>>0),iD=0;function rD(n,e,t){return n.call.apply(n.bind,arguments)}function T_(n,e,t){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(e,r)}}return function(){return n.apply(e,arguments)}}function zi(n,e,t){return(zi=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?rD:T_).apply(null,arguments)}function cE(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var i=t.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function ji(n,e){function t(){}t.prototype=e.prototype,n.X=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Wb=function(i,r,s){for(var a=Array(arguments.length-2),d=2;d<arguments.length;d++)a[d-2]=arguments[d];return e.prototype[r].apply(i,a)}}function Tl(){this.s=this.s,this.o=this.o}Tl.prototype.s=!1,Tl.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function gO(n){Object.prototype.hasOwnProperty.call(n,Kf)&&n[Kf]||(n[Kf]=++iD)}(this)},Tl.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const $c=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function uE(n){const e=n.length;if(0<e){const t=Array(e);for(let i=0;i<e;i++)t[i]=n[i];return t}return[]}function dE(n,e){for(let t=1;t<arguments.length;t++){const i=arguments[t];if(I_(i)){const r=n.length||0,s=i.length||0;n.length=r+s;for(let a=0;a<s;a++)n[r+a]=i[a]}else n.push(i)}}function Gi(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Gi.prototype.h=function(){this.defaultPrevented=!0};var c2=function(){if(!jt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{jt.addEventListener("test",Yf,e),jt.removeEventListener("test",Yf,e)}catch{}return n}();function D_(n){return/^[\s\xa0]*$/.test(n)}var _O=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function hE(n,e){return n<e?-1:n>e?1:0}function A_(){var n=jt.navigator;return n&&(n=n.userAgent)?n:""}function Uo(n){return-1!=A_().indexOf(n)}function x_(n){return x_[" "](n),n}x_[" "]=Yf;var Qf,n,yO=Uo("Opera"),Hc=Uo("Trident")||Uo("MSIE"),fE=Uo("Edge"),pE=fE||Hc,aD=Uo("Gecko")&&!(-1!=A_().toLowerCase().indexOf("webkit")&&!Uo("Edge"))&&!(Uo("Trident")||Uo("MSIE"))&&!Uo("Edge"),lD=-1!=A_().toLowerCase().indexOf("webkit")&&!Uo("Edge");function cD(){var n=jt.document;return n?n.documentMode:void 0}e:{var M_="",k_=(n=A_(),aD?/rv:([^\);]+)(\)|;)/.exec(n):fE?/Edge\/([\d\.]+)/.exec(n):Hc?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):lD?/WebKit\/(\S+)/.exec(n):yO?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(k_&&(M_=k_?k_[1]:""),Hc){var R_=cD();if(null!=R_&&R_>parseFloat(M_)){Qf=String(R_);break e}}Qf=M_}var vO={};var u2=jt.document&&Hc&&(cD()||parseInt(Qf,10))||void 0;function O_(n,e){if(Gi.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(aD){e:{try{x_(e.nodeName);var r=!0;break e}catch{}r=!1}r||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:d2[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&O_.X.h.call(this)}}ji(O_,Gi);var d2={2:"touch",3:"pen",4:"mouse"};O_.prototype.h=function(){O_.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var P_="closure_listenable_"+(1e6*Math.random()|0),h2=0;function f2(n,e,t,i,r){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!i,this.ha=r,this.key=++h2,this.ba=this.ea=!1}function gE(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function dD(n,e,t){for(const i in n)e.call(t,n[i],i,n)}function Xf(n){const e={};for(const t in n)e[t]=n[t];return e}const EO="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function _E(n,e){let t,i;for(let r=1;r<arguments.length;r++){for(t in i=arguments[r],i)n[t]=i[t];for(let s=0;s<EO.length;s++)t=EO[s],Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t])}}function zc(n){this.src=n,this.g={},this.h=0}function N_(n,e){var t=e.type;if(t in n.g){var s,i=n.g[t],r=$c(i,e);(s=0<=r)&&Array.prototype.splice.call(i,r,1),s&&(gE(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function F_(n,e,t,i){for(var r=0;r<n.length;++r){var s=n[r];if(!s.ba&&s.listener==e&&s.capture==!!t&&s.ha==i)return r}return-1}zc.prototype.add=function(n,e,t,i,r){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var a=F_(n,e,i,r);return-1<a?(e=n[a],t||(e.ea=!1)):((e=new f2(e,this.src,s,!!i,r)).ea=t,n.push(e)),e};var hD="closure_lm_"+(1e6*Math.random()|0),Jf={};function yE(n,e,t,i,r){if(i&&i.once)return wO(n,e,t,i,r);if(Array.isArray(e)){for(var s=0;s<e.length;s++)yE(n,e[s],t,i,r);return null}return t=yD(t),n&&n[P_]?n.N(e,t,Zf(i)?!!i.capture:!!i,r):fD(n,e,t,!1,i,r)}function fD(n,e,t,i,r,s){if(!e)throw Error("Invalid event type");var a=Zf(r)?!!r.capture:!!r,d=bE(n);if(d||(n[hD]=d=new zc(n)),(t=d.add(e,t,i,a,s)).proxy)return t;if(i=function pD(){const e=L_;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=i,i.src=n,i.listener=t,n.addEventListener)c2||(r=a),void 0===r&&(r=!1),n.addEventListener(e.toString(),i,r);else if(n.attachEvent)n.attachEvent(gD(e.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return t}function wO(n,e,t,i,r){if(Array.isArray(e)){for(var s=0;s<e.length;s++)wO(n,e[s],t,i,r);return null}return t=yD(t),n&&n[P_]?n.O(e,t,Zf(i)?!!i.capture:!!i,r):fD(n,e,t,!0,i,r)}function mD(n,e,t,i,r){if(Array.isArray(e))for(var s=0;s<e.length;s++)mD(n,e[s],t,i,r);else i=Zf(i)?!!i.capture:!!i,t=yD(t),n&&n[P_]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=F_(s=n.g[e],t,i,r))&&(gE(s[t]),Array.prototype.splice.call(s,t,1),0==s.length&&(delete n.g[e],n.h--))):n&&(n=bE(n))&&(e=n.g[e.toString()],n=-1,e&&(n=F_(e,t,i,r)),(t=-1<n?e[n]:null)&&vE(t))}function vE(n){if("number"!=typeof n&&n&&!n.ba){var e=n.src;if(e&&e[P_])N_(e.i,n);else{var t=n.type,i=n.proxy;e.removeEventListener?e.removeEventListener(t,i,n.capture):e.detachEvent?e.detachEvent(gD(t),i):e.addListener&&e.removeListener&&e.removeListener(i),(t=bE(e))?(N_(t,n),0==t.h&&(t.src=null,e[hD]=null)):gE(n)}}}function gD(n){return n in Jf?Jf[n]:Jf[n]="on"+n}function L_(n,e){if(n.ba)n=!0;else{e=new O_(e,this);var t=n.listener,i=n.ha||n.src;n.ea&&vE(n),n=t.call(i,e)}return n}function bE(n){return(n=n[hD])instanceof zc?n:null}var _D="__closure_events_fn_"+(1e9*Math.random()>>>0);function yD(n){return"function"==typeof n?n:(n[_D]||(n[_D]=function(e){return n.handleEvent(e)}),n[_D])}function er(){Tl.call(this),this.i=new zc(this),this.P=this,this.I=null}function tr(n,e){var t,i=n.I;if(i)for(t=[];i;i=i.I)t.push(i);if(n=n.P,i=e.type||e,"string"==typeof e)e=new Gi(e,n);else if(e instanceof Gi)e.target=e.target||n;else{var r=e;_E(e=new Gi(i,n),r)}if(r=!0,t)for(var s=t.length-1;0<=s;s--){var a=e.g=t[s];r=V_(a,i,!0,e)&&r}if(r=V_(a=e.g=n,i,!0,e)&&r,r=V_(a,i,!1,e)&&r,t)for(s=0;s<t.length;s++)r=V_(a=e.g=t[s],i,!1,e)&&r}function V_(n,e,t,i){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var r=!0,s=0;s<e.length;++s){var a=e[s];if(a&&!a.ba&&a.capture==t){var d=a.listener,f=a.ha||a.src;a.ea&&N_(n.i,a),r=!1!==d.call(f,i)&&r}}return r&&!i.defaultPrevented}ji(er,Tl),er.prototype[P_]=!0,er.prototype.removeEventListener=function(n,e,t,i){mD(this,n,e,t,i)},er.prototype.M=function(){if(er.X.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],i=0;i<t.length;i++)gE(t[i]);delete n.g[e],n.h--}}this.I=null},er.prototype.N=function(n,e,t,i){return this.i.add(String(n),e,!1,t,i)},er.prototype.O=function(n,e,t,i){return this.i.add(String(n),e,!0,t,i)};var EE=jt.JSON.stringify;function p2(){var n=ds;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var CE,wE=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new vD,n=>n.reset());class vD{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function m2(n){jt.setTimeout(()=>{throw n},0)}function Us(n,e){CE||function SE(){var n=jt.Promise.resolve(void 0);CE=function(){n.then(SO)}}(),IE||(CE(),IE=!0),ds.add(n,e)}var IE=!1,ds=new class CO{constructor(){this.h=this.g=null}add(e,t){const i=wE.get();i.set(e,t),this.h?this.h.next=i:this.g=i,this.h=i}};function SO(){for(var n;n=p2();){try{n.h.call(n.g)}catch(t){m2(t)}var e=wE;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}IE=!1}function yd(n,e){er.call(this),this.h=n||1,this.g=e||jt,this.j=zi(this.lb,this),this.l=Date.now()}function TE(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function DE(n,e,t){if("function"==typeof n)t&&(n=zi(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=zi(n.handleEvent,n)}return 2147483647<Number(e)?-1:jt.setTimeout(n,e||0)}function B_(n){n.g=DE(()=>{n.g=null,n.i&&(n.i=!1,B_(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}ji(yd,er),(Et=yd.prototype).ca=!1,Et.R=null,Et.lb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),tr(this,"tick"),this.ca&&(TE(this),this.start()))}},Et.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Et.M=function(){yd.X.M.call(this),TE(this),delete this.g};class bD extends Tl{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:B_(this)}M(){super.M(),this.g&&(jt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function vd(n){Tl.call(this),this.h=n,this.g={}}ji(vd,Tl);var ED=[];function AE(n,e,t,i){Array.isArray(t)||(t&&(ED[0]=t.toString()),t=ED);for(var r=0;r<t.length;r++){var s=yE(e,t[r],i||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function xE(n){dD(n.g,function(e,t){this.g.hasOwnProperty(t)&&vE(e)},n),n.g={}}function U_(){this.g=!0}function Dl(n,e,t,i){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function CD(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var i=t[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var a=1;a<r.length;a++)r[a]=""}}}return EE(t)}catch{return e}}(n,t)+(i?" "+i:"")})}vd.prototype.M=function(){vd.X.M.call(this),xE(this)},vd.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},U_.prototype.Aa=function(){this.g=!1},U_.prototype.info=function(){};var Fa={},$o=null;function $_(){return $o=$o||new er}function TO(n){Gi.call(this,Fa.Pa,n)}function ep(n){const e=$_();tr(e,new TO(e))}function SD(n,e){Gi.call(this,Fa.STAT_EVENT,n),this.stat=e}function xr(n){const e=$_();tr(e,new SD(e,n))}function ID(n,e){Gi.call(this,Fa.Qa,n),this.size=e}function bd(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return jt.setTimeout(function(){n()},e)}Fa.Pa="serverreachability",ji(TO,Gi),Fa.STAT_EVENT="statevent",ji(SD,Gi),Fa.Qa="timingevent",ji(ID,Gi);var ME={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},kE={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function RE(){}function DO(){}RE.prototype.h=null;var j_,jc={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function H_(){Gi.call(this,"d")}function z_(){Gi.call(this,"c")}function tp(){}function Ed(n,e,t,i){this.l=n,this.j=e,this.m=t,this.U=i||1,this.S=new vd(this),this.O=G_,this.T=new yd(n=pE?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new np}function np(){this.i=null,this.g="",this.h=!1}ji(H_,Gi),ji(z_,Gi),ji(tp,RE),tp.prototype.g=function(){return new XMLHttpRequest},tp.prototype.i=function(){return{}},j_=new tp;var G_=45e3,W_={},q_={};function Y_(n,e,t){n.K=1,n.v=wd(La(e)),n.s=t,n.P=!0,PE(n,null)}function PE(n,e){n.F=Date.now(),Z_(n),n.A=La(n.v);var t=n.A,i=n.U;Array.isArray(i)||(i=[String(i)]),kD(t.i,"t",i),n.C=0,t=n.l.H,n.h=new np,n.g=ly(n.l,t?e:null,!n.s),0<n.N&&(n.L=new bD(zi(n.La,n,n.g),n.N)),AE(n.S,n.g,"readystatechange",n.ib),e=n.H?Xf(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,e)):(n.u="GET",n.g.da(n.A,n.u,null,e)),ep(),function wD(n,e,t,i,r,s){n.info(function(){if(n.g)if(s)for(var a="",d=s.split("&"),f=0;f<d.length;f++){var p=d[f].split("=");if(1<p.length){var _=p[0];p=p[1];var v=_.split("_");a=2<=v.length&&"type"==v[1]?a+(_+"=")+p+"&":a+(_+"=redacted&")}}else a=null;else a=s;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+"\n"+t+"\n"+a})}(n.j,n.u,n.A,n.m,n.U,n.s)}function TD(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function DD(n,e,t){let r,i=!0;for(;!n.I&&n.C<t.length;){if(r=g2(n,t),r==q_){4==e&&(n.o=4,xr(14),i=!1),Dl(n.j,n.m,null,"[Incomplete Response]");break}if(r==W_){n.o=4,xr(15),Dl(n.j,n.m,t,"[Invalid Chunk]"),i=!1;break}Dl(n.j,n.m,r,null),AD(n,r)}TD(n)&&r!=q_&&r!=W_&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,xr(16),i=!1),n.i=n.i&&i,i?0<t.length&&!n.$&&(n.$=!0,(e=n.l).g==n&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),Ne(e),e.K=!0,xr(11))):(Dl(n.j,n.m,t,"[Invalid Chunked Response]"),Gc(n),ip(n))}function g2(n,e){var t=n.C,i=e.indexOf("\n",t);return-1==i?q_:(t=Number(e.substring(t,i)),isNaN(t)?W_:(i+=1)+t>e.length?q_:(e=e.substr(i,t),n.C=i+t,e))}function Z_(n){n.V=Date.now()+n.O,NE(n,n.O)}function NE(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=bd(zi(n.gb,n),e)}function K_(n){n.B&&(jt.clearTimeout(n.B),n.B=null)}function ip(n){0==n.l.G||n.I||Zn(n.l,n)}function Gc(n){K_(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,TE(n.T),xE(n.S),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function AD(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||op(t.h,n)))if(!n.J&&op(t.h,n)&&3==t.G){try{var i=t.Fa.g.parse(e)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<n.F))break e;mn(t),O(t)}At(t),xr(18)}}else t.Ba=r[1],0<t.Ba-t.T&&37500>r[2]&&t.L&&0==t.A&&!t.v&&(t.v=bd(zi(t.cb,t),6e3));if(1>=VE(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else Ba(t,11)}else if((n.J||t.g==n)&&mn(t),!D_(e))for(r=t.Fa.g.parse(e),e=0;e<r.length;e++){let p=r[e];if(t.T=p[0],p=p[1],2==t.G)if("c"==p[0]){t.I=p[1],t.ka=p[2];const _=p[3];null!=_&&(t.ma=_,t.j.info("VER="+t.ma));const v=p[4];null!=v&&(t.Ca=v,t.j.info("SVER="+t.Ca));const w=p[5];null!=w&&"number"==typeof w&&0<w&&(t.J=i=1.5*w,t.j.info("backChannelRequestTimeoutMs_="+i)),i=t;const D=n.g;if(D){const A=D.g?D.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(A){var s=i.h;s.g||-1==A.indexOf("spdy")&&-1==A.indexOf("quic")&&-1==A.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(ND(s,s.h),s.h=null))}if(i.D){const x=D.g?D.g.getResponseHeader("X-HTTP-Session-Id"):null;x&&(i.za=x,Yn(i.F,i.D,x))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-n.F,t.j.info("Handshake RTT: "+t.P+"ms"));var a=n;if((i=t).sa=ay(i,i.H?i.ka:null,i.V),a.J){BE(i.h,a);var d=a,f=i.J;f&&d.setTimeout(f),d.B&&(K_(d),Z_(d)),i.g=a}else vt(i);0<t.i.length&&Z(t)}else"stop"!=p[0]&&"close"!=p[0]||Ba(t,7);else 3==t.G&&("stop"==p[0]||"close"==p[0]?"stop"==p[0]?Ba(t,7):M(t):"noop"!=p[0]&&t.l&&t.l.wa(p),t.A=0)}ep()}catch{}}function AO(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(I_(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function y2(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(I_(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const i in n)e[t++]=i;return e}}}(n),i=function _2(n){if(n.W&&"function"==typeof n.W)return n.W();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(I_(n)){for(var e=[],t=n.length,i=0;i<t;i++)e.push(n[i]);return e}for(i in e=[],t=0,n)e[t++]=n[i];return e}(n),r=i.length,s=0;s<r;s++)e.call(void 0,i[s],t&&t[s],n)}(Et=Ed.prototype).setTimeout=function(n){this.O=n},Et.ib=function(n){n=n.target;const e=this.L;e&&3==h(n)?e.l():this.La(n)},Et.La=function(n){try{if(n==this.g)e:{const _=h(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>_)&&(3!=_||pE||this.g&&(this.h.h||this.g.fa()||m(this.g)))){this.I||4!=_||7==e||ep(),K_(this);var t=this.g.aa();this.Y=t;t:if(TD(this)){var i=m(this.g);n="";var r=i.length,s=4==h(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Gc(this),ip(this);var a="";break t}this.h.i=new jt.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,n+=this.h.i.decode(i[e],{stream:s&&e==r-1});i.splice(0,r),this.h.g+=n,this.C=0,a=this.h.g}else a=this.g.fa();if(this.i=200==t,function IO(n,e,t,i,r,s,a){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+"\n"+t+"\n"+s+" "+a})}(this.j,this.u,this.A,this.m,this.U,_,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var d,f=this.g;if((d=f.g?f.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D_(d)){var p=d;break t}}p=null}if(!(t=p)){this.i=!1,this.o=3,xr(12),Gc(this),ip(this);break e}Dl(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,AD(this,t)}this.P?(DD(this,_,a),pE&&this.i&&3==_&&(AE(this.S,this.T,"tick",this.hb),this.T.start())):(Dl(this.j,this.m,a,null),AD(this,a)),4==_&&Gc(this),this.i&&!this.I&&(4==_?Zn(this.l,this):(this.i=!1,Z_(this)))}else 400==t&&0<a.indexOf("Unknown SID")?(this.o=3,xr(12)):(this.o=0,xr(13)),Gc(this),ip(this)}}}catch{}},Et.hb=function(){if(this.g){var n=h(this.g),e=this.g.fa();this.C<e.length&&(K_(this),DD(this,n,e),this.i&&4!=n&&Z_(this))}},Et.cancel=function(){this.I=!0,Gc(this)},Et.gb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function Al(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(ep(),xr(17)),Gc(this),this.o=2,ip(this)):NE(this,this.V-n)};var xO=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ho(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Ho){this.h=void 0!==e?e:n.h,Q_(this,n.j),this.s=n.s,this.g=n.g,rp(this,n.m),this.l=n.l,e=n.i;var t=new ey;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),xl(this,t),this.o=n.o}else n&&(t=String(n).match(xO))?(this.h=!!e,Q_(this,t[1]||"",!0),this.s=Wc(t[2]||""),this.g=Wc(t[3]||"",!0),rp(this,t[4]),this.l=Wc(t[5]||"",!0),xl(this,t[6]||"",!0),this.o=Wc(t[7]||"")):(this.h=!!e,this.i=new ey(null,this.h))}function La(n){return new Ho(n)}function Q_(n,e,t){n.j=t?Wc(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function rp(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function xl(n,e,t){e instanceof ey?(n.i=e,function RD(n,e){e&&!n.j&&(Va(n),n.i=null,n.g.forEach(function(t,i){var r=i.toLowerCase();i!=r&&(xD(this,i),kD(this,r,t))},n)),n.j=e}(n.i,n.h)):(t||(e=sp(e,b2)),n.i=new ey(e,n.h))}function Yn(n,e,t){n.i.set(e,t)}function wd(n){return Yn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Wc(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function sp(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,FE),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function FE(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Ho.prototype.toString=function(){var n=[],e=this.j;e&&n.push(sp(e,X_,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(sp(e,X_,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(sp(t,"/"==t.charAt(0)?v2:J_,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",sp(t,E2)),n.join("")};var X_=/[#\/\?@]/g,J_=/[#\?:]/g,v2=/[#\?]/g,b2=/[#\?@]/g,E2=/#/g;function ey(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Va(n){n.g||(n.g=new Map,n.h=0,n.i&&function MO(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var i=n[t].indexOf("="),r=null;if(0<=i){var s=n[t].substring(0,i);r=n[t].substring(i+1)}else s=n[t];e(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function xD(n,e){Va(n),e=Cd(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function MD(n,e){return Va(n),e=Cd(n,e),n.g.has(e)}function kD(n,e,t){xD(n,e),0<t.length&&(n.i=null,n.g.set(Cd(n,e),uE(t)),n.h+=t.length)}function Cd(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function LE(n){this.l=n||kO,n=jt.PerformanceNavigationTiming?0<(n=jt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(jt.g&&jt.g.Ga&&jt.g.Ga()&&jt.g.Ga().$b),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Et=ey.prototype).add=function(n,e){Va(this),this.i=null,n=Cd(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},Et.forEach=function(n,e){Va(this),this.g.forEach(function(t,i){t.forEach(function(r){n.call(e,r,i,this)},this)},this)},Et.oa=function(){Va(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let i=0;i<e.length;i++){const r=n[i];for(let s=0;s<r.length;s++)t.push(e[i])}return t},Et.W=function(n){Va(this);let e=[];if("string"==typeof n)MD(this,n)&&(e=e.concat(this.g.get(Cd(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},Et.set=function(n,e){return Va(this),this.i=null,MD(this,n=Cd(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},Et.get=function(n,e){return n&&0<(n=this.W(n)).length?String(n[0]):e},Et.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var i=e[t];const s=encodeURIComponent(String(i)),a=this.W(i);for(i=0;i<a.length;i++){var r=s;""!==a[i]&&(r+="="+encodeURIComponent(String(a[i]))),n.push(r)}}return this.i=n.join("&")};var kO=10;function PD(n){return!!n.h||!!n.g&&n.g.size>=n.j}function VE(n){return n.h?1:n.g?n.g.size:0}function op(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function ND(n,e){n.g?n.g.add(e):n.h=e}function BE(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function ty(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return uE(n.i)}function UE(){}function RO(){this.g=new UE}function w2(n,e,t){const i=t||"";try{AO(n,function(r,s){let a=r;Zf(r)&&(a=EE(r)),e.push(i+s+"="+encodeURIComponent(a))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function ny(n,e,t,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch{}}function ap(n){this.l=n.ac||null,this.j=n.jb||!1}function iy(n,e){er.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=FD,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}LE.prototype.cancel=function(){if(this.i=ty(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},UE.prototype.stringify=function(n){return jt.JSON.stringify(n,void 0)},UE.prototype.parse=function(n){return jt.JSON.parse(n,void 0)},ji(ap,RE),ap.prototype.g=function(){return new iy(this.l,this.j)},ap.prototype.i=function(n){return function(){return n}}({}),ji(iy,er);var FD=0;function OO(n){n.j.read().then(n.Ta.bind(n)).catch(n.ga.bind(n))}function ry(n){n.readyState=4,n.l=null,n.j=null,n.A=null,sy(n)}function sy(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Et=iy.prototype).open=function(n,e){if(this.readyState!=FD)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,sy(this)},Et.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||jt).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},Et.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ry(this)),this.readyState=FD},Et.Wa=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,sy(this)),this.g&&(this.readyState=3,sy(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof jt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;OO(this)}else n.text().then(this.Va.bind(this),this.ga.bind(this))},Et.Ta=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?ry(this):sy(this),3==this.readyState&&OO(this)}},Et.Va=function(n){this.g&&(this.response=this.responseText=n,ry(this))},Et.Ua=function(n){this.g&&(this.response=n,ry(this))},Et.ga=function(){this.g&&ry(this)},Et.setRequestHeader=function(n,e){this.v.append(n,e)},Et.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Et.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(iy.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var S2=jt.JSON.parse;function ci(n){er.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=PO,this.K=this.L=!1}ji(ci,er);var PO="",I2=/^https?$/i,T2=["POST","PUT"];function NO(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,FO(n),l(n)}function FO(n){n.D||(n.D=!0,tr(n,"complete"),tr(n,"error"))}function o(n){if(n.h&&typeof qf<"u"&&(!n.C[1]||4!=h(n)||2!=n.aa()))if(n.v&&4==h(n))DE(n.Ha,0,n);else if(tr(n,"readystatechange"),4==h(n)){n.h=!1;try{const d=n.aa();e:switch(d){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var i;if(i=0===d){var r=String(n.H).match(xO)[1]||null;if(!r&&jt.self&&jt.self.location){var s=jt.self.location.protocol;r=s.substr(0,s.length-1)}i=!I2.test(r?r.toLowerCase():"")}t=i}if(t)tr(n,"complete"),tr(n,"success");else{n.m=6;try{var a=2<h(n)?n.g.statusText:""}catch{a=""}n.j=a+" ["+n.aa()+"]",FO(n)}}finally{l(n)}}}function l(n,e){if(n.g){u(n);const t=n.g,i=n.C[0]?Yf:null;n.g=null,n.C=null,e||tr(n,"ready");try{t.onreadystatechange=i}catch{}}}function u(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(jt.clearTimeout(n.A),n.A=null)}function h(n){return n.g?n.g.readyState:0}function m(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case PO:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function g(n){let e="";return dD(n,function(t,i){e+=i,e+=":",e+=t,e+="\r\n"}),e}function E(n,e,t){e:{for(i in t){var i=!1;break e}i=!0}i||(t=g(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Yn(n,e,t))}function S(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function T(n){this.Ca=0,this.i=[],this.j=new U_,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=S("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=S("baseRetryDelayMs",5e3,n),this.bb=S("retryDelaySeedMs",1e4,n),this.$a=S("forwardChannelMaxRetries",2,n),this.ta=S("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Zb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new LE(n&&n.concurrentRequestLimit),this.Fa=new RO,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=n&&n.Xb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function M(n){if(V(n),3==n.G){var e=n.U++,t=La(n.F);Yn(t,"SID",n.I),Yn(t,"RID",e),Yn(t,"TYPE","terminate"),Ye(n,t),(e=new Ed(n,n.j,e,void 0)).K=2,e.v=wd(La(t)),t=!1,jt.navigator&&jt.navigator.sendBeacon&&(t=jt.navigator.sendBeacon(e.v.toString(),"")),!t&&jt.Image&&((new Image).src=e.v,t=!0),t||(e.g=ly(e.l,null),e.g.da(e.v)),e.F=Date.now(),Z_(e)}oy(n)}function O(n){n.g&&(Ne(n),n.g.cancel(),n.g=null)}function V(n){O(n),n.u&&(jt.clearTimeout(n.u),n.u=null),mn(n),n.h.cancel(),n.m&&("number"==typeof n.m&&jt.clearTimeout(n.m),n.m=null)}function Z(n){PD(n.h)||n.m||(n.m=!0,Us(n.Ja,n),n.C=0)}function De(n,e){var t;t=e?e.m:n.U++;const i=La(n.F);Yn(i,"SID",n.I),Yn(i,"RID",t),Yn(i,"AID",n.T),Ye(n,i),n.o&&n.s&&E(i,n.o,n.s),t=new Ed(n,n.j,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.i=e.D.concat(n.i)),e=nt(n,t,1e3),t.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),ND(n.h,t),Y_(t,i,e)}function Ye(n,e){n.ia&&dD(n.ia,function(t,i){Yn(e,i,t)}),n.l&&AO({},function(t,i){Yn(e,i,t)})}function nt(n,e,t){t=Math.min(n.i.length,t);var i=n.l?zi(n.l.Ra,n.l,n):null;e:{var r=n.i;let s=-1;for(;;){const a=["count="+t];-1==s?0<t?(s=r[0].h,a.push("ofs="+s)):s=0:a.push("ofs="+s);let d=!0;for(let f=0;f<t;f++){let p=r[f].h;const _=r[f].g;if(p-=s,0>p)s=Math.max(0,r[f].h-100),d=!1;else try{w2(_,a,"req"+p+"_")}catch{i&&i(_)}}if(d){i=a.join("&");break e}}}return n=n.i.splice(0,t),e.D=n,i}function vt(n){n.g||n.u||(n.Z=1,Us(n.Ia,n),n.A=0)}function At(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=bd(zi(n.Ia,n),Ml(n,n.A)),n.A++,0))}function Ne(n){null!=n.B&&(jt.clearTimeout(n.B),n.B=null)}function Ot(n){n.g=new Ed(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var e=La(n.sa);Yn(e,"RID","rpc"),Yn(e,"SID",n.I),Yn(e,"CI",n.L?"0":"1"),Yn(e,"AID",n.T),Yn(e,"TYPE","xmlhttp"),Ye(n,e),n.o&&n.s&&E(e,n.o,n.s),n.J&&n.g.setTimeout(n.J);var t=n.g;n=n.ka,t.K=1,t.v=wd(La(e)),t.s=null,t.P=!0,PE(t,n)}function mn(n){null!=n.v&&(jt.clearTimeout(n.v),n.v=null)}function Zn(n,e){var t=null;if(n.g==e){mn(n),Ne(n),n.g=null;var i=2}else{if(!op(n.h,e))return;t=e.D,BE(n.h,e),i=1}if(0!=n.G)if(n.pa=e.Y,e.i)if(1==i){t=e.s?e.s.length:0,e=Date.now()-e.F;var r=n.C;tr(i=$_(),new ID(i,t)),Z(n)}else vt(n);else if(3==(r=e.o)||0==r&&0<n.pa||!(1==i&&function le(n,e){return!(VE(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Za?0:n.$a)||(n.m=bd(zi(n.Ja,n,e),Ml(n,n.C)),n.C++,0)))}(n,e)||2==i&&At(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),r){case 1:Ba(n,5);break;case 4:Ba(n,10);break;case 3:Ba(n,6);break;default:Ba(n,2)}}function Ml(n,e){let t=n.Xa+Math.floor(Math.random()*n.bb);return n.l||(t*=2),t*e}function Ba(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var i=zi(n.kb,n);t||(t=new Ho("//www.google.com/images/cleardot.gif"),jt.location&&"http"==jt.location.protocol||Q_(t,"https"),wd(t)),function C2(n,e){const t=new U_;if(jt.Image){const i=new Image;i.onload=cE(ny,t,i,"TestLoadImage: loaded",!0,e),i.onerror=cE(ny,t,i,"TestLoadImage: error",!1,e),i.onabort=cE(ny,t,i,"TestLoadImage: abort",!1,e),i.ontimeout=cE(ny,t,i,"TestLoadImage: timeout",!1,e),jt.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else e(!1)}(t.toString(),i)}else xr(2);n.G=0,n.l&&n.l.va(e),oy(n),V(n)}function oy(n){if(n.G=0,n.la=[],n.l){const e=ty(n.h);(0!=e.length||0!=n.i.length)&&(dE(n.la,e),dE(n.la,n.i),n.h.i.length=0,uE(n.i),n.i.length=0),n.l.ua()}}function ay(n,e,t){var i=t instanceof Ho?La(t):new Ho(t,void 0);if(""!=i.g)e&&(i.g=e+"."+i.g),rp(i,i.m);else{var r=jt.location;i=r.protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port;var s=new Ho(null,void 0);i&&Q_(s,i),e&&(s.g=e),r&&rp(s,r),t&&(s.l=t),i=s}return e=n.za,(t=n.D)&&e&&Yn(i,t,e),Yn(i,"VER",n.ma),Ye(n,i),i}function ly(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new ci(t&&n.Da&&!n.ra?new ap({jb:!0}):n.ra)).Ka(n.H),e}function cy(){}function Sd(){if(Hc&&!(10<=Number(u2)))throw Error("Environmental error: no available transport.")}function Mr(n,e){er.call(this),this.g=new T(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.S=n,(n=e&&e.Yb)&&!D_(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!D_(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new hy(this)}function uy(n){H_.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function dy(){z_.call(this),this.status=1}function hy(n){this.g=n}(Et=ci.prototype).Ka=function(n){this.L=n},Et.da=function(n,e,t,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():j_.g(),this.C=function OE(n){return n.h||(n.h=n.i())}(this.u?this.u:j_),this.g.onreadystatechange=zi(this.Ha,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(s){return void NO(this,s)}if(n=t||"",t=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)t.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const s of i.keys())t.set(s,i.get(s))}i=Array.from(t.keys()).find(s=>"content-type"==s.toLowerCase()),r=jt.FormData&&n instanceof jt.FormData,!(0<=$c(T2,e))||i||r||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,a]of t)this.g.setRequestHeader(s,a);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{u(this),0<this.B&&((this.K=function D2(n){return Hc&&function bO(){return function oD(n){var e=vO;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=_O(String(Qf)).split("."),t=_O("9").split("."),i=Math.max(e.length,t.length);for(let a=0;0==n&&a<i;a++){var r=e[a]||"",s=t[a]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==r[0].length&&0==s[0].length)break;n=hE(0==r[1].length?0:parseInt(r[1],10),0==s[1].length?0:parseInt(s[1],10))||hE(0==r[2].length,0==s[2].length)||hE(r[2],s[2]),r=r[3],s=s[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=zi(this.qa,this)):this.A=DE(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){NO(this,s)}},Et.qa=function(){typeof qf<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,tr(this,"timeout"),this.abort(8))},Et.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,tr(this,"complete"),tr(this,"abort"),l(this))},Et.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),l(this,!0)),ci.X.M.call(this)},Et.Ha=function(){this.s||(this.F||this.v||this.l?o(this):this.fb())},Et.fb=function(){o(this)},Et.aa=function(){try{return 2<h(this)?this.g.status:-1}catch{return-1}},Et.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},Et.Sa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),S2(e)}},Et.Ea=function(){return this.m},Et.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Et=T.prototype).ma=8,Et.G=1,Et.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const r=new Ed(this,this.j,n,void 0);let s=this.s;if(this.S&&(s?(s=Xf(s),_E(s,this.S)):s=this.S),null!==this.o||this.N||(r.H=s,s=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var i=this.i[t];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=nt(this,r,e),Yn(t=La(this.F),"RID",n),Yn(t,"CVER",22),this.D&&Yn(t,"X-HTTP-Session-Id",this.D),Ye(this,t),s&&(this.N?e="headers="+encodeURIComponent(String(g(s)))+"&"+e:this.o&&E(t,this.o,s)),ND(this.h,r),this.Ya&&Yn(t,"TYPE","init"),this.O?(Yn(t,"$req",e),Yn(t,"SID","null"),r.Z=!0,Y_(r,t,null)):Y_(r,t,e),this.G=2}}else 3==this.G&&(n?De(this,n):0==this.i.length||PD(this.h)||De(this))},Et.Ia=function(){if(this.u=null,Ot(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=bd(zi(this.eb,this),n)}},Et.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,xr(10),O(this),Ot(this))},Et.cb=function(){null!=this.v&&(this.v=null,O(this),At(this),xr(19))},Et.kb=function(n){n?(this.j.info("Successfully pinged google.com"),xr(2)):(this.j.info("Failed to ping google.com"),xr(1))},(Et=cy.prototype).xa=function(){},Et.wa=function(){},Et.va=function(){},Et.ua=function(){},Et.Ra=function(){},Sd.prototype.g=function(n,e){return new Mr(n,e)},ji(Mr,er),Mr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;xr(0),n.V=e,n.ia=t||{},n.L=n.Y,n.F=ay(n,null,n.V),Z(n)},Mr.prototype.close=function(){M(this.g)},Mr.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=EE(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.ab++,n)),3==e.G&&Z(e)},Mr.prototype.M=function(){this.g.l=null,delete this.j,M(this.g),delete this.g,Mr.X.M.call(this)},ji(uy,H_),ji(dy,z_),ji(hy,cy),hy.prototype.xa=function(){tr(this.g,"a")},hy.prototype.wa=function(n){tr(this.g,new uy(n))},hy.prototype.va=function(n){tr(this.g,new dy)},hy.prototype.ua=function(){tr(this.g,"b")},Sd.prototype.createWebChannel=Sd.prototype.g,Mr.prototype.send=Mr.prototype.u,Mr.prototype.open=Mr.prototype.m,Mr.prototype.close=Mr.prototype.close,ME.NO_ERROR=0,ME.TIMEOUT=8,ME.HTTP_ERROR=6,kE.COMPLETE="complete",DO.EventType=jc,jc.OPEN="a",jc.CLOSE="b",jc.ERROR="c",jc.MESSAGE="d",er.prototype.listen=er.prototype.N,ci.prototype.listenOnce=ci.prototype.O,ci.prototype.getLastError=ci.prototype.Oa,ci.prototype.getLastErrorCode=ci.prototype.Ea,ci.prototype.getStatus=ci.prototype.aa,ci.prototype.getResponseJson=ci.prototype.Sa,ci.prototype.getResponseText=ci.prototype.fa,ci.prototype.send=ci.prototype.da,ci.prototype.setWithCredentials=ci.prototype.Ka;var $6=us.createWebChannelTransport=function(){return new Sd},H6=us.getStatEventTarget=function(){return $_()},LO=us.ErrorCode=ME,z6=us.EventType=kE,j6=us.Event=Fa,A2=us.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},G6=us.FetchXmlHttpFactory=ap,LD=us.WebChannel=DO,W6=us.XhrIo=ci;const x2="@firebase/firestore";class fr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}fr.UNAUTHENTICATED=new fr(null),fr.GOOGLE_CREDENTIALS=new fr("google-credentials-uid"),fr.FIRST_PARTY=new fr("first-party-uid"),fr.MOCK_USER=new fr("mock-user");let fy="9.14.0";const Id=new hr.Yd("@firebase/firestore");function VO(){return Id.logLevel}function Ke(n,...e){if(Id.logLevel<=hr.in.DEBUG){const t=e.map(BO);Id.debug(`Firestore (${fy}): ${n}`,...t)}}function Pi(n,...e){if(Id.logLevel<=hr.in.ERROR){const t=e.map(BO);Id.error(`Firestore (${fy}): ${n}`,...t)}}function lp(n,...e){if(Id.logLevel<=hr.in.WARN){const t=e.map(BO);Id.warn(`Firestore (${fy}): ${n}`,...t)}}function BO(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function bt(n="Unexpected state"){const e=`FIRESTORE (${fy}) INTERNAL ASSERTION FAILED: `+n;throw Pi(e),new Error(e)}function Ft(n,e){n||bt()}function at(n,e){return n}const be={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ue extends q.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class nr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class M2{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Z6{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(fr.UNAUTHENTICATED))}shutdown(){}}class K6{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Q6{constructor(e){this.t=e,this.currentUser=fr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var i=this;let r=this.i;const s=p=>this.i!==r?(r=this.i,t(p)):Promise.resolve();let a=new nr;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new nr,e.enqueueRetryable(()=>s(this.currentUser))};const d=()=>{const p=a;e.enqueueRetryable((0,te.Z)(function*(){yield p.promise,yield s(i.currentUser)}))},f=p=>{Ke("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.auth.addAuthTokenListener(this.o),d()};this.t.onInit(p=>f(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?f(p):(Ke("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new nr)}},0),d()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(Ke("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Ft("string"==typeof i.accessToken),new M2(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ft(null===e||"string"==typeof e),new fr(e)}}class X6{constructor(e,t,i,r){this.h=e,this.l=t,this.m=i,this.g=r,this.type="FirstParty",this.user=fr.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(Ft(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class J6{constructor(e,t,i,r){this.h=e,this.l=t,this.m=i,this.g=r}getToken(){return Promise.resolve(new X6(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(fr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class k2{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class e5{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const i=s=>{null!=s.error&&Ke("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.A;return this.A=s.token,Ke("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>i(s))};const r=s=>{Ke("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.T.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.T.getImmediate({optional:!0});s?r(s):Ke("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ft("string"==typeof t.token),this.A=t.token,new k2(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function t5(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}class R2{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const r=t5(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<t&&(i+=e.charAt(r[s]%e.length))}return i}}function Yt(n,e){return n<e?-1:n>e?1:0}function py(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}function O2(n){return n+"\0"}class ui{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ue(be.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ue(be.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ue(be.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ue(be.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ui.fromMillis(Date.now())}static fromDate(e){return ui.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new ui(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Yt(this.nanoseconds,e.nanoseconds):Yt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Lt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Lt(e)}static min(){return new Lt(new ui(0,0))}static max(){return new Lt(new ui(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class $E{constructor(e,t,i){void 0===t?t=0:t>e.length&&bt(),void 0===i?i=e.length-t:i>e.length-t&&bt(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===$E.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof $E?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const s=e.get(r),a=t.get(r);if(s<a)return-1;if(s>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class bn extends $E{construct(e,t,i){return new bn(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new Ue(be.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new bn(t)}static emptyPath(){return new bn([])}}const n5=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ii extends $E{construct(e,t,i){return new Ii(e,t,i)}static isValidIdentifier(e){return n5.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ii.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Ii(["__name__"])}static fromServerFormat(e){const t=[];let i="",r=0;const s=()=>{if(0===i.length)throw new Ue(be.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let a=!1;for(;r<e.length;){const d=e[r];if("\\"===d){if(r+1===e.length)throw new Ue(be.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[r+1];if("\\"!==f&&"."!==f&&"`"!==f)throw new Ue(be.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=f,r+=2}else"`"===d?(a=!a,r++):"."!==d||a?(i+=d,r++):(s(),r++)}if(s(),a)throw new Ue(be.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ii(t)}static emptyPath(){return new Ii([])}}class st{constructor(e){this.path=e}static fromPath(e){return new st(bn.fromString(e))}static fromName(e){return new st(bn.fromString(e).popFirst(5))}static empty(){return new st(bn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===bn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return bn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new st(new bn(e.slice()))}}class VD{constructor(e,t,i,r){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=r}}function UO(n){return n.fields.find(e=>2===e.kind)}function cp(n){return n.fields.filter(e=>2!==e.kind)}VD.UNKNOWN_ID=-1;class BD{constructor(e,t){this.fieldPath=e,this.kind=t}}class HE{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new HE(0,ro.min())}}function P2(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Lt.fromTimestamp(1e9===i?new ui(t+1,0):new ui(t,i));return new ro(r,st.empty(),e)}function N2(n){return new ro(n.readTime,n.key,-1)}class ro{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new ro(Lt.min(),st.empty(),-1)}static max(){return new ro(Lt.max(),st.empty(),-1)}}function $O(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=st.comparator(n.documentKey,e.documentKey),0!==t?t:Yt(n.largestBatchId,e.largestBatchId))}const F2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class L2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Td(n){return HO.apply(this,arguments)}function HO(){return HO=(0,te.Z)(function*(n){if(n.code!==be.FAILED_PRECONDITION||n.message!==F2)throw n;Ke("LocalStore","Unexpectedly lost primary lease")}),HO.apply(this,arguments)}class pe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&bt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new pe((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(t,s).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof pe?t:pe.resolve(t)}catch(t){return pe.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):pe.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):pe.reject(t)}static resolve(e){return new pe((t,i)=>{t(e)})}static reject(e){return new pe((t,i)=>{i(e)})}static waitFor(e){return new pe((t,i)=>{let r=0,s=0,a=!1;e.forEach(d=>{++r,d.next(()=>{++s,a&&s===r&&t()},f=>i(f))}),a=!0,s===r&&t()})}static or(e){let t=pe.resolve(!1);for(const i of e)t=t.next(r=>r?pe.resolve(r):i());return t}static forEach(e,t){const i=[];return e.forEach((r,s)=>{i.push(t.call(this,r,s))}),this.waitFor(i)}static mapArray(e,t){return new pe((i,r)=>{const s=e.length,a=new Array(s);let d=0;for(let f=0;f<s;f++){const p=f;t(e[p]).next(_=>{a[p]=_,++d,d===s&&i(a)},_=>r(_))}})}static doWhile(e,t){return new pe((i,r)=>{const s=()=>{!0===e()?t().next(()=>{s()},r):i()};s()})}}class UD{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.P=new nr,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{t.error?this.P.reject(new zE(e,t.error)):this.P.resolve()},this.transaction.onerror=i=>{const r=zO(i.target.error);this.P.reject(new zE(e,r))}}static open(e,t,i,r){try{return new UD(t,e.transaction(r,i))}catch(s){throw new zE(t,s)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(Ke("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new a5(t)}}class Ua{constructor(e,t,i){this.name=e,this.version=t,this.S=i,12.2===Ua.D((0,q.z$)())&&Pi("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Ke("SimpleDb","Removing database:",e),up(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,q.hl)())return!1;if(Ua.N())return!0;const e=(0,q.z$)(),t=Ua.D(e),i=0<t&&t<10,r=Ua.k(e),s=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||s)}static N(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.O)}static M(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static k(e){const t=e.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}F(e){var t=this;return(0,te.Z)(function*(){return t.db||(Ke("SimpleDb","Opening database:",t.name),t.db=yield new Promise((i,r)=>{const s=indexedDB.open(t.name,t.version);s.onsuccess=a=>{i(a.target.result)},s.onblocked=()=>{r(new zE(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=a=>{const d=a.target.error;r("VersionError"===d.name?new Ue(be.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===d.name?new Ue(be.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+d):new zE(e,d))},s.onupgradeneeded=a=>{Ke("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',a.oldVersion),t.S.$(a.target.result,s.transaction,a.oldVersion,t.version).next(()=>{Ke("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=i=>t.B(i)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,i,r){var s=this;return(0,te.Z)(function*(){const a="readonly"===t;let d=0;for(;;){++d;try{s.db=yield s.F(e);const f=UD.open(s.db,e,a?"readonly":"readwrite",i),p=r(f).next(_=>(f.V(),_)).catch(_=>(f.abort(_),pe.reject(_))).toPromise();return p.catch(()=>{}),yield f.v,p}catch(f){const p=f,_="FirebaseError"!==p.name&&d<3;if(Ke("SimpleDb","Transaction failed with error:",p.message,"Retrying:",_),s.close(),!_)return Promise.reject(p)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class o5{constructor(e){this.U=e,this.q=!1,this.K=null}get isDone(){return this.q}get G(){return this.K}set cursor(e){this.U=e}done(){this.q=!0}j(e){this.K=e}delete(){return up(this.U.delete())}}class zE extends Ue{constructor(e,t){super(be.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Dd(n){return"IndexedDbTransactionError"===n.name}class a5{constructor(e){this.store=e}put(e,t){let i;return void 0!==t?(Ke("SimpleDb","PUT",this.store.name,e,t),i=this.store.put(t,e)):(Ke("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),up(i)}add(e){return Ke("SimpleDb","ADD",this.store.name,e,e),up(this.store.add(e))}get(e){return up(this.store.get(e)).next(t=>(void 0===t&&(t=null),Ke("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Ke("SimpleDb","DELETE",this.store.name,e),up(this.store.delete(e))}count(){return Ke("SimpleDb","COUNT",this.store.name),up(this.store.count())}W(e,t){const i=this.options(e,t);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),s=[];return this.H(r,(a,d)=>{s.push(d)}).next(()=>s)}{const r=this.store.getAll(i.range);return new pe((s,a)=>{r.onerror=d=>{a(d.target.error)},r.onsuccess=d=>{s(d.target.result)}})}}J(e,t){const i=this.store.getAll(e,null===t?void 0:t);return new pe((r,s)=>{i.onerror=a=>{s(a.target.error)},i.onsuccess=a=>{r(a.target.result)}})}Y(e,t){Ke("SimpleDb","DELETE ALL",this.store.name);const i=this.options(e,t);i.X=!1;const r=this.cursor(i);return this.H(r,(s,a,d)=>d.delete())}Z(e,t){let i;t?i=e:(i={},t=e);const r=this.cursor(i);return this.H(r,t)}tt(e){const t=this.cursor({});return new pe((i,r)=>{t.onerror=s=>{const a=zO(s.target.error);r(a)},t.onsuccess=s=>{const a=s.target.result;a?e(a.primaryKey,a.value).next(d=>{d?a.continue():i()}):i()}})}H(e,t){const i=[];return new pe((r,s)=>{e.onerror=a=>{s(a.target.error)},e.onsuccess=a=>{const d=a.target.result;if(!d)return void r();const f=new o5(d),p=t(d.primaryKey,d.value,f);if(p instanceof pe){const _=p.catch(v=>(f.done(),pe.reject(v)));i.push(_)}f.isDone?r():null===f.G?d.continue():d.continue(f.G)}}).next(()=>pe.waitFor(i))}options(e,t){let i;return void 0!==e&&("string"==typeof e?i=e:t=e),{index:i,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const i=this.store.index(e.index);return e.X?i.openKeyCursor(e.range,t):i.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function up(n){return new pe((e,t)=>{n.onsuccess=i=>{e(i.target.result)},n.onerror=i=>{const r=zO(i.target.error);t(r)}})}let V2=!1;function zO(n){const e=Ua.D((0,q.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const i=new Ue("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return V2||(V2=!0,setTimeout(()=>{throw i},0)),i}}return n}class l5{constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var t=this;Ke("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,te.Z)(function*(){t.task=null;try{Ke("IndexBackiller",`Documents written: ${yield t.et.st()}`)}catch(i){Dd(i)?Ke("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield Td(i)}yield t.nt(6e4)}))}}class c5{constructor(e,t){this.localStore=e,this.persistence=t}st(e=50){var t=this;return(0,te.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>t.it(i,e))})()}it(e,t){const i=new Set;let r=t,s=!0;return pe.doWhile(()=>!0===s&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(a=>{if(null!==a&&!i.has(a))return Ke("IndexBackiller",`Processing collection: ${a}`),this.rt(e,a,r).next(d=>{r-=d,i.add(a)});s=!1})).next(()=>t-r)}rt(e,t,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(r=>this.localStore.localDocuments.getNextDocuments(e,t,r,i).next(s=>{const a=s.changes;return this.localStore.indexManager.updateIndexEntries(e,a).next(()=>this.ot(r,s)).next(d=>(Ke("IndexBackiller",`Updating offset: ${d}`),this.localStore.indexManager.updateCollectionGroup(e,t,d))).next(()=>a.size)}))}ot(e,t){let i=e;return t.changes.forEach((r,s)=>{const a=N2(s);$O(a,i)>0&&(i=a)}),new ro(i.readTime,i.documentKey,Math.max(t.batchId,e.largestBatchId))}}class $s{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ut(i),this.ct=i=>t.writeSequenceNumber(i))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}function B2(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function dp(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function U2(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}$s.at=-1;class Ti{constructor(e,t){this.comparator=e,this.root=t||kr.EMPTY}insert(e,t){return new Ti(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,kr.BLACK,null,null))}remove(e){return new Ti(this.comparator,this.root.remove(e,this.comparator).copy(null,null,kr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(0===r)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new $D(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new $D(this.root,e,this.comparator,!1)}getReverseIterator(){return new $D(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new $D(this.root,e,this.comparator,!0)}}class $D{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?i(e.key,t):1,t&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class kr{constructor(e,t,i,r,s){this.key=e,this.value=t,this.color=i??kr.RED,this.left=r??kr.EMPTY,this.right=s??kr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,s){return new kr(e??this.key,t??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const s=i(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,t,i),null):0===s?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return kr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return kr.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,kr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,kr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw bt();const e=this.left.check();if(e!==this.right.check())throw bt();return e+(this.isRed()?0:1)}}kr.EMPTY=null,kr.RED=!0,kr.BLACK=!1,kr.EMPTY=new class{constructor(){this.size=0}get key(){throw bt()}get value(){throw bt()}get color(){throw bt()}get left(){throw bt()}get right(){throw bt()}copy(n,e,t,i,r){return this}insert(n,e,t){return new kr(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class $n{constructor(e){this.comparator=e,this.data=new Ti(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new $2(this.data.getIterator())}getIteratorFrom(e){return new $2(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof $n)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,s=i.getNext().key;if(0!==this.comparator(r,s))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new $n(this.comparator);return t.data=e,t}}class $2{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function my(n){return n.hasNext()?n.getNext():void 0}class so{constructor(e){this.fields=e,e.sort(Ii.comparator)}static empty(){return new so([])}unionWith(e){let t=new $n(Ii.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new so(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return py(this.fields,e.fields,(t,i)=>t.isEqual(i))}}class ir{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new ir(t)}static fromUint8Array(e){const t=function(i){let r="";for(let s=0;s<i.length;++s)r+=String.fromCharCode(i[s]);return r}(e);return new ir(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Yt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ir.EMPTY_BYTE_STRING=new ir("");const d5=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ad(n){if(Ft(!!n),"string"==typeof n){let e=0;const t=d5.exec(n);if(Ft(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Di(n.seconds),nanos:Di(n.nanos)}}function Di(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function hp(n){return"string"==typeof n?ir.fromBase64String(n):ir.fromUint8Array(n)}function jO(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function H2(n){const e=n.mapValue.fields.__previous_value__;return jO(e)?H2(e):e}function jE(n){const e=Ad(n.mapValue.fields.__local_write_time__.timestampValue);return new ui(e.seconds,e.nanos)}class h5{constructor(e,t,i,r,s,a,d,f){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=d,this.useFetchStreams=f}}class xd{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new xd("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof xd&&e.projectId===this.projectId&&e.database===this.database}}function GE(n){return null==n}function WE(n){return 0===n&&1/n==-1/0}function z2(n){return"number"==typeof n&&Number.isInteger(n)&&!WE(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const Md={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},HD={nullValue:"NULL_VALUE"};function fp(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?jO(n)?4:q2(n)?9007199254740991:10:bt()}function kl(n,e){if(n===e)return!0;const t=fp(n);if(t!==fp(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return jE(n).isEqual(jE(e));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const s=Ad(i.timestampValue),a=Ad(r.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return r=e,hp(n.bytesValue).isEqual(hp(r.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,r){return Di(i.geoPointValue.latitude)===Di(r.geoPointValue.latitude)&&Di(i.geoPointValue.longitude)===Di(r.geoPointValue.longitude)}(n,e);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return Di(i.integerValue)===Di(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const s=Di(i.doubleValue),a=Di(r.doubleValue);return s===a?WE(s)===WE(a):isNaN(s)&&isNaN(a)}return!1}(n,e);case 9:return py(n.arrayValue.values||[],e.arrayValue.values||[],kl);case 10:return function(i,r){const s=i.mapValue.fields||{},a=r.mapValue.fields||{};if(B2(s)!==B2(a))return!1;for(const d in s)if(s.hasOwnProperty(d)&&(void 0===a[d]||!kl(s[d],a[d])))return!1;return!0}(n,e);default:return bt()}var r}function qE(n,e){return void 0!==(n.values||[]).find(t=>kl(t,e))}function kd(n,e){if(n===e)return 0;const t=fp(n),i=fp(e);if(t!==i)return Yt(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Yt(n.booleanValue,e.booleanValue);case 2:return function(r,s){const a=Di(r.integerValue||r.doubleValue),d=Di(s.integerValue||s.doubleValue);return a<d?-1:a>d?1:a===d?0:isNaN(a)?isNaN(d)?0:-1:1}(n,e);case 3:return j2(n.timestampValue,e.timestampValue);case 4:return j2(jE(n),jE(e));case 5:return Yt(n.stringValue,e.stringValue);case 6:return function(r,s){const a=hp(r),d=hp(s);return a.compareTo(d)}(n.bytesValue,e.bytesValue);case 7:return function(r,s){const a=r.split("/"),d=s.split("/");for(let f=0;f<a.length&&f<d.length;f++){const p=Yt(a[f],d[f]);if(0!==p)return p}return Yt(a.length,d.length)}(n.referenceValue,e.referenceValue);case 8:return function(r,s){const a=Yt(Di(r.latitude),Di(s.latitude));return 0!==a?a:Yt(Di(r.longitude),Di(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(r,s){const a=r.values||[],d=s.values||[];for(let f=0;f<a.length&&f<d.length;++f){const p=kd(a[f],d[f]);if(p)return p}return Yt(a.length,d.length)}(n.arrayValue,e.arrayValue);case 10:return function(r,s){if(r===Md.mapValue&&s===Md.mapValue)return 0;if(r===Md.mapValue)return 1;if(s===Md.mapValue)return-1;const a=r.fields||{},d=Object.keys(a),f=s.fields||{},p=Object.keys(f);d.sort(),p.sort();for(let _=0;_<d.length&&_<p.length;++_){const v=Yt(d[_],p[_]);if(0!==v)return v;const w=kd(a[d[_]],f[p[_]]);if(0!==w)return w}return Yt(d.length,p.length)}(n.mapValue,e.mapValue);default:throw bt()}}function j2(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Yt(n,e);const t=Ad(n),i=Ad(e),r=Yt(t.seconds,i.seconds);return 0!==r?r:Yt(t.nanos,i.nanos)}function gy(n){return GO(n)}function GO(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=Ad(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?hp(n.bytesValue).toBase64():"referenceValue"in n?st.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(i){let r="[",s=!0;for(const a of i.values||[])s?s=!1:r+=",",r+=GO(a);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let s="{",a=!0;for(const d of r)a?a=!1:s+=",",s+=`${d}:${GO(i.fields[d])}`;return s+"}"}(n.mapValue):bt();var e}function pp(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function WO(n){return!!n&&"integerValue"in n}function YE(n){return!!n&&"arrayValue"in n}function G2(n){return!!n&&"nullValue"in n}function W2(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function zD(n){return!!n&&"mapValue"in n}function ZE(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return dp(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=ZE(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ZE(n.arrayValue.values[t]);return e}return Object.assign({},n)}function q2(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function f5(n){return"nullValue"in n?HD:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?pp(xd.empty(),st.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:bt()}function p5(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?pp(xd.empty(),st.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Md:bt()}function Y2(n,e){const t=kd(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function Z2(n,e){const t=kd(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class Rr{constructor(e){this.value=e}static empty(){return new Rr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!zD(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ZE(t)}setAll(e){let t=Ii.emptyPath(),i={},r=[];e.forEach((a,d)=>{if(!t.isImmediateParentOf(d)){const f=this.getFieldsMap(t);this.applyChanges(f,i,r),i={},r=[],t=d.popLast()}a?i[d.lastSegment()]=ZE(a):r.push(d.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,i,r)}delete(e){const t=this.field(e.popLast());zD(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return kl(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];zD(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){dp(t,(r,s)=>e[r]=s);for(const r of i)delete e[r]}clone(){return new Rr(ZE(this.value))}}function K2(n){const e=[];return dp(n.fields,(t,i)=>{const r=new Ii([t]);if(zD(i)){const s=K2(i.mapValue).fields;if(0===s.length)e.push(r);else for(const a of s)e.push(r.child(a))}else e.push(r)}),new so(e)}class ei{constructor(e,t,i,r,s,a){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.data=s,this.documentState=a}static newInvalidDocument(e){return new ei(e,0,Lt.min(),Lt.min(),Rr.empty(),0)}static newFoundDocument(e,t,i){return new ei(e,1,t,Lt.min(),i,0)}static newNoDocument(e,t){return new ei(e,2,t,Lt.min(),Rr.empty(),0)}static newUnknownDocument(e,t){return new ei(e,3,t,Lt.min(),Rr.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Rr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Rr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Lt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof ei&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ei(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class m5{constructor(e,t=null,i=[],r=[],s=null,a=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=a,this.endAt=d,this.ht=null}}function Q2(n,e=null,t=[],i=[],r=null,s=null,a=null){return new m5(n,e,t,i,r,s,a)}function mp(n){const e=at(n);if(null===e.ht){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>{return(r=i).field.canonicalString()+r.op.toString()+gy(r.value);var r}).join(","),t+="|ob:",t+=e.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),GE(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>gy(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>gy(i)).join(",")),e.ht=t}return e.ht}function KE(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<n.orderBy.length;r++)if(!S5(n.orderBy[r],e.orderBy[r]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let r=0;r<n.filters.length;r++)if((t=n.filters[r]).op!==(i=e.filters[r]).op||!t.field.isEqual(i.field)||!kl(t.value,i.value))return!1;var t,i;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!nU(n.startAt,e.startAt)&&nU(n.endAt,e.endAt)}function jD(n){return st.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function GD(n,e){return n.filters.filter(t=>t instanceof Or&&t.field.isEqual(e))}function X2(n,e,t){let i=HD,r=!0;for(const s of GD(n,e)){let a=HD,d=!0;switch(s.op){case"<":case"<=":a=f5(s.value);break;case"==":case"in":case">=":a=s.value;break;case">":a=s.value,d=!1;break;case"!=":case"not-in":a=HD}Y2({value:i,inclusive:r},{value:a,inclusive:d})<0&&(i=a,r=d)}if(null!==t)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const a=t.position[s];Y2({value:i,inclusive:r},{value:a,inclusive:t.inclusive})<0&&(i=a,r=t.inclusive);break}return{value:i,inclusive:r}}function J2(n,e,t){let i=Md,r=!0;for(const s of GD(n,e)){let a=Md,d=!0;switch(s.op){case">=":case">":a=p5(s.value),d=!1;break;case"==":case"in":case"<=":a=s.value;break;case"<":a=s.value,d=!1;break;case"!=":case"not-in":a=Md}Z2({value:i,inclusive:r},{value:a,inclusive:d})>0&&(i=a,r=d)}if(null!==t)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const a=t.position[s];Z2({value:i,inclusive:r},{value:a,inclusive:t.inclusive})>0&&(i=a,r=t.inclusive);break}return{value:i,inclusive:r}}class Or extends class{}{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?"in"===t||"not-in"===t?this.lt(e,t,i):new _5(e,t,i):"array-contains"===t?new b5(e,i):"in"===t?new E5(e,i):"not-in"===t?new w5(e,i):"array-contains-any"===t?new C5(e,i):new Or(e,t,i)}static lt(e,t,i){return"in"===t?new y5(e,i):new v5(e,i)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.ft(kd(t,this.value)):null!==t&&fp(this.value)===fp(t)&&this.ft(kd(t,this.value))}ft(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return bt()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class _5 extends Or{constructor(e,t,i){super(e,t,i),this.key=st.fromName(i.referenceValue)}matches(e){const t=st.comparator(e.key,this.key);return this.ft(t)}}class y5 extends Or{constructor(e,t){super(e,"in",t),this.keys=eU(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class v5 extends Or{constructor(e,t){super(e,"not-in",t),this.keys=eU(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function eU(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(i=>st.fromName(i.referenceValue))}class b5 extends Or{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return YE(t)&&qE(t.arrayValue,this.value)}}class E5 extends Or{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&qE(this.value.arrayValue,t)}}class w5 extends Or{constructor(e,t){super(e,"not-in",t)}matches(e){if(qE(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!qE(this.value.arrayValue,t)}}class C5 extends Or{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!YE(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>qE(this.value.arrayValue,i))}}class Rd{constructor(e,t){this.position=e,this.inclusive=t}}class _y{constructor(e,t="asc"){this.field=e,this.dir=t}}function S5(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function tU(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){const s=e[r],a=n.position[r];if(i=s.field.isKeyField()?st.comparator(st.fromName(a.referenceValue),t.key):kd(a,t.data.field(s.field)),"desc"===s.dir&&(i*=-1),0!==i)break}return i}function nU(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!kl(n.position[t],e.position[t]))return!1;return!0}class qc{constructor(e,t=null,i=[],r=[],s=null,a="F",d=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=a,this.startAt=d,this.endAt=f,this._t=null,this.wt=null}}function iU(n,e,t,i,r,s,a,d){return new qc(n,e,t,i,r,s,a,d)}function yy(n){return new qc(n)}function rU(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function qO(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function YO(n){for(const e of n.filters)if(e.dt())return e.field;return null}function ZO(n){return null!==n.collectionGroup}function vy(n){const e=at(n);if(null===e._t){e._t=[];const t=YO(e),i=qO(e);if(null!==t&&null===i)t.isKeyField()||e._t.push(new _y(t)),e._t.push(new _y(Ii.keyField(),"asc"));else{let r=!1;for(const s of e.explicitOrderBy)e._t.push(s),s.field.isKeyField()&&(r=!0);if(!r){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e._t.push(new _y(Ii.keyField(),s))}}}return e._t}function hs(n){const e=at(n);if(!e.wt)if("F"===e.limitType)e.wt=Q2(e.path,e.collectionGroup,vy(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const s of vy(e))t.push(new _y(s.field,"desc"===s.dir?"asc":"desc"));const i=e.endAt?new Rd(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Rd(e.startAt.position,e.startAt.inclusive):null;e.wt=Q2(e.path,e.collectionGroup,t,e.filters,e.limit,i,r)}return e.wt}function WD(n,e,t){return new qc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function QE(n,e){return KE(hs(n),hs(e))&&n.limitType===e.limitType}function sU(n){return`${mp(hs(n))}|lt:${n.limitType}`}function KO(n){return`Query(target=${function g5(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(i=t).field.canonicalString()} ${i.op} ${gy(i.value)}`;var i}).join(", ")}]`),GE(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(i=t).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>gy(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>gy(t)).join(",")),`Target(${e})`}(hs(n))}; limitType=${n.limitType})`}function QO(n,e){return e.isFoundDocument()&&function(t,i){const r=i.key.path;return null!==t.collectionGroup?i.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(r):st.isDocumentKey(t.path)?t.path.isEqual(r):t.path.isImmediateParentOf(r)}(n,e)&&function(t,i){for(const r of t.explicitOrderBy)if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,e)&&function(t,i){for(const r of t.filters)if(!r.matches(i))return!1;return!0}(n,e)&&(i=e,!((t=n).startAt&&!function(r,s,a){const d=tU(r,s,a);return r.inclusive?d<=0:d<0}(t.startAt,vy(t),i)||t.endAt&&!function(r,s,a){const d=tU(r,s,a);return r.inclusive?d>=0:d>0}(t.endAt,vy(t),i)));var t,i}function oU(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function aU(n){return(e,t)=>{let i=!1;for(const r of vy(n)){const s=I5(r,e,t);if(0!==s)return s;i=i||r.field.isKeyField()}return 0}}function I5(n,e,t){const i=n.field.isKeyField()?st.comparator(e.key,t.key):function(r,s,a){const d=s.data.field(r),f=a.data.field(r);return null!==d&&null!==f?kd(d,f):bt()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return bt()}}function lU(n,e){if(n.gt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:WE(e)?"-0":e}}function cU(n){return{integerValue:""+n}}function uU(n,e){return z2(e)?cU(e):lU(n,e)}class qD{constructor(){this._=void 0}}function T5(n,e,t){return n instanceof by?function(i,r){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&(s.fields.__previous_value__=r),{mapValue:s}}(t,e):n instanceof gp?hU(n,e):n instanceof _p?fU(n,e):function(i,r){const s=dU(i,r),a=pU(s)+pU(i.yt);return WO(s)&&WO(i.yt)?cU(a):lU(i.It,a)}(n,e)}function D5(n,e,t){return n instanceof gp?hU(n,e):n instanceof _p?fU(n,e):t}function dU(n,e){return n instanceof Ey?WO(t=e)||(i=t)&&"doubleValue"in i?e:{integerValue:0}:null;var i,t}class by extends qD{}class gp extends qD{constructor(e){super(),this.elements=e}}function hU(n,e){const t=mU(e);for(const i of n.elements)t.some(r=>kl(r,i))||t.push(i);return{arrayValue:{values:t}}}class _p extends qD{constructor(e){super(),this.elements=e}}function fU(n,e){let t=mU(e);for(const i of n.elements)t=t.filter(r=>!kl(r,i));return{arrayValue:{values:t}}}class Ey extends qD{constructor(e,t){super(),this.It=e,this.yt=t}}function pU(n){return Di(n.integerValue||n.doubleValue)}function mU(n){return YE(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class XE{constructor(e,t){this.field=e,this.transform=t}}class x5{constructor(e,t){this.version=e,this.transformResults=t}}class di{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new di}static exists(e){return new di(void 0,e)}static updateTime(e){return new di(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function YD(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class ZD{}function gU(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Cy(n.key,di.none()):new wy(n.key,n.data,di.none());{const t=n.data,i=Rr.empty();let r=new $n(Ii.comparator);for(let s of e.fields)if(!r.has(s)){let a=t.field(s);null===a&&s.length>1&&(s=s.popLast(),a=t.field(s)),null===a?i.delete(s):i.set(s,a),r=r.add(s)}return new Yc(n.key,i,new so(r.toArray()),di.none())}}function M5(n,e,t){n instanceof wy?function(i,r,s){const a=i.value.clone(),d=vU(i.fieldTransforms,r,s.transformResults);a.setAll(d),r.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):n instanceof Yc?function(i,r,s){if(!YD(i.precondition,r))return void r.convertToUnknownDocument(s.version);const a=vU(i.fieldTransforms,r,s.transformResults),d=r.data;d.setAll(yU(i)),d.setAll(a),r.convertToFoundDocument(s.version,d).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function JE(n,e,t,i){return n instanceof wy?function(r,s,a,d){if(!YD(r.precondition,s))return a;const f=r.value.clone(),p=bU(r.fieldTransforms,d,s);return f.setAll(p),s.convertToFoundDocument(s.version,f).setHasLocalMutations(),null}(n,e,t,i):n instanceof Yc?function(r,s,a,d){if(!YD(r.precondition,s))return a;const f=bU(r.fieldTransforms,d,s),p=s.data;return p.setAll(yU(r)),p.setAll(f),s.convertToFoundDocument(s.version,p).setHasLocalMutations(),null===a?null:a.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(_=>_.field))}(n,e,t,i):(a=t,YD(n.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a);var s,a}function k5(n,e){let t=null;for(const i of n.fieldTransforms){const r=e.data.field(i.field),s=dU(i.transform,r||null);null!=s&&(null===t&&(t=Rr.empty()),t.set(i.field,s))}return t||null}function _U(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===i||t&&i&&py(t,i,(r,s)=>function A5(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(t=n.transform)instanceof gp&&i instanceof gp||t instanceof _p&&i instanceof _p?py(t.elements,i.elements,kl):t instanceof Ey&&i instanceof Ey?kl(t.yt,i.yt):t instanceof by&&i instanceof by);var t,i}(r,s))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,i}class wy extends ZD{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Yc extends ZD{constructor(e,t,i,r,s=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function yU(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function vU(n,e,t){const i=new Map;Ft(n.length===t.length);for(let r=0;r<t.length;r++){const s=n[r],a=s.transform,d=e.data.field(s.field);i.set(s.field,D5(a,d,t[r]))}return i}function bU(n,e,t){const i=new Map;for(const r of n){const s=r.transform,a=t.data.field(r.field);i.set(r.field,T5(s,a,e))}return i}class Cy extends ZD{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class XO extends ZD{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class R5{constructor(e){this.count=e}}var Wi,En;function EU(n){switch(n){default:return bt();case be.CANCELLED:case be.UNKNOWN:case be.DEADLINE_EXCEEDED:case be.RESOURCE_EXHAUSTED:case be.INTERNAL:case be.UNAVAILABLE:case be.UNAUTHENTICATED:return!1;case be.INVALID_ARGUMENT:case be.NOT_FOUND:case be.ALREADY_EXISTS:case be.PERMISSION_DENIED:case be.FAILED_PRECONDITION:case be.ABORTED:case be.OUT_OF_RANGE:case be.UNIMPLEMENTED:case be.DATA_LOSS:return!0}}function wU(n){if(void 0===n)return Pi("GRPC error has no .code"),be.UNKNOWN;switch(n){case Wi.OK:return be.OK;case Wi.CANCELLED:return be.CANCELLED;case Wi.UNKNOWN:return be.UNKNOWN;case Wi.DEADLINE_EXCEEDED:return be.DEADLINE_EXCEEDED;case Wi.RESOURCE_EXHAUSTED:return be.RESOURCE_EXHAUSTED;case Wi.INTERNAL:return be.INTERNAL;case Wi.UNAVAILABLE:return be.UNAVAILABLE;case Wi.UNAUTHENTICATED:return be.UNAUTHENTICATED;case Wi.INVALID_ARGUMENT:return be.INVALID_ARGUMENT;case Wi.NOT_FOUND:return be.NOT_FOUND;case Wi.ALREADY_EXISTS:return be.ALREADY_EXISTS;case Wi.PERMISSION_DENIED:return be.PERMISSION_DENIED;case Wi.FAILED_PRECONDITION:return be.FAILED_PRECONDITION;case Wi.ABORTED:return be.ABORTED;case Wi.OUT_OF_RANGE:return be.OUT_OF_RANGE;case Wi.UNIMPLEMENTED:return be.UNIMPLEMENTED;case Wi.DATA_LOSS:return be.DATA_LOSS;default:return bt()}}(En=Wi||(Wi={}))[En.OK=0]="OK",En[En.CANCELLED=1]="CANCELLED",En[En.UNKNOWN=2]="UNKNOWN",En[En.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",En[En.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",En[En.NOT_FOUND=5]="NOT_FOUND",En[En.ALREADY_EXISTS=6]="ALREADY_EXISTS",En[En.PERMISSION_DENIED=7]="PERMISSION_DENIED",En[En.UNAUTHENTICATED=16]="UNAUTHENTICATED",En[En.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",En[En.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",En[En.ABORTED=10]="ABORTED",En[En.OUT_OF_RANGE=11]="OUT_OF_RANGE",En[En.UNIMPLEMENTED=12]="UNIMPLEMENTED",En[En.INTERNAL=13]="INTERNAL",En[En.UNAVAILABLE=14]="UNAVAILABLE",En[En.DATA_LOSS=15]="DATA_LOSS";class Od{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i)for(const[r,s]of i)if(this.equalsFn(r,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const i=this.mapKeyFn(e),r=this.inner[i];if(void 0===r)return this.inner[i]=[[e,t]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return 1===i.length?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){dp(this.inner,(t,i)=>{for(const[r,s]of i)e(r,s)})}isEmpty(){return U2(this.inner)}size(){return this.innerSize}}const O5=new Ti(st.comparator);function Hs(){return O5}const CU=new Ti(st.comparator);function ew(...n){let e=CU;for(const t of n)e=e.insert(t.key,t);return e}function SU(n){let e=CU;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function Rl(){return tw()}function IU(){return tw()}function tw(){return new Od(n=>n.toString(),(n,e)=>n.isEqual(e))}const P5=new Ti(st.comparator),N5=new $n(st.comparator);function rn(...n){let e=N5;for(const t of n)e=e.add(t);return e}const F5=new $n(Yt);function KD(){return F5}class nw{constructor(e,t,i,r,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const r=new Map;return r.set(e,iw.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new nw(Lt.min(),r,KD(),Hs(),rn())}}class iw{constructor(e,t,i,r,s){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new iw(i,t,rn(),rn(),rn())}}class QD{constructor(e,t,i,r){this.Tt=e,this.removedTargetIds=t,this.key=i,this.Et=r}}class TU{constructor(e,t){this.targetId=e,this.At=t}}class DU{constructor(e,t,i=ir.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}}class AU{constructor(){this.Rt=0,this.bt=MU(),this.Pt=ir.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return 0!==this.Rt}get Dt(){return this.Vt}Ct(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}xt(){let e=rn(),t=rn(),i=rn();return this.bt.forEach((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:bt()}}),new iw(this.Pt,this.vt,e,t,i)}Nt(){this.Vt=!1,this.bt=MU()}kt(e,t){this.Vt=!0,this.bt=this.bt.insert(e,t)}Ot(e){this.Vt=!0,this.bt=this.bt.remove(e)}Mt(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class L5{constructor(e){this.Bt=e,this.Lt=new Map,this.Ut=Hs(),this.qt=xU(),this.Kt=new $n(Yt)}Gt(e){for(const t of e.Tt)e.Et&&e.Et.isFoundDocument()?this.Qt(t,e.Et):this.jt(t,e.key,e.Et);for(const t of e.removedTargetIds)this.jt(t,e.key,e.Et)}Wt(e){this.forEachTarget(e,t=>{const i=this.zt(t);switch(e.state){case 0:this.Ht(t)&&i.Ct(e.resumeToken);break;case 1:i.Ft(),i.St||i.Nt(),i.Ct(e.resumeToken);break;case 2:i.Ft(),i.St||this.removeTarget(t);break;case 3:this.Ht(t)&&(i.$t(),i.Ct(e.resumeToken));break;case 4:this.Ht(t)&&(this.Jt(t),i.Ct(e.resumeToken));break;default:bt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Lt.forEach((i,r)=>{this.Ht(r)&&t(r)})}Yt(e){const t=e.targetId,i=e.At.count,r=this.Xt(t);if(r){const s=r.target;if(jD(s))if(0===i){const a=new st(s.path);this.jt(t,a,ei.newNoDocument(a,Lt.min()))}else Ft(1===i);else this.Zt(t)!==i&&(this.Jt(t),this.Kt=this.Kt.add(t))}}te(e){const t=new Map;this.Lt.forEach((s,a)=>{const d=this.Xt(a);if(d){if(s.current&&jD(d.target)){const f=new st(d.target.path);null!==this.Ut.get(f)||this.ee(a,f)||this.jt(a,f,ei.newNoDocument(f,e))}s.Dt&&(t.set(a,s.xt()),s.Nt())}});let i=rn();this.qt.forEach((s,a)=>{let d=!0;a.forEachWhile(f=>{const p=this.Xt(f);return!p||2===p.purpose||(d=!1,!1)}),d&&(i=i.add(s))}),this.Ut.forEach((s,a)=>a.setReadTime(e));const r=new nw(e,t,this.Kt,this.Ut,i);return this.Ut=Hs(),this.qt=xU(),this.Kt=new $n(Yt),r}Qt(e,t){if(!this.Ht(e))return;const i=this.ee(e,t.key)?2:0;this.zt(e).kt(t.key,i),this.Ut=this.Ut.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ne(t.key).add(e))}jt(e,t,i){if(!this.Ht(e))return;const r=this.zt(e);this.ee(e,t)?r.kt(t,1):r.Ot(t),this.qt=this.qt.insert(t,this.ne(t).delete(e)),i&&(this.Ut=this.Ut.insert(t,i))}removeTarget(e){this.Lt.delete(e)}Zt(e){const t=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Mt(e){this.zt(e).Mt()}zt(e){let t=this.Lt.get(e);return t||(t=new AU,this.Lt.set(e,t)),t}ne(e){let t=this.qt.get(e);return t||(t=new $n(Yt),this.qt=this.qt.insert(e,t)),t}Ht(e){const t=null!==this.Xt(e);return t||Ke("WatchChangeAggregator","Detected inactive target",e),t}Xt(e){const t=this.Lt.get(e);return t&&t.St?null:this.Bt.se(e)}Jt(e){this.Lt.set(e,new AU),this.Bt.getRemoteKeysForTarget(e).forEach(t=>{this.jt(e,t,null)})}ee(e,t){return this.Bt.getRemoteKeysForTarget(e).has(t)}}function xU(){return new Ti(st.comparator)}function MU(){return new Ti(st.comparator)}const V5={asc:"ASCENDING",desc:"DESCENDING"},B5={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class U5{constructor(e,t){this.databaseId=e,this.gt=t}}function rw(n,e){return n.gt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function kU(n,e){return n.gt?e.toBase64():e.toUint8Array()}function $5(n,e){return rw(n,e.toTimestamp())}function pr(n){return Ft(!!n),Lt.fromTimestamp(function(e){const t=Ad(e);return new ui(t.seconds,t.nanos)}(n))}function JO(n,e){return(t=n,new bn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function RU(n){const e=bn.fromString(n);return Ft(UU(e)),e}function sw(n,e){return JO(n.databaseId,e.path)}function Ol(n,e){const t=RU(e);if(t.get(1)!==n.databaseId.projectId)throw new Ue(be.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ue(be.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new st(PU(t))}function e1(n,e){return JO(n.databaseId,e)}function OU(n){const e=RU(n);return 4===e.length?bn.emptyPath():PU(e)}function ow(n){return new bn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function PU(n){return Ft(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function NU(n,e,t){return{name:sw(n,e),fields:t.value.mapValue.fields}}function FU(n,e,t){const i=Ol(n,e.name),r=pr(e.updateTime),s=new Rr({mapValue:{fields:e.fields}}),a=ei.newFoundDocument(i,r,s);return t&&a.setHasCommittedMutations(),t?a.setHasCommittedMutations():a}function aw(n,e){let t;if(e instanceof wy)t={update:NU(n,e.key,e.value)};else if(e instanceof Cy)t={delete:sw(n,e.key)};else if(e instanceof Yc)t={update:NU(n,e.key,e.data),updateMask:K5(e.fieldMask)};else{if(!(e instanceof XO))return bt();t={verify:sw(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(r,s){const a=s.transform;if(a instanceof by)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof gp)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof _p)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Ey)return{fieldPath:s.field.canonicalString(),increment:a.yt};throw bt()}(0,i))),e.precondition.isNone||(t.currentDocument=void 0!==(r=e.precondition).updateTime?{updateTime:$5(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:bt()),t;var r}function t1(n,e){const t=e.currentDocument?void 0!==(r=e.currentDocument).updateTime?di.updateTime(pr(r.updateTime)):void 0!==r.exists?di.exists(r.exists):di.none():di.none(),i=e.updateTransforms?e.updateTransforms.map(r=>function(s,a){let d=null;"setToServerValue"in a?(Ft("REQUEST_TIME"===a.setToServerValue),d=new by):"appendMissingElements"in a?d=new gp(a.appendMissingElements.values||[]):"removeAllFromArray"in a?d=new _p(a.removeAllFromArray.values||[]):"increment"in a?d=new Ey(s,a.increment):bt();const f=Ii.fromServerFormat(a.fieldPath);return new XE(f,d)}(n,r)):[];var r;if(e.update){const r=Ol(n,e.update.name),s=new Rr({mapValue:{fields:e.update.fields}});if(e.updateMask){const a=new so((e.updateMask.fieldPaths||[]).map(p=>Ii.fromServerFormat(p)));return new Yc(r,s,a,t,i)}return new wy(r,s,t,i)}if(e.delete){const r=Ol(n,e.delete);return new Cy(r,t)}if(e.verify){const r=Ol(n,e.verify);return new XO(r,t)}return bt()}function LU(n,e){return{documents:[e1(n,e.path)]}}function n1(n,e){const t={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(t.parent=e1(n,i),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=e1(n,i.popLast()),t.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(f){if(0===f.length)return;const p=f.map(_=>function(v){if("=="===v.op){if(W2(v.value))return{unaryFilter:{field:Sy(v.field),op:"IS_NAN"}};if(G2(v.value))return{unaryFilter:{field:Sy(v.field),op:"IS_NULL"}}}else if("!="===v.op){if(W2(v.value))return{unaryFilter:{field:Sy(v.field),op:"IS_NOT_NAN"}};if(G2(v.value))return{unaryFilter:{field:Sy(v.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Sy(v.field),op:q5(v.op),value:v.value}}}(_));return 1===p.length?p[0]:{compositeFilter:{op:"AND",filters:p}}}(e.filters);r&&(t.structuredQuery.where=r);const s=function(f){if(0!==f.length)return f.map(p=>{return{field:Sy((_=p).field),direction:W5(_.dir)};var _})}(e.orderBy);s&&(t.structuredQuery.orderBy=s);const a=(p=e.limit,n.gt||GE(p)?p:{value:p});var p,d,f;return null!==a&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt={before:(d=e.startAt).inclusive,values:d.position}),e.endAt&&(t.structuredQuery.endAt={before:!(f=e.endAt).inclusive,values:f.position}),t}function VU(n){let e=OU(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let r=null;if(i>0){Ft(1===i);const _=t.from[0];_.allDescendants?r=_.collectionId:e=e.child(_.collectionId)}let s=[];t.where&&(s=BU(t.where));let a=[];t.orderBy&&(a=t.orderBy.map(_=>{return new _y(Iy((v=_).field),function(w){switch(w){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction));var v}));let d=null;t.limit&&(d=function(_){let v;return v="object"==typeof _?_.value:_,GE(v)?null:v}(t.limit));let f=null;var _;t.startAt&&(f=new Rd((_=t.startAt).values||[],!!_.before));let p=null;return t.endAt&&(p=function(_){return new Rd(_.values||[],!_.before)}(t.endAt)),iU(e,r,a,s,d,"F",f,p)}function BU(n){return n?void 0!==n.unaryFilter?[Z5(n)]:void 0!==n.fieldFilter?[Y5(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>BU(e)).reduce((e,t)=>e.concat(t)):bt():[]}function W5(n){return V5[n]}function q5(n){return B5[n]}function Sy(n){return{fieldPath:n.canonicalString()}}function Iy(n){return Ii.fromServerFormat(n.fieldPath)}function Y5(n){return Or.create(Iy(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return bt()}}(n.fieldFilter.op),n.fieldFilter.value)}function Z5(n){switch(n.unaryFilter.op){case"IS_NAN":const e=Iy(n.unaryFilter.field);return Or.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=Iy(n.unaryFilter.field);return Or.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Iy(n.unaryFilter.field);return Or.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=Iy(n.unaryFilter.field);return Or.create(r,"!=",{nullValue:"NULL_VALUE"});default:return bt()}}function K5(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function UU(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function fs(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=$U(e)),e=Q5(n.get(t),e);return $U(e)}function Q5(n,e){let t=e;const i=n.length;for(let r=0;r<i;r++){const s=n.charAt(r);switch(s){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=s}}return t}function $U(n){return n+"\x01\x01"}function Pl(n){const e=n.length;if(Ft(e>=2),2===e)return Ft("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),bn.emptyPath();const t=e-2,i=[];let r="";for(let s=0;s<e;){const a=n.indexOf("\x01",s);switch((a<0||a>t)&&bt(),n.charAt(a+1)){case"\x01":const d=n.substring(s,a);let f;0===r.length?f=d:(r+=d,f=r,r=""),i.push(f);break;case"\x10":r+=n.substring(s,a),r+="\0";break;case"\x11":r+=n.substring(s,a+1);break;default:bt()}s=a+2}return new bn(i)}const HU=["userId","batchId"];function XD(n,e){return[n,fs(e)]}function zU(n,e,t){return[n,fs(e),t]}const X5={},J5=["prefixPath","collectionGroup","readTime","documentId"],e8=["prefixPath","collectionGroup","documentId"],t8=["collectionGroup","readTime","prefixPath","documentId"],n8=["canonicalId","targetId"],i8=["targetId","path"],r8=["path","targetId"],s8=["collectionId","parent"],o8=["indexId","uid"],a8=["uid","sequenceNumber"],l8=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],c8=["indexId","uid","orderedDocumentKey"],u8=["userId","collectionPath","documentId"],d8=["userId","collectionPath","largestBatchId"],h8=["userId","collectionGroup","largestBatchId"],jU=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],f8=[...jU,"documentOverlays"],GU=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],WU=GU,p8=[...WU,"indexConfiguration","indexState","indexEntries"];class r1 extends L2{constructor(e,t){super(),this.ie=e,this.currentSequenceNumber=t}}function mr(n,e){const t=at(n);return Ua.M(t.ie,e)}class s1{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(e.key)&&M5(s,e,i[r])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=JE(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=JE(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=IU();return this.mutations.forEach(r=>{const s=e.get(r.key),a=s.overlayedDocument;let d=this.applyToLocalView(a,s.mutatedFields);d=t.has(r.key)?null:d;const f=gU(a,d);null!==f&&i.set(r.key,f),a.isValidDocument()||a.convertToNoDocument(Lt.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),rn())}isEqual(e){return this.batchId===e.batchId&&py(this.mutations,e.mutations,(t,i)=>_U(t,i))&&py(this.baseMutations,e.baseMutations,(t,i)=>_U(t,i))}}class o1{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){Ft(e.mutations.length===i.length);let r=P5;const s=e.mutations;for(let a=0;a<s.length;a++)r=r.insert(s[a].key,i[a].version);return new o1(e,t,i,r)}}class a1{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Pd{constructor(e,t,i,r,s=Lt.min(),a=Lt.min(),d=ir.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=d}withSequenceNumber(e){return new Pd(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Pd(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Pd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class qU{constructor(e){this.re=e}}function YU(n,e){const t=e.key,i={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:JD(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())i.document={name:sw(r=n.re,(s=e).key),fields:s.data.value.mapValue.fields,updateTime:rw(r,s.version.toTimestamp())};else if(e.isNoDocument())i.noDocument={path:t.path.toArray(),readTime:yp(e.version)};else{if(!e.isUnknownDocument())return bt();i.unknownDocument={path:t.path.toArray(),version:yp(e.version)}}var r,s;return i}function JD(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function yp(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function vp(n){const e=new ui(n.seconds,n.nanoseconds);return Lt.fromTimestamp(e)}function bp(n,e){const t=(e.baseMutations||[]).map(s=>t1(n.re,s));for(let s=0;s<e.mutations.length-1;++s){const a=e.mutations[s];s+1<e.mutations.length&&void 0!==e.mutations[s+1].transform&&(a.updateTransforms=e.mutations[s+1].transform.fieldTransforms,e.mutations.splice(s+1,1),++s)}const i=e.mutations.map(s=>t1(n.re,s)),r=ui.fromMillis(e.localWriteTimeMs);return new s1(e.batchId,r,t,i)}function lw(n){const e=vp(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?vp(n.lastLimboFreeSnapshotVersion):Lt.min();let i;var r;return void 0!==n.query.documents?(Ft(1===(r=n.query).documents.length),i=hs(yy(OU(r.documents[0])))):i=hs(VU(n.query)),new Pd(i,n.targetId,0,n.lastListenSequenceNumber,e,t,ir.fromBase64String(n.resumeToken))}function ZU(n,e){const t=yp(e.snapshotVersion),i=yp(e.lastLimboFreeSnapshotVersion);let r;r=jD(e.target)?LU(n.re,e.target):n1(n.re,e.target);const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:mp(e.target),readTime:t,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function l1(n){const e=VU({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?WD(e,e.limit,"L"):e}function c1(n,e){return new a1(e.largestBatchId,t1(n.re,e.overlayMutation))}function KU(n,e){const t=e.path.lastSegment();return[n,fs(e.path.popLast()),t]}function QU(n,e,t,i){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:yp(i.readTime),documentKey:fs(i.documentKey.path),largestBatchId:i.largestBatchId}}class g8{getBundleMetadata(e,t){return XU(e).get(t).next(i=>{if(i)return{id:(r=i).bundleId,createTime:vp(r.createTime),version:r.version};var r})}saveBundleMetadata(e,t){return XU(e).put({bundleId:(i=t).id,createTime:yp(pr(i.createTime)),version:i.version});var i}getNamedQuery(e,t){return JU(e).get(t).next(i=>{if(i)return{name:(r=i).name,query:l1(r.bundledQuery),readTime:vp(r.readTime)};var r})}saveNamedQuery(e,t){return JU(e).put({name:(i=t).name,readTime:yp(pr(i.readTime)),bundledQuery:i.bundledQuery});var i}}function XU(n){return mr(n,"bundles")}function JU(n){return mr(n,"namedQueries")}class eA{constructor(e,t){this.It=e,this.userId=t}static oe(e,t){return new eA(e,t.uid||"")}getOverlay(e,t){return cw(e).get(KU(this.userId,t)).next(i=>i?c1(this.It,i):null)}getOverlays(e,t){const i=Rl();return pe.forEach(t,r=>this.getOverlay(e,r).next(s=>{null!==s&&i.set(r,s)})).next(()=>i)}saveOverlays(e,t,i){const r=[];return i.forEach((s,a)=>{const d=new a1(t,a);r.push(this.ue(e,d))}),pe.waitFor(r)}removeOverlaysForBatchId(e,t,i){const r=new Set;t.forEach(a=>r.add(fs(a.getCollectionPath())));const s=[];return r.forEach(a=>{const d=IDBKeyRange.bound([this.userId,a,i],[this.userId,a,i+1],!1,!0);s.push(cw(e).Y("collectionPathOverlayIndex",d))}),pe.waitFor(s)}getOverlaysForCollection(e,t,i){const r=Rl(),s=fs(t),a=IDBKeyRange.bound([this.userId,s,i],[this.userId,s,Number.POSITIVE_INFINITY],!0);return cw(e).W("collectionPathOverlayIndex",a).next(d=>{for(const f of d){const p=c1(this.It,f);r.set(p.getKey(),p)}return r})}getOverlaysForCollectionGroup(e,t,i,r){const s=Rl();let a;const d=IDBKeyRange.bound([this.userId,t,i],[this.userId,t,Number.POSITIVE_INFINITY],!0);return cw(e).Z({index:"collectionGroupOverlayIndex",range:d},(f,p,_)=>{const v=c1(this.It,p);s.size()<r||v.largestBatchId===a?(s.set(v.getKey(),v),a=v.largestBatchId):_.done()}).next(()=>s)}ue(e,t){return cw(e).put(function(i,r,s){const[a,d,f]=KU(r,s.mutation.key);return{userId:r,collectionPath:d,documentId:f,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:aw(i.re,s.mutation)}}(this.It,this.userId,t))}}function cw(n){return mr(n,"documentOverlays")}class Ep{constructor(){}ce(e,t){this.ae(e,t),t.he()}ae(e,t){if("nullValue"in e)this.le(t,5);else if("booleanValue"in e)this.le(t,10),t.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(t,15),t.fe(Di(e.integerValue));else if("doubleValue"in e){const i=Di(e.doubleValue);isNaN(i)?this.le(t,13):(this.le(t,15),WE(i)?t.fe(0):t.fe(i))}else if("timestampValue"in e){const i=e.timestampValue;this.le(t,20),"string"==typeof i?t.de(i):(t.de(`${i.seconds||""}`),t.fe(i.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,t),this.we(t);else if("bytesValue"in e)this.le(t,30),t.me(hp(e.bytesValue)),this.we(t);else if("referenceValue"in e)this.ge(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.le(t,45),t.fe(i.latitude||0),t.fe(i.longitude||0)}else"mapValue"in e?q2(e)?this.le(t,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,t),this.we(t)):"arrayValue"in e?(this.pe(e.arrayValue,t),this.we(t)):bt()}_e(e,t){this.le(t,25),this.Ie(e,t)}Ie(e,t){t.de(e)}ye(e,t){const i=e.fields||{};this.le(t,55);for(const r of Object.keys(i))this._e(r,t),this.ae(i[r],t)}pe(e,t){const i=e.values||[];this.le(t,50);for(const r of i)this.ae(r,t)}ge(e,t){this.le(t,37),st.fromName(e).path.forEach(i=>{this.le(t,60),this.Ie(i,t)})}le(e,t){e.fe(t)}we(e){e.fe(2)}}function _8(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function e$(n){const e=64-function(t){let i=0;for(let r=0;r<8;++r){const s=_8(255&t[r]);if(i+=s,8!==s)break}return i}(n);return Math.ceil(e/8)}Ep.Te=new Ep;class y8{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ee(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Ae(i.value),i=t.next();this.Re()}be(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Pe(i.value),i=t.next();this.ve()}Ve(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Ae(i);else if(i<2048)this.Ae(960|i>>>6),this.Ae(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Ae(480|i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i);else{const r=t.codePointAt(0);this.Ae(240|r>>>18),this.Ae(128|63&r>>>12),this.Ae(128|63&r>>>6),this.Ae(128|63&r)}}this.Re()}Se(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Pe(i);else if(i<2048)this.Pe(960|i>>>6),this.Pe(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Pe(480|i>>>12),this.Pe(128|63&i>>>6),this.Pe(128|63&i);else{const r=t.codePointAt(0);this.Pe(240|r>>>18),this.Pe(128|63&r>>>12),this.Pe(128|63&r>>>6),this.Pe(128|63&r)}}this.ve()}De(e){const t=this.Ce(e),i=e$(t);this.xe(1+i),this.buffer[this.position++]=255&i;for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=255&t[r]}Ne(e){const t=this.Ce(e),i=e$(t);this.xe(1+i),this.buffer[this.position++]=~(255&i);for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}ke(){this.Oe(255),this.Oe(255)}Me(){this.Fe(255),this.Fe(255)}reset(){this.position=0}seed(e){this.xe(e.length),this.buffer.set(e,this.position),this.position+=e.length}$e(){return this.buffer.slice(0,this.position)}Ce(e){const t=function(r){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,r,!1),new Uint8Array(s.buffer)}(e),i=0!=(128&t[0]);t[0]^=i?255:128;for(let r=1;r<t.length;++r)t[r]^=i?255:0;return t}Ae(e){const t=255&e;0===t?(this.Oe(0),this.Oe(255)):255===t?(this.Oe(255),this.Oe(0)):this.Oe(t)}Pe(e){const t=255&e;0===t?(this.Fe(0),this.Fe(255)):255===t?(this.Fe(255),this.Fe(0)):this.Fe(e)}Re(){this.Oe(0),this.Oe(1)}ve(){this.Fe(0),this.Fe(1)}Oe(e){this.xe(1),this.buffer[this.position++]=e}Fe(e){this.xe(1),this.buffer[this.position++]=~e}xe(e){const t=e+this.position;if(t<=this.buffer.length)return;let i=2*this.buffer.length;i<t&&(i=t);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class v8{constructor(e){this.Be=e}me(e){this.Be.Ee(e)}de(e){this.Be.Ve(e)}fe(e){this.Be.De(e)}he(){this.Be.ke()}}class b8{constructor(e){this.Be=e}me(e){this.Be.be(e)}de(e){this.Be.Se(e)}fe(e){this.Be.Ne(e)}he(){this.Be.Me()}}class uw{constructor(){this.Be=new y8,this.Le=new v8(this.Be),this.Ue=new b8(this.Be)}seed(e){this.Be.seed(e)}qe(e){return 0===e?this.Le:this.Ue}$e(){return this.Be.$e()}reset(){this.Be.reset()}}class wp{constructor(e,t,i,r){this.indexId=e,this.documentKey=t,this.arrayValue=i,this.directionalValue=r}Ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,i=new Uint8Array(t);return i.set(this.directionalValue,0),t!==e?i.set([0],this.directionalValue.length):++i[i.length-1],new wp(this.indexId,this.documentKey,this.arrayValue,i)}}function Cp(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=t$(n.arrayValue,e.arrayValue),0!==t?t:(t=t$(n.directionalValue,e.directionalValue),0!==t?t:st.comparator(n.documentKey,e.documentKey)))}function t$(n,e){for(let t=0;t<n.length&&t<e.length;++t){const i=n[t]-e[t];if(0!==i)return i}return n.length-e.length}class E8{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ge=e.orderBy,this.Qe=[];for(const t of e.filters){const i=t;i.dt()?this.je=i:this.Qe.push(i)}}We(e){const t=UO(e);if(void 0!==t&&!this.ze(t))return!1;const i=cp(e);let r=0,s=0;for(;r<i.length&&this.ze(i[r]);++r);if(r===i.length)return!0;if(void 0!==this.je){const a=i[r];if(!this.He(this.je,a)||!this.Je(this.Ge[s++],a))return!1;++r}for(;r<i.length;++r){const a=i[r];if(s>=this.Ge.length||!this.Je(this.Ge[s++],a))return!1}return!0}ze(e){for(const t of this.Qe)if(this.He(t,e))return!0;return!1}He(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Je(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class w8{constructor(){this.Ye=new u1}addToCollectionParentIndex(e,t){return this.Ye.add(t),pe.resolve()}getCollectionParents(e,t){return pe.resolve(this.Ye.getEntries(t))}addFieldIndex(e,t){return pe.resolve()}deleteFieldIndex(e,t){return pe.resolve()}getDocumentsMatchingTarget(e,t){return pe.resolve(null)}getIndexType(e,t){return pe.resolve(0)}getFieldIndexes(e,t){return pe.resolve([])}getNextCollectionGroupToUpdate(e){return pe.resolve(null)}getMinOffset(e,t){return pe.resolve(ro.min())}getMinOffsetFromCollectionGroup(e,t){return pe.resolve(ro.min())}updateCollectionGroup(e,t,i){return pe.resolve()}updateIndexEntries(e,t){return pe.resolve()}}class u1{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new $n(bn.comparator),s=!r.has(i);return this.index[t]=r.add(i),s}has(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new $n(bn.comparator)).toArray()}}const tA=new Uint8Array(0);class C8{constructor(e,t){this.user=e,this.databaseId=t,this.Xe=new u1,this.Ze=new Od(i=>mp(i),(i,r)=>KE(i,r)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Xe.has(t)){const i=t.lastSegment(),r=t.popLast();e.addOnCommittedListener(()=>{this.Xe.add(t)});const s={collectionId:i,parent:fs(r)};return n$(e).put(s)}return pe.resolve()}getCollectionParents(e,t){const i=[],r=IDBKeyRange.bound([t,""],[O2(t),""],!1,!0);return n$(e).W(r).next(s=>{for(const a of s){if(a.collectionId!==t)break;i.push(Pl(a.parent))}return i})}addFieldIndex(e,t){const i=nA(e),r={indexId:(a=t).indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(d=>[d.fieldPath.canonicalString(),d.kind])};var a;delete r.indexId;const s=i.add(r);if(t.indexState){const a=hw(e);return s.next(d=>{a.put(QU(d,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return s.next()}deleteFieldIndex(e,t){const i=nA(e),r=hw(e),s=dw(e);return i.delete(t.indexId).next(()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const i=dw(e);let r=!0;const s=new Map;return pe.forEach(this.tn(t),a=>this.en(e,a).next(d=>{r&&(r=!!d),s.set(a,d)})).next(()=>{if(r){let a=rn();const d=[];return pe.forEach(s,(f,p)=>{var _;Ke("IndexedDbIndexManager",`Using index ${_=f,`id=${_.indexId}|cg=${_.collectionGroup}|f=${_.fields.map(U=>`${U.fieldPath}:${U.kind}`).join(",")}`} to execute ${mp(t)}`);const v=function(U,ee){const oe=UO(ee);if(void 0===oe)return null;for(const ue of GD(U,oe.fieldPath))switch(ue.op){case"array-contains-any":return ue.value.arrayValue.values||[];case"array-contains":return[ue.value]}return null}(p,f),w=function(U,ee){const oe=new Map;for(const ue of cp(ee))for(const ye of GD(U,ue.fieldPath))switch(ye.op){case"==":case"in":oe.set(ue.fieldPath.canonicalString(),ye.value);break;case"not-in":case"!=":return oe.set(ue.fieldPath.canonicalString(),ye.value),Array.from(oe.values())}return null}(p,f),D=function(U,ee){const oe=[];let ue=!0;for(const ye of cp(ee)){const ze=0===ye.kind?X2(U,ye.fieldPath,U.startAt):J2(U,ye.fieldPath,U.startAt);oe.push(ze.value),ue&&(ue=ze.inclusive)}return new Rd(oe,ue)}(p,f),A=function(U,ee){const oe=[];let ue=!0;for(const ye of cp(ee)){const ze=0===ye.kind?J2(U,ye.fieldPath,U.endAt):X2(U,ye.fieldPath,U.endAt);oe.push(ze.value),ue&&(ue=ze.inclusive)}return new Rd(oe,ue)}(p,f),x=this.nn(f,p,D),k=this.nn(f,p,A),F=this.sn(f,p,w),L=this.rn(f.indexId,v,x,D.inclusive,k,A.inclusive,F);return pe.forEach(L,U=>i.J(U,t.limit).next(ee=>{ee.forEach(oe=>{const ue=st.fromSegments(oe.documentKey);a.has(ue)||(a=a.add(ue),d.push(ue))})}))}).next(()=>d)}return pe.resolve(null)})}tn(e){let t=this.Ze.get(e);return t||(t=[e],this.Ze.set(e,t),t)}rn(e,t,i,r,s,a,d){const f=(null!=t?t.length:1)*Math.max(i.length,s.length),p=f/(null!=t?t.length:1),_=[];for(let v=0;v<f;++v){const w=t?this.on(t[v/p]):tA,D=this.un(e,w,i[v%p],r),A=this.cn(e,w,s[v%p],a),x=d.map(k=>this.un(e,w,k,!0));_.push(...this.createRange(D,A,x))}return _}un(e,t,i,r){const s=new wp(e,st.empty(),t,i);return r?s:s.Ke()}cn(e,t,i,r){const s=new wp(e,st.empty(),t,i);return r?s.Ke():s}en(e,t){const i=new E8(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next(s=>{let a=null;for(const d of s)i.We(d)&&(!a||d.fields.length>a.fields.length)&&(a=d);return a})}getIndexType(e,t){let i=2;return pe.forEach(this.tn(t),r=>this.en(e,r).next(s=>{s?0!==i&&s.fields.length<function(a){let d=new $n(Ii.comparator),f=!1;for(const p of a.filters){const _=p;_.field.isKeyField()||("array-contains"===_.op||"array-contains-any"===_.op?f=!0:d=d.add(_.field))}for(const p of a.orderBy)p.field.isKeyField()||(d=d.add(p.field));return d.size+(f?1:0)}(r)&&(i=1):i=0})).next(()=>i)}an(e,t){const i=new uw;for(const r of cp(e)){const s=t.data.field(r.fieldPath);if(null==s)return null;const a=i.qe(r.kind);Ep.Te.ce(s,a)}return i.$e()}on(e){const t=new uw;return Ep.Te.ce(e,t.qe(0)),t.$e()}hn(e,t){const i=new uw;return Ep.Te.ce(pp(this.databaseId,t),i.qe(function(r){const s=cp(r);return 0===s.length?0:s[s.length-1].kind}(e))),i.$e()}sn(e,t,i){if(null===i)return[];let r=[];r.push(new uw);let s=0;for(const a of cp(e)){const d=i[s++];for(const f of r)if(this.ln(t,a.fieldPath)&&YE(d))r=this.fn(r,a,d);else{const p=f.qe(a.kind);Ep.Te.ce(d,p)}}return this.dn(r)}nn(e,t,i){return this.sn(e,t,i.position)}dn(e){const t=[];for(let i=0;i<e.length;++i)t[i]=e[i].$e();return t}fn(e,t,i){const r=[...e],s=[];for(const a of i.arrayValue.values||[])for(const d of r){const f=new uw;f.seed(d.$e()),Ep.Te.ce(a,f.qe(t.kind)),s.push(f)}return s}ln(e,t){return!!e.filters.find(i=>i instanceof Or&&i.field.isEqual(t)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(e,t){const i=nA(e),r=hw(e);return(t?i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):i.W()).next(s=>{const a=[];return pe.forEach(s,d=>r.get([d.indexId,this.uid]).next(f=>{a.push(function(p,_){const v=_?new HE(_.sequenceNumber,new ro(vp(_.readTime),new st(Pl(_.documentKey)),_.largestBatchId)):HE.empty(),w=p.fields.map(([D,A])=>new BD(Ii.fromServerFormat(D),A));return new VD(p.indexId,p.collectionGroup,w,v)}(d,f))})).next(()=>a)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((i,r)=>{const s=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==s?s:Yt(i.collectionGroup,r.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,i){const r=nA(e),s=hw(e);return this._n(e).next(a=>r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(d=>pe.forEach(d,f=>s.put(QU(f.indexId,this.user,a,i)))))}updateIndexEntries(e,t){const i=new Map;return pe.forEach(t,(r,s)=>{const a=i.get(r.collectionGroup);return(a?pe.resolve(a):this.getFieldIndexes(e,r.collectionGroup)).next(d=>(i.set(r.collectionGroup,d),pe.forEach(d,f=>this.wn(e,r,f).next(p=>{const _=this.mn(s,f);return p.isEqual(_)?pe.resolve():this.gn(e,s,f,p,_)}))))})}yn(e,t,i,r){return dw(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.hn(i,t.key),documentKey:t.key.path.toArray()})}pn(e,t,i,r){return dw(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.hn(i,t.key),t.key.path.toArray()])}wn(e,t,i){const r=dw(e);let s=new $n(Cp);return r.Z({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.hn(i,t)])},(a,d)=>{s=s.add(new wp(i.indexId,t,d.arrayValue,d.directionalValue))}).next(()=>s)}mn(e,t){let i=new $n(Cp);const r=this.an(t,e);if(null==r)return i;const s=UO(t);if(null!=s){const a=e.data.field(s.fieldPath);if(YE(a))for(const d of a.arrayValue.values||[])i=i.add(new wp(t.indexId,e.key,this.on(d),r))}else i=i.add(new wp(t.indexId,e.key,tA,r));return i}gn(e,t,i,r,s){Ke("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const a=[];return function(d,f,p,_,v){const w=d.getIterator(),D=f.getIterator();let A=my(w),x=my(D);for(;A||x;){let k=!1,F=!1;if(A&&x){const L=p(A,x);L<0?F=!0:L>0&&(k=!0)}else null!=A?F=!0:k=!0;k?(_(x),x=my(D)):F?(v(A),A=my(w)):(A=my(w),x=my(D))}}(r,s,Cp,d=>{a.push(this.yn(e,t,i,d))},d=>{a.push(this.pn(e,t,i,d))}),pe.waitFor(a)}_n(e){let t=1;return hw(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,s)=>{s.done(),t=r.sequenceNumber+1}).next(()=>t)}createRange(e,t,i){i=i.sort((a,d)=>Cp(a,d)).filter((a,d,f)=>!d||0!==Cp(a,f[d-1]));const r=[];r.push(e);for(const a of i){const d=Cp(a,e),f=Cp(a,t);if(0===d)r[0]=e.Ke();else if(d>0&&f<0)r.push(a),r.push(a.Ke());else if(f>0)break}r.push(t);const s=[];for(let a=0;a<r.length;a+=2)s.push(IDBKeyRange.bound([r[a].indexId,this.uid,r[a].arrayValue,r[a].directionalValue,tA,[]],[r[a+1].indexId,this.uid,r[a+1].arrayValue,r[a+1].directionalValue,tA,[]]));return s}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(i$)}getMinOffset(e,t){return pe.mapArray(this.tn(t),i=>this.en(e,i).next(r=>r||bt())).next(i$)}}function n$(n){return mr(n,"collectionParents")}function dw(n){return mr(n,"indexEntries")}function nA(n){return mr(n,"indexConfiguration")}function hw(n){return mr(n,"indexState")}function i$(n){Ft(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;$O(r,e)<0&&(e=r),t<r.largestBatchId&&(t=r.largestBatchId)}return new ro(e.readTime,e.documentKey,t)}const r$={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class zs{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new zs(e,zs.DEFAULT_COLLECTION_PERCENTILE,zs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function s$(n,e,t){const i=n.store("mutations"),r=n.store("documentMutations"),s=[],a=IDBKeyRange.only(t.batchId);let d=0;const f=i.Z({range:a},(_,v,w)=>(d++,w.delete()));s.push(f.next(()=>{Ft(1===d)}));const p=[];for(const _ of t.mutations){const v=zU(e,_.key.path,t.batchId);s.push(r.delete(v)),p.push(_.key)}return pe.waitFor(s).next(()=>p)}function iA(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw bt();e=n.noDocument}return JSON.stringify(e).length}zs.DEFAULT_COLLECTION_PERCENTILE=10,zs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,zs.DEFAULT=new zs(41943040,zs.DEFAULT_COLLECTION_PERCENTILE,zs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),zs.DISABLED=new zs(-1,0,0);class rA{constructor(e,t,i,r){this.userId=e,this.It=t,this.indexManager=i,this.referenceDelegate=r,this.In={}}static oe(e,t,i,r){Ft(""!==e.uid);const s=e.isAuthenticated()?e.uid:"";return new rA(s,t,i,r)}checkEmpty(e){let t=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Nd(e).Z({index:"userMutationsIndex",range:i},(r,s,a)=>{t=!1,a.done()}).next(()=>t)}addMutationBatch(e,t,i,r){const s=Ty(e),a=Nd(e);return a.add({}).next(d=>{Ft("number"==typeof d);const f=new s1(d,t,i,r),p=function(w,D,A){const x=A.baseMutations.map(F=>aw(w.re,F)),k=A.mutations.map(F=>aw(w.re,F));return{userId:D,batchId:A.batchId,localWriteTimeMs:A.localWriteTime.toMillis(),baseMutations:x,mutations:k}}(this.It,this.userId,f),_=[];let v=new $n((w,D)=>Yt(w.canonicalString(),D.canonicalString()));for(const w of r){const D=zU(this.userId,w.key.path,d);v=v.add(w.key.path.popLast()),_.push(a.put(p)),_.push(s.put(D,X5))}return v.forEach(w=>{_.push(this.indexManager.addToCollectionParentIndex(e,w))}),e.addOnCommittedListener(()=>{this.In[d]=f.keys()}),pe.waitFor(_).next(()=>f)})}lookupMutationBatch(e,t){return Nd(e).get(t).next(i=>i?(Ft(i.userId===this.userId),bp(this.It,i)):null)}Tn(e,t){return this.In[t]?pe.resolve(this.In[t]):this.lookupMutationBatch(e,t).next(i=>{if(i){const r=i.keys();return this.In[t]=r,r}return null})}getNextMutationBatchAfterBatchId(e,t){const i=t+1,r=IDBKeyRange.lowerBound([this.userId,i]);let s=null;return Nd(e).Z({index:"userMutationsIndex",range:r},(a,d,f)=>{d.userId===this.userId&&(Ft(d.batchId>=i),s=bp(this.It,d)),f.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return Nd(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(r,s,a)=>{i=s.batchId,a.done()}).next(()=>i)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Nd(e).W("userMutationsIndex",t).next(i=>i.map(r=>bp(this.It,r)))}getAllMutationBatchesAffectingDocumentKey(e,t){const i=XD(this.userId,t.path),r=IDBKeyRange.lowerBound(i),s=[];return Ty(e).Z({range:r},(a,d,f)=>{const[p,_,v]=a,w=Pl(_);if(p===this.userId&&t.path.isEqual(w))return Nd(e).get(v).next(D=>{if(!D)throw bt();Ft(D.userId===this.userId),s.push(bp(this.It,D))});f.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new $n(Yt);const r=[];return t.forEach(s=>{const a=XD(this.userId,s.path),d=IDBKeyRange.lowerBound(a),f=Ty(e).Z({range:d},(p,_,v)=>{const[w,D,A]=p,x=Pl(D);w===this.userId&&s.path.isEqual(x)?i=i.add(A):v.done()});r.push(f)}),pe.waitFor(r).next(()=>this.En(e,i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1,s=XD(this.userId,i),a=IDBKeyRange.lowerBound(s);let d=new $n(Yt);return Ty(e).Z({range:a},(f,p,_)=>{const[v,w,D]=f,A=Pl(w);v===this.userId&&i.isPrefixOf(A)?A.length===r&&(d=d.add(D)):_.done()}).next(()=>this.En(e,d))}En(e,t){const i=[],r=[];return t.forEach(s=>{r.push(Nd(e).get(s).next(a=>{if(null===a)throw bt();Ft(a.userId===this.userId),i.push(bp(this.It,a))}))}),pe.waitFor(r).next(()=>i)}removeMutationBatch(e,t){return s$(e.ie,this.userId,t).next(i=>(e.addOnCommittedListener(()=>{this.An(t.batchId)}),pe.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(e,r))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return pe.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return Ty(e).Z({range:i},(s,a,d)=>{if(s[0]===this.userId){const f=Pl(s[1]);r.push(f)}else d.done()}).next(()=>{Ft(0===r.length)})})}containsKey(e,t){return o$(e,this.userId,t)}Rn(e){return a$(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function o$(n,e,t){const i=XD(e,t.path),r=i[1],s=IDBKeyRange.lowerBound(i);let a=!1;return Ty(n).Z({range:s,X:!0},(d,f,p)=>{const[_,v,w]=d;_===e&&v===r&&(a=!0),p.done()}).next(()=>a)}function Nd(n){return mr(n,"mutations")}function Ty(n){return mr(n,"documentMutations")}function a$(n){return mr(n,"mutationQueues")}class Sp{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new Sp(0)}static vn(){return new Sp(-1)}}class S8{constructor(e,t){this.referenceDelegate=e,this.It=t}allocateTargetId(e){return this.Vn(e).next(t=>{const i=new Sp(t.highestTargetId);return t.highestTargetId=i.next(),this.Sn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(t=>Lt.fromTimestamp(new ui(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,i){return this.Vn(e).next(r=>(r.highestListenSequenceNumber=t,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.Sn(e,r)))}addTargetData(e,t){return this.Dn(e,t).next(()=>this.Vn(e).next(i=>(i.targetCount+=1,this.Cn(t,i),this.Sn(e,i))))}updateTargetData(e,t){return this.Dn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Dy(e).delete(t.targetId)).next(()=>this.Vn(e)).next(i=>(Ft(i.targetCount>0),i.targetCount-=1,this.Sn(e,i)))}removeTargets(e,t,i){let r=0;const s=[];return Dy(e).Z((a,d)=>{const f=lw(d);f.sequenceNumber<=t&&null===i.get(f.targetId)&&(r++,s.push(this.removeTargetData(e,f)))}).next(()=>pe.waitFor(s)).next(()=>r)}forEachTarget(e,t){return Dy(e).Z((i,r)=>{const s=lw(r);t(s)})}Vn(e){return l$(e).get("targetGlobalKey").next(t=>(Ft(null!==t),t))}Sn(e,t){return l$(e).put("targetGlobalKey",t)}Dn(e,t){return Dy(e).put(ZU(this.It,t))}Cn(e,t){let i=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,i=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.Vn(e).next(t=>t.targetCount)}getTargetData(e,t){const i=mp(t),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let s=null;return Dy(e).Z({range:r,index:"queryTargetsIndex"},(a,d,f)=>{const p=lw(d);KE(t,p.target)&&(s=p,f.done())}).next(()=>s)}addMatchingKeys(e,t,i){const r=[],s=Fd(e);return t.forEach(a=>{const d=fs(a.path);r.push(s.put({targetId:i,path:d})),r.push(this.referenceDelegate.addReference(e,i,a))}),pe.waitFor(r)}removeMatchingKeys(e,t,i){const r=Fd(e);return pe.forEach(t,s=>{const a=fs(s.path);return pe.waitFor([r.delete([i,a]),this.referenceDelegate.removeReference(e,i,s)])})}removeMatchingKeysForTargetId(e,t){const i=Fd(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(e,t){const i=IDBKeyRange.bound([t],[t+1],!1,!0),r=Fd(e);let s=rn();return r.Z({range:i,X:!0},(a,d,f)=>{const p=Pl(a[1]),_=new st(p);s=s.add(_)}).next(()=>s)}containsKey(e,t){const i=fs(t.path),r=IDBKeyRange.bound([i],[O2(i)],!1,!0);let s=0;return Fd(e).Z({index:"documentTargetsIndex",X:!0,range:r},([a,d],f,p)=>{0!==a&&(s++,p.done())}).next(()=>s>0)}se(e,t){return Dy(e).get(t).next(i=>i?lw(i):null)}}function Dy(n){return mr(n,"targets")}function l$(n){return mr(n,"targetGlobal")}function Fd(n){return mr(n,"targetDocuments")}function c$([n,e],[t,i]){const r=Yt(n,t);return 0===r?Yt(e,i):r}class I8{constructor(e){this.xn=e,this.buffer=new $n(c$),this.Nn=0}kn(){return++this.Nn}On(e){const t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();c$(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class T8{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Mn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}get started(){return null!==this.Mn}Fn(e){var t=this;Ke("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,te.Z)(function*(){t.Mn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(i){Dd(i)?Ke("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield Td(i)}yield t.Fn(3e5)}))}}class D8{constructor(e,t){this.$n=e,this.params=t}calculateTargetCount(e,t){return this.$n.Bn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(0===t)return pe.resolve($s.at);const i=new I8(t);return this.$n.forEachTarget(e,r=>i.On(r.sequenceNumber)).next(()=>this.$n.Ln(e,r=>i.On(r))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.$n.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.$n.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Ke("LruGarbageCollector","Garbage collection skipped; disabled"),pe.resolve(r$)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(Ke("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),r$):this.Un(e,t))}getCacheSize(e){return this.$n.getCacheSize(e)}Un(e,t){let i,r,s,a,d,f,p;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(v=>(v>this.params.maximumSequenceNumbersToCollect?(Ke("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),r=this.params.maximumSequenceNumbersToCollect):r=v,a=Date.now(),this.nthSequenceNumber(e,r))).next(v=>(i=v,d=Date.now(),this.removeTargets(e,i,t))).next(v=>(s=v,f=Date.now(),this.removeOrphanedDocuments(e,i))).next(v=>(p=Date.now(),VO()<=hr.in.DEBUG&&Ke("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${a-_}ms\n\tDetermined least recently used ${r} in `+(d-a)+`ms\n\tRemoved ${s} targets in `+(f-d)+`ms\n\tRemoved ${v} documents in `+(p-f)+`ms\nTotal Duration: ${p-_}ms`),pe.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:v})))}}class A8{constructor(e,t){this.db=e,this.garbageCollector=new D8(this,t)}Bn(e){const t=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next(i=>t.next(r=>i+r))}qn(e){let t=0;return this.Ln(e,i=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Ln(e,t){return this.Kn(e,(i,r)=>t(r))}addReference(e,t,i){return sA(e,i)}removeReference(e,t,i){return sA(e,i)}removeTargets(e,t,i){return this.db.getTargetCache().removeTargets(e,t,i)}markPotentiallyOrphaned(e,t){return sA(e,t)}Gn(e,t){return function(i,r){let s=!1;return a$(i).tt(a=>o$(i,a,r).next(d=>(d&&(s=!0),pe.resolve(!d)))).next(()=>s)}(e,t)}removeOrphanedDocuments(e,t){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let s=0;return this.Kn(e,(a,d)=>{if(d<=t){const f=this.Gn(e,a).next(p=>{if(!p)return s++,i.getEntry(e,a).next(()=>(i.removeEntry(a,Lt.min()),Fd(e).delete([0,fs(a.path)])))});r.push(f)}}).next(()=>pe.waitFor(r)).next(()=>i.apply(e)).next(()=>s)}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,t){return sA(e,t)}Kn(e,t){const i=Fd(e);let r,s=$s.at;return i.Z({index:"documentTargetsIndex"},([a,d],{path:f,sequenceNumber:p})=>{0===a?(s!==$s.at&&t(new st(Pl(r)),s),s=p,r=f):s=$s.at}).next(()=>{s!==$s.at&&t(new st(Pl(r)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function sA(n,e){return Fd(n).put((i=n.currentSequenceNumber,{targetId:0,path:fs(e.path),sequenceNumber:i}));var i}class u${constructor(){this.changes=new Od(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ei.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return void 0!==i?pe.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class x8{constructor(e){this.It=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,i){return Ip(e).put(i)}removeEntry(e,t,i){return Ip(e).delete(function(r,s){const a=r.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],JD(s),a[a.length-1]]}(t,i))}updateMetadata(e,t){return this.getMetadata(e).next(i=>(i.byteSize+=t,this.Qn(e,i)))}getEntry(e,t){let i=ei.newInvalidDocument(t);return Ip(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(fw(t))},(r,s)=>{i=this.jn(t,s)}).next(()=>i)}Wn(e,t){let i={size:0,document:ei.newInvalidDocument(t)};return Ip(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(fw(t))},(r,s)=>{i={document:this.jn(t,s),size:iA(s)}}).next(()=>i)}getEntries(e,t){let i=Hs();return this.zn(e,t,(r,s)=>{const a=this.jn(r,s);i=i.insert(r,a)}).next(()=>i)}Hn(e,t){let i=Hs(),r=new Ti(st.comparator);return this.zn(e,t,(s,a)=>{const d=this.jn(s,a);i=i.insert(s,d),r=r.insert(s,iA(a))}).next(()=>({documents:i,Jn:r}))}zn(e,t,i){if(t.isEmpty())return pe.resolve();let r=new $n(p$);t.forEach(f=>r=r.add(f));const s=IDBKeyRange.bound(fw(r.first()),fw(r.last())),a=r.getIterator();let d=a.getNext();return Ip(e).Z({index:"documentKeyIndex",range:s},(f,p,_)=>{const v=st.fromSegments([...p.prefixPath,p.collectionGroup,p.documentId]);for(;d&&p$(d,v)<0;)i(d,null),d=a.getNext();d&&d.isEqual(v)&&(i(d,p),d=a.hasNext()?a.getNext():null),d?_.j(fw(d)):_.done()}).next(()=>{for(;d;)i(d,null),d=a.hasNext()?a.getNext():null})}getAllFromCollection(e,t,i){const r=[t.popLast().toArray(),t.lastSegment(),JD(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],s=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Ip(e).W(IDBKeyRange.bound(r,s,!0)).next(a=>{let d=Hs();for(const f of a){const p=this.jn(st.fromSegments(f.prefixPath.concat(f.collectionGroup,f.documentId)),f);d=d.insert(p.key,p)}return d})}getAllFromCollectionGroup(e,t,i,r){let s=Hs();const a=f$(t,i),d=f$(t,ro.max());return Ip(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(a,d,!0)},(f,p,_)=>{const v=this.jn(st.fromSegments(p.prefixPath.concat(p.collectionGroup,p.documentId)),p);s=s.insert(v.key,v),s.size===r&&_.done()}).next(()=>s)}newChangeBuffer(e){return new M8(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return h$(e).get("remoteDocumentGlobalKey").next(t=>(Ft(!!t),t))}Qn(e,t){return h$(e).put("remoteDocumentGlobalKey",t)}jn(e,t){if(t){const i=function m8(n,e){let t;if(e.document)t=FU(n.re,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const i=st.fromSegments(e.noDocument.path),r=vp(e.noDocument.readTime);t=ei.newNoDocument(i,r),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return bt();{const i=st.fromSegments(e.unknownDocument.path),r=vp(e.unknownDocument.version);t=ei.newUnknownDocument(i,r)}}return e.readTime&&t.setReadTime(function(i){const r=new ui(i[0],i[1]);return Lt.fromTimestamp(r)}(e.readTime)),t}(this.It,t);if(!i.isNoDocument()||!i.version.isEqual(Lt.min()))return i}return ei.newInvalidDocument(e)}}function d$(n){return new x8(n)}class M8 extends u${constructor(e,t){super(),this.Yn=e,this.trackRemovals=t,this.Xn=new Od(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(e){const t=[];let i=0,r=new $n((s,a)=>Yt(s.canonicalString(),a.canonicalString()));return this.changes.forEach((s,a)=>{const d=this.Xn.get(s);if(t.push(this.Yn.removeEntry(e,s,d.readTime)),a.isValidDocument()){const f=YU(this.Yn.It,a);r=r.add(s.path.popLast()),i+=iA(f)-d.size,t.push(this.Yn.addEntry(e,s,f))}else if(i-=d.size,this.trackRemovals){const f=YU(this.Yn.It,a.convertToNoDocument(Lt.min()));t.push(this.Yn.addEntry(e,s,f))}}),r.forEach(s=>{t.push(this.Yn.indexManager.addToCollectionParentIndex(e,s))}),t.push(this.Yn.updateMetadata(e,i)),pe.waitFor(t)}getFromCache(e,t){return this.Yn.Wn(e,t).next(i=>(this.Xn.set(t,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(e,t){return this.Yn.Hn(e,t).next(({documents:i,Jn:r})=>(r.forEach((s,a)=>{this.Xn.set(s,{size:a,readTime:i.get(s).readTime})}),i))}}function h$(n){return mr(n,"remoteDocumentGlobal")}function Ip(n){return mr(n,"remoteDocumentsV14")}function fw(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function f$(n,e){const t=e.documentKey.path.toArray();return[n,JD(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function p$(n,e){const t=n.path.toArray(),i=e.path.toArray();let r=0;for(let s=0;s<t.length-2&&s<i.length-2;++s)if(r=Yt(t[s],i[s]),r)return r;return r=Yt(t.length,i.length),r||(r=Yt(t[t.length-2],i[i.length-2]),r||Yt(t[t.length-1],i[i.length-1]))}class k8{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class m${constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(i=r,this.getBaseDocument(e,t,i))).next(r=>(null!==i&&JE(i.mutation,r,so.empty(),ui.now()),r))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,rn()).next(()=>i))}getLocalViewOfDocuments(e,t,i=rn()){const r=Rl();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,i).next(s=>{let a=ew();return s.forEach((d,f)=>{a=a.insert(d,f.overlayedDocument)}),a}))}getOverlayedDocuments(e,t){const i=Rl();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,rn()))}populateOverlays(e,t,i){const r=[];return i.forEach(s=>{t.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(e,r).next(s=>{s.forEach((a,d)=>{t.set(a,d)})})}computeViews(e,t,i,r){let s=Hs();const a=tw(),d=tw();return t.forEach((f,p)=>{const _=i.get(p.key);r.has(p.key)&&(void 0===_||_.mutation instanceof Yc)?s=s.insert(p.key,p):void 0!==_&&(a.set(p.key,_.mutation.getFieldMask()),JE(_.mutation,p,_.mutation.getFieldMask(),ui.now()))}),this.recalculateAndSaveOverlays(e,s).next(f=>(f.forEach((p,_)=>a.set(p,_)),t.forEach((p,_)=>{var v;return d.set(p,new k8(_,null!==(v=a.get(p))&&void 0!==v?v:null))}),d))}recalculateAndSaveOverlays(e,t){const i=tw();let r=new Ti((a,d)=>a-d),s=rn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(a=>{for(const d of a)d.keys().forEach(f=>{const p=t.get(f);if(null===p)return;let _=i.get(f)||so.empty();_=d.applyToLocalView(p,_),i.set(f,_);const v=(r.get(d.batchId)||rn()).add(f);r=r.insert(d.batchId,v)})}).next(()=>{const a=[],d=r.getReverseIterator();for(;d.hasNext();){const f=d.getNext(),p=f.key,_=f.value,v=IU();_.forEach(w=>{if(!s.has(w)){const D=gU(t.get(w),i.get(w));null!==D&&v.set(w,D),s=s.add(w)}}),a.push(this.documentOverlayCache.saveOverlays(e,p,v))}return pe.waitFor(a)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i){return st.isDocumentKey((r=t).path)&&null===r.collectionGroup&&0===r.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):ZO(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i):this.getDocumentsMatchingCollectionQuery(e,t,i);var r}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next(s=>{const a=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-s.size):pe.resolve(Rl());let d=-1,f=s;return a.next(p=>pe.forEach(p,(_,v)=>(d<v.largestBatchId&&(d=v.largestBatchId),s.get(_)?pe.resolve():this.getBaseDocument(e,_,v).next(w=>{f=f.insert(_,w)}))).next(()=>this.populateOverlays(e,p,s)).next(()=>this.computeViews(e,f,p,rn())).next(_=>({batchId:d,changes:SU(_)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new st(t)).next(i=>{let r=ew();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,t,i){const r=t.collectionGroup;let s=ew();return this.indexManager.getCollectionParents(e,r).next(a=>pe.forEach(a,d=>{const f=(p=t,_=d.child(r),new qc(_,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt));var p,_;return this.getDocumentsMatchingCollectionQuery(e,f,i).next(p=>{p.forEach((_,v)=>{s=s.insert(_,v)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,i){let r;return this.remoteDocumentCache.getAllFromCollection(e,t.path,i).next(s=>(r=s,this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId))).next(s=>{s.forEach((d,f)=>{const p=f.getKey();null===r.get(p)&&(r=r.insert(p,ei.newInvalidDocument(p)))});let a=ew();return r.forEach((d,f)=>{const p=s.get(d);void 0!==p&&JE(p.mutation,f,so.empty(),ui.now()),QO(t,f)&&(a=a.insert(d,f))}),a})}getBaseDocument(e,t,i){return null===i||1===i.mutation.type?this.remoteDocumentCache.getEntry(e,t):pe.resolve(ei.newInvalidDocument(t))}}class R8{constructor(e){this.It=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return pe.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var i;return this.Zn.set(t.id,{id:(i=t).id,version:i.version,createTime:pr(i.createTime)}),pe.resolve()}getNamedQuery(e,t){return pe.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(i=t).name,query:l1(i.bundledQuery),readTime:pr(i.readTime)}),pe.resolve();var i}}class O8{constructor(){this.overlays=new Ti(st.comparator),this.es=new Map}getOverlay(e,t){return pe.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Rl();return pe.forEach(t,r=>this.getOverlay(e,r).next(s=>{null!==s&&i.set(r,s)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((r,s)=>{this.ue(e,t,s)}),pe.resolve()}removeOverlaysForBatchId(e,t,i){const r=this.es.get(i);return void 0!==r&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.es.delete(i)),pe.resolve()}getOverlaysForCollection(e,t,i){const r=Rl(),s=t.length+1,a=new st(t.child("")),d=this.overlays.getIteratorFrom(a);for(;d.hasNext();){const f=d.getNext().value,p=f.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===s&&f.largestBatchId>i&&r.set(f.getKey(),f)}return pe.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let s=new Ti((p,_)=>p-_);const a=this.overlays.getIterator();for(;a.hasNext();){const p=a.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>i){let _=s.get(p.largestBatchId);null===_&&(_=Rl(),s=s.insert(p.largestBatchId,_)),_.set(p.getKey(),p)}}const d=Rl(),f=s.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((p,_)=>d.set(p,_)),!(d.size()>=r)););return pe.resolve(d)}ue(e,t,i){const r=this.overlays.get(i.key);if(null!==r){const a=this.es.get(r.largestBatchId).delete(i.key);this.es.set(r.largestBatchId,a)}this.overlays=this.overlays.insert(i.key,new a1(t,i));let s=this.es.get(t);void 0===s&&(s=rn(),this.es.set(t,s)),this.es.set(t,s.add(i.key))}}class d1{constructor(){this.ns=new $n(gr.ss),this.rs=new $n(gr.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const i=new gr(e,t);this.ns=this.ns.add(i),this.rs=this.rs.add(i)}us(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.cs(new gr(e,t))}hs(e,t){e.forEach(i=>this.removeReference(i,t))}ls(e){const t=new st(new bn([])),i=new gr(t,e),r=new gr(t,e+1),s=[];return this.rs.forEachInRange([i,r],a=>{this.cs(a),s.push(a.key)}),s}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new st(new bn([])),i=new gr(t,e),r=new gr(t,e+1);let s=rn();return this.rs.forEachInRange([i,r],a=>{s=s.add(a.key)}),s}containsKey(e){const t=new gr(e,0),i=this.ns.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)}}class gr{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return st.comparator(e.key,t.key)||Yt(e._s,t._s)}static os(e,t){return Yt(e._s,t._s)||st.comparator(e.key,t.key)}}class P8{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new $n(gr.ss)}checkEmpty(e){return pe.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,i,r){const s=this.ws;this.ws++;const a=new s1(s,t,i,r);this.mutationQueue.push(a);for(const d of r)this.gs=this.gs.add(new gr(d.key,s)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return pe.resolve(a)}lookupMutationBatch(e,t){return pe.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const r=this.ps(t+1),s=r<0?0:r;return pe.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return pe.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return pe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new gr(t,0),r=new gr(t,Number.POSITIVE_INFINITY),s=[];return this.gs.forEachInRange([i,r],a=>{const d=this.ys(a._s);s.push(d)}),pe.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new $n(Yt);return t.forEach(r=>{const s=new gr(r,0),a=new gr(r,Number.POSITIVE_INFINITY);this.gs.forEachInRange([s,a],d=>{i=i.add(d._s)})}),pe.resolve(this.Is(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1;let s=i;st.isDocumentKey(s)||(s=s.child(""));const a=new gr(new st(s),0);let d=new $n(Yt);return this.gs.forEachWhile(f=>{const p=f.key.path;return!!i.isPrefixOf(p)&&(p.length===r&&(d=d.add(f._s)),!0)},a),pe.resolve(this.Is(d))}Is(e){const t=[];return e.forEach(i=>{const r=this.ys(i);null!==r&&t.push(r)}),t}removeMutationBatch(e,t){Ft(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let i=this.gs;return pe.forEach(t.mutations,r=>{const s=new gr(r.key,t.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.gs=i})}An(e){}containsKey(e,t){const i=new gr(t,0),r=this.gs.firstAfterOrEqual(i);return pe.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return pe.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class N8{constructor(e){this.Es=e,this.docs=new Ti(st.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,r=this.docs.get(i),s=r?r.size:0,a=this.Es(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return pe.resolve(i?i.document.mutableCopy():ei.newInvalidDocument(t))}getEntries(e,t){let i=Hs();return t.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():ei.newInvalidDocument(r))}),pe.resolve(i)}getAllFromCollection(e,t,i){let r=Hs();const s=new st(t.child("")),a=this.docs.getIteratorFrom(s);for(;a.hasNext();){const{key:d,value:{document:f}}=a.getNext();if(!t.isPrefixOf(d.path))break;d.path.length>t.length+1||$O(N2(f),i)<=0||(r=r.insert(f.key,f.mutableCopy()))}return pe.resolve(r)}getAllFromCollectionGroup(e,t,i,r){bt()}As(e,t){return pe.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new F8(this)}getSize(e){return pe.resolve(this.size)}}class F8 extends u${constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this.Yn.addEntry(e,r)):this.Yn.removeEntry(i)}),pe.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class L8{constructor(e){this.persistence=e,this.Rs=new Od(t=>mp(t),KE),this.lastRemoteSnapshotVersion=Lt.min(),this.highestTargetId=0,this.bs=0,this.Ps=new d1,this.targetCount=0,this.vs=Sp.Pn()}forEachTarget(e,t){return this.Rs.forEach((i,r)=>t(r)),pe.resolve()}getLastRemoteSnapshotVersion(e){return pe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return pe.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),pe.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.bs&&(this.bs=t),pe.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new Sp(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,pe.resolve()}updateTargetData(e,t){return this.Dn(t),pe.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,pe.resolve()}removeTargets(e,t,i){let r=0;const s=[];return this.Rs.forEach((a,d)=>{d.sequenceNumber<=t&&null===i.get(d.targetId)&&(this.Rs.delete(a),s.push(this.removeMatchingKeysForTargetId(e,d.targetId)),r++)}),pe.waitFor(s).next(()=>r)}getTargetCount(e){return pe.resolve(this.targetCount)}getTargetData(e,t){const i=this.Rs.get(t)||null;return pe.resolve(i)}addMatchingKeys(e,t,i){return this.Ps.us(t,i),pe.resolve()}removeMatchingKeys(e,t,i){this.Ps.hs(t,i);const r=this.persistence.referenceDelegate,s=[];return r&&t.forEach(a=>{s.push(r.markPotentiallyOrphaned(e,a))}),pe.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),pe.resolve()}getMatchingKeysForTargetId(e,t){const i=this.Ps.ds(t);return pe.resolve(i)}containsKey(e,t){return pe.resolve(this.Ps.containsKey(t))}}class g${constructor(e,t){this.Vs={},this.overlays={},this.Ss=new $s(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new L8(this),this.indexManager=new w8,this.remoteDocumentCache=new N8(i=>this.referenceDelegate.xs(i)),this.It=new qU(t),this.Ns=new R8(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new O8,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Vs[e.toKey()];return i||(i=new P8(t,this.referenceDelegate),this.Vs[e.toKey()]=i),i}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,i){Ke("MemoryPersistence","Starting transaction:",e);const r=new V8(this.Ss.next());return this.referenceDelegate.ks(),i(r).next(s=>this.referenceDelegate.Os(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Ms(e,t){return pe.or(Object.values(this.Vs).map(i=>()=>i.containsKey(e,t)))}}class V8 extends L2{constructor(e){super(),this.currentSequenceNumber=e}}class oA{constructor(e){this.persistence=e,this.Fs=new d1,this.$s=null}static Bs(e){return new oA(e)}get Ls(){if(this.$s)return this.$s;throw bt()}addReference(e,t,i){return this.Fs.addReference(i,t),this.Ls.delete(i.toString()),pe.resolve()}removeReference(e,t,i){return this.Fs.removeReference(i,t),this.Ls.add(i.toString()),pe.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),pe.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(r=>this.Ls.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(s=>this.Ls.add(s.toString()))}).next(()=>i.removeTargetData(e,t))}ks(){this.$s=new Set}Os(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return pe.forEach(this.Ls,i=>{const r=st.fromPath(i);return this.Us(e,r).next(s=>{s||t.removeEntry(r,Lt.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.Us(e,t).next(i=>{i?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}Us(e,t){return pe.or([()=>pe.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ms(e,t)])}}class B8{constructor(e){this.It=e}$(e,t,i,r){const s=new UD("createOrUpgrade",t);var d;i<1&&r>=1&&(e.createObjectStore("owner"),(d=e).createObjectStore("mutationQueues",{keyPath:"userId"}),d.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",HU,{unique:!0}),d.createObjectStore("documentMutations"),_$(e),function(d){d.createObjectStore("remoteDocuments")}(e));let a=pe.resolve();return i<3&&r>=3&&(0!==i&&(function(d){d.deleteObjectStore("targetDocuments"),d.deleteObjectStore("targets"),d.deleteObjectStore("targetGlobal")}(e),_$(e)),a=a.next(()=>function(d){const f=d.store("targetGlobal"),p={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Lt.min().toTimestamp(),targetCount:0};return f.put("targetGlobalKey",p)}(s))),i<4&&r>=4&&(0!==i&&(a=a.next(()=>function(d,f){return f.store("mutations").W().next(p=>{d.deleteObjectStore("mutations"),d.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",HU,{unique:!0});const _=f.store("mutations"),v=p.map(w=>_.put(w));return pe.waitFor(v)})}(e,s))),a=a.next(()=>{!function(d){d.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),i<5&&r>=5&&(a=a.next(()=>this.qs(s))),i<6&&r>=6&&(a=a.next(()=>(function(d){d.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(s)))),i<7&&r>=7&&(a=a.next(()=>this.Gs(s))),i<8&&r>=8&&(a=a.next(()=>this.Qs(e,s))),i<9&&r>=9&&(a=a.next(()=>{!function(d){d.objectStoreNames.contains("remoteDocumentChanges")&&d.deleteObjectStore("remoteDocumentChanges")}(e)})),i<10&&r>=10&&(a=a.next(()=>this.js(s))),i<11&&r>=11&&(a=a.next(()=>{(function(d){d.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(d){d.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),i<12&&r>=12&&(a=a.next(()=>{!function(d){const f=d.createObjectStore("documentOverlays",{keyPath:u8});f.createIndex("collectionPathOverlayIndex",d8,{unique:!1}),f.createIndex("collectionGroupOverlayIndex",h8,{unique:!1})}(e)})),i<13&&r>=13&&(a=a.next(()=>function(d){const f=d.createObjectStore("remoteDocumentsV14",{keyPath:J5});f.createIndex("documentKeyIndex",e8),f.createIndex("collectionGroupIndex",t8)}(e)).next(()=>this.Ws(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(a=a.next(()=>this.zs(e,s))),i<15&&r>=15&&(a=a.next(()=>function(d){d.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),d.createObjectStore("indexState",{keyPath:o8}).createIndex("sequenceNumberIndex",a8,{unique:!1}),d.createObjectStore("indexEntries",{keyPath:l8}).createIndex("documentKeyIndex",c8,{unique:!1})}(e))),a}Ks(e){let t=0;return e.store("remoteDocuments").Z((i,r)=>{t+=iA(r)}).next(()=>{const i={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}qs(e){const t=e.store("mutationQueues"),i=e.store("mutations");return t.W().next(r=>pe.forEach(r,s=>{const a=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return i.W("userMutationsIndex",a).next(d=>pe.forEach(d,f=>{Ft(f.userId===s.userId);const p=bp(this.It,f);return s$(e,s.userId,p).next(()=>{})}))}))}Gs(e){const t=e.store("targetDocuments"),i=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(r=>{const s=[];return i.Z((a,d)=>{const f=new bn(a),p=[0,fs(f)];s.push(t.get(p).next(_=>_?pe.resolve():t.put({targetId:0,path:fs(f),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>pe.waitFor(s))})}Qs(e,t){e.createObjectStore("collectionParents",{keyPath:s8});const i=t.store("collectionParents"),r=new u1,s=a=>{if(r.add(a)){const d=a.lastSegment(),f=a.popLast();return i.put({collectionId:d,parent:fs(f)})}};return t.store("remoteDocuments").Z({X:!0},(a,d)=>{const f=new bn(a);return s(f.popLast())}).next(()=>t.store("documentMutations").Z({X:!0},([a,d,f],p)=>{const _=Pl(d);return s(_.popLast())}))}js(e){const t=e.store("targets");return t.Z((i,r)=>{const s=lw(r),a=ZU(this.It,s);return t.put(a)})}Ws(e,t){const i=t.store("remoteDocuments"),r=[];return i.Z((s,a)=>{const d=t.store("remoteDocumentsV14"),f=(p=a,p.document?new st(bn.fromString(p.document.name).popFirst(5)):p.noDocument?st.fromSegments(p.noDocument.path):p.unknownDocument?st.fromSegments(p.unknownDocument.path):bt()).path.toArray();var p;const _={prefixPath:f.slice(0,f.length-2),collectionGroup:f[f.length-2],documentId:f[f.length-1],readTime:a.readTime||[0,0],unknownDocument:a.unknownDocument,noDocument:a.noDocument,document:a.document,hasCommittedMutations:!!a.hasCommittedMutations};r.push(d.put(_))}).next(()=>pe.waitFor(r))}zs(e,t){const i=t.store("mutations"),r=d$(this.It),s=new g$(oA.Bs,this.It.re);return i.W().next(a=>{const d=new Map;return a.forEach(f=>{var p;let _=null!==(p=d.get(f.userId))&&void 0!==p?p:rn();bp(this.It,f).keys().forEach(v=>_=_.add(v)),d.set(f.userId,_)}),pe.forEach(d,(f,p)=>{const _=new fr(p),v=eA.oe(this.It,_),w=s.getIndexManager(_),D=rA.oe(_,this.It,w,s.referenceDelegate);return new m$(r,D,v,w).recalculateAndSaveOverlaysForDocumentKeys(new r1(t,$s.at),f).next()})})}}function _$(n){n.createObjectStore("targetDocuments",{keyPath:i8}).createIndex("documentTargetsIndex",r8,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",n8,{unique:!0}),n.createObjectStore("targetGlobal")}const h1="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class f1{constructor(e,t,i,r,s,a,d,f,p,_,v=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=i,this.Hs=s,this.window=a,this.document=d,this.Js=p,this.Ys=_,this.Xs=v,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=w=>Promise.resolve(),!f1.C())throw new Ue(be.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new A8(this,r),this.ii=t+"main",this.It=new qU(f),this.ri=new Ua(this.ii,this.Xs,new B8(this.It)),this.Cs=new S8(this.referenceDelegate,this.It),this.remoteDocumentCache=d$(this.It),this.Ns=new g8,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===_&&Pi("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ue(be.FAILED_PRECONDITION,h1);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new $s(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){var t=this;return this.si=function(){var i=(0,te.Z)(function*(r){if(t.started)return e(r)});return function(r){return i.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(function(){var t=(0,te.Z)(function*(i){null===i.newVersion&&(yield e())});return function(i){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((0,te.Z)(function*(){t.started&&(yield t.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>aA(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(t=>this.isPrimary&&!t?this._i(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(Dd(e))return Ke("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Ke("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return pw(e).get("owner").next(t=>pe.resolve(this.mi(t)))}gi(e){return aA(e).delete(this.clientId)}yi(){var e=this;return(0,te.Z)(function*(){if(e.isPrimary&&!e.pi(e.ni,18e5)){e.ni=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=mr(i,"clientMetadata");return r.W().next(s=>{const a=e.Ii(s,18e5),d=s.filter(f=>-1===a.indexOf(f));return pe.forEach(d,f=>r.delete(f.clientId)).next(()=>d)})}).catch(()=>[]);if(e.oi)for(const i of t)e.oi.removeItem(e.Ti(i.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?pe.resolve(!0):pw(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)){if(this.mi(t)&&this.networkEnabled)return!0;if(!this.mi(t)){if(!t.allowTabSynchronization)throw new Ue(be.FAILED_PRECONDITION,h1);return!1}}return!(!this.networkEnabled||!this.inForeground)||aA(e).W().next(i=>void 0===this.Ii(i,5e3).find(r=>{if(this.clientId!==r.clientId){const a=!this.inForeground&&r.inForeground,d=this.networkEnabled===r.networkEnabled;if(!this.networkEnabled&&r.networkEnabled||a&&d)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Ke("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,te.Z)(function*(){e.Ds=!1,e.Ai(),e.ei&&(e.ei.cancel(),e.ei=null),e.Ri(),e.bi(),yield e.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const i=new r1(t,$s.at);return e._i(i).next(()=>e.gi(i))}),e.ri.close(),e.Pi()})()}Ii(e,t){return e.filter(i=>this.pi(i.updateTimeMs,t)&&!this.Ei(i.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>aA(e).W().next(t=>this.Ii(t,18e5).map(i=>i.clientId)))}get started(){return this.Ds}getMutationQueue(e,t){return rA.oe(e,this.It,t,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new C8(e,this.It.re.databaseId)}getDocumentOverlayCache(e){return eA.oe(this.It,e)}getBundleCache(){return this.Ns}runTransaction(e,t,i){Ke("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",s=15===(a=this.Xs)?p8:14===a?WU:13===a?GU:12===a?f8:11===a?jU:void bt();var a;let d;return this.ri.runTransaction(e,r,s,f=>(d=new r1(f,this.Ss?this.Ss.next():$s.at),"readwrite-primary"===t?this.fi(d).next(p=>!!p||this.di(d)).next(p=>{if(!p)throw Pi(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new Ue(be.FAILED_PRECONDITION,F2);return i(d)}).next(p=>this.wi(d).next(()=>p)):this.Vi(d).next(()=>i(d)))).then(f=>(d.raiseOnCommittedEvent(),f))}Vi(e){return pw(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)&&!this.mi(t)&&!(this.Ys||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Ue(be.FAILED_PRECONDITION,h1)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return pw(e).put("owner",t)}static C(){return Ua.C()}_i(e){const t=pw(e);return t.get("owner").next(i=>this.mi(i)?(Ke("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):pe.resolve())}pi(e,t){const i=Date.now();return!(e<i-t||e>i&&(Pi(`Detected an update time that is in the future: ${e} > ${i}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,q.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var t;try{const i=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return Ke("IndexedDbPersistence",`Client '${e}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return Pi("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){Pi("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function pw(n){return mr(n,"owner")}function aA(n){return mr(n,"clientMetadata")}function p1(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class m1{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.Si=i,this.Di=r}static Ci(e,t){let i=rn(),r=rn();for(const s of t.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new m1(e,t.fromCache,i,r)}}class y${constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,i,r){return this.ki(e,t).next(s=>s||this.Oi(e,t,r,i)).next(s=>s||this.Mi(e,t))}ki(e,t){if(rU(t))return pe.resolve(null);let i=hs(t);return this.indexManager.getIndexType(e,i).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=WD(t,null,"F"),i=hs(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(s=>{const a=rn(...s);return this.Ni.getDocuments(e,a).next(d=>this.indexManager.getMinOffset(e,i).next(f=>{const p=this.Fi(t,d);return this.$i(t,p,a,f.readTime)?this.ki(e,WD(t,null,"F")):this.Bi(e,p,t,f)}))})))}Oi(e,t,i,r){return rU(t)||r.isEqual(Lt.min())?this.Mi(e,t):this.Ni.getDocuments(e,i).next(s=>{const a=this.Fi(t,s);return this.$i(t,a,i,r)?this.Mi(e,t):(VO()<=hr.in.DEBUG&&Ke("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),KO(t)),this.Bi(e,a,t,P2(r,-1)))})}Fi(e,t){let i=new $n(aU(e));return t.forEach((r,s)=>{QO(e,s)&&(i=i.add(s))}),i}$i(e,t,i,r){if(null===e.limit)return!1;if(i.size!==t.size)return!0;const s="F"===e.limitType?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Mi(e,t){return VO()<=hr.in.DEBUG&&Ke("QueryEngine","Using full collection scan to execute query:",KO(t)),this.Ni.getDocumentsMatchingQuery(e,t,ro.min())}Bi(e,t,i,r){return this.Ni.getDocumentsMatchingQuery(e,i,r).next(s=>(t.forEach(a=>{s=s.insert(a.key,a)}),s))}}class U8{constructor(e,t,i,r){this.persistence=e,this.Li=t,this.It=r,this.Ui=new Ti(Yt),this.qi=new Od(s=>mp(s),KE),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(i)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new m$(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ui))}}function v$(n,e,t,i){return new U8(n,e,t,i)}function b$(n,e){return g1.apply(this,arguments)}function g1(){return g1=(0,te.Z)(function*(n,e){const t=at(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,t.Qi(e),t.mutationQueue.getAllMutationBatches(i))).next(s=>{const a=[],d=[];let f=rn();for(const p of r){a.push(p.batchId);for(const _ of p.mutations)f=f.add(_.key)}for(const p of s){d.push(p.batchId);for(const _ of p.mutations)f=f.add(_.key)}return t.localDocuments.getDocuments(i,f).next(p=>({ji:p,removedBatchIds:a,addedBatchIds:d}))})})}),g1.apply(this,arguments)}function $8(n,e){const t=at(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),s=t.Gi.newChangeBuffer({trackRemovals:!0});return function(a,d,f,p){const _=f.batch,v=_.keys();let w=pe.resolve();return v.forEach(D=>{w=w.next(()=>p.getEntry(d,D)).next(A=>{const x=f.docVersions.get(D);Ft(null!==x),A.version.compareTo(x)<0&&(_.applyToRemoteDocument(A,f),A.isValidDocument()&&(A.setReadTime(f.commitVersion),p.addEntry(A)))})}),w.next(()=>a.mutationQueue.removeMutationBatch(d,_))}(t,i,e,s).next(()=>s.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(a){let d=rn();for(let f=0;f<a.mutationResults.length;++f)a.mutationResults[f].transformResults.length>0&&(d=d.add(a.batch.mutations[f].key));return d}(e))).next(()=>t.localDocuments.getDocuments(i,r))})}function E$(n){const e=at(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function H8(n,e){const t=at(n),i=e.snapshotVersion;let r=t.Ui;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const a=t.Gi.newChangeBuffer({trackRemovals:!0});r=t.Ui;const d=[];e.targetChanges.forEach((_,v)=>{const w=r.get(v);if(!w)return;d.push(t.Cs.removeMatchingKeys(s,_.removedDocuments,v).next(()=>t.Cs.addMatchingKeys(s,_.addedDocuments,v)));let D=w.withSequenceNumber(s.currentSequenceNumber);var A,x,k;e.targetMismatches.has(v)?D=D.withResumeToken(ir.EMPTY_BYTE_STRING,Lt.min()).withLastLimboFreeSnapshotVersion(Lt.min()):_.resumeToken.approximateByteSize()>0&&(D=D.withResumeToken(_.resumeToken,i)),r=r.insert(v,D),x=D,k=_,(0===(A=w).resumeToken.approximateByteSize()||x.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=3e8||k.addedDocuments.size+k.modifiedDocuments.size+k.removedDocuments.size>0)&&d.push(t.Cs.updateTargetData(s,D))});let f=Hs(),p=rn();if(e.documentUpdates.forEach(_=>{e.resolvedLimboDocuments.has(_)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(s,_))}),d.push(w$(s,a,e.documentUpdates).next(_=>{f=_.Wi,p=_.zi})),!i.isEqual(Lt.min())){const _=t.Cs.getLastRemoteSnapshotVersion(s).next(v=>t.Cs.setTargetsMetadata(s,s.currentSequenceNumber,i));d.push(_)}return pe.waitFor(d).next(()=>a.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,f,p)).next(()=>f)}).then(s=>(t.Ui=r,s))}function w$(n,e,t){let i=rn(),r=rn();return t.forEach(s=>i=i.add(s)),e.getEntries(n,i).next(s=>{let a=Hs();return t.forEach((d,f)=>{const p=s.get(d);f.isFoundDocument()!==p.isFoundDocument()&&(r=r.add(d)),f.isNoDocument()&&f.version.isEqual(Lt.min())?(e.removeEntry(d,f.readTime),a=a.insert(d,f)):!p.isValidDocument()||f.version.compareTo(p.version)>0||0===f.version.compareTo(p.version)&&p.hasPendingWrites?(e.addEntry(f),a=a.insert(d,f)):Ke("LocalStore","Ignoring outdated watch update for ",d,". Current version:",p.version," Watch version:",f.version)}),{Wi:a,zi:r}})}function z8(n,e){const t=at(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function Ay(n,e){const t=at(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.Cs.getTargetData(i,e).next(s=>s?(r=s,pe.resolve(r)):t.Cs.allocateTargetId(i).next(a=>(r=new Pd(e,a,0,i.currentSequenceNumber),t.Cs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=t.Ui.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.Ui=t.Ui.insert(i.targetId,i),t.qi.set(e,i.targetId)),i})}function xy(n,e,t){return _1.apply(this,arguments)}function _1(){return _1=(0,te.Z)(function*(n,e,t){const i=at(n),r=i.Ui.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",s,a=>i.persistence.referenceDelegate.removeTarget(a,r)))}catch(a){if(!Dd(a))throw a;Ke("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}i.Ui=i.Ui.remove(e),i.qi.delete(r.target)}),_1.apply(this,arguments)}function lA(n,e,t){const i=at(n);let r=Lt.min(),s=rn();return i.persistence.runTransaction("Execute query","readonly",a=>function(d,f,p){const _=at(d),v=_.qi.get(p);return void 0!==v?pe.resolve(_.Ui.get(v)):_.Cs.getTargetData(f,p)}(i,a,hs(e)).next(d=>{if(d)return r=d.lastLimboFreeSnapshotVersion,i.Cs.getMatchingKeysForTargetId(a,d.targetId).next(f=>{s=f})}).next(()=>i.Li.getDocumentsMatchingQuery(a,e,t?r:Lt.min(),t?s:rn())).next(d=>(I$(i,oU(e),d),{documents:d,Hi:s})))}function C$(n,e){const t=at(n),i=at(t.Cs),r=t.Ui.get(e);return r?Promise.resolve(r.target):t.persistence.runTransaction("Get target data","readonly",s=>i.se(s,e).next(a=>a?a.target:null))}function S$(n,e){const t=at(n),i=t.Ki.get(e)||Lt.min();return t.persistence.runTransaction("Get new document changes","readonly",r=>t.Gi.getAllFromCollectionGroup(r,e,P2(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(I$(t,e,r),r))}function I$(n,e,t){let i=n.Ki.get(e)||Lt.min();t.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),n.Ki.set(e,i)}function y1(){return y1=(0,te.Z)(function*(n,e,t,i){const r=at(n);let s=rn(),a=Hs();for(const p of t){const _=e.Ji(p.metadata.name);p.document&&(s=s.add(_));const v=e.Yi(p);v.setReadTime(e.Xi(p.metadata.readTime)),a=a.insert(_,v)}const d=r.Gi.newChangeBuffer({trackRemovals:!0}),f=yield Ay(r,(p=i,hs(yy(bn.fromString(`__bundle__/docs/${p}`)))));var p;return r.persistence.runTransaction("Apply bundle documents","readwrite",p=>w$(p,d,a).next(_=>(d.apply(p),_)).next(_=>r.Cs.removeMatchingKeysForTargetId(p,f.targetId).next(()=>r.Cs.addMatchingKeys(p,s,f.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(p,_.Wi,_.zi)).next(()=>_.Wi)))}),y1.apply(this,arguments)}function G8(n,e){return v1.apply(this,arguments)}function v1(){return v1=(0,te.Z)(function*(n,e,t=rn()){const i=yield Ay(n,hs(l1(e.bundledQuery))),r=at(n);return r.persistence.runTransaction("Save named query","readwrite",s=>{const a=pr(e.readTime);if(i.snapshotVersion.compareTo(a)>=0)return r.Ns.saveNamedQuery(s,e);const d=i.withResumeToken(ir.EMPTY_BYTE_STRING,a);return r.Ui=r.Ui.insert(d.targetId,d),r.Cs.updateTargetData(s,d).next(()=>r.Cs.removeMatchingKeysForTargetId(s,i.targetId)).next(()=>r.Cs.addMatchingKeys(s,t,i.targetId)).next(()=>r.Ns.saveNamedQuery(s,e))})}),v1.apply(this,arguments)}function T$(n,e){return`firestore_clients_${n}_${e}`}function D$(n,e,t){let i=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(i+=`_${e.uid}`),i}function b1(n,e){return`firestore_targets_${n}_${e}`}class cA{constructor(e,t,i,r){this.user=e,this.batchId=t,this.state=i,this.error=r}static Zi(e,t,i){const r=JSON.parse(i);let s,a="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return a&&r.error&&(a="string"==typeof r.error.message&&"string"==typeof r.error.code,a&&(s=new Ue(r.error.code,r.error.message))),a?new cA(e,t,r.state,s):(Pi("SharedClientState",`Failed to parse mutation state for ID '${t}': ${i}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class mw{constructor(e,t,i){this.targetId=e,this.state=t,this.error=i}static Zi(e,t){const i=JSON.parse(t);let r,s="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code,s&&(r=new Ue(i.error.code,i.error.message))),s?new mw(e,i.state,r):(Pi("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class uA{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Zi(e,t){const i=JSON.parse(t);let r="object"==typeof i&&i.activeTargetIds instanceof Array,s=KD();for(let a=0;r&&a<i.activeTargetIds.length;++a)r=z2(i.activeTargetIds[a]),s=s.add(i.activeTargetIds[a]);return r?new uA(e,s):(Pi("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class E1{constructor(e,t){this.clientId=e,this.onlineState=t}static Zi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new E1(t.clientId,t.onlineState):(Pi("SharedClientState",`Failed to parse online state: ${e}`),null)}}class w1{constructor(){this.activeTargetIds=KD()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class C1{constructor(e,t,i,r,s){this.window=e,this.Hs=t,this.persistenceKey=i,this.sr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new Ti(Yt),this.started=!1,this.cr=[];const a=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.ar=T$(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new w1),this.lr=new RegExp(`^firestore_clients_${a}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${a}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${a}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(d){return`firestore_bundle_loaded_v2_${d}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,te.Z)(function*(){const t=yield e.syncEngine.vi();for(const r of t){if(r===e.sr)continue;const s=e.getItem(T$(e.persistenceKey,r));if(s){const a=uA.Zi(r,s);a&&(e.ur=e.ur.insert(a.clientId,a))}}e.gr();const i=e.storage.getItem(e.wr);if(i){const r=e.yr(i);r&&e.pr(r)}for(const r of e.cr)e.rr(r);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let t=!1;return this.ur.forEach((i,r)=>{r.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,t,i){this.Tr(e,t,i),this.Er(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(b1(this.persistenceKey,e));if(i){const r=mw.Zi(e,i);r&&(t=r.state)}}return this.Ar.er(e),this.gr(),t}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(b1(this.persistenceKey,e))}updateQueryState(e,t,i){this.Rr(e,t,i)}handleUserChange(e,t,i){t.forEach(r=>{this.Er(r)}),this.currentUser=e,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Ke("SharedClientState","READ",e,t),t}setItem(e,t){Ke("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Ke("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){var t=this;const i=e;if(i.storageArea===this.storage){if(Ke("SharedClientState","EVENT",i.key,i.newValue),i.key===this.ar)return void Pi("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,te.Z)(function*(){if(t.started){if(null!==i.key)if(t.lr.test(i.key)){if(null==i.newValue){const r=t.vr(i.key);return t.Vr(r,null)}{const r=t.Sr(i.key,i.newValue);if(r)return t.Vr(r.clientId,r)}}else if(t.dr.test(i.key)){if(null!==i.newValue){const r=t.Dr(i.key,i.newValue);if(r)return t.Cr(r)}}else if(t._r.test(i.key)){if(null!==i.newValue){const r=t.Nr(i.key,i.newValue);if(r)return t.kr(r)}}else if(i.key===t.wr){if(null!==i.newValue){const r=t.yr(i.newValue);if(r)return t.pr(r)}}else if(i.key===t.hr){const r=function(s){let a=$s.at;if(null!=s)try{const d=JSON.parse(s);Ft("number"==typeof d),a=d}catch(d){Pi("SharedClientState","Failed to read sequence number from WebStorage",d)}return a}(i.newValue);r!==$s.at&&t.sequenceNumberHandler(r)}else if(i.key===t.mr){const r=t.Or(i.newValue);yield Promise.all(r.map(s=>t.syncEngine.Mr(s)))}}else t.cr.push(i)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,t,i){const r=new cA(this.currentUser,e,t,i),s=D$(this.persistenceKey,this.currentUser,e);this.setItem(s,r.tr())}Er(e){const t=D$(this.persistenceKey,this.currentUser,e);this.removeItem(t)}br(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:e}))}Rr(e,t,i){const r=b1(this.persistenceKey,e),s=new mw(e,t,i);this.setItem(r,s.tr())}Pr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}vr(e){const t=this.lr.exec(e);return t?t[1]:null}Sr(e,t){const i=this.vr(e);return uA.Zi(i,t)}Dr(e,t){const i=this.dr.exec(e),r=Number(i[1]);return cA.Zi(new fr(void 0!==i[2]?i[2]:null),r,t)}Nr(e,t){const i=this._r.exec(e),r=Number(i[1]);return mw.Zi(r,t)}yr(e){return E1.Zi(e)}Or(e){return JSON.parse(e)}Cr(e){var t=this;return(0,te.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Fr(e.batchId,e.state,e.error);Ke("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,t){const i=t?this.ur.insert(e,t):this.ur.remove(e),r=this.Ir(this.ur),s=this.Ir(i),a=[],d=[];return s.forEach(f=>{r.has(f)||a.push(f)}),r.forEach(f=>{s.has(f)||d.push(f)}),this.syncEngine.Br(a,d).then(()=>{this.ur=i})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let t=KD();return e.forEach((i,r)=>{t=t.unionWith(r.activeTargetIds)}),t}}class A${constructor(){this.Lr=new w1,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.Lr.er(e),this.Ur[e]||"not-current"}updateQueryState(e,t,i){this.Ur[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.Ur[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new w1,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class W8{qr(e){}shutdown(){}}class x${constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){Ke("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){Ke("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const q8={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Y8{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class Z8 extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,t,i,r,s){const a=this.ho(e,t);Ke("RestConnection","Sending: ",a,i);const d={};return this.lo(d,r,s),this.fo(e,a,d,i).then(f=>(Ke("RestConnection","Received: ",f),f),f=>{throw lp("RestConnection",`${e} failed with error: `,f,"url: ",a,"request:",i),f})}_o(e,t,i,r,s,a){return this.ao(e,t,i,r,s)}lo(e,t,i){e["X-Goog-Api-Client"]="gl-js/ fire/"+fy,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((r,s)=>e[s]=r),i&&i.headers.forEach((r,s)=>e[s]=r)}ho(e,t){return`${this.oo}/v1/${t}:${q8[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,i,r){return new Promise((s,a)=>{const d=new W6;d.setWithCredentials(!0),d.listenOnce(z6.COMPLETE,()=>{var p;try{switch(d.getLastErrorCode()){case LO.NO_ERROR:const _=d.getResponseJson();Ke("Connection","XHR received:",JSON.stringify(_)),s(_);break;case LO.TIMEOUT:Ke("Connection",'RPC "'+e+'" timed out'),a(new Ue(be.DEADLINE_EXCEEDED,"Request time out"));break;case LO.HTTP_ERROR:const v=d.getStatus();if(Ke("Connection",'RPC "'+e+'" failed with status:',v,"response text:",d.getResponseText()),v>0){let w=d.getResponseJson();Array.isArray(w)&&(w=w[0]);const D=null===(p=w)||void 0===p?void 0:p.error;if(D&&D.status&&D.message){const A=function(x){const k=x.toLowerCase().replace(/_/g,"-");return Object.values(be).indexOf(k)>=0?k:be.UNKNOWN}(D.status);a(new Ue(A,D.message))}else a(new Ue(be.UNKNOWN,"Server responded with status "+d.getStatus()))}else a(new Ue(be.UNAVAILABLE,"Connection failed."));break;default:bt()}}finally{Ke("Connection",'RPC "'+e+'" completed.')}});const f=JSON.stringify(r);d.send(t,"POST",f,i,15)})}wo(e,t,i){const r=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=$6(),a=H6(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(d.xmlHttpFactory=new G6({})),this.lo(d.initMessageHeaders,t,i),d.encodeInitMessageHeaders=!0;const f=r.join("");Ke("Connection","Creating WebChannel: "+f,d);const p=s.createWebChannel(f,d);let _=!1,v=!1;const w=new Y8({Hr:A=>{v?Ke("Connection","Not sending because WebChannel is closed:",A):(_||(Ke("Connection","Opening WebChannel transport."),p.open(),_=!0),Ke("Connection","WebChannel sending:",A),p.send(A))},Jr:()=>p.close()}),D=(A,x,k)=>{A.listen(x,F=>{try{k(F)}catch(L){setTimeout(()=>{throw L},0)}})};return D(p,LD.EventType.OPEN,()=>{v||Ke("Connection","WebChannel transport opened.")}),D(p,LD.EventType.CLOSE,()=>{v||(v=!0,Ke("Connection","WebChannel transport closed"),w.io())}),D(p,LD.EventType.ERROR,A=>{v||(v=!0,lp("Connection","WebChannel transport errored:",A),w.io(new Ue(be.UNAVAILABLE,"The operation could not be completed")))}),D(p,LD.EventType.MESSAGE,A=>{var x;if(!v){const k=A.data[0];Ft(!!k);const F=k,L=F.error||(null===(x=F[0])||void 0===x?void 0:x.error);if(L){Ke("Connection","WebChannel received error:",L);const U=L.status;let ee=function(ue){const ye=Wi[ue];if(void 0!==ye)return wU(ye)}(U),oe=L.message;void 0===ee&&(ee=be.INTERNAL,oe="Unknown error status: "+U+" with message "+L.message),v=!0,w.io(new Ue(ee,oe)),p.close()}else Ke("Connection","WebChannel received:",k),w.ro(k)}}),D(a,j6.STAT_EVENT,A=>{A.stat===A2.PROXY?Ke("Connection","Detected buffering proxy"):A.stat===A2.NOPROXY&&Ke("Connection","Detected no buffering proxy")}),setTimeout(()=>{w.so()},0),w}}function M$(){return typeof window<"u"?window:null}function dA(){return typeof document<"u"?document:null}function gw(n){return new U5(n,!0)}class S1{constructor(e,t,i=1e3,r=1.5,s=6e4){this.Hs=e,this.timerId=t,this.mo=i,this.yo=r,this.po=s,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),i=Math.max(0,Date.now()-this.Eo),r=Math.max(0,t-i);r>0&&Ke("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,r,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class k${constructor(e,t,i,r,s,a,d,f){this.Hs=e,this.vo=i,this.Vo=r,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=d,this.listener=f,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new S1(e,t)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return(0,te.Z)(function*(){e.No()&&(yield e.close(0))})()}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return(0,te.Z)(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,t){var i=this;return(0,te.Z)(function*(){i.Lo(),i.Uo(),i.xo.cancel(),i.So++,4!==e?i.xo.reset():t&&t.code===be.RESOURCE_EXHAUSTED?(Pi(t.toString()),Pi("Using maximum backoff delay to prevent overloading the backend."),i.xo.Ao()):t&&t.code===be.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.qo(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.Zr(t)})()}qo(){}auth(){this.state=1;const e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.So===t&&this.Go(i,r)},i=>{e(()=>{const r=new Ue(be.UNKNOWN,"Fetching auth token failed: "+i.message);return this.Qo(r)})})}Go(e,t){const i=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr(()=>{i(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(r=>{i(()=>this.Qo(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Oo(){var e=this;this.state=5,this.xo.Ro((0,te.Z)(function*(){e.state=0,e.start()}))}Qo(e){return Ke("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget(()=>this.So===e?t():(Ke("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class K8 extends k${constructor(e,t,i,r,s,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,a),this.It=s}jo(e,t){return this.connection.wo("Listen",e,t)}onMessage(e){this.xo.reset();const t=function z5(n,e){let t;if("targetChange"in e){const i="NO_CHANGE"===(f=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===f?1:"REMOVE"===f?2:"CURRENT"===f?3:"RESET"===f?4:bt(),r=e.targetChange.targetIds||[],s=function(f,p){return f.gt?(Ft(void 0===p||"string"==typeof p),ir.fromBase64String(p||"")):(Ft(void 0===p||p instanceof Uint8Array),ir.fromUint8Array(p||new Uint8Array))}(n,e.targetChange.resumeToken),a=e.targetChange.cause,d=a&&function(f){const p=void 0===f.code?be.UNKNOWN:wU(f.code);return new Ue(p,f.message||"")}(a);t=new DU(i,r,s,d||null)}else if("documentChange"in e){const i=e.documentChange,r=Ol(n,i.document.name),s=pr(i.document.updateTime),a=new Rr({mapValue:{fields:i.document.fields}}),d=ei.newFoundDocument(r,s,a);t=new QD(i.targetIds||[],i.removedTargetIds||[],d.key,d)}else if("documentDelete"in e){const i=e.documentDelete,r=Ol(n,i.document),s=i.readTime?pr(i.readTime):Lt.min(),a=ei.newNoDocument(r,s);t=new QD([],i.removedTargetIds||[],a.key,a)}else if("documentRemove"in e){const i=e.documentRemove,r=Ol(n,i.document);t=new QD([],i.removedTargetIds||[],r,null)}else{if(!("filter"in e))return bt();{const i=e.filter,s=new R5(i.count||0);t=new TU(i.targetId,s)}}var f;return t}(this.It,e),i=function(r){if(!("targetChange"in r))return Lt.min();const s=r.targetChange;return s.targetIds&&s.targetIds.length?Lt.min():s.readTime?pr(s.readTime):Lt.min()}(e);return this.listener.Wo(t,i)}zo(e){const t={};t.database=ow(this.It),t.addTarget=function(r,s){let a;const d=s.target;return a=jD(d)?{documents:LU(r,d)}:{query:n1(r,d)},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?a.resumeToken=kU(r,s.resumeToken):s.snapshotVersion.compareTo(Lt.min())>0&&(a.readTime=rw(r,s.snapshotVersion.toTimestamp())),a}(this.It,e);const i=function G5(n,e){const t=function(i,r){switch(r){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return bt()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);i&&(t.labels=i),this.Bo(t)}Ho(e){const t={};t.database=ow(this.It),t.removeTarget=e,this.Bo(t)}}class Q8 extends k${constructor(e,t,i,r,s,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,a),this.It=s,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Jo&&this.Xo([])}jo(e,t){return this.connection.wo("Write",e,t)}onMessage(e){if(Ft(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const t=function j5(n,e){return n&&n.length>0?(Ft(void 0!==e),n.map(t=>function(i,r){let s=pr(i.updateTime?i.updateTime:r);return s.isEqual(Lt.min())&&(s=pr(r)),new x5(s,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),i=pr(e.commitTime);return this.listener.Zo(i,t)}return Ft(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=ow(this.It),this.Bo(e)}Xo(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>aw(this.It,i))};this.Bo(t)}}class X8 extends class{}{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.It=r,this.nu=!1}su(){if(this.nu)throw new Ue(be.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,t,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,s])=>this.connection.ao(e,t,i,r,s)).catch(r=>{throw"FirebaseError"===r.name?(r.code===be.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Ue(be.UNKNOWN,r.toString())})}_o(e,t,i,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection._o(e,t,i,s,a,r)).catch(s=>{throw"FirebaseError"===s.name?(s.code===be.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ue(be.UNKNOWN,s.toString())})}terminate(){this.nu=!0}}class eY{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(Pi(t),this.ou=!1):Ke("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class tY{constructor(e,t,i,r,s){var a=this;this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=s,this.mu.qr(d=>{i.enqueueAndForget((0,te.Z)(function*(){var f;Zc(a)&&(Ke("RemoteStore","Restarting streams for network reachability change."),yield(f=(0,te.Z)(function*(p){const _=at(p);_._u.add(4),yield My(_),_.gu.set("Unknown"),_._u.delete(4),yield _w(_)}),function(p){return f.apply(this,arguments)})(a))}))}),this.gu=new eY(i,r)}}function _w(n){return T1.apply(this,arguments)}function T1(){return T1=(0,te.Z)(function*(n){if(Zc(n))for(const e of n.wu)yield e(!0)}),T1.apply(this,arguments)}function My(n){return D1.apply(this,arguments)}function D1(){return D1=(0,te.Z)(function*(n){for(const e of n.wu)yield e(!1)}),D1.apply(this,arguments)}function hA(n,e){const t=at(n);t.du.has(e.targetId)||(t.du.set(e.targetId,e),M1(t)?x1(t):Ry(t).ko()&&A1(t,e))}function yw(n,e){const t=at(n),i=Ry(t);t.du.delete(e),i.ko()&&R$(t,e),0===t.du.size&&(i.ko()?i.Fo():Zc(t)&&t.gu.set("Unknown"))}function A1(n,e){n.yu.Mt(e.targetId),Ry(n).zo(e)}function R$(n,e){n.yu.Mt(e),Ry(n).Ho(e)}function x1(n){n.yu=new L5({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),se:e=>n.du.get(e)||null}),Ry(n).start(),n.gu.uu()}function M1(n){return Zc(n)&&!Ry(n).No()&&n.du.size>0}function Zc(n){return 0===at(n)._u.size}function O$(n){n.yu=void 0}function nY(n){return k1.apply(this,arguments)}function k1(){return k1=(0,te.Z)(function*(n){n.du.forEach((e,t)=>{A1(n,e)})}),k1.apply(this,arguments)}function iY(n,e){return R1.apply(this,arguments)}function R1(){return R1=(0,te.Z)(function*(n,e){O$(n),M1(n)?(n.gu.hu(e),x1(n)):n.gu.set("Unknown")}),R1.apply(this,arguments)}function rY(n,e,t){return O1.apply(this,arguments)}function O1(){return O1=(0,te.Z)(function*(n,e,t){if(n.gu.set("Online"),e instanceof DU&&2===e.state&&e.cause)try{yield(i=(0,te.Z)(function*(r,s){const a=s.cause;for(const d of s.targetIds)r.du.has(d)&&(yield r.remoteSyncer.rejectListen(d,a),r.du.delete(d),r.yu.removeTarget(d))}),function(r,s){return i.apply(this,arguments)})(n,e)}catch(i){Ke("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield fA(n,i)}else if(e instanceof QD?n.yu.Gt(e):e instanceof TU?n.yu.Yt(e):n.yu.Wt(e),!t.isEqual(Lt.min()))try{const i=yield E$(n.localStore);t.compareTo(i)>=0&&(yield function(r,s){const a=r.yu.te(s);return a.targetChanges.forEach((d,f)=>{if(d.resumeToken.approximateByteSize()>0){const p=r.du.get(f);p&&r.du.set(f,p.withResumeToken(d.resumeToken,s))}}),a.targetMismatches.forEach(d=>{const f=r.du.get(d);if(!f)return;r.du.set(d,f.withResumeToken(ir.EMPTY_BYTE_STRING,f.snapshotVersion)),R$(r,d);const p=new Pd(f.target,d,1,f.sequenceNumber);A1(r,p)}),r.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(i){Ke("RemoteStore","Failed to raise snapshot:",i),yield fA(n,i)}var i}),O1.apply(this,arguments)}function fA(n,e,t){return P1.apply(this,arguments)}function P1(){return P1=(0,te.Z)(function*(n,e,t){if(!Dd(e))throw e;n._u.add(1),yield My(n),n.gu.set("Offline"),t||(t=()=>E$(n.localStore)),n.asyncQueue.enqueueRetryable((0,te.Z)(function*(){Ke("RemoteStore","Retrying IndexedDB access"),yield t(),n._u.delete(1),yield _w(n)}))}),P1.apply(this,arguments)}function P$(n,e){return e().catch(t=>fA(n,t,e))}function ky(n){return N1.apply(this,arguments)}function N1(){return N1=(0,te.Z)(function*(n){const e=at(n),t=Ld(e);let i=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;sY(e);)try{const r=yield z8(e.localStore,i);if(null===r){0===e.fu.length&&t.Fo();break}i=r.batchId,oY(e,r)}catch(r){yield fA(e,r)}N$(e)&&F$(e)}),N1.apply(this,arguments)}function sY(n){return Zc(n)&&n.fu.length<10}function oY(n,e){n.fu.push(e);const t=Ld(n);t.ko()&&t.Yo&&t.Xo(e.mutations)}function N$(n){return Zc(n)&&!Ld(n).No()&&n.fu.length>0}function F$(n){Ld(n).start()}function aY(n){return F1.apply(this,arguments)}function F1(){return F1=(0,te.Z)(function*(n){Ld(n).eu()}),F1.apply(this,arguments)}function lY(n){return L1.apply(this,arguments)}function L1(){return L1=(0,te.Z)(function*(n){const e=Ld(n);for(const t of n.fu)e.Xo(t.mutations)}),L1.apply(this,arguments)}function cY(n,e,t){return V1.apply(this,arguments)}function V1(){return V1=(0,te.Z)(function*(n,e,t){const i=n.fu.shift(),r=o1.from(i,e,t);yield P$(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield ky(n)}),V1.apply(this,arguments)}function uY(n,e){return B1.apply(this,arguments)}function B1(){return B1=(0,te.Z)(function*(n,e){var t;e&&Ld(n).Yo&&(yield(t=(0,te.Z)(function*(i,r){if(EU(s=r.code)&&s!==be.ABORTED){const a=i.fu.shift();Ld(i).Mo(),yield P$(i,()=>i.remoteSyncer.rejectFailedWrite(a.batchId,r)),yield ky(i)}var s}),function(i,r){return t.apply(this,arguments)})(n,e)),N$(n)&&F$(n)}),B1.apply(this,arguments)}function L$(n,e){return U1.apply(this,arguments)}function U1(){return U1=(0,te.Z)(function*(n,e){const t=at(n);t.asyncQueue.verifyOperationInProgress(),Ke("RemoteStore","RemoteStore received new credentials");const i=Zc(t);t._u.add(3),yield My(t),i&&t.gu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t._u.delete(3),yield _w(t)}),U1.apply(this,arguments)}function $1(n,e){return H1.apply(this,arguments)}function H1(){return H1=(0,te.Z)(function*(n,e){const t=at(n);e?(t._u.delete(2),yield _w(t)):e||(t._u.add(2),yield My(t),t.gu.set("Unknown"))}),H1.apply(this,arguments)}function Ry(n){return n.pu||(n.pu=function(e,t,i){const r=at(e);return r.su(),new K8(t,r.connection,r.authCredentials,r.appCheckCredentials,r.It,i)}(n.datastore,n.asyncQueue,{Yr:nY.bind(null,n),Zr:iY.bind(null,n),Wo:rY.bind(null,n)}),n.wu.push(function(){var e=(0,te.Z)(function*(t){t?(n.pu.Mo(),M1(n)?x1(n):n.gu.set("Unknown")):(yield n.pu.stop(),O$(n))});return function(t){return e.apply(this,arguments)}}())),n.pu}function Ld(n){return n.Iu||(n.Iu=function(e,t,i){const r=at(e);return r.su(),new Q8(t,r.connection,r.authCredentials,r.appCheckCredentials,r.It,i)}(n.datastore,n.asyncQueue,{Yr:aY.bind(null,n),Zr:uY.bind(null,n),tu:lY.bind(null,n),Zo:cY.bind(null,n)}),n.wu.push(function(){var e=(0,te.Z)(function*(t){t?(n.Iu.Mo(),yield ky(n)):(yield n.Iu.stop(),n.fu.length>0&&(Ke("RemoteStore",`Stopping write stream with ${n.fu.length} pending writes`),n.fu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Iu}class z1{constructor(e,t,i,r,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new nr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}static createAndSchedule(e,t,i,r,s){const a=Date.now()+i,d=new z1(e,t,a,r,s);return d.start(i),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ue(be.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Oy(n,e){if(Pi("AsyncQueue",`${e}: ${n}`),Dd(n))return new Ue(be.UNAVAILABLE,`${e}: ${n}`);throw n}class Py{constructor(e){this.comparator=e?(t,i)=>e(t,i)||st.comparator(t.key,i.key):(t,i)=>st.comparator(t.key,i.key),this.keyedMap=ew(),this.sortedSet=new Ti(this.comparator)}static emptySet(e){return new Py(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Py)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const i=new Py;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class V${constructor(){this.Tu=new Ti(st.comparator)}track(e){const t=e.doc.key,i=this.Tu.get(t);i?0!==e.type&&3===i.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==i.type?this.Tu=this.Tu.insert(t,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.Tu=this.Tu.remove(t):1===e.type&&2===i.type?this.Tu=this.Tu.insert(t,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):bt():this.Tu=this.Tu.insert(t,e)}Eu(){const e=[];return this.Tu.inorderTraversal((t,i)=>{e.push(i)}),e}}class Ny{constructor(e,t,i,r,s,a,d,f,p){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=d,this.excludesMetadataChanges=f,this.hasCachedResults=p}static fromInitialDocuments(e,t,i,r,s){const a=[];return t.forEach(d=>{a.push({type:0,doc:d})}),new Ny(e,t,Py.emptySet(t),a,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&QE(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}}class dY{constructor(){this.Au=void 0,this.listeners=[]}}class hY{constructor(){this.queries=new Od(e=>sU(e),QE),this.onlineState="Unknown",this.Ru=new Set}}function j1(n,e){return G1.apply(this,arguments)}function G1(){return G1=(0,te.Z)(function*(n,e){const t=at(n),i=e.query;let r=!1,s=t.queries.get(i);if(s||(r=!0,s=new dY),r)try{s.Au=yield t.onListen(i)}catch(a){const d=Oy(a,`Initialization of query '${KO(e.query)}' failed`);return void e.onError(d)}t.queries.set(i,s),s.listeners.push(e),e.bu(t.onlineState),s.Au&&e.Pu(s.Au)&&Y1(t)}),G1.apply(this,arguments)}function W1(n,e){return q1.apply(this,arguments)}function q1(){return q1=(0,te.Z)(function*(n,e){const t=at(n),i=e.query;let r=!1;const s=t.queries.get(i);if(s){const a=s.listeners.indexOf(e);a>=0&&(s.listeners.splice(a,1),r=0===s.listeners.length)}if(r)return t.queries.delete(i),t.onUnlisten(i)}),q1.apply(this,arguments)}function fY(n,e){const t=at(n);let i=!1;for(const r of e){const a=t.queries.get(r.query);if(a){for(const d of a.listeners)d.Pu(r)&&(i=!0);a.Au=r}}i&&Y1(t)}function pY(n,e,t){const i=at(n),r=i.queries.get(e);if(r)for(const s of r.listeners)s.onError(t);i.queries.delete(e)}function Y1(n){n.Ru.forEach(e=>{e.next()})}class Z1{constructor(e,t,i){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=i||{}}Pu(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)3!==r.type&&i.push(r);e=new Ny(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){return!e.fromCache||(!this.options.Nu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=Ny.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}class mY{constructor(e,t){this.ku=e,this.byteLength=t}Ou(){return"metadata"in this.ku}}class B${constructor(e){this.It=e}Ji(e){return Ol(this.It,e)}Yi(e){return e.metadata.exists?FU(this.It,e.document,!1):ei.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return pr(e)}}class gY{constructor(e,t,i){this.Mu=e,this.localStore=t,this.It=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=U$(e)}Fu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.ku.namedQuery)this.queries.push(e.ku.namedQuery);else if(e.ku.documentMetadata){this.documents.push({metadata:e.ku.documentMetadata}),e.ku.documentMetadata.exists||++t;const i=bn.fromString(e.ku.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else e.ku.document&&(this.documents[this.documents.length-1].document=e.ku.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}$u(e){const t=new Map,i=new B$(this.It);for(const r of e)if(r.metadata.queries){const s=i.Ji(r.metadata.name);for(const a of r.metadata.queries){const d=(t.get(a)||rn()).add(s);t.set(a,d)}}return t}complete(){var e=this;return(0,te.Z)(function*(){const t=yield function j8(n,e,t,i){return y1.apply(this,arguments)}(e.localStore,new B$(e.It),e.documents,e.Mu.id),i=e.$u(e.documents);for(const r of e.queries)yield G8(e.localStore,r,i.get(r.name));return e.progress.taskState="Success",{progress:e.progress,Bu:e.collectionGroups,Lu:t}})()}}function U$(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class $${constructor(e){this.key=e}}class H${constructor(e){this.key=e}}class z${constructor(e,t){this.query=e,this.Uu=t,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=rn(),this.mutatedKeys=rn(),this.Gu=aU(e),this.Qu=new Py(this.Gu)}get ju(){return this.Uu}Wu(e,t){const i=t?t.zu:new V$,r=t?t.Qu:this.Qu;let s=t?t.mutatedKeys:this.mutatedKeys,a=r,d=!1;const f="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,p="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((_,v)=>{const w=r.get(_),D=QO(this.query,v)?v:null,A=!!w&&this.mutatedKeys.has(w.key),x=!!D&&(D.hasLocalMutations||this.mutatedKeys.has(D.key)&&D.hasCommittedMutations);let k=!1;w&&D?w.data.isEqual(D.data)?A!==x&&(i.track({type:3,doc:D}),k=!0):this.Hu(w,D)||(i.track({type:2,doc:D}),k=!0,(f&&this.Gu(D,f)>0||p&&this.Gu(D,p)<0)&&(d=!0)):!w&&D?(i.track({type:0,doc:D}),k=!0):w&&!D&&(i.track({type:1,doc:w}),k=!0,(f||p)&&(d=!0)),k&&(D?(a=a.add(D),s=x?s.add(_):s.delete(_)):(a=a.delete(_),s=s.delete(_)))}),null!==this.query.limit)for(;a.size>this.query.limit;){const _="F"===this.query.limitType?a.last():a.first();a=a.delete(_.key),s=s.delete(_.key),i.track({type:1,doc:_})}return{Qu:a,zu:i,$i:d,mutatedKeys:s}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i){const r=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const s=e.zu.Eu();s.sort((p,_)=>function(v,w){const D=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return bt()}};return D(v)-D(w)}(p.type,_.type)||this.Gu(p.doc,_.doc)),this.Ju(i);const a=t?this.Yu():[],d=0===this.Ku.size&&this.current?1:0,f=d!==this.qu;return this.qu=d,0!==s.length||f?{snapshot:new Ny(this.query,e.Qu,r,s,e.mutatedKeys,0===d,f,!1,!!i&&i.resumeToken.approximateByteSize()>0),Xu:a}:{Xu:a}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new V$,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.Uu=this.Uu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Uu=this.Uu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=rn(),this.Qu.forEach(i=>{this.Zu(i.key)&&(this.Ku=this.Ku.add(i.key))});const t=[];return e.forEach(i=>{this.Ku.has(i)||t.push(new H$(i))}),this.Ku.forEach(i=>{e.has(i)||t.push(new $$(i))}),t}tc(e){this.Uu=e.Hi,this.Ku=rn();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ec(){return Ny.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu,this.hasCachedResults)}}class _Y{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class yY{constructor(e){this.key=e,this.nc=!1}}class vY{constructor(e,t,i,r,s,a){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.sc={},this.ic=new Od(d=>sU(d),QE),this.rc=new Map,this.oc=new Set,this.uc=new Ti(st.comparator),this.cc=new Map,this.ac=new d1,this.hc={},this.lc=new Map,this.fc=Sp.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function bY(n,e){return K1.apply(this,arguments)}function K1(){return K1=(0,te.Z)(function*(n,e){const t=vP(n);let i,r;const s=t.ic.get(e);if(s)i=s.targetId,t.sharedClientState.addLocalQueryTarget(i),r=s.view.ec();else{const a=yield Ay(t.localStore,hs(e));t.isPrimaryClient&&hA(t.remoteStore,a);const d=t.sharedClientState.addLocalQueryTarget(a.targetId);i=a.targetId,r=yield Q1(t,e,i,"current"===d,a.resumeToken)}return r}),K1.apply(this,arguments)}function Q1(n,e,t,i,r){return X1.apply(this,arguments)}function X1(){return X1=(0,te.Z)(function*(n,e,t,i,r){n._c=(v,w,D)=>{return(A=(0,te.Z)(function*(x,k,F,L){let U=k.view.Wu(F);U.$i&&(U=yield lA(x.localStore,k.query,!1).then(({documents:ue})=>k.view.Wu(ue,U)));const ee=L&&L.targetChanges.get(k.targetId),oe=k.view.applyChanges(U,x.isPrimaryClient,ee);return lP(x,k.targetId,oe.Xu),oe.snapshot}),function(x,k,F,L){return A.apply(this,arguments)})(n,v,w,D);var A};const s=yield lA(n.localStore,e,!0),a=new z$(e,s.Hi),d=a.Wu(s.documents),f=iw.createSynthesizedTargetChangeForCurrentChange(t,i&&"Offline"!==n.onlineState,r),p=a.applyChanges(d,n.isPrimaryClient,f);lP(n,t,p.Xu);const _=new _Y(e,t,a);return n.ic.set(e,_),n.rc.has(t)?n.rc.get(t).push(e):n.rc.set(t,[e]),p.snapshot}),X1.apply(this,arguments)}function EY(n,e){return J1.apply(this,arguments)}function J1(){return J1=(0,te.Z)(function*(n,e){const t=at(n),i=t.ic.get(e),r=t.rc.get(i.targetId);if(r.length>1)return t.rc.set(i.targetId,r.filter(s=>!QE(s,e))),void t.ic.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(i.targetId),t.sharedClientState.isActiveQueryTarget(i.targetId)||(yield xy(t.localStore,i.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(i.targetId),yw(t.remoteStore,i.targetId),Fy(t,i.targetId)}).catch(Td))):(Fy(t,i.targetId),yield xy(t.localStore,i.targetId,!0))}),J1.apply(this,arguments)}function eP(){return eP=(0,te.Z)(function*(n,e,t){const i=bP(n);try{const r=yield function(s,a){const d=at(s),f=ui.now(),p=a.reduce((w,D)=>w.add(D.key),rn());let _,v;return d.persistence.runTransaction("Locally write mutations","readwrite",w=>{let D=Hs(),A=rn();return d.Gi.getEntries(w,p).next(x=>{D=x,D.forEach((k,F)=>{F.isValidDocument()||(A=A.add(k))})}).next(()=>d.localDocuments.getOverlayedDocuments(w,D)).next(x=>{_=x;const k=[];for(const F of a){const L=k5(F,_.get(F.key).overlayedDocument);null!=L&&k.push(new Yc(F.key,L,K2(L.value.mapValue),di.exists(!0)))}return d.mutationQueue.addMutationBatch(w,f,k,a)}).next(x=>{v=x;const k=x.applyToLocalDocumentSet(_,A);return d.documentOverlayCache.saveOverlays(w,x.batchId,k)})}).then(()=>({batchId:v.batchId,changes:SU(_)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(s,a,d){let f=s.hc[s.currentUser.toKey()];f||(f=new Ti(Yt)),f=f.insert(a,d),s.hc[s.currentUser.toKey()]=f}(i,r.batchId,t),yield Kc(i,r.changes),yield ky(i.remoteStore)}catch(r){const s=Oy(r,"Failed to persist write");t.reject(s)}}),eP.apply(this,arguments)}function j$(n,e){return tP.apply(this,arguments)}function tP(){return tP=(0,te.Z)(function*(n,e){const t=at(n);try{const i=yield H8(t.localStore,e);e.targetChanges.forEach((r,s)=>{const a=t.cc.get(s);a&&(Ft(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?a.nc=!0:r.modifiedDocuments.size>0?Ft(a.nc):r.removedDocuments.size>0&&(Ft(a.nc),a.nc=!1))}),yield Kc(t,i,e)}catch(i){yield Td(i)}}),tP.apply(this,arguments)}function G$(n,e,t){const i=at(n);if(i.isPrimaryClient&&0===t||!i.isPrimaryClient&&1===t){const r=[];i.ic.forEach((s,a)=>{const d=a.view.bu(e);d.snapshot&&r.push(d.snapshot)}),function(s,a){const d=at(s);d.onlineState=a;let f=!1;d.queries.forEach((p,_)=>{for(const v of _.listeners)v.bu(a)&&(f=!0)}),f&&Y1(d)}(i.eventManager,e),r.length&&i.sc.Wo(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function CY(n,e,t){return nP.apply(this,arguments)}function nP(){return nP=(0,te.Z)(function*(n,e,t){const i=at(n);i.sharedClientState.updateQueryState(e,"rejected",t);const r=i.cc.get(e),s=r&&r.key;if(s){let a=new Ti(st.comparator);a=a.insert(s,ei.newNoDocument(s,Lt.min()));const d=rn().add(s),f=new nw(Lt.min(),new Map,new $n(Yt),a,d);yield j$(i,f),i.uc=i.uc.remove(s),i.cc.delete(e),cP(i)}else yield xy(i.localStore,e,!1).then(()=>Fy(i,e,t)).catch(Td)}),nP.apply(this,arguments)}function SY(n,e){return iP.apply(this,arguments)}function iP(){return iP=(0,te.Z)(function*(n,e){const t=at(n),i=e.batch.batchId;try{const r=yield $8(t.localStore,e);aP(t,i,null),oP(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield Kc(t,r)}catch(r){yield Td(r)}}),iP.apply(this,arguments)}function IY(n,e,t){return rP.apply(this,arguments)}function rP(){return rP=(0,te.Z)(function*(n,e,t){const i=at(n);try{const r=yield function(s,a){const d=at(s);return d.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let p;return d.mutationQueue.lookupMutationBatch(f,a).next(_=>(Ft(null!==_),p=_.keys(),d.mutationQueue.removeMutationBatch(f,_))).next(()=>d.mutationQueue.performConsistencyCheck(f)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(f,p,a)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,p)).next(()=>d.localDocuments.getDocuments(f,p))})}(i.localStore,e);aP(i,e,t),oP(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield Kc(i,r)}catch(r){yield Td(r)}}),rP.apply(this,arguments)}function sP(){return sP=(0,te.Z)(function*(n,e){const t=at(n);Zc(t.remoteStore)||Ke("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(s){const a=at(s);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",d=>a.mutationQueue.getHighestUnacknowledgedBatchId(d))}(t.localStore);if(-1===i)return void e.resolve();const r=t.lc.get(i)||[];r.push(e),t.lc.set(i,r)}catch(i){const r=Oy(i,"Initialization of waitForPendingWrites() operation failed");e.reject(r)}}),sP.apply(this,arguments)}function oP(n,e){(n.lc.get(e)||[]).forEach(t=>{t.resolve()}),n.lc.delete(e)}function aP(n,e,t){const i=at(n);let r=i.hc[i.currentUser.toKey()];if(r){const s=r.get(e);s&&(t?s.reject(t):s.resolve(),r=r.remove(e)),i.hc[i.currentUser.toKey()]=r}}function Fy(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.rc.get(e))n.ic.delete(i),t&&n.sc.wc(i,t);n.rc.delete(e),n.isPrimaryClient&&n.ac.ls(e).forEach(i=>{n.ac.containsKey(i)||W$(n,i)})}function W$(n,e){n.oc.delete(e.path.canonicalString());const t=n.uc.get(e);null!==t&&(yw(n.remoteStore,t),n.uc=n.uc.remove(e),n.cc.delete(t),cP(n))}function lP(n,e,t){for(const i of t)i instanceof $$?(n.ac.addReference(i.key,e),DY(n,i)):i instanceof H$?(Ke("SyncEngine","Document no longer in limbo: "+i.key),n.ac.removeReference(i.key,e),n.ac.containsKey(i.key)||W$(n,i.key)):bt()}function DY(n,e){const t=e.key,i=t.path.canonicalString();n.uc.get(t)||n.oc.has(i)||(Ke("SyncEngine","New document in limbo: "+t),n.oc.add(i),cP(n))}function cP(n){for(;n.oc.size>0&&n.uc.size<n.maxConcurrentLimboResolutions;){const e=n.oc.values().next().value;n.oc.delete(e);const t=new st(bn.fromString(e)),i=n.fc.next();n.cc.set(i,new yY(t)),n.uc=n.uc.insert(t,i),hA(n.remoteStore,new Pd(hs(yy(t.path)),i,2,$s.at))}}function Kc(n,e,t){return uP.apply(this,arguments)}function uP(){return uP=(0,te.Z)(function*(n,e,t){const i=at(n),r=[],s=[],a=[];var d;i.ic.isEmpty()||(i.ic.forEach((d,f)=>{a.push(i._c(f,e,t).then(p=>{if((p||t)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(f.targetId,p?.fromCache?"not-current":"current"),p){r.push(p);const _=m1.Ci(f.targetId,p);s.push(_)}}))}),yield Promise.all(a),i.sc.Wo(r),yield(d=(0,te.Z)(function*(f,p){const _=at(f);try{yield _.persistence.runTransaction("notifyLocalViewChanges","readwrite",v=>pe.forEach(p,w=>pe.forEach(w.Si,D=>_.persistence.referenceDelegate.addReference(v,w.targetId,D)).next(()=>pe.forEach(w.Di,D=>_.persistence.referenceDelegate.removeReference(v,w.targetId,D)))))}catch(v){if(!Dd(v))throw v;Ke("LocalStore","Failed to update sequence numbers: "+v)}for(const v of p){const w=v.targetId;if(!v.fromCache){const D=_.Ui.get(w),x=D.withLastLimboFreeSnapshotVersion(D.snapshotVersion);_.Ui=_.Ui.insert(w,x)}}}),function(f,p){return d.apply(this,arguments)})(i.localStore,s))}),uP.apply(this,arguments)}function AY(n,e){return dP.apply(this,arguments)}function dP(){return dP=(0,te.Z)(function*(n,e){const t=at(n);if(!t.currentUser.isEqual(e)){Ke("SyncEngine","User change. New user:",e.toKey());const i=yield b$(t.localStore,e);t.currentUser=e,(r=t).lc.forEach(a=>{a.forEach(d=>{d.reject(new Ue(be.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.lc.clear(),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield Kc(t,i.ji)}var r}),dP.apply(this,arguments)}function xY(n,e){const t=at(n),i=t.cc.get(e);if(i&&i.nc)return rn().add(i.key);{let r=rn();const s=t.rc.get(e);if(!s)return r;for(const a of s){const d=t.ic.get(a);r=r.unionWith(d.view.ju)}return r}}function MY(n,e){return hP.apply(this,arguments)}function hP(){return hP=(0,te.Z)(function*(n,e){const t=at(n),i=yield lA(t.localStore,e.query,!0),r=e.view.tc(i);return t.isPrimaryClient&&lP(t,e.targetId,r.Xu),r}),hP.apply(this,arguments)}function kY(n,e){return fP.apply(this,arguments)}function fP(){return fP=(0,te.Z)(function*(n,e){const t=at(n);return S$(t.localStore,e).then(i=>Kc(t,i))}),fP.apply(this,arguments)}function RY(n,e,t,i){return pP.apply(this,arguments)}function pP(){return pP=(0,te.Z)(function*(n,e,t,i){const r=at(n),s=yield function(a,d){const f=at(a),p=at(f.mutationQueue);return f.persistence.runTransaction("Lookup mutation documents","readonly",_=>p.Tn(_,d).next(v=>v?f.localDocuments.getDocuments(_,v):pe.resolve(null)))}(r.localStore,e);var d;null!==s?("pending"===t?yield ky(r.remoteStore):"acknowledged"===t||"rejected"===t?(aP(r,e,i||null),oP(r,e),d=e,at(at(r.localStore).mutationQueue).An(d)):bt(),yield Kc(r,s)):Ke("SyncEngine","Cannot apply mutation batch with id: "+e)}),pP.apply(this,arguments)}function mP(){return mP=(0,te.Z)(function*(n,e){const t=at(n);if(vP(t),bP(t),!0===e&&!0!==t.dc){const i=t.sharedClientState.getAllActiveQueryTargets(),r=yield q$(t,i.toArray());t.dc=!0,yield $1(t.remoteStore,!0);for(const s of r)hA(t.remoteStore,s)}else if(!1===e&&!1!==t.dc){const i=[];let r=Promise.resolve();t.rc.forEach((s,a)=>{t.sharedClientState.isLocalQueryTarget(a)?i.push(a):r=r.then(()=>(Fy(t,a),xy(t.localStore,a,!0))),yw(t.remoteStore,a)}),yield r,yield q$(t,i),function(s){const a=at(s);a.cc.forEach((d,f)=>{yw(a.remoteStore,f)}),a.ac.fs(),a.cc=new Map,a.uc=new Ti(st.comparator)}(t),t.dc=!1,yield $1(t.remoteStore,!1)}}),mP.apply(this,arguments)}function q$(n,e,t){return gP.apply(this,arguments)}function gP(){return gP=(0,te.Z)(function*(n,e,t){const i=at(n),r=[],s=[];for(const a of e){let d;const f=i.rc.get(a);if(f&&0!==f.length){d=yield Ay(i.localStore,hs(f[0]));for(const p of f){const _=i.ic.get(p),v=yield MY(i,_);v.snapshot&&s.push(v.snapshot)}}else{const p=yield C$(i.localStore,a);d=yield Ay(i.localStore,p),yield Q1(i,Y$(p),a,!1,d.resumeToken)}r.push(d)}return i.sc.Wo(s),r}),gP.apply(this,arguments)}function Y$(n){return iU(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function PY(n){const e=at(n);return at(at(e.localStore).persistence).vi()}function NY(n,e,t,i){return _P.apply(this,arguments)}function _P(){return _P=(0,te.Z)(function*(n,e,t,i){const r=at(n);if(r.dc)return void Ke("SyncEngine","Ignoring unexpected query state notification.");const s=r.rc.get(e);if(s&&s.length>0)switch(t){case"current":case"not-current":{const a=yield S$(r.localStore,oU(s[0])),d=nw.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,ir.EMPTY_BYTE_STRING);yield Kc(r,a,d);break}case"rejected":yield xy(r.localStore,e,!0),Fy(r,e,i);break;default:bt()}}),_P.apply(this,arguments)}function FY(n,e,t){return yP.apply(this,arguments)}function yP(){return yP=(0,te.Z)(function*(n,e,t){const i=vP(n);if(i.dc){for(const r of e){if(i.rc.has(r)){Ke("SyncEngine","Adding an already active target "+r);continue}const s=yield C$(i.localStore,r),a=yield Ay(i.localStore,s);yield Q1(i,Y$(s),a.targetId,!1,a.resumeToken),hA(i.remoteStore,a)}for(const r of t)i.rc.has(r)&&(yield xy(i.localStore,r,!1).then(()=>{yw(i.remoteStore,r),Fy(i,r)}).catch(Td))}}),yP.apply(this,arguments)}function vP(n){const e=at(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=j$.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=xY.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=CY.bind(null,e),e.sc.Wo=fY.bind(null,e.eventManager),e.sc.wc=pY.bind(null,e.eventManager),e}function bP(n){const e=at(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=SY.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=IY.bind(null,e),e}class Z${constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,te.Z)(function*(){t.It=gw(e.databaseInfo.databaseId),t.sharedClientState=t.gc(e),t.persistence=t.yc(e),yield t.persistence.start(),t.localStore=t.Ic(e),t.gcScheduler=t.Tc(e,t.localStore),t.indexBackfillerScheduler=t.Ec(e,t.localStore)})()}Tc(e,t){return null}Ec(e,t){return null}Ic(e){return v$(this.persistence,new y$,e.initialUser,this.It)}yc(e){return new g$(oA.Bs,this.It)}gc(e){return new A$}terminate(){var e=this;return(0,te.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class K$ extends Z${constructor(e,t,i){super(),this.Ac=e,this.cacheSizeBytes=t,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,i=this;return(0,te.Z)(function*(){yield t().call(i,e),yield i.Ac.initialize(i,e),yield bP(i.Ac.syncEngine),yield ky(i.Ac.remoteStore),yield i.persistence.li(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}Ic(e){return v$(this.persistence,new y$,e.initialUser,this.It)}Tc(e,t){return new T8(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Ec(e,t){const i=new c5(t,this.persistence);return new l5(e.asyncQueue,i)}yc(e){const t=p1(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?zs.withCacheSize(this.cacheSizeBytes):zs.DEFAULT;return new f1(this.synchronizeTabs,t,e.clientId,i,e.asyncQueue,M$(),dA(),this.It,this.sharedClientState,!!this.forceOwnership)}gc(e){return new A$}}class VY extends K${constructor(e,t){super(e,t,!1),this.Ac=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,i=this;return(0,te.Z)(function*(){yield t().call(i,e);const r=i.Ac.syncEngine;i.sharedClientState instanceof C1&&(i.sharedClientState.syncEngine={Fr:RY.bind(null,r),$r:NY.bind(null,r),Br:FY.bind(null,r),vi:PY.bind(null,r),Mr:kY.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.li(function(){var s=(0,te.Z)(function*(a){yield function OY(n,e){return mP.apply(this,arguments)}(i.Ac.syncEngine,a),i.gcScheduler&&(a&&!i.gcScheduler.started?i.gcScheduler.start():a||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(a&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():a||i.indexBackfillerScheduler.stop())});return function(a){return s.apply(this,arguments)}}())})()}gc(e){const t=M$();if(!C1.C(t))throw new Ue(be.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=p1(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new C1(t,e.asyncQueue,i,e.clientId,e.initialUser)}}class EP{initialize(e,t){var i=this;return(0,te.Z)(function*(){i.localStore||(i.localStore=e.localStore,i.sharedClientState=e.sharedClientState,i.datastore=i.createDatastore(t),i.remoteStore=i.createRemoteStore(t),i.eventManager=i.createEventManager(t),i.syncEngine=i.createSyncEngine(t,!e.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>G$(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=AY.bind(null,i.syncEngine),yield $1(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(e){return new hY}createDatastore(e){const t=gw(e.databaseInfo.databaseId),i=new Z8(e.databaseInfo);return new X8(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return t=this.localStore,i=this.datastore,r=e.asyncQueue,s=d=>G$(this.syncEngine,d,0),a=x$.C()?new x$:new W8,new tY(t,i,r,s,a);var t,i,r,s,a}createSyncEngine(e,t){return function(i,r,s,a,d,f,p){const _=new vY(i,r,s,a,d,f);return p&&(_.dc=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,te.Z)(function*(t){const i=at(t);Ke("RemoteStore","RemoteStore shutting down."),i._u.add(5),yield My(i),i.mu.shutdown(),i.gu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function wP(n,e,t){if(!t)throw new Ue(be.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Q$(n,e,t,i){if(!0===e&&!0===i)throw new Ue(be.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function X$(n){if(!st.isDocumentKey(n))throw new Ue(be.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function J$(n){if(st.isDocumentKey(n))throw new Ue(be.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function pA(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":bt()}function gn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ue(be.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=pA(n);throw new Ue(be.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function eH(n,e){if(e<=0)throw new Ue(be.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}const tH=new Map;class nH{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Ue(be.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ue(be.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,Q$("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class vw{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new nH({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ue(be.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ue(be.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new nH(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Z6;switch(t.type){case"gapi":return new J6(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Ue(be.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=tH.get(e);t&&(Ke("ComponentProvider","Removing Datastore"),tH.delete(e),t.terminate())}(this),Promise.resolve()}}function iH(n,e,t,i={}){var r;const s=(n=gn(n,vw))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==e&&lp("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},s),{host:`${e}:${t}`,ssl:!1})),i.mockUserToken){let a,d;if("string"==typeof i.mockUserToken)a=i.mockUserToken,d=fr.MOCK_USER;else{a=(0,q.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const f=i.mockUserToken.sub||i.mockUserToken.user_id;if(!f)throw new Ue(be.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new fr(f)}n._authCredentials=new K6(new M2(a,d))}}class ri{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Nl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ri(this.firestore,e,this._key)}}class Kr{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Kr(this.firestore,e,this._query)}}class Nl extends Kr{constructor(e,t,i){super(e,t,yy(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ri(this.firestore,null,new st(e))}withConverter(e){return new Nl(this.firestore,e,this._path)}}function CP(n,e,...t){if(n=(0,q.m9)(n),wP("collection","path",e),n instanceof vw){const i=bn.fromString(e,...t);return J$(i),new Nl(n,null,i)}{if(!(n instanceof ri||n instanceof Nl))throw new Ue(be.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(bn.fromString(e,...t));return J$(i),new Nl(n.firestore,null,i)}}function bw(n,e,...t){if(n=(0,q.m9)(n),1===arguments.length&&(e=R2.R()),wP("doc","path",e),n instanceof vw){const i=bn.fromString(e,...t);return X$(i),new ri(n,null,new st(i))}{if(!(n instanceof ri||n instanceof Nl))throw new Ue(be.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(bn.fromString(e,...t));return X$(i),new ri(n.firestore,n instanceof Nl?n.converter:null,new st(i))}}function rH(n,e){return n=(0,q.m9)(n),e=(0,q.m9)(e),(n instanceof ri||n instanceof Nl)&&(e instanceof ri||e instanceof Nl)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function SP(n,e){return n=(0,q.m9)(n),e=(0,q.m9)(e),n instanceof Kr&&e instanceof Kr&&n.firestore===e.firestore&&QE(n._query,e._query)&&n.converter===e.converter}function sH(n,e=10240){let t=0;return{read:()=>(0,te.Z)(function*(){if(t<n.byteLength){const i={value:n.slice(t,t+e),done:!1};return t+=e,i}return{done:!0}})(),cancel:()=>(0,te.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class mA{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):Pi("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}Rc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class UY{constructor(e,t){this.Pc=e,this.It=t,this.metadata=new nr,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then(i=>{i&&i.Ou()?this.metadata.resolve(i.ku.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.ku)}`))},i=>this.metadata.reject(i))}close(){return this.Pc.cancel()}getMetadata(){var e=this;return(0,te.Z)(function*(){return e.metadata.promise})()}mc(){var e=this;return(0,te.Z)(function*(){return yield e.getMetadata(),e.Vc()})()}Vc(){var e=this;return(0,te.Z)(function*(){const t=yield e.Sc();if(null===t)return null;const i=e.vc.decode(t),r=Number(i);isNaN(r)&&e.Dc(`length string (${i}) is not valid number`);const s=yield e.Cc(r);return new mY(JSON.parse(s),t.length+r)})()}xc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Sc(){var e=this;return(0,te.Z)(function*(){for(;e.xc()<0&&!(yield e.Nc()););if(0===e.buffer.length)return null;const t=e.xc();t<0&&e.Dc("Reached the end of bundle when a length string is expected.");const i=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),i})()}Cc(e){var t=this;return(0,te.Z)(function*(){for(;t.buffer.length<e;)(yield t.Nc())&&t.Dc("Reached the end of bundle when more is expected.");const i=t.vc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),i})()}Dc(e){throw this.Pc.cancel(),new Error(`Invalid bundle format: ${e}`)}Nc(){var e=this;return(0,te.Z)(function*(){const t=yield e.Pc.read();if(!t.done){const i=new Uint8Array(e.buffer.length+t.value.length);i.set(e.buffer),i.set(t.value,e.buffer.length),e.buffer=i}return t.done})()}}class zY{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,te.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Ue(be.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,te.Z)(function*(s,a){const d=at(s),f=ow(d.It)+"/documents",p={documents:a.map(D=>sw(d.It,D))},_=yield d._o("BatchGetDocuments",f,p,a.length),v=new Map;_.forEach(D=>{const A=function H5(n,e){return"found"in e?function(t,i){Ft(!!i.found);const r=Ol(t,i.found.name),s=pr(i.found.updateTime),a=new Rr({mapValue:{fields:i.found.fields}});return ei.newFoundDocument(r,s,a)}(n,e):"missing"in e?function(t,i){Ft(!!i.missing),Ft(!!i.readTime);const r=Ol(t,i.missing),s=pr(i.readTime);return ei.newNoDocument(r,s)}(n,e):bt()}(d.It,D);v.set(A.key.toString(),A)});const w=[];return a.forEach(D=>{const A=v.get(D.toString());Ft(!!A),w.push(A)}),w}),function(s,a){return r.apply(this,arguments)})(t.datastore,e);var r;return i.forEach(r=>t.recordVersion(r)),i})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(e.toString())}delete(e){this.write(new Cy(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,te.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var i;e.mutations.forEach(i=>{t.delete(i.key.toString())}),t.forEach((i,r)=>{const s=st.fromPath(r);e.mutations.push(new XO(s,e.precondition(s)))}),yield(i=(0,te.Z)(function*(r,s){const a=at(r),d=ow(a.It)+"/documents",f={writes:s.map(p=>aw(a.It,p))};yield a.ao("Commit",d,f)}),function(r,s){return i.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw bt();t=Lt.min()}const i=this.readVersions.get(e.key.toString());if(i){if(!t.isEqual(i))throw new Ue(be.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Lt.min())?di.exists(!1):di.updateTime(t):di.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Lt.min()))throw new Ue(be.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return di.updateTime(t)}return di.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class jY{constructor(e,t,i,r,s){this.asyncQueue=e,this.datastore=t,this.options=i,this.updateFunction=r,this.deferred=s,this.kc=i.maxAttempts,this.xo=new S1(this.asyncQueue,"transaction_retry")}run(){this.kc-=1,this.Oc()}Oc(){var e=this;this.xo.Ro((0,te.Z)(function*(){const t=new zY(e.datastore),i=e.Mc(t);i&&i.then(r=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(r)}).catch(s=>{e.Fc(s)}))}).catch(r=>{e.Fc(r)})}))}Mc(e){try{const t=this.updateFunction(e);return!GE(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Fc(e){this.kc>0&&this.$c(e)?(this.kc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Oc(),Promise.resolve()))):this.deferred.reject(e)}$c(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!EU(t)}return!1}}class GY{constructor(e,t,i,r){var s=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=fr.UNAUTHENTICATED,this.clientId=R2.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var a=(0,te.Z)(function*(d){Ke("FirestoreClient","Received user=",d.uid),yield s.authCredentialListener(d),s.user=d});return function(d){return a.apply(this,arguments)}}()),this.appCheckCredentials.start(i,a=>(Ke("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}getConfiguration(){var e=this;return(0,te.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ue(be.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new nr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,te.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=Oy(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}function oH(n,e){return IP.apply(this,arguments)}function IP(){return IP=(0,te.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Ke("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(function(){var r=(0,te.Z)(function*(s){i.isEqual(s)||(yield b$(e.localStore,s),i=s)});return function(s){return r.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),IP.apply(this,arguments)}function aH(n,e){return TP.apply(this,arguments)}function TP(){return TP=(0,te.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield DP(n);Ke("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield e.initialize(t,i),n.setCredentialChangeListener(r=>L$(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>L$(e.remoteStore,s)),n.onlineComponents=e}),TP.apply(this,arguments)}function DP(n){return AP.apply(this,arguments)}function AP(){return AP=(0,te.Z)(function*(n){return n.offlineComponents||(Ke("FirestoreClient","Using default OfflineComponentProvider"),yield oH(n,new Z$)),n.offlineComponents}),AP.apply(this,arguments)}function gA(n){return xP.apply(this,arguments)}function xP(){return xP=(0,te.Z)(function*(n){return n.onlineComponents||(Ke("FirestoreClient","Using default OnlineComponentProvider"),yield aH(n,new EP)),n.onlineComponents}),xP.apply(this,arguments)}function lH(n){return DP(n).then(e=>e.persistence)}function _A(n){return DP(n).then(e=>e.localStore)}function MP(n){return gA(n).then(e=>e.remoteStore)}function kP(n){return gA(n).then(e=>e.syncEngine)}function Ly(n){return RP.apply(this,arguments)}function RP(){return RP=(0,te.Z)(function*(n){const e=yield gA(n),t=e.eventManager;return t.onListen=bY.bind(null,e.syncEngine),t.onUnlisten=EY.bind(null,e.syncEngine),t}),RP.apply(this,arguments)}function uH(n,e,t={}){const i=new nr;return n.asyncQueue.enqueueAndForget((0,te.Z)(function*(){return function(r,s,a,d,f){const p=new mA({next:v=>{s.enqueueAndForget(()=>W1(r,_));const w=v.docs.has(a);!w&&v.fromCache?f.reject(new Ue(be.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&v.fromCache&&d&&"server"===d.source?f.reject(new Ue(be.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(v)},error:v=>f.reject(v)}),_=new Z1(yy(a.path),p,{includeMetadataChanges:!0,Nu:!0});return j1(r,_)}(yield Ly(n),n.asyncQueue,e,t,i)})),i.promise}function dH(n,e,t={}){const i=new nr;return n.asyncQueue.enqueueAndForget((0,te.Z)(function*(){return function(r,s,a,d,f){const p=new mA({next:v=>{s.enqueueAndForget(()=>W1(r,_)),v.fromCache&&"server"===d.source?f.reject(new Ue(be.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(v)},error:v=>f.reject(v)}),_=new Z1(a,p,{includeMetadataChanges:!0,Nu:!0});return j1(r,_)}(yield Ly(n),n.asyncQueue,e,t,i)})),i.promise}class JY{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.Uc=!1,this.qc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new S1(this,"async_queue_retry"),this.Wc=()=>{const t=dA();t&&Ke("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.Po()};const e=dA();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.Uc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.Uc){this.Uc=!0,this.Qc=e||!1;const t=dA();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.Uc)return new Promise(()=>{});const t=new nr;return this.Hc(()=>this.Uc&&this.Qc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}Jc(){var e=this;return(0,te.Z)(function*(){if(0!==e.Lc.length){try{yield e.Lc[0](),e.Lc.shift(),e.xo.reset()}catch(t){if(!Dd(t))throw t;Ke("AsyncQueue","Operation failed with retryable error: "+t)}e.Lc.length>0&&e.xo.Ro(()=>e.Jc())}})()}Hc(e){const t=this.Bc.then(()=>(this.Gc=!0,e().catch(i=>{throw this.Kc=i,this.Gc=!1,Pi("INTERNAL UNHANDLED ERROR: ",function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),a}(i)),i}).then(i=>(this.Gc=!1,i))));return this.Bc=t,t}enqueueAfterDelay(e,t,i){this.zc(),this.jc.indexOf(e)>-1&&(t=0);const r=z1.createAndSchedule(this,e,t,i,s=>this.Yc(s));return this.qc.push(r),r}zc(){this.Kc&&bt()}verifyOperationInProgress(){}Xc(){var e=this;return(0,te.Z)(function*(){let t;do{t=e.Bc,yield t}while(t!==e.Bc)})()}Zc(e){for(const t of this.qc)if(t.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.qc.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.qc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const t=this.qc.indexOf(e);this.qc.splice(t,1)}}function OP(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const i=e;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class eZ{constructor(){this._progressObserver={},this._taskCompletionResolver=new nr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,i){this._progressObserver={next:e,error:t,complete:i}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class si extends vw{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=new JY,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||hH(this),this._firestoreClient.terminate()}}function nZ(n,e){const t="object"==typeof n?n:(0,ot.getApp)(),i="string"==typeof n?n:e||"(default)",r=(0,ot._getProvider)(t,"firestore").getImmediate({identifier:i});if(!r._initialized){const s=(0,q.P0)("firestore");s&&iH(r,...s)}return r}function Ni(n){return n._firestoreClient||hH(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function hH(n){var e;const t=n._freezeSettings(),i=(s=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new h5(n._databaseId,s,n._persistenceKey,(d=t).host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,d.useFetchStreams));var s,d;n._firestoreClient=new GY(n._authCredentials,n._appCheckCredentials,n._queue,i)}function fH(n,e,t){const i=new nr;return n.asyncQueue.enqueue((0,te.Z)(function*(){try{yield oH(n,t),yield aH(n,e),i.resolve()}catch(r){const s=r;if(!("FirebaseError"===(a=s).name?a.code===be.FAILED_PRECONDITION||a.code===be.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||22===a.code||20===a.code||11===a.code))throw s;lp("Error enabling offline persistence. Falling back to persistence disabled: "+s),i.reject(s)}var a})).then(()=>i.promise)}function pH(n){if(n._initialized||n._terminated)throw new Ue(be.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Fl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Fl(ir.fromBase64String(e))}catch(t){throw new Ue(be.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Fl(ir.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Qc{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Ue(be.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ii(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Tp{constructor(e){this._methodName=e}}class yA{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ue(be.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ue(be.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Yt(this._lat,e._lat)||Yt(this._long,e._long)}}const dZ=/^__.*__$/;class hZ{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return null!==this.fieldMask?new Yc(e,this.data,this.fieldMask,t,this.fieldTransforms):new wy(e,this.data,t,this.fieldTransforms)}}class mH{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Yc(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function gH(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw bt()}}class vA{constructor(e,t,i,r,s,a){this.settings=e,this.databaseId=t,this.It=i,this.ignoreUndefinedProperties=r,void 0===s&&this.na(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new vA(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ia({path:i,oa:!1});return r.ua(e),r}ca(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ia({path:i,oa:!1});return r.na(),r}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return wA(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(gH(this.sa)&&dZ.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class fZ{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.It=i||gw(e)}da(e,t,i,r=!1){return new vA({sa:e,methodName:t,fa:i,path:Ii.emptyPath(),oa:!1,la:r},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function Dp(n){const e=n._freezeSettings(),t=gw(n._databaseId);return new fZ(n._databaseId,!!e.ignoreUndefinedProperties,t)}function bA(n,e,t,i,r,s={}){const a=n.da(s.merge||s.mergeFields?2:0,e,t,r);LP("Data must be an object, but it was:",a,i);const d=vH(i,a);let f,p;if(s.merge)f=new so(a.fieldMask),p=a.fieldTransforms;else if(s.mergeFields){const _=[];for(const v of s.mergeFields){const w=VP(e,v,t);if(!a.contains(w))throw new Ue(be.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);EH(_,w)||_.push(w)}f=new so(_),p=a.fieldTransforms.filter(v=>f.covers(v.field))}else f=null,p=a.fieldTransforms;return new hZ(new Rr(d),f,p)}class Ew extends Tp{_toFieldTransform(e){if(2!==e.sa)throw e.ha(1===e.sa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ew}}function _H(n,e,t){return new vA({sa:3,fa:e.settings.fa,methodName:n._methodName,oa:t},e.databaseId,e.It,e.ignoreUndefinedProperties)}class PP extends Tp{_toFieldTransform(e){return new XE(e.path,new by)}isEqual(e){return e instanceof PP}}class pZ extends Tp{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=_H(this,e,!0),i=this._a.map(s=>Ap(s,t)),r=new gp(i);return new XE(e.path,r)}isEqual(e){return this===e}}class mZ extends Tp{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=_H(this,e,!0),i=this._a.map(s=>Ap(s,t)),r=new _p(i);return new XE(e.path,r)}isEqual(e){return this===e}}class gZ extends Tp{constructor(e,t){super(e),this.wa=t}_toFieldTransform(e){const t=new Ey(e.It,uU(e.It,this.wa));return new XE(e.path,t)}isEqual(e){return this===e}}function NP(n,e,t,i){const r=n.da(1,e,t);LP("Data must be an object, but it was:",r,i);const s=[],a=Rr.empty();dp(i,(f,p)=>{const _=EA(e,f,t);p=(0,q.m9)(p);const v=r.ca(_);if(p instanceof Ew)s.push(_);else{const w=Ap(p,v);null!=w&&(s.push(_),a.set(_,w))}});const d=new so(s);return new mH(a,d,r.fieldTransforms)}function FP(n,e,t,i,r,s){const a=n.da(1,e,t),d=[VP(e,i,t)],f=[r];if(s.length%2!=0)throw new Ue(be.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<s.length;w+=2)d.push(VP(e,s[w])),f.push(s[w+1]);const p=[],_=Rr.empty();for(let w=d.length-1;w>=0;--w)if(!EH(p,d[w])){const D=d[w];let A=f[w];A=(0,q.m9)(A);const x=a.ca(D);if(A instanceof Ew)p.push(D);else{const k=Ap(A,x);null!=k&&(p.push(D),_.set(D,k))}}const v=new so(p);return new mH(_,v,a.fieldTransforms)}function yH(n,e,t,i=!1){return Ap(t,n.da(i?4:3,e))}function Ap(n,e){if(bH(n=(0,q.m9)(n)))return LP("Unsupported field value:",e,n),vH(n,e);if(n instanceof Tp)return function(t,i){if(!gH(i.sa))throw i.ha(`${t._methodName}() can only be used with update() and set()`);if(!i.path)throw i.ha(`${t._methodName}() is not currently supported inside arrays`);const r=t._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.oa&&4!==e.sa)throw e.ha("Nested arrays are not supported");return function(t,i){const r=[];let s=0;for(const a of t){let d=Ap(a,i.aa(s));null==d&&(d={nullValue:"NULL_VALUE"}),r.push(d),s++}return{arrayValue:{values:r}}}(n,e)}return function(t,i){if(null===(t=(0,q.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return uU(i.It,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const r=ui.fromDate(t);return{timestampValue:rw(i.It,r)}}if(t instanceof ui){const r=new ui(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:rw(i.It,r)}}if(t instanceof yA)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Fl)return{bytesValue:kU(i.It,t._byteString)};if(t instanceof ri){const r=i.databaseId,s=t.firestore._databaseId;if(!s.isEqual(r))throw i.ha(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:JO(t.firestore._databaseId||i.databaseId,t._key.path)}}throw i.ha(`Unsupported field value: ${pA(t)}`)}(n,e)}function vH(n,e){const t={};return U2(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):dp(n,(i,r)=>{const s=Ap(r,e.ra(i));null!=s&&(t[i]=s)}),{mapValue:{fields:t}}}function bH(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof ui||n instanceof yA||n instanceof Fl||n instanceof ri||n instanceof Tp)}function LP(n,e,t){if(!bH(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=pA(t);throw e.ha("an object"===i?n+" a custom object":n+" "+i)}var i}function VP(n,e,t){if((e=(0,q.m9)(e))instanceof Qc)return e._internalPath;if("string"==typeof e)return EA(n,e);throw wA("Field path arguments must be of type string or ",n,!1,void 0,t)}const _Z=new RegExp("[~\\*/\\[\\]]");function EA(n,e,t){if(e.search(_Z)>=0)throw wA(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Qc(...e.split("."))._internalPath}catch{throw wA(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function wA(n,e,t,i,r){const s=i&&!i.isEmpty(),a=void 0!==r;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let f="";return(s||a)&&(f+=" (found",s&&(f+=` in field ${i}`),a&&(f+=` in document ${r}`),f+=")"),new Ue(be.INVALID_ARGUMENT,d+n+f)}function EH(n,e){return n.some(t=>t.isEqual(e))}class ww{constructor(e,t,i,r,s){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new ri(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new yZ(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(CA("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class yZ extends ww{data(){return super.data()}}function CA(n,e){return"string"==typeof e?EA(n,e):e instanceof Qc?e._internalPath:e._delegate._internalPath}function wH(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Ue(be.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Cw{}function Xc(n,...e){for(const t of e)n=t._apply(n);return n}class vZ extends Cw{constructor(e,t,i){super(),this.ma=e,this.ga=t,this.ya=i,this.type="where"}_apply(e){const t=Dp(e.firestore),i=function(r,s,a,d,f,p,_){let v;if(f.isKeyField()){if("array-contains"===p||"array-contains-any"===p)throw new Ue(be.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if("in"===p||"not-in"===p){AH(_,p);const D=[];for(const A of _)D.push(DH(d,r,A));v={arrayValue:{values:D}}}else v=DH(d,r,_)}else"in"!==p&&"not-in"!==p&&"array-contains-any"!==p||AH(_,p),v=yH(a,"where",_,"in"===p||"not-in"===p);const w=Or.create(f,p,v);return function(D,A){if(A.dt()){const k=YO(D);if(null!==k&&!k.isEqual(A.field))throw new Ue(be.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${k.toString()}' and '${A.field.toString()}'`);const F=qO(D);null!==F&&xH(0,A.field,F)}const x=function(k,F){for(const L of k.filters)if(F.indexOf(L.op)>=0)return L.op;return null}(D,function(k){switch(k){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(A.op));if(null!==x)throw new Ue(be.INVALID_ARGUMENT,x===A.op?`Invalid query. You cannot use more than one '${A.op.toString()}' filter.`:`Invalid query. You cannot use '${A.op.toString()}' filters with '${x.toString()}' filters.`)}(r,w),w}(e._query,0,t,e.firestore._databaseId,this.ma,this.ga,this.ya);return new Kr(e.firestore,e.converter,function(r,s){const a=r.filters.concat([s]);return new qc(r.path,r.collectionGroup,r.explicitOrderBy.slice(),a,r.limit,r.limitType,r.startAt,r.endAt)}(e._query,i))}}class EZ extends Cw{constructor(e,t){super(),this.ma=e,this.pa=t,this.type="orderBy"}_apply(e){const t=function(i,r,s){if(null!==i.startAt)throw new Ue(be.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new Ue(be.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const a=new _y(r,s);return function(d,f){if(null===qO(d)){const p=YO(d);null!==p&&xH(0,p,f.field)}}(i,a),a}(e._query,this.ma,this.pa);return new Kr(e.firestore,e.converter,function(i,r){const s=i.explicitOrderBy.concat([r]);return new qc(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}class CH extends Cw{constructor(e,t,i){super(),this.type=e,this.Ia=t,this.Ta=i}_apply(e){return new Kr(e.firestore,e.converter,WD(e._query,this.Ia,this.Ta))}}class SH extends Cw{constructor(e,t,i){super(),this.type=e,this.Ea=t,this.Aa=i}_apply(e){const t=TH(e,this.type,this.Ea,this.Aa);return new Kr(e.firestore,e.converter,(r=t,new qc((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class IH extends Cw{constructor(e,t,i){super(),this.type=e,this.Ea=t,this.Aa=i}_apply(e){const t=TH(e,this.type,this.Ea,this.Aa);return new Kr(e.firestore,e.converter,(r=t,new qc((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function TH(n,e,t,i){if(t[0]=(0,q.m9)(t[0]),t[0]instanceof ww)return function(r,s,a,d,f){if(!d)throw new Ue(be.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const p=[];for(const _ of vy(r))if(_.field.isKeyField())p.push(pp(s,d.key));else{const v=d.data.field(_.field);if(jO(v))throw new Ue(be.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+_.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===v){const w=_.field.canonicalString();throw new Ue(be.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${w}' (used as the orderBy) does not exist.`)}p.push(v)}return new Rd(p,f)}(n._query,n.firestore._databaseId,e,t[0]._document,i);{const r=Dp(n.firestore);return function(s,a,d,f,p,_){const v=s.explicitOrderBy;if(p.length>v.length)throw new Ue(be.INVALID_ARGUMENT,`Too many arguments provided to ${f}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const w=[];for(let D=0;D<p.length;D++){const A=p[D];if(v[D].field.isKeyField()){if("string"!=typeof A)throw new Ue(be.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${f}(), but got a ${typeof A}`);if(!ZO(s)&&-1!==A.indexOf("/"))throw new Ue(be.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${f}() must be a plain document ID, but '${A}' contains a slash.`);const x=s.path.child(bn.fromString(A));if(!st.isDocumentKey(x))throw new Ue(be.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${f}() must result in a valid document path, but '${x}' is not because it contains an odd number of segments.`);const k=new st(x);w.push(pp(a,k))}else{const x=yH(d,f,A);w.push(x)}}return new Rd(w,_)}(n._query,n.firestore._databaseId,r,e,t,i)}}function DH(n,e,t){if("string"==typeof(t=(0,q.m9)(t))){if(""===t)throw new Ue(be.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ZO(e)&&-1!==t.indexOf("/"))throw new Ue(be.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(bn.fromString(t));if(!st.isDocumentKey(i))throw new Ue(be.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return pp(n,new st(i))}if(t instanceof ri)return pp(n,t._key);throw new Ue(be.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${pA(t)}.`)}function AH(n,e){if(!Array.isArray(n)||0===n.length)throw new Ue(be.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Ue(be.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function xH(n,e,t){if(!t.isEqual(e))throw new Ue(be.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class BP{convertValue(e,t="none"){switch(fp(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Di(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(hp(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw bt()}}convertObject(e,t){const i={};return dp(e.fields,(r,s)=>{i[r]=this.convertValue(s,t)}),i}convertGeoPoint(e){return new yA(Di(e.latitude),Di(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=H2(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(jE(e));default:return null}}convertTimestamp(e){const t=Ad(e);return new ui(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=bn.fromString(e);Ft(UU(i));const r=new xd(i.get(1),i.get(3)),s=new st(i.popFirst(5));return r.isEqual(t)||Pi(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}function SA(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class xZ extends BP{constructor(e){super(),this.firestore=e}convertBytes(e){return new Fl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ri(this.firestore,null,t)}}class xp{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Jc extends ww{constructor(e,t,i,r,s,a){super(e,t,i,r,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Sw(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(CA("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class Sw extends Jc{data(e={}){return super.data(e)}}class Vd{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new xp(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new Sw(this._firestore,this._userDataWriter,i.key,i,new xp(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ue(be.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>({type:"added",doc:new Sw(i._firestore,i._userDataWriter,a.doc.key,a.doc,new xp(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:s++}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>r||3!==a.type).map(a=>{const d=new Sw(i._firestore,i._userDataWriter,a.doc.key,a.doc,new xp(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,p=-1;return 0!==a.type&&(f=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),1!==a.type&&(s=s.add(a.doc),p=s.indexOf(a.doc.key)),{type:MZ(a.type),doc:d,oldIndex:f,newIndex:p}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function MZ(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return bt()}}function MH(n,e){return n instanceof Jc&&e instanceof Jc?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Vd&&e instanceof Vd&&n._firestore===e._firestore&&SP(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function kH(n){n=gn(n,ri);const e=gn(n.firestore,si);return uH(Ni(e),n._key).then(t=>UP(e,n,t))}class Bd extends BP{constructor(e){super(),this.firestore=e}convertBytes(e){return new Fl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ri(this.firestore,null,t)}}function RH(n,e,t){n=gn(n,ri);const i=gn(n.firestore,si),r=SA(n.converter,e,t);return Vy(i,[bA(Dp(i),"setDoc",n._key,r,null!==n.converter,t).toMutation(n._key,di.none())])}function OH(n,e,t,...i){n=gn(n,ri);const r=gn(n.firestore,si),s=Dp(r);let a;return a="string"==typeof(e=(0,q.m9)(e))||e instanceof Qc?FP(s,"updateDoc",n._key,e,t,i):NP(s,"updateDoc",n._key,e),Vy(r,[a.toMutation(n._key,di.exists(!0))])}function IA(n,...e){var t,i,r;n=(0,q.m9)(n);let s={includeMetadataChanges:!1},a=0;"object"!=typeof e[a]||OP(e[a])||(s=e[a],a++);const d={includeMetadataChanges:s.includeMetadataChanges};if(OP(e[a])){const v=e[a];e[a]=null===(t=v.next)||void 0===t?void 0:t.bind(v),e[a+1]=null===(i=v.error)||void 0===i?void 0:i.bind(v),e[a+2]=null===(r=v.complete)||void 0===r?void 0:r.bind(v)}let f,p,_;if(n instanceof ri)p=gn(n.firestore,si),_=yy(n._key.path),f={next:v=>{e[a]&&e[a](UP(p,n,v))},error:e[a+1],complete:e[a+2]};else{const v=gn(n,Kr);p=gn(v.firestore,si),_=v._query;const w=new Bd(p);f={next:D=>{e[a]&&e[a](new Vd(p,w,v,D))},error:e[a+1],complete:e[a+2]},wH(n._query)}return function(v,w,D,A){const x=new mA(A),k=new Z1(w,x,D);return v.asyncQueue.enqueueAndForget((0,te.Z)(function*(){return j1(yield Ly(v),k)})),()=>{x.bc(),v.asyncQueue.enqueueAndForget((0,te.Z)(function*(){return W1(yield Ly(v),k)}))}}(Ni(p),_,d,f)}function Vy(n,e){return function(t,i){const r=new nr;return t.asyncQueue.enqueueAndForget((0,te.Z)(function*(){return function wY(n,e,t){return eP.apply(this,arguments)}(yield kP(t),i,r)})),r.promise}(Ni(n),e)}function UP(n,e,t){const i=t.docs.get(e._key),r=new Bd(n);return new Jc(n,r,e._key,i,new xp(t.hasPendingWrites,t.fromCache),e.converter)}const BZ={maxAttempts:5};class PH{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Dp(e)}set(e,t,i){this._verifyNotCommitted();const r=Ud(e,this._firestore),s=SA(r.converter,t,i),a=bA(this._dataReader,"WriteBatch.set",r._key,s,null!==r.converter,i);return this._mutations.push(a.toMutation(r._key,di.none())),this}update(e,t,i,...r){this._verifyNotCommitted();const s=Ud(e,this._firestore);let a;return a="string"==typeof(t=(0,q.m9)(t))||t instanceof Qc?FP(this._dataReader,"WriteBatch.update",s._key,t,i,r):NP(this._dataReader,"WriteBatch.update",s._key,t),this._mutations.push(a.toMutation(s._key,di.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Ud(e,this._firestore);return this._mutations=this._mutations.concat(new Cy(t._key,di.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ue(be.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Ud(n,e){if((n=(0,q.m9)(n)).firestore!==e)throw new Ue(be.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class UZ extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Dp(e)}get(e){const t=Ud(e,this._firestore),i=new xZ(this._firestore);return this._transaction.lookup([t._key]).then(r=>{if(!r||1!==r.length)return bt();const s=r[0];if(s.isFoundDocument())return new ww(this._firestore,i,s.key,s,t.converter);if(s.isNoDocument())return new ww(this._firestore,i,t._key,null,t.converter);throw bt()})}set(e,t,i){const r=Ud(e,this._firestore),s=SA(r.converter,t,i),a=bA(this._dataReader,"Transaction.set",r._key,s,null!==r.converter,i);return this._transaction.set(r._key,a),this}update(e,t,i,...r){const s=Ud(e,this._firestore);let a;return a="string"==typeof(t=(0,q.m9)(t))||t instanceof Qc?FP(this._dataReader,"Transaction.update",s._key,t,i,r):NP(this._dataReader,"Transaction.update",s._key,t),this._transaction.update(s._key,a),this}delete(e){const t=Ud(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Ud(e,this._firestore),i=new Bd(this._firestore);return super.get(e).then(r=>new Jc(this._firestore,i,t._key,r._document,new xp(!1,!1),t.converter))}}!function(n,e=!0){fy=ot.SDK_VERSION,(0,ot._registerComponent)(new Tr.wA("firestore",(t,{instanceIdentifier:i,options:r})=>{const s=t.getProvider("app").getImmediate(),a=new si(new Q6(t.getProvider("auth-internal")),new e5(t.getProvider("app-check-internal")),function(d,f){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new Ue(be.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new xd(d.options.projectId,f)}(s,i),s);return r=Object.assign({useFetchStreams:e},r),a._setSettings(r),a},"PUBLIC").setMultipleInstances(!0)),(0,ot.registerVersion)(x2,"3.7.3",n),(0,ot.registerVersion)(x2,"3.7.3","esm2017")}();var qZ={includeMetadataChanges:!1};function eK(n,e){return void 0===e&&(e={}),function JZ(n){return function $P(n,e){return void 0===e&&(e=qZ),new kn.y(function(t){return{unsubscribe:IA(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)})}})}(n,{includeMetadataChanges:!0}).pipe((0,rt.U)(function(e){return e.docs}))}(n).pipe((0,rt.U)(function(t){return t.map(function(i){return function FH(n,e){void 0===e&&(e={});var t=n.data();return!n.exists()||"object"!=typeof t||null===t||e.idField&&(t[e.idField]=n.id),t}(i,e)})}))}class Mp{constructor(e){return e}}const UH="firestore",jP=new c.OlP("angularfire2.firestore-instances");function iK(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new Mp(i)}}const rK={provide:class tK{constructor(){return ka(UH)}},deps:[[new c.FiY,jP]]},sK={provide:Mp,useFactory:function nK(n,e){const t=Dr(UH,n,e);return t&&new Mp(t)},deps:[[new c.FiY,jP],pn]};let oK=(()=>{class n{constructor(){(0,ot.registerVersion)("angularfire",qr.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[sK,rK]}),n})();function aK(n,...e){return{ngModule:oK,providers:[{provide:jP,useFactory:iK(n),multi:!0,deps:[c.R0b,c.zs3,Yr,Ra,[new c.FiY,Pa],[new c.FiY,Oa],...e]}]}}const $H=Jn(eK,!0),HH=Jn(CP,!0),zH=Jn(bw,!0),lK=Jn(kH,!0),cK=Jn(nZ,!0),uK=Jn(IA,!0),jH=Jn(Xc,!0);function dK(n,e){if(1&n&&(c.TgZ(0,"div",3),c._UZ(1,"img",4),c.qZA()),2&n){const t=e.$implicit;c.xp6(1),c.Q6J("src",t.src,c.LSH)}}let GP,hK=(()=>{class n{constructor(){}ngOnInit(){}get catalog(){return[{src:"assets/images/antidepresant.jpg"},{src:"assets/images/brain.jpg"},{src:"assets/images/logic.jpg"},{src:"assets/images/menshe-200.jpg"},{src:"assets/images/parents.jpg"}]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-catalog"]],decls:3,vars:1,consts:[[1,"wrapper","mt-4"],[1,"container","d-flex","justify-between","gap-6"],["class","catalog",4,"ngFor","ngForOf"],[1,"catalog"],["width","200","alt","img",3,"src"]],template:function(t,i){1&t&&(c.TgZ(0,"div",0)(1,"div",1),c.YNc(2,dK,2,1,"div",2),c.qZA()()),2&t&&(c.xp6(2),c.Q6J("ngForOf",i.catalog))},dependencies:[Vr],styles:[".catalog[_ngcontent-%COMP%]{transition-duration:.3s}.catalog[_ngcontent-%COMP%]:hover{cursor:pointer;transition-duration:.3s;box-shadow:1px 4px 8px #223c5033}"]}),n})();try{GP=typeof Intl<"u"&&Intl.v8BreakIterator}catch{GP=!1}let By,ps=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?Ki(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!GP)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.Lbi))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const GH=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function WH(){if(By)return By;if("object"!=typeof document||!document)return By=new Set(GH),By;let n=document.createElement("input");return By=new Set(GH.filter(e=>(n.setAttribute("type",e),n.type===e))),By}let Iw,kp,WP;function Tw(n){return function fK(){if(null==Iw&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Iw=!0}))}finally{Iw=Iw||!1}return Iw}()?n:!!n.capture}function pK(){if(null==kp){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return kp=!1,kp;if("scrollBehavior"in document.documentElement.style)kp=!0;else{const n=Element.prototype.scrollTo;kp=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return kp}function qH(n){if(function mK(){if(null==WP){const n=typeof document<"u"?document.head:null;WP=!(!n||!n.createShadowRoot&&!n.attachShadow)}return WP}()){const e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}function qP(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const e=n.shadowRoot.activeElement;if(e===n)break;n=e}return n}function Rp(n){return n.composedPath?n.composedPath()[0]:n.target}function YP(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function Uy(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function DA(n,e=Vc){return(0,Wn.e)((t,i)=>{let r=null,s=null,a=null;const d=()=>{if(r){r.unsubscribe(),r=null;const p=s;s=null,i.next(p)}};function f(){const p=a+n,_=e.now();if(_<p)return r=this.schedule(void 0,p-_),void i.add(r);d()}t.subscribe((0,Bn.x)(i,p=>{s=p,a=e.now(),r||(r=e.schedule(f,n),i.add(r))},()=>{d(),i.complete()},void 0,()=>{s=r=null}))})}function QH(n){return Rn((e,t)=>n<=t)}function eN(n,e=ya.y){return n=n??DK,(0,Wn.e)((t,i)=>{let r,s=!0;t.subscribe((0,Bn.x)(i,a=>{const d=e(a);(s||!n(r,d))&&(s=!1,r=d,i.next(a))}))})}function DK(n,e){return n===e}var XH=z(5032);function oo(n){return(0,Wn.e)((e,t)=>{(0,is.Xf)(n).subscribe((0,Bn.x)(t,()=>t.complete(),XH.Z)),!t.closed&&e.subscribe(t)})}function rr(n){return null!=n&&"false"!=`${n}`}function $y(n,e=0){return function AK(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}function AA(n){return Array.isArray(n)?n:[n]}function qi(n){return null==n?"":"string"==typeof n?n:`${n}px`}function eu(n){return n instanceof c.SBq?n.nativeElement:n}let JH=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),xK=(()=>{class n{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,i)=>this._cleanupObserver(i))}observe(t){const i=eu(t);return new kn.y(r=>{const a=this._observeElement(i).subscribe(r);return()=>{a.unsubscribe(),this._unobserveElement(i)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const i=new zt.x,r=this._mutationObserverFactory.create(s=>i.next(s));r&&r.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:r,stream:i,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:i,stream:r}=this._observedElements.get(t);i&&i.disconnect(),r.complete(),this._observedElements.delete(t)}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(JH))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),MK=(()=>{class n{constructor(t,i,r){this._contentObserver=t,this._elementRef=i,this._ngZone=r,this.event=new c.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(t){this._disabled=rr(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=$y(t),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(DA(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(xK),c.Y36(c.SBq),c.Y36(c.R0b))},n.\u0275dir=c.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),ez=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[JH]}),n})();const tz=new Set;let Hy,kK=(()=>{class n{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):OK}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function RK(n){if(!tz.has(n))try{Hy||(Hy=document.createElement("style"),Hy.setAttribute("type","text/css"),document.head.appendChild(Hy)),Hy.sheet&&(Hy.sheet.insertRule(`@media ${n} {body{ }}`,0),tz.add(n))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ps))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function OK(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let PK=(()=>{class n{constructor(t,i){this._mediaMatcher=t,this._zone=i,this._queries=new Map,this._destroySubject=new zt.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return nz(AA(t)).some(r=>this._registerQuery(r).mql.matches)}observe(t){let s=Hh(nz(AA(t)).map(a=>this._registerQuery(a).observable));return s=To(s.pipe(tn(1)),s.pipe(QH(1),DA(0))),s.pipe((0,rt.U)(a=>{const d={matches:!1,breakpoints:{}};return a.forEach(({matches:f,query:p})=>{d.matches=d.matches||f,d.breakpoints[p]=f}),d}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const i=this._mediaMatcher.matchMedia(t),s={observable:new kn.y(a=>{const d=f=>this._zone.run(()=>a.next(f));return i.addListener(d),()=>{i.removeListener(d)}}).pipe(_i(i),(0,rt.U)(({matches:a})=>({query:t,matches:a})),oo(this._destroySubject)),mql:i};return this._queries.set(t,s),s}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(kK),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function nz(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}class sz extends class LK{constructor(e){this._items=e,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new zt.x,this._typeaheadSubscription=Ir.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=t=>t.disabled,this._pressedLetters=[],this.tabOut=new zt.x,this.change=new zt.x,e instanceof c.n_E&&e.changes.subscribe(t=>{if(this._activeItem){const r=t.toArray().indexOf(this._activeItem);r>-1&&r!==this._activeItemIndex&&(this._activeItemIndex=r)}})}skipPredicate(e){return this._skipPredicateFn=e,this}withWrap(e=!0){return this._wrap=e,this}withVerticalOrientation(e=!0){return this._vertical=e,this}withHorizontalOrientation(e){return this._horizontal=e,this}withAllowedModifierKeys(e){return this._allowedModifierKeys=e,this}withTypeAhead(e=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(An(t=>this._pressedLetters.push(t)),DA(e),Rn(()=>this._pressedLetters.length>0),(0,rt.U)(()=>this._pressedLetters.join(""))).subscribe(t=>{const i=this._getItemsArray();for(let r=1;r<i.length+1;r++){const s=(this._activeItemIndex+r)%i.length,a=i[s];if(!this._skipPredicateFn(a)&&0===a.getLabel().toUpperCase().trim().indexOf(t)){this.setActiveItem(s);break}}this._pressedLetters=[]}),this}withHomeAndEnd(e=!0){return this._homeAndEnd=e,this}setActiveItem(e){const t=this._activeItem;this.updateActiveItem(e),this._activeItem!==t&&this.change.next(this._activeItemIndex)}onKeydown(e){const t=e.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(s=>!e[s]||this._allowedModifierKeys.indexOf(s)>-1);switch(t){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;default:return void((r||Uy(e,"shiftKey"))&&(e.key&&1===e.key.length?this._letterKeyStream.next(e.key.toLocaleUpperCase()):(t>=65&&t<=90||t>=48&&t<=57)&&this._letterKeyStream.next(String.fromCharCode(t))))}this._pressedLetters=[],e.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(e){const t=this._getItemsArray(),i="number"==typeof e?e:t.indexOf(e);this._activeItem=t[i]??null,this._activeItemIndex=i}_setActiveItemByDelta(e){this._wrap?this._setActiveInWrapMode(e):this._setActiveInDefaultMode(e)}_setActiveInWrapMode(e){const t=this._getItemsArray();for(let i=1;i<=t.length;i++){const r=(this._activeItemIndex+e*i+t.length)%t.length;if(!this._skipPredicateFn(t[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(e){this._setActiveItemByIndex(this._activeItemIndex+e,e)}_setActiveItemByIndex(e,t){const i=this._getItemsArray();if(i[e]){for(;this._skipPredicateFn(i[e]);)if(!i[e+=t])return;this.setActiveItem(e)}}_getItemsArray(){return this._items instanceof c.n_E?this._items.toArray():this._items}}{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(e){return this._origin=e,this}setActiveItem(e){super.setActiveItem(e),this.activeItem&&this.activeItem.focus(this._origin)}}let xA=(()=>{class n{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function BK(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const i=function VK(n){try{return n.frameElement}catch{return null}}(function qK(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(t));if(i&&(-1===az(i)||!this.isVisible(i)))return!1;let r=t.nodeName.toLowerCase(),s=az(t);return t.hasAttribute("contenteditable")?-1!==s:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function GK(n){let e=n.nodeName.toLowerCase(),t="input"===e&&n.type;return"text"===t||"password"===t||"select"===e||"textarea"===e}(t))&&("audio"===r?!!t.hasAttribute("controls")&&-1!==s:"video"===r?-1!==s&&(null!==s||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,i){return function WK(n){return!function $K(n){return function zK(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function UK(n){let e=n.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(n)||function HK(n){return function jK(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||oz(n))}(t)&&!this.isDisabled(t)&&(i?.ignoreVisibility||this.isVisible(t))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ps))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function oz(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let e=n.getAttribute("tabindex");return!(!e||isNaN(parseInt(e,10)))}function az(n){if(!oz(n))return null;const e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class YK{constructor(e,t,i,r,s=!1){this._element=e,this._checker=t,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,s||this.attachAnchors()}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){const t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){const i=this._getFirstTabbableElement(t);return i?.focus(e),!!i}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){const t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){const t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let i=0;i<t.length;i++){const r=t[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[i]):null;if(r)return r}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let i=t.length-1;i>=0;i--){const r=t[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[i]):null;if(r)return r}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe(tn(1)).subscribe(e)}}let tN=(()=>{class n{constructor(t,i,r){this._checker=t,this._ngZone=i,this._document=r}create(t,i=!1){return new YK(t,this._checker,this._ngZone,this._document,i)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(xA),c.LFG(c.R0b),c.LFG(Ce))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function nN(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function iN(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const ZK=new c.OlP("cdk-input-modality-detector-options"),KK={ignoreKeys:[18,17,224,91,16]},zy=Tw({passive:!0,capture:!0});let QK=(()=>{class n{constructor(t,i,r,s){this._platform=t,this._mostRecentTarget=null,this._modality=new Mn(null),this._lastTouchMs=0,this._onKeydown=a=>{this._options?.ignoreKeys?.some(d=>d===a.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Rp(a))},this._onMousedown=a=>{Date.now()-this._lastTouchMs<650||(this._modality.next(nN(a)?"keyboard":"mouse"),this._mostRecentTarget=Rp(a))},this._onTouchstart=a=>{iN(a)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Rp(a))},this._options={...KK,...s},this.modalityDetected=this._modality.pipe(QH(1)),this.modalityChanged=this.modalityDetected.pipe(eN()),t.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,zy),r.addEventListener("mousedown",this._onMousedown,zy),r.addEventListener("touchstart",this._onTouchstart,zy)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,zy),document.removeEventListener("mousedown",this._onMousedown,zy),document.removeEventListener("touchstart",this._onTouchstart,zy))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ps),c.LFG(c.R0b),c.LFG(Ce),c.LFG(ZK,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const JK=new c.OlP("cdk-focus-monitor-default-options"),MA=Tw({passive:!0,capture:!0});let $d=(()=>{class n{constructor(t,i,r,s,a){this._ngZone=t,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new zt.x,this._rootNodeFocusAndBlurListener=d=>{for(let p=Rp(d);p;p=p.parentElement)"focus"===d.type?this._onFocus(d,p):this._onBlur(d,p)},this._document=s,this._detectionMode=a?.detectionMode||0}monitor(t,i=!1){const r=eu(t);if(!this._platform.isBrowser||1!==r.nodeType)return tt(null);const s=qH(r)||this._getDocument(),a=this._elementInfo.get(r);if(a)return i&&(a.checkChildren=!0),a.subject;const d={checkChildren:i,subject:new zt.x,rootNode:s};return this._elementInfo.set(r,d),this._registerGlobalListeners(d),d.subject}stopMonitoring(t){const i=eu(t),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(t,i,r){const s=eu(t);s===this._getDocument().activeElement?this._getClosestElementsInfo(s).forEach(([d,f])=>this._originChanged(d,i,f)):(this._setOrigin(i),"function"==typeof s.focus&&s.focus(r))}ngOnDestroy(){this._elementInfo.forEach((t,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,i){t.classList.toggle("cdk-focused",!!i),t.classList.toggle("cdk-touch-focused","touch"===i),t.classList.toggle("cdk-keyboard-focused","keyboard"===i),t.classList.toggle("cdk-mouse-focused","mouse"===i),t.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(t,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,i){const r=this._elementInfo.get(i),s=Rp(t);!r||!r.checkChildren&&i!==s||this._originChanged(i,this._getFocusOrigin(s),r)}_onBlur(t,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&t.relatedTarget instanceof Node&&i.contains(t.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(t,i){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(i))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const i=t.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,MA),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,MA)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(oo(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(t){const i=t.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,MA),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,MA),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,i,r){this._setClasses(t,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(t){const i=[];return this._elementInfo.forEach((r,s)=>{(s===t||r.checkChildren&&s.contains(t))&&i.push([s,r])}),i}_isLastInteractionFromInputLabel(t){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===t||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName||t.disabled)return!1;const s=t.labels;if(s)for(let a=0;a<s.length;a++)if(s[a].contains(i))return!0;return!1}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.R0b),c.LFG(ps),c.LFG(QK),c.LFG(Ce,8),c.LFG(JK,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const cz="cdk-high-contrast-black-on-white",uz="cdk-high-contrast-white-on-black",rN="cdk-high-contrast-active";let dz=(()=>{class n{constructor(t,i){this._platform=t,this._document=i,this._breakpointSubscription=(0,c.f3M)(PK).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(t):null,s=(r&&r.backgroundColor||"").replace(/ /g,"");switch(t.remove(),s){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(rN,cz,uz),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?t.add(rN,cz):2===i&&t.add(rN,uz)}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ps),c.LFG(Ce))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),e7=(()=>{class n{constructor(t){t._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(dz))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[ez]}),n})();const t7=new c.OlP("cdk-dir-doc",{providedIn:"root",factory:function n7(){return(0,c.f3M)(Ce)}}),i7=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Dw=(()=>{class n{constructor(t){if(this.value="ltr",this.change=new c.vpe,t){const r=t.documentElement?t.documentElement.dir:null;this.value=function r7(n){const e=n?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?i7.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||r||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(t7,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Aw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const o7=new c.OlP("mat-sanity-checks",{providedIn:"root",factory:function s7(){return!0}});let hi=(()=>{class n{constructor(t,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!YP()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(dz),c.LFG(o7,8),c.LFG(Ce))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Aw,Aw]}),n})();function pz(n){return class extends n{constructor(...e){super(...e),this._disabled=!1}get disabled(){return this._disabled}set disabled(e){this._disabled=rr(e)}}}function kA(n,e){return class extends n{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const i=t||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}}}function xw(n){return class extends n{constructor(...e){super(...e),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=rr(e)}}}function a7(n,e=0){return class extends n{constructor(...t){super(...t),this._tabIndex=e,this.defaultTabIndex=e}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(t){this._tabIndex=null!=t?$y(t):this.defaultTabIndex}}}function l7(n){return class extends n{constructor(...e){super(...e),this.errorState=!1}updateErrorState(){const e=this.errorState,s=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);s!==e&&(this.errorState=s,this.stateChanges.next())}}}let mz=(()=>{class n{isErrorState(t,i){return!!(t&&t.invalid&&(t.touched||i&&i.submitted))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),u7=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["","mat-line",""],["","matLine",""]],hostAttrs:[1,"mat-line"]}),n})();function Mw(n,e,t){n.nativeElement.classList.toggle(e,t)}let gz=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[hi,hi]}),n})();class h7{constructor(e,t,i,r=!1){this._renderer=e,this.element=t,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const _z={enterDuration:225,exitDuration:150},sN=Tw({passive:!0}),yz=["mousedown","touchstart"],vz=["mouseup","mouseleave","touchend","touchcancel"];class p7{constructor(e,t,i,r){this._target=e,this._ngZone=t,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=eu(i))}fadeInRipple(e,t,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s={..._z,...i.animation};i.centered&&(e=r.left+r.width/2,t=r.top+r.height/2);const a=i.radius||function m7(n,e,t){const i=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),r=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(i*i+r*r)}(e,t,r),d=e-r.left,f=t-r.top,p=s.enterDuration,_=document.createElement("div");_.classList.add("mat-ripple-element"),_.style.left=d-a+"px",_.style.top=f-a+"px",_.style.height=2*a+"px",_.style.width=2*a+"px",null!=i.color&&(_.style.backgroundColor=i.color),_.style.transitionDuration=`${p}ms`,this._containerElement.appendChild(_);const v=window.getComputedStyle(_),D=v.transitionDuration,A="none"===v.transitionProperty||"0s"===D||"0s, 0s"===D,x=new h7(this,_,i,A);_.style.transform="scale3d(1, 1, 1)",x.state=0,i.persistent||(this._mostRecentTransientRipple=x);let k=null;return!A&&(p||s.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const F=()=>this._finishRippleTransition(x),L=()=>this._destroyRipple(x);_.addEventListener("transitionend",F),_.addEventListener("transitioncancel",L),k={onTransitionEnd:F,onTransitionCancel:L}}),this._activeRipples.set(x,k),(A||!p)&&this._finishRippleTransition(x),x}fadeOutRipple(e){if(2===e.state||3===e.state)return;const t=e.element,i={..._z,...e.config.animation};t.style.transitionDuration=`${i.exitDuration}ms`,t.style.opacity="0",e.state=2,(e._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=eu(e);!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,this._registerEvents(yz))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(vz),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){0===e.state?this._startFadeOutTransition(e):2===e.state&&this._destroyRipple(e)}_startFadeOutTransition(e){const t=e===this._mostRecentTransientRipple,{persistent:i}=e.config;e.state=1,!i&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=3,null!==t&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel)),e.element.remove()}_onMousedown(e){const t=nN(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!iN(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let i=0;i<t.length;i++)this.fadeInRipple(t[i].clientX,t[i].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_registerEvents(e){this._ngZone.runOutsideAngular(()=>{e.forEach(t=>{this._triggerElement.addEventListener(t,this,sN)})})}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){this._triggerElement&&(yz.forEach(e=>{this._triggerElement.removeEventListener(e,this,sN)}),this._pointerUpEventsRegistered&&vz.forEach(e=>{this._triggerElement.removeEventListener(e,this,sN)}))}}const g7=new c.OlP("mat-ripple-global-options");let kw=(()=>{class n{constructor(t,i,r,s,a){this._elementRef=t,this._animationMode=a,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new p7(this,i,t,r)}get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,i=0,r){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,i,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...t})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.R0b),c.Y36(ps),c.Y36(g7,8),c.Y36(c.QbO,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,i){2&t&&c.ekj("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),Rw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[hi,hi]}),n})(),_7=(()=>{class n{constructor(t){this._animationMode=t,this.state="unchecked",this.disabled=!1}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.QbO,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(t,i){2&t&&c.ekj("mat-pseudo-checkbox-indeterminate","indeterminate"===i.state)("mat-pseudo-checkbox-checked","checked"===i.state)("mat-pseudo-checkbox-disabled",i.disabled)("_mat-animation-noopable","NoopAnimations"===i._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(t,i){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}'],encapsulation:2,changeDetection:0}),n})(),bz=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[hi]}),n})();const y7=["mat-button",""],v7=["*"],E7=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],w7=kA(pz(xw(class{constructor(n){this._elementRef=n}})));let oN=(()=>{class n extends w7{constructor(t,i,r){super(t),this._focusMonitor=i,this._animationMode=r,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const s of E7)this._hasHostAttributes(s)&&this._getHostElement().classList.add(s);t.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t,i){t?this._focusMonitor.focusVia(this._getHostElement(),t,i):this._getHostElement().focus(i)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(i=>this._getHostElement().hasAttribute(i))}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36($d),c.Y36(c.QbO,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,i){if(1&t&&c.Gf(kw,5),2&t){let r;c.iGM(r=c.CRH())&&(i.ripple=r.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(t,i){2&t&&(c.uIk("disabled",i.disabled||null),c.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-button-disabled",i.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[c.qOj],attrs:y7,ngContentSelectors:v7,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,i){1&t&&(c.F$t(),c.TgZ(0,"span",0),c.Hsn(1),c.qZA(),c._UZ(2,"span",1)(3,"span",2)),2&t&&(c.xp6(2),c.ekj("mat-button-ripple-round",i.isRoundButton||i.isIconButton),c.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",i.isIconButton)("matRippleTrigger",i._getHostElement()))},dependencies:[kw],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}.mat-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.mat-flat-button::before,.mat-raised-button::before,.mat-fab::before,.mat-mini-fab::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-stroked-button::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),Op=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Rw,hi,hi]}),n})(),C7=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-product-card-in-main"]],inputs:{book:"book"},decls:21,vars:8,consts:[[1,"wrapper","pointer","d-flex","flex-col","gap-1","text-align-center",3,"routerLink"],[1,"p-2"],["alt","","width","166",1,"content-center",3,"src"],[1,"title","heading"],[1,"d-flex","flex-col"],[1,"description"],[1,"d-flex","justify-between"],[1,"d-flex","gap-2"],[1,"price"],[1,"old_price"],[1,"pr-2","pl-2"],["mat-button","",1,"to-cart"]],template:function(t,i){1&t&&(c.TgZ(0,"div",0)(1,"div",1),c._UZ(2,"img",2),c.TgZ(3,"div",3),c._uU(4),c.qZA(),c.TgZ(5,"div",4)(6,"div",5),c._uU(7),c.qZA(),c.TgZ(8,"div",5),c._uU(9),c.qZA()(),c.TgZ(10,"div",6)(11,"div",7)(12,"div",8),c._uU(13),c.qZA(),c.TgZ(14,"div",9),c._uU(15),c.qZA()(),c.TgZ(16,"div"),c._uU(17),c.qZA()()(),c.TgZ(18,"div",10)(19,"button",11),c._uU(20,"\u0412 \u043a\u043e\u0440\u0437\u0438\u043d\u0443"),c.qZA()()()),2&t&&(c.Q6J("routerLink","/product-detail/"+i.book.sku),c.xp6(2),c.Q6J("src",i.book.img_url,c.LSH),c.xp6(2),c.Oqu(i.book.title),c.xp6(3),c.Oqu(i.book.details[5].value),c.xp6(2),c.Oqu(i.book.author),c.xp6(4),c.Oqu(i.book.price),c.xp6(2),c.Oqu(null==i.book?null:i.book.old_price),c.xp6(2),c.Oqu("0"!==i.book.count?"\u041d\u0430 \u0441\u043a\u043b\u0430\u0434\u0435":"\u041d\u0435\u0442 \u0432 \u043d\u0430\u043b\u0438\u0447\u0438\u0439"))},dependencies:[oN,Qu],styles:[".wrapper[_ngcontent-%COMP%]{width:228px;height:390px;box-sizing:border-box;box-shadow:0 0 5px #0000001a;background:#fff;border-radius:10px;border:1px solid #fdfdfd;overflow:hidden;margin-bottom:30px;transition:.2s ease}.wrapper[_ngcontent-%COMP%]:hover{transition:.2s ease;height:420px;margin-bottom:0}.wrapper[_ngcontent-%COMP%]:hover   .to-cart[_ngcontent-%COMP%]{opacity:1;transition:.2s}.title[_ngcontent-%COMP%]{color:#0a78d6;text-decoration:none}.title[_ngcontent-%COMP%]:hover{color:var(--brand_yellow)}.description[_ngcontent-%COMP%]{text-align:center;font-size:10px;color:#777}.price[_ngcontent-%COMP%]{font-size:14px;color:#af0000}.to-cart[_ngcontent-%COMP%]{width:100%;background:var(--brand_yellow);border-radius:1rem;opacity:0;transition:.2s}.heading[_ngcontent-%COMP%]{height:40px;overflow:hidden}"]}),n})();function Ez(n){return null!==n&&"object"==typeof n&&"constructor"in n&&n.constructor===Object}function aN(n={},e={}){Object.keys(e).forEach(t=>{typeof n[t]>"u"?n[t]=e[t]:Ez(e[t])&&Ez(n[t])&&Object.keys(e[t]).length>0&&aN(n[t],e[t])})}const wz={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector:()=>null,querySelectorAll:()=>[],getElementById:()=>null,createEvent:()=>({initEvent(){}}),createElement:()=>({children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName:()=>[]}),createElementNS:()=>({}),importNode:()=>null,location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function _r(){const n=typeof document<"u"?document:{};return aN(n,wz),n}const S7={document:wz,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle:()=>({getPropertyValue:()=>""}),Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia:()=>({}),requestAnimationFrame:n=>typeof setTimeout>"u"?(n(),null):setTimeout(n,0),cancelAnimationFrame(n){typeof setTimeout>"u"||clearTimeout(n)}};function sr(){const n=typeof window<"u"?window:{};return aN(n,S7),n}class Hd extends Array{constructor(e){"number"==typeof e?super(e):(super(...e||[]),function I7(n){const e=n.__proto__;Object.defineProperty(n,"__proto__",{get:()=>e,set(t){e.__proto__=t}})}(this))}}function Ow(n=[]){const e=[];return n.forEach(t=>{Array.isArray(t)?e.push(...Ow(t)):e.push(t)}),e}function Cz(n,e){return Array.prototype.filter.call(n,e)}function Zt(n,e){const t=sr(),i=_r();let r=[];if(!e&&n instanceof Hd)return n;if(!n)return new Hd(r);if("string"==typeof n){const s=n.trim();if(s.indexOf("<")>=0&&s.indexOf(">")>=0){let a="div";0===s.indexOf("<li")&&(a="ul"),0===s.indexOf("<tr")&&(a="tbody"),(0===s.indexOf("<td")||0===s.indexOf("<th"))&&(a="tr"),0===s.indexOf("<tbody")&&(a="table"),0===s.indexOf("<option")&&(a="select");const d=i.createElement(a);d.innerHTML=s;for(let f=0;f<d.childNodes.length;f+=1)r.push(d.childNodes[f])}else r=function A7(n,e){if("string"!=typeof n)return[n];const t=[],i=e.querySelectorAll(n);for(let r=0;r<i.length;r+=1)t.push(i[r]);return t}(n.trim(),e||i)}else if(n.nodeType||n===t||n===i)r.push(n);else if(Array.isArray(n)){if(n instanceof Hd)return n;r=n}return new Hd(function T7(n){const e=[];for(let t=0;t<n.length;t+=1)-1===e.indexOf(n[t])&&e.push(n[t]);return e}(r))}Zt.fn=Hd.prototype;const dQ="resize scroll".split(" ");function Ai(n){return function e(...t){if(typeof t[0]>"u"){for(let i=0;i<this.length;i+=1)dQ.indexOf(n)<0&&(n in this[i]?this[i][n]():Zt(this[i]).trigger(n));return this}return this.on(n,...t)}}Ai("click"),Ai("blur"),Ai("focus"),Ai("focusin"),Ai("focusout"),Ai("keyup"),Ai("keydown"),Ai("keypress"),Ai("submit"),Ai("change"),Ai("mousedown"),Ai("mousemove"),Ai("mouseup"),Ai("mouseenter"),Ai("mouseleave"),Ai("mouseout"),Ai("mouseover"),Ai("touchstart"),Ai("touchend"),Ai("touchmove"),Ai("resize"),Ai("scroll");const Sz={addClass:function x7(...n){const e=Ow(n.map(t=>t.split(" ")));return this.forEach(t=>{t.classList.add(...e)}),this},removeClass:function M7(...n){const e=Ow(n.map(t=>t.split(" ")));return this.forEach(t=>{t.classList.remove(...e)}),this},hasClass:function R7(...n){const e=Ow(n.map(t=>t.split(" ")));return Cz(this,t=>e.filter(i=>t.classList.contains(i)).length>0).length>0},toggleClass:function k7(...n){const e=Ow(n.map(t=>t.split(" ")));this.forEach(t=>{e.forEach(i=>{t.classList.toggle(i)})})},attr:function O7(n,e){if(1===arguments.length&&"string"==typeof n)return this[0]?this[0].getAttribute(n):void 0;for(let t=0;t<this.length;t+=1)if(2===arguments.length)this[t].setAttribute(n,e);else for(const i in n)this[t][i]=n[i],this[t].setAttribute(i,n[i]);return this},removeAttr:function P7(n){for(let e=0;e<this.length;e+=1)this[e].removeAttribute(n);return this},transform:function N7(n){for(let e=0;e<this.length;e+=1)this[e].style.transform=n;return this},transition:function F7(n){for(let e=0;e<this.length;e+=1)this[e].style.transitionDuration="string"!=typeof n?`${n}ms`:n;return this},on:function L7(...n){let[e,t,i,r]=n;function s(p){const _=p.target;if(!_)return;const v=p.target.dom7EventData||[];if(v.indexOf(p)<0&&v.unshift(p),Zt(_).is(t))i.apply(_,v);else{const w=Zt(_).parents();for(let D=0;D<w.length;D+=1)Zt(w[D]).is(t)&&i.apply(w[D],v)}}function a(p){const _=p&&p.target&&p.target.dom7EventData||[];_.indexOf(p)<0&&_.unshift(p),i.apply(this,_)}"function"==typeof n[1]&&([e,i,r]=n,t=void 0),r||(r=!1);const d=e.split(" ");let f;for(let p=0;p<this.length;p+=1){const _=this[p];if(t)for(f=0;f<d.length;f+=1){const v=d[f];_.dom7LiveListeners||(_.dom7LiveListeners={}),_.dom7LiveListeners[v]||(_.dom7LiveListeners[v]=[]),_.dom7LiveListeners[v].push({listener:i,proxyListener:s}),_.addEventListener(v,s,r)}else for(f=0;f<d.length;f+=1){const v=d[f];_.dom7Listeners||(_.dom7Listeners={}),_.dom7Listeners[v]||(_.dom7Listeners[v]=[]),_.dom7Listeners[v].push({listener:i,proxyListener:a}),_.addEventListener(v,a,r)}}return this},off:function V7(...n){let[e,t,i,r]=n;"function"==typeof n[1]&&([e,i,r]=n,t=void 0),r||(r=!1);const s=e.split(" ");for(let a=0;a<s.length;a+=1){const d=s[a];for(let f=0;f<this.length;f+=1){const p=this[f];let _;if(!t&&p.dom7Listeners?_=p.dom7Listeners[d]:t&&p.dom7LiveListeners&&(_=p.dom7LiveListeners[d]),_&&_.length)for(let v=_.length-1;v>=0;v-=1){const w=_[v];i&&w.listener===i||i&&w.listener&&w.listener.dom7proxy&&w.listener.dom7proxy===i?(p.removeEventListener(d,w.proxyListener,r),_.splice(v,1)):i||(p.removeEventListener(d,w.proxyListener,r),_.splice(v,1))}}}return this},trigger:function B7(...n){const e=sr(),t=n[0].split(" "),i=n[1];for(let r=0;r<t.length;r+=1){const s=t[r];for(let a=0;a<this.length;a+=1){const d=this[a];if(e.CustomEvent){const f=new e.CustomEvent(s,{detail:i,bubbles:!0,cancelable:!0});d.dom7EventData=n.filter((p,_)=>_>0),d.dispatchEvent(f),d.dom7EventData=[],delete d.dom7EventData}}}return this},transitionEnd:function U7(n){const e=this;return n&&e.on("transitionend",function t(i){i.target===this&&(n.call(this,i),e.off("transitionend",t))}),this},outerWidth:function $7(n){if(this.length>0){if(n){const e=this.styles();return this[0].offsetWidth+parseFloat(e.getPropertyValue("margin-right"))+parseFloat(e.getPropertyValue("margin-left"))}return this[0].offsetWidth}return null},outerHeight:function H7(n){if(this.length>0){if(n){const e=this.styles();return this[0].offsetHeight+parseFloat(e.getPropertyValue("margin-top"))+parseFloat(e.getPropertyValue("margin-bottom"))}return this[0].offsetHeight}return null},styles:function j7(){const n=sr();return this[0]?n.getComputedStyle(this[0],null):{}},offset:function z7(){if(this.length>0){const n=sr(),e=_r(),t=this[0],i=t.getBoundingClientRect(),r=e.body;return{top:i.top+(t===n?n.scrollY:t.scrollTop)-(t.clientTop||r.clientTop||0),left:i.left+(t===n?n.scrollX:t.scrollLeft)-(t.clientLeft||r.clientLeft||0)}}return null},css:function G7(n,e){const t=sr();let i;if(1===arguments.length){if("string"!=typeof n){for(i=0;i<this.length;i+=1)for(const r in n)this[i].style[r]=n[r];return this}if(this[0])return t.getComputedStyle(this[0],null).getPropertyValue(n)}if(2===arguments.length&&"string"==typeof n){for(i=0;i<this.length;i+=1)this[i].style[n]=e;return this}return this},each:function W7(n){return n?(this.forEach((e,t)=>{n.apply(e,[e,t])}),this):this},html:function Y7(n){if(typeof n>"u")return this[0]?this[0].innerHTML:null;for(let e=0;e<this.length;e+=1)this[e].innerHTML=n;return this},text:function Z7(n){if(typeof n>"u")return this[0]?this[0].textContent.trim():null;for(let e=0;e<this.length;e+=1)this[e].textContent=n;return this},is:function K7(n){const e=sr(),t=_r(),i=this[0];let r,s;if(!i||typeof n>"u")return!1;if("string"==typeof n){if(i.matches)return i.matches(n);if(i.webkitMatchesSelector)return i.webkitMatchesSelector(n);if(i.msMatchesSelector)return i.msMatchesSelector(n);for(r=Zt(n),s=0;s<r.length;s+=1)if(r[s]===i)return!0;return!1}if(n===t)return i===t;if(n===e)return i===e;if(n.nodeType||n instanceof Hd){for(r=n.nodeType?[n]:n,s=0;s<r.length;s+=1)if(r[s]===i)return!0;return!1}return!1},index:function Q7(){let e,n=this[0];if(n){for(e=0;null!==(n=n.previousSibling);)1===n.nodeType&&(e+=1);return e}},eq:function X7(n){if(typeof n>"u")return this;const e=this.length;if(n>e-1)return Zt([]);if(n<0){const t=e+n;return Zt(t<0?[]:[this[t]])}return Zt([this[n]])},append:function J7(...n){let e;const t=_r();for(let i=0;i<n.length;i+=1){e=n[i];for(let r=0;r<this.length;r+=1)if("string"==typeof e){const s=t.createElement("div");for(s.innerHTML=e;s.firstChild;)this[r].appendChild(s.firstChild)}else if(e instanceof Hd)for(let s=0;s<e.length;s+=1)this[r].appendChild(e[s]);else this[r].appendChild(e)}return this},prepend:function eQ(n){const e=_r();let t,i;for(t=0;t<this.length;t+=1)if("string"==typeof n){const r=e.createElement("div");for(r.innerHTML=n,i=r.childNodes.length-1;i>=0;i-=1)this[t].insertBefore(r.childNodes[i],this[t].childNodes[0])}else if(n instanceof Hd)for(i=0;i<n.length;i+=1)this[t].insertBefore(n[i],this[t].childNodes[0]);else this[t].insertBefore(n,this[t].childNodes[0]);return this},next:function tQ(n){return this.length>0?n?this[0].nextElementSibling&&Zt(this[0].nextElementSibling).is(n)?Zt([this[0].nextElementSibling]):Zt([]):Zt(this[0].nextElementSibling?[this[0].nextElementSibling]:[]):Zt([])},nextAll:function nQ(n){const e=[];let t=this[0];if(!t)return Zt([]);for(;t.nextElementSibling;){const i=t.nextElementSibling;n?Zt(i).is(n)&&e.push(i):e.push(i),t=i}return Zt(e)},prev:function iQ(n){if(this.length>0){const e=this[0];return n?e.previousElementSibling&&Zt(e.previousElementSibling).is(n)?Zt([e.previousElementSibling]):Zt([]):Zt(e.previousElementSibling?[e.previousElementSibling]:[])}return Zt([])},prevAll:function rQ(n){const e=[];let t=this[0];if(!t)return Zt([]);for(;t.previousElementSibling;){const i=t.previousElementSibling;n?Zt(i).is(n)&&e.push(i):e.push(i),t=i}return Zt(e)},parent:function sQ(n){const e=[];for(let t=0;t<this.length;t+=1)null!==this[t].parentNode&&(n?Zt(this[t].parentNode).is(n)&&e.push(this[t].parentNode):e.push(this[t].parentNode));return Zt(e)},parents:function oQ(n){const e=[];for(let t=0;t<this.length;t+=1){let i=this[t].parentNode;for(;i;)n?Zt(i).is(n)&&e.push(i):e.push(i),i=i.parentNode}return Zt(e)},closest:function aQ(n){let e=this;return typeof n>"u"?Zt([]):(e.is(n)||(e=e.parents(n).eq(0)),e)},find:function lQ(n){const e=[];for(let t=0;t<this.length;t+=1){const i=this[t].querySelectorAll(n);for(let r=0;r<i.length;r+=1)e.push(i[r])}return Zt(e)},children:function cQ(n){const e=[];for(let t=0;t<this.length;t+=1){const i=this[t].children;for(let r=0;r<i.length;r+=1)(!n||Zt(i[r]).is(n))&&e.push(i[r])}return Zt(e)},filter:function q7(n){return Zt(Cz(this,n))},remove:function uQ(){for(let n=0;n<this.length;n+=1)this[n].parentNode&&this[n].parentNode.removeChild(this[n]);return this}};Object.keys(Sz).forEach(n=>{Object.defineProperty(Zt.fn,n,{value:Sz[n],writable:!0})});const qt=Zt;function jy(n,e=0){return setTimeout(n,e)}function Pw(){return Date.now()}function lN(n,e="x"){const t=sr();let i,r,s;const a=function fQ(n){const e=sr();let t;return e.getComputedStyle&&(t=e.getComputedStyle(n,null)),!t&&n.currentStyle&&(t=n.currentStyle),t||(t=n.style),t}(n);return t.WebKitCSSMatrix?(r=a.transform||a.webkitTransform,r.split(",").length>6&&(r=r.split(", ").map(d=>d.replace(",",".")).join(", ")),s=new t.WebKitCSSMatrix("none"===r?"":r)):(s=a.MozTransform||a.OTransform||a.MsTransform||a.msTransform||a.transform||a.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),i=s.toString().split(",")),"x"===e&&(r=t.WebKitCSSMatrix?s.m41:16===i.length?parseFloat(i[12]):parseFloat(i[4])),"y"===e&&(r=t.WebKitCSSMatrix?s.m42:16===i.length?parseFloat(i[13]):parseFloat(i[5])),r||0}function Nw(n){return"object"==typeof n&&null!==n&&n.constructor&&"Object"===Object.prototype.toString.call(n).slice(8,-1)}function pQ(n){return typeof window<"u"&&typeof window.HTMLElement<"u"?n instanceof HTMLElement:n&&(1===n.nodeType||11===n.nodeType)}function ao(...n){const e=Object(n[0]),t=["__proto__","constructor","prototype"];for(let i=1;i<n.length;i+=1){const r=n[i];if(null!=r&&!pQ(r)){const s=Object.keys(Object(r)).filter(a=>t.indexOf(a)<0);for(let a=0,d=s.length;a<d;a+=1){const f=s[a],p=Object.getOwnPropertyDescriptor(r,f);void 0!==p&&p.enumerable&&(Nw(e[f])&&Nw(r[f])?r[f].__swiper__?e[f]=r[f]:ao(e[f],r[f]):!Nw(e[f])&&Nw(r[f])?(e[f]={},r[f].__swiper__?e[f]=r[f]:ao(e[f],r[f])):e[f]=r[f])}}}return e}function Fw(n,e,t){n.style.setProperty(e,t)}function Iz({swiper:n,targetPosition:e,side:t}){const i=sr(),r=-n.translate;let a,s=null;const d=n.params.speed;n.wrapperEl.style.scrollSnapType="none",i.cancelAnimationFrame(n.cssModeFrameID);const f=e>r?"next":"prev",p=(v,w)=>"next"===f&&v>=w||"prev"===f&&v<=w,_=()=>{a=(new Date).getTime(),null===s&&(s=a);const v=Math.max(Math.min((a-s)/d,1),0),w=.5-Math.cos(v*Math.PI)/2;let D=r+w*(e-r);if(p(D,e)&&(D=e),n.wrapperEl.scrollTo({[t]:D}),p(D,e))return n.wrapperEl.style.overflow="hidden",n.wrapperEl.style.scrollSnapType="",setTimeout(()=>{n.wrapperEl.style.overflow="",n.wrapperEl.scrollTo({[t]:D})}),void i.cancelAnimationFrame(n.cssModeFrameID);n.cssModeFrameID=i.requestAnimationFrame(_)};_()}let cN,uN,dN;function Tz(){return cN||(cN=function mQ(){const n=sr(),e=_r();return{smoothScroll:e.documentElement&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in n||n.DocumentTouch&&e instanceof n.DocumentTouch),passiveListener:function(){let i=!1;try{const r=Object.defineProperty({},"passive",{get(){i=!0}});n.addEventListener("testPassiveListener",null,r)}catch{}return i}(),gestures:"ongesturestart"in n}}()),cN}const wQ={on(n,e,t){const i=this;if(!i.eventsListeners||i.destroyed||"function"!=typeof e)return i;const r=t?"unshift":"push";return n.split(" ").forEach(s=>{i.eventsListeners[s]||(i.eventsListeners[s]=[]),i.eventsListeners[s][r](e)}),i},once(n,e,t){const i=this;if(!i.eventsListeners||i.destroyed||"function"!=typeof e)return i;function r(...s){i.off(n,r),r.__emitterProxy&&delete r.__emitterProxy,e.apply(i,s)}return r.__emitterProxy=e,i.on(n,r,t)},onAny(n,e){const t=this;if(!t.eventsListeners||t.destroyed||"function"!=typeof n)return t;const i=e?"unshift":"push";return t.eventsAnyListeners.indexOf(n)<0&&t.eventsAnyListeners[i](n),t},offAny(n){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const t=e.eventsAnyListeners.indexOf(n);return t>=0&&e.eventsAnyListeners.splice(t,1),e},off(n,e){const t=this;return!t.eventsListeners||t.destroyed||!t.eventsListeners||n.split(" ").forEach(i=>{typeof e>"u"?t.eventsListeners[i]=[]:t.eventsListeners[i]&&t.eventsListeners[i].forEach((r,s)=>{(r===e||r.__emitterProxy&&r.__emitterProxy===e)&&t.eventsListeners[i].splice(s,1)})}),t},emit(...n){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsListeners)return e;let t,i,r;return"string"==typeof n[0]||Array.isArray(n[0])?(t=n[0],i=n.slice(1,n.length),r=e):(t=n[0].events,i=n[0].data,r=n[0].context||e),i.unshift(r),(Array.isArray(t)?t:t.split(" ")).forEach(a=>{e.eventsAnyListeners&&e.eventsAnyListeners.length&&e.eventsAnyListeners.forEach(d=>{d.apply(r,[a,...i])}),e.eventsListeners&&e.eventsListeners[a]&&e.eventsListeners[a].forEach(d=>{d.apply(r,i)})}),e}},RQ={updateSize:function CQ(){const n=this;let e,t;const i=n.$el;e=typeof n.params.width<"u"&&null!==n.params.width?n.params.width:i[0].clientWidth,t=typeof n.params.height<"u"&&null!==n.params.height?n.params.height:i[0].clientHeight,!(0===e&&n.isHorizontal()||0===t&&n.isVertical())&&(e=e-parseInt(i.css("padding-left")||0,10)-parseInt(i.css("padding-right")||0,10),t=t-parseInt(i.css("padding-top")||0,10)-parseInt(i.css("padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(t)&&(t=0),Object.assign(n,{width:e,height:t,size:n.isHorizontal()?e:t}))},updateSlides:function SQ(){const n=this;function e($e){return n.isHorizontal()?$e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[$e]}function t($e,ge){return parseFloat($e.getPropertyValue(e(ge))||0)}const i=n.params,{$wrapperEl:r,size:s,rtlTranslate:a,wrongRTL:d}=n,f=n.virtual&&i.virtual.enabled,p=f?n.virtual.slides.length:n.slides.length,_=r.children(`.${n.params.slideClass}`),v=f?n.virtual.slides.length:_.length;let w=[];const D=[],A=[];let x=i.slidesOffsetBefore;"function"==typeof x&&(x=i.slidesOffsetBefore.call(n));let k=i.slidesOffsetAfter;"function"==typeof k&&(k=i.slidesOffsetAfter.call(n));const F=n.snapGrid.length,L=n.slidesGrid.length;let U=i.spaceBetween,ee=-x,oe=0,ue=0;if(typeof s>"u")return;"string"==typeof U&&U.indexOf("%")>=0&&(U=parseFloat(U.replace("%",""))/100*s),n.virtualSize=-U,_.css(a?{marginLeft:"",marginBottom:"",marginTop:""}:{marginRight:"",marginBottom:"",marginTop:""}),i.centeredSlides&&i.cssMode&&(Fw(n.wrapperEl,"--swiper-centered-offset-before",""),Fw(n.wrapperEl,"--swiper-centered-offset-after",""));const ye=i.grid&&i.grid.rows>1&&n.grid;let ze;ye&&n.grid.initSlides(v);const it="auto"===i.slidesPerView&&i.breakpoints&&Object.keys(i.breakpoints).filter($e=>typeof i.breakpoints[$e].slidesPerView<"u").length>0;for(let $e=0;$e<v;$e+=1){ze=0;const ge=_.eq($e);if(ye&&n.grid.updateSlide($e,ge,v,e),"none"!==ge.css("display")){if("auto"===i.slidesPerView){it&&(_[$e].style[e("width")]="");const ae=getComputedStyle(ge[0]),Ee=ge[0].style.transform,_t=ge[0].style.webkitTransform;if(Ee&&(ge[0].style.transform="none"),_t&&(ge[0].style.webkitTransform="none"),i.roundLengths)ze=n.isHorizontal()?ge.outerWidth(!0):ge.outerHeight(!0);else{const Mt=t(ae,"width"),J=t(ae,"padding-left"),Ie=t(ae,"padding-right"),we=t(ae,"margin-left"),pt=t(ae,"margin-right"),Bt=ae.getPropertyValue("box-sizing");if(Bt&&"border-box"===Bt)ze=Mt+we+pt;else{const{clientWidth:oi,offsetWidth:Fi}=ge[0];ze=Mt+J+Ie+we+pt+(Fi-oi)}}Ee&&(ge[0].style.transform=Ee),_t&&(ge[0].style.webkitTransform=_t),i.roundLengths&&(ze=Math.floor(ze))}else ze=(s-(i.slidesPerView-1)*U)/i.slidesPerView,i.roundLengths&&(ze=Math.floor(ze)),_[$e]&&(_[$e].style[e("width")]=`${ze}px`);_[$e]&&(_[$e].swiperSlideSize=ze),A.push(ze),i.centeredSlides?(ee=ee+ze/2+oe/2+U,0===oe&&0!==$e&&(ee=ee-s/2-U),0===$e&&(ee=ee-s/2-U),Math.abs(ee)<.001&&(ee=0),i.roundLengths&&(ee=Math.floor(ee)),ue%i.slidesPerGroup==0&&w.push(ee),D.push(ee)):(i.roundLengths&&(ee=Math.floor(ee)),(ue-Math.min(n.params.slidesPerGroupSkip,ue))%n.params.slidesPerGroup==0&&w.push(ee),D.push(ee),ee=ee+ze+U),n.virtualSize+=ze+U,oe=ze,ue+=1}}if(n.virtualSize=Math.max(n.virtualSize,s)+k,a&&d&&("slide"===i.effect||"coverflow"===i.effect)&&r.css({width:`${n.virtualSize+i.spaceBetween}px`}),i.setWrapperSize&&r.css({[e("width")]:`${n.virtualSize+i.spaceBetween}px`}),ye&&n.grid.updateWrapperSize(ze,w,e),!i.centeredSlides){const $e=[];for(let ge=0;ge<w.length;ge+=1){let ae=w[ge];i.roundLengths&&(ae=Math.floor(ae)),w[ge]<=n.virtualSize-s&&$e.push(ae)}w=$e,Math.floor(n.virtualSize-s)-Math.floor(w[w.length-1])>1&&w.push(n.virtualSize-s)}if(0===w.length&&(w=[0]),0!==i.spaceBetween){const $e=n.isHorizontal()&&a?"marginLeft":e("marginRight");_.filter((ge,ae)=>!i.cssMode||ae!==_.length-1).css({[$e]:`${U}px`})}if(i.centeredSlides&&i.centeredSlidesBounds){let $e=0;A.forEach(ae=>{$e+=ae+(i.spaceBetween?i.spaceBetween:0)}),$e-=i.spaceBetween;const ge=$e-s;w=w.map(ae=>ae<0?-x:ae>ge?ge+k:ae)}if(i.centerInsufficientSlides){let $e=0;if(A.forEach(ge=>{$e+=ge+(i.spaceBetween?i.spaceBetween:0)}),$e-=i.spaceBetween,$e<s){const ge=(s-$e)/2;w.forEach((ae,Ee)=>{w[Ee]=ae-ge}),D.forEach((ae,Ee)=>{D[Ee]=ae+ge})}}if(Object.assign(n,{slides:_,snapGrid:w,slidesGrid:D,slidesSizesGrid:A}),i.centeredSlides&&i.cssMode&&!i.centeredSlidesBounds){Fw(n.wrapperEl,"--swiper-centered-offset-before",-w[0]+"px"),Fw(n.wrapperEl,"--swiper-centered-offset-after",n.size/2-A[A.length-1]/2+"px");const $e=-n.snapGrid[0],ge=-n.slidesGrid[0];n.snapGrid=n.snapGrid.map(ae=>ae+$e),n.slidesGrid=n.slidesGrid.map(ae=>ae+ge)}if(v!==p&&n.emit("slidesLengthChange"),w.length!==F&&(n.params.watchOverflow&&n.checkOverflow(),n.emit("snapGridLengthChange")),D.length!==L&&n.emit("slidesGridLengthChange"),i.watchSlidesProgress&&n.updateSlidesOffset(),!(f||i.cssMode||"slide"!==i.effect&&"fade"!==i.effect)){const $e=`${i.containerModifierClass}backface-hidden`,ge=n.$el.hasClass($e);v<=i.maxBackfaceHiddenSlides?ge||n.$el.addClass($e):ge&&n.$el.removeClass($e)}},updateAutoHeight:function IQ(n){const e=this,t=[],i=e.virtual&&e.params.virtual.enabled;let s,r=0;"number"==typeof n?e.setTransition(n):!0===n&&e.setTransition(e.params.speed);const a=d=>i?e.slides.filter(f=>parseInt(f.getAttribute("data-swiper-slide-index"),10)===d)[0]:e.slides.eq(d)[0];if("auto"!==e.params.slidesPerView&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||qt([])).each(d=>{t.push(d)});else for(s=0;s<Math.ceil(e.params.slidesPerView);s+=1){const d=e.activeIndex+s;if(d>e.slides.length&&!i)break;t.push(a(d))}else t.push(a(e.activeIndex));for(s=0;s<t.length;s+=1)if(typeof t[s]<"u"){const d=t[s].offsetHeight;r=d>r?d:r}(r||0===r)&&e.$wrapperEl.css("height",`${r}px`)},updateSlidesOffset:function TQ(){const n=this,e=n.slides;for(let t=0;t<e.length;t+=1)e[t].swiperSlideOffset=n.isHorizontal()?e[t].offsetLeft:e[t].offsetTop},updateSlidesProgress:function DQ(n=this&&this.translate||0){const e=this,t=e.params,{slides:i,rtlTranslate:r,snapGrid:s}=e;if(0===i.length)return;typeof i[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let a=-n;r&&(a=n),i.removeClass(t.slideVisibleClass),e.visibleSlidesIndexes=[],e.visibleSlides=[];for(let d=0;d<i.length;d+=1){const f=i[d];let p=f.swiperSlideOffset;t.cssMode&&t.centeredSlides&&(p-=i[0].swiperSlideOffset);const _=(a+(t.centeredSlides?e.minTranslate():0)-p)/(f.swiperSlideSize+t.spaceBetween),v=(a-s[0]+(t.centeredSlides?e.minTranslate():0)-p)/(f.swiperSlideSize+t.spaceBetween),w=-(a-p),D=w+e.slidesSizesGrid[d];(w>=0&&w<e.size-1||D>1&&D<=e.size||w<=0&&D>=e.size)&&(e.visibleSlides.push(f),e.visibleSlidesIndexes.push(d),i.eq(d).addClass(t.slideVisibleClass)),f.progress=r?-_:_,f.originalProgress=r?-v:v}e.visibleSlides=qt(e.visibleSlides)},updateProgress:function AQ(n){const e=this;if(typeof n>"u"){const p=e.rtlTranslate?-1:1;n=e&&e.translate&&e.translate*p||0}const t=e.params,i=e.maxTranslate()-e.minTranslate();let{progress:r,isBeginning:s,isEnd:a}=e;const d=s,f=a;0===i?(r=0,s=!0,a=!0):(r=(n-e.minTranslate())/i,s=r<=0,a=r>=1),Object.assign(e,{progress:r,isBeginning:s,isEnd:a}),(t.watchSlidesProgress||t.centeredSlides&&t.autoHeight)&&e.updateSlidesProgress(n),s&&!d&&e.emit("reachBeginning toEdge"),a&&!f&&e.emit("reachEnd toEdge"),(d&&!s||f&&!a)&&e.emit("fromEdge"),e.emit("progress",r)},updateSlidesClasses:function xQ(){const n=this,{slides:e,params:t,$wrapperEl:i,activeIndex:r,realIndex:s}=n,a=n.virtual&&t.virtual.enabled;let d;e.removeClass(`${t.slideActiveClass} ${t.slideNextClass} ${t.slidePrevClass} ${t.slideDuplicateActiveClass} ${t.slideDuplicateNextClass} ${t.slideDuplicatePrevClass}`),d=a?n.$wrapperEl.find(`.${t.slideClass}[data-swiper-slide-index="${r}"]`):e.eq(r),d.addClass(t.slideActiveClass),t.loop&&(d.hasClass(t.slideDuplicateClass)?i.children(`.${t.slideClass}:not(.${t.slideDuplicateClass})[data-swiper-slide-index="${s}"]`).addClass(t.slideDuplicateActiveClass):i.children(`.${t.slideClass}.${t.slideDuplicateClass}[data-swiper-slide-index="${s}"]`).addClass(t.slideDuplicateActiveClass));let f=d.nextAll(`.${t.slideClass}`).eq(0).addClass(t.slideNextClass);t.loop&&0===f.length&&(f=e.eq(0),f.addClass(t.slideNextClass));let p=d.prevAll(`.${t.slideClass}`).eq(0).addClass(t.slidePrevClass);t.loop&&0===p.length&&(p=e.eq(-1),p.addClass(t.slidePrevClass)),t.loop&&(f.hasClass(t.slideDuplicateClass)?i.children(`.${t.slideClass}:not(.${t.slideDuplicateClass})[data-swiper-slide-index="${f.attr("data-swiper-slide-index")}"]`).addClass(t.slideDuplicateNextClass):i.children(`.${t.slideClass}.${t.slideDuplicateClass}[data-swiper-slide-index="${f.attr("data-swiper-slide-index")}"]`).addClass(t.slideDuplicateNextClass),p.hasClass(t.slideDuplicateClass)?i.children(`.${t.slideClass}:not(.${t.slideDuplicateClass})[data-swiper-slide-index="${p.attr("data-swiper-slide-index")}"]`).addClass(t.slideDuplicatePrevClass):i.children(`.${t.slideClass}.${t.slideDuplicateClass}[data-swiper-slide-index="${p.attr("data-swiper-slide-index")}"]`).addClass(t.slideDuplicatePrevClass)),n.emitSlidesClasses()},updateActiveIndex:function MQ(n){const e=this,t=e.rtlTranslate?e.translate:-e.translate,{slidesGrid:i,snapGrid:r,params:s,activeIndex:a,realIndex:d,snapIndex:f}=e;let _,p=n;if(typeof p>"u"){for(let w=0;w<i.length;w+=1)typeof i[w+1]<"u"?t>=i[w]&&t<i[w+1]-(i[w+1]-i[w])/2?p=w:t>=i[w]&&t<i[w+1]&&(p=w+1):t>=i[w]&&(p=w);s.normalizeSlideIndex&&(p<0||typeof p>"u")&&(p=0)}if(r.indexOf(t)>=0)_=r.indexOf(t);else{const w=Math.min(s.slidesPerGroupSkip,p);_=w+Math.floor((p-w)/s.slidesPerGroup)}if(_>=r.length&&(_=r.length-1),p===a)return void(_!==f&&(e.snapIndex=_,e.emit("snapIndexChange")));const v=parseInt(e.slides.eq(p).attr("data-swiper-slide-index")||p,10);Object.assign(e,{snapIndex:_,realIndex:v,previousIndex:a,activeIndex:p}),e.emit("activeIndexChange"),e.emit("snapIndexChange"),d!==v&&e.emit("realIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&e.emit("slideChange")},updateClickedSlide:function kQ(n){const e=this,t=e.params,i=qt(n).closest(`.${t.slideClass}`)[0];let s,r=!1;if(i)for(let a=0;a<e.slides.length;a+=1)if(e.slides[a]===i){r=!0,s=a;break}if(!i||!r)return e.clickedSlide=void 0,void(e.clickedIndex=void 0);e.clickedSlide=i,e.clickedIndex=e.virtual&&e.params.virtual.enabled?parseInt(qt(i).attr("data-swiper-slide-index"),10):s,t.slideToClickedSlide&&void 0!==e.clickedIndex&&e.clickedIndex!==e.activeIndex&&e.slideToClickedSlide()}},VQ={getTranslate:function OQ(n=(this.isHorizontal()?"x":"y")){const{params:t,rtlTranslate:i,translate:r,$wrapperEl:s}=this;if(t.virtualTranslate)return i?-r:r;if(t.cssMode)return r;let a=lN(s[0],n);return i&&(a=-a),a||0},setTranslate:function PQ(n,e){const t=this,{rtlTranslate:i,params:r,$wrapperEl:s,wrapperEl:a,progress:d}=t;let v,f=0,p=0;t.isHorizontal()?f=i?-n:n:p=n,r.roundLengths&&(f=Math.floor(f),p=Math.floor(p)),r.cssMode?a[t.isHorizontal()?"scrollLeft":"scrollTop"]=t.isHorizontal()?-f:-p:r.virtualTranslate||s.transform(`translate3d(${f}px, ${p}px, 0px)`),t.previousTranslate=t.translate,t.translate=t.isHorizontal()?f:p;const w=t.maxTranslate()-t.minTranslate();v=0===w?0:(n-t.minTranslate())/w,v!==d&&t.updateProgress(n),t.emit("setTranslate",t.translate,e)},minTranslate:function NQ(){return-this.snapGrid[0]},maxTranslate:function FQ(){return-this.snapGrid[this.snapGrid.length-1]},translateTo:function LQ(n=0,e=this.params.speed,t=!0,i=!0,r){const s=this,{params:a,wrapperEl:d}=s;if(s.animating&&a.preventInteractionOnTransition)return!1;const f=s.minTranslate(),p=s.maxTranslate();let _;if(_=i&&n>f?f:i&&n<p?p:n,s.updateProgress(_),a.cssMode){const v=s.isHorizontal();if(0===e)d[v?"scrollLeft":"scrollTop"]=-_;else{if(!s.support.smoothScroll)return Iz({swiper:s,targetPosition:-_,side:v?"left":"top"}),!0;d.scrollTo({[v?"left":"top"]:-_,behavior:"smooth"})}return!0}return 0===e?(s.setTransition(0),s.setTranslate(_),t&&(s.emit("beforeTransitionStart",e,r),s.emit("transitionEnd"))):(s.setTransition(e),s.setTranslate(_),t&&(s.emit("beforeTransitionStart",e,r),s.emit("transitionStart")),s.animating||(s.animating=!0,s.onTranslateToWrapperTransitionEnd||(s.onTranslateToWrapperTransitionEnd=function(w){!s||s.destroyed||w.target===this&&(s.$wrapperEl[0].removeEventListener("transitionend",s.onTranslateToWrapperTransitionEnd),s.$wrapperEl[0].removeEventListener("webkitTransitionEnd",s.onTranslateToWrapperTransitionEnd),s.onTranslateToWrapperTransitionEnd=null,delete s.onTranslateToWrapperTransitionEnd,t&&s.emit("transitionEnd"))}),s.$wrapperEl[0].addEventListener("transitionend",s.onTranslateToWrapperTransitionEnd),s.$wrapperEl[0].addEventListener("webkitTransitionEnd",s.onTranslateToWrapperTransitionEnd))),!0}};function Dz({swiper:n,runCallbacks:e,direction:t,step:i}){const{activeIndex:r,previousIndex:s}=n;let a=t;if(a||(a=r>s?"next":r<s?"prev":"reset"),n.emit(`transition${i}`),e&&r!==s){if("reset"===a)return void n.emit(`slideResetTransition${i}`);n.emit(`slideChangeTransition${i}`),n.emit("next"===a?`slideNextTransition${i}`:`slidePrevTransition${i}`)}}const HQ={setTransition:function BQ(n,e){const t=this;t.params.cssMode||t.$wrapperEl.transition(n),t.emit("setTransition",n,e)},transitionStart:function UQ(n=!0,e){const t=this,{params:i}=t;i.cssMode||(i.autoHeight&&t.updateAutoHeight(),Dz({swiper:t,runCallbacks:n,direction:e,step:"Start"}))},transitionEnd:function $Q(n=!0,e){const t=this,{params:i}=t;t.animating=!1,!i.cssMode&&(t.setTransition(0),Dz({swiper:t,runCallbacks:n,direction:e,step:"End"}))}},KQ={slideTo:function zQ(n=0,e=this.params.speed,t=!0,i,r){if("number"!=typeof n&&"string"!=typeof n)throw new Error(`The 'index' argument cannot have type other than 'number' or 'string'. [${typeof n}] given.`);if("string"==typeof n){const U=parseInt(n,10);if(!isFinite(U))throw new Error(`The passed-in 'index' (string) couldn't be converted to 'number'. [${n}] given.`);n=U}const s=this;let a=n;a<0&&(a=0);const{params:d,snapGrid:f,slidesGrid:p,previousIndex:_,activeIndex:v,rtlTranslate:w,wrapperEl:D,enabled:A}=s;if(s.animating&&d.preventInteractionOnTransition||!A&&!i&&!r)return!1;const x=Math.min(s.params.slidesPerGroupSkip,a);let k=x+Math.floor((a-x)/s.params.slidesPerGroup);k>=f.length&&(k=f.length-1);const F=-f[k];if(d.normalizeSlideIndex)for(let U=0;U<p.length;U+=1){const ee=-Math.floor(100*F),oe=Math.floor(100*p[U]),ue=Math.floor(100*p[U+1]);typeof p[U+1]<"u"?ee>=oe&&ee<ue-(ue-oe)/2?a=U:ee>=oe&&ee<ue&&(a=U+1):ee>=oe&&(a=U)}if(s.initialized&&a!==v&&(!s.allowSlideNext&&F<s.translate&&F<s.minTranslate()||!s.allowSlidePrev&&F>s.translate&&F>s.maxTranslate()&&(v||0)!==a))return!1;let L;if(a!==(_||0)&&t&&s.emit("beforeSlideChangeStart"),s.updateProgress(F),L=a>v?"next":a<v?"prev":"reset",w&&-F===s.translate||!w&&F===s.translate)return s.updateActiveIndex(a),d.autoHeight&&s.updateAutoHeight(),s.updateSlidesClasses(),"slide"!==d.effect&&s.setTranslate(F),"reset"!==L&&(s.transitionStart(t,L),s.transitionEnd(t,L)),!1;if(d.cssMode){const U=s.isHorizontal(),ee=w?F:-F;if(0===e){const oe=s.virtual&&s.params.virtual.enabled;oe&&(s.wrapperEl.style.scrollSnapType="none",s._immediateVirtual=!0),D[U?"scrollLeft":"scrollTop"]=ee,oe&&requestAnimationFrame(()=>{s.wrapperEl.style.scrollSnapType="",s._swiperImmediateVirtual=!1})}else{if(!s.support.smoothScroll)return Iz({swiper:s,targetPosition:ee,side:U?"left":"top"}),!0;D.scrollTo({[U?"left":"top"]:ee,behavior:"smooth"})}return!0}return s.setTransition(e),s.setTranslate(F),s.updateActiveIndex(a),s.updateSlidesClasses(),s.emit("beforeTransitionStart",e,i),s.transitionStart(t,L),0===e?s.transitionEnd(t,L):s.animating||(s.animating=!0,s.onSlideToWrapperTransitionEnd||(s.onSlideToWrapperTransitionEnd=function(ee){!s||s.destroyed||ee.target===this&&(s.$wrapperEl[0].removeEventListener("transitionend",s.onSlideToWrapperTransitionEnd),s.$wrapperEl[0].removeEventListener("webkitTransitionEnd",s.onSlideToWrapperTransitionEnd),s.onSlideToWrapperTransitionEnd=null,delete s.onSlideToWrapperTransitionEnd,s.transitionEnd(t,L))}),s.$wrapperEl[0].addEventListener("transitionend",s.onSlideToWrapperTransitionEnd),s.$wrapperEl[0].addEventListener("webkitTransitionEnd",s.onSlideToWrapperTransitionEnd)),!0},slideToLoop:function jQ(n=0,e=this.params.speed,t=!0,i){if("string"==typeof n){const a=parseInt(n,10);if(!isFinite(a))throw new Error(`The passed-in 'index' (string) couldn't be converted to 'number'. [${n}] given.`);n=a}const r=this;let s=n;return r.params.loop&&(s+=r.loopedSlides),r.slideTo(s,e,t,i)},slideNext:function GQ(n=this.params.speed,e=!0,t){const i=this,{animating:r,enabled:s,params:a}=i;if(!s)return i;let d=a.slidesPerGroup;"auto"===a.slidesPerView&&1===a.slidesPerGroup&&a.slidesPerGroupAuto&&(d=Math.max(i.slidesPerViewDynamic("current",!0),1));const f=i.activeIndex<a.slidesPerGroupSkip?1:d;if(a.loop){if(r&&a.loopPreventsSlide)return!1;i.loopFix(),i._clientLeft=i.$wrapperEl[0].clientLeft}return i.slideTo(a.rewind&&i.isEnd?0:i.activeIndex+f,n,e,t)},slidePrev:function WQ(n=this.params.speed,e=!0,t){const i=this,{params:r,animating:s,snapGrid:a,slidesGrid:d,rtlTranslate:f,enabled:p}=i;if(!p)return i;if(r.loop){if(s&&r.loopPreventsSlide)return!1;i.loopFix(),i._clientLeft=i.$wrapperEl[0].clientLeft}function v(k){return k<0?-Math.floor(Math.abs(k)):Math.floor(k)}const w=v(f?i.translate:-i.translate),D=a.map(k=>v(k));let A=a[D.indexOf(w)-1];if(typeof A>"u"&&r.cssMode){let k;a.forEach((F,L)=>{w>=F&&(k=L)}),typeof k<"u"&&(A=a[k>0?k-1:k])}let x=0;return typeof A<"u"&&(x=d.indexOf(A),x<0&&(x=i.activeIndex-1),"auto"===r.slidesPerView&&1===r.slidesPerGroup&&r.slidesPerGroupAuto&&(x=x-i.slidesPerViewDynamic("previous",!0)+1,x=Math.max(x,0))),i.slideTo(r.rewind&&i.isBeginning?i.params.virtual&&i.params.virtual.enabled&&i.virtual?i.virtual.slides.length-1:i.slides.length-1:x,n,e,t)},slideReset:function qQ(n=this.params.speed,e=!0,t){return this.slideTo(this.activeIndex,n,e,t)},slideToClosest:function YQ(n=this.params.speed,e=!0,t,i=.5){const r=this;let s=r.activeIndex;const a=Math.min(r.params.slidesPerGroupSkip,s),d=a+Math.floor((s-a)/r.params.slidesPerGroup),f=r.rtlTranslate?r.translate:-r.translate;if(f>=r.snapGrid[d]){const p=r.snapGrid[d];f-p>(r.snapGrid[d+1]-p)*i&&(s+=r.params.slidesPerGroup)}else{const p=r.snapGrid[d-1];f-p<=(r.snapGrid[d]-p)*i&&(s-=r.params.slidesPerGroup)}return s=Math.max(s,0),s=Math.min(s,r.slidesGrid.length-1),r.slideTo(s,n,e,t)},slideToClickedSlide:function ZQ(){const n=this,{params:e,$wrapperEl:t}=n,i="auto"===e.slidesPerView?n.slidesPerViewDynamic():e.slidesPerView;let s,r=n.clickedIndex;if(e.loop){if(n.animating)return;s=parseInt(qt(n.clickedSlide).attr("data-swiper-slide-index"),10),e.centeredSlides?r<n.loopedSlides-i/2||r>n.slides.length-n.loopedSlides+i/2?(n.loopFix(),r=t.children(`.${e.slideClass}[data-swiper-slide-index="${s}"]:not(.${e.slideDuplicateClass})`).eq(0).index(),jy(()=>{n.slideTo(r)})):n.slideTo(r):r>n.slides.length-i?(n.loopFix(),r=t.children(`.${e.slideClass}[data-swiper-slide-index="${s}"]:not(.${e.slideDuplicateClass})`).eq(0).index(),jy(()=>{n.slideTo(r)})):n.slideTo(r)}else n.slideTo(r)}},e9={loopCreate:function QQ(){const n=this,e=_r(),{params:t,$wrapperEl:i}=n,r=i.children().length>0?qt(i.children()[0].parentNode):i;r.children(`.${t.slideClass}.${t.slideDuplicateClass}`).remove();let s=r.children(`.${t.slideClass}`);if(t.loopFillGroupWithBlank){const f=t.slidesPerGroup-s.length%t.slidesPerGroup;if(f!==t.slidesPerGroup){for(let p=0;p<f;p+=1){const _=qt(e.createElement("div")).addClass(`${t.slideClass} ${t.slideBlankClass}`);r.append(_)}s=r.children(`.${t.slideClass}`)}}"auto"===t.slidesPerView&&!t.loopedSlides&&(t.loopedSlides=s.length),n.loopedSlides=Math.ceil(parseFloat(t.loopedSlides||t.slidesPerView,10)),n.loopedSlides+=t.loopAdditionalSlides,n.loopedSlides>s.length&&n.params.loopedSlidesLimit&&(n.loopedSlides=s.length);const a=[],d=[];s.each((f,p)=>{qt(f).attr("data-swiper-slide-index",p)});for(let f=0;f<n.loopedSlides;f+=1){const p=f-Math.floor(f/s.length)*s.length;d.push(s.eq(p)[0]),a.unshift(s.eq(s.length-p-1)[0])}for(let f=0;f<d.length;f+=1)r.append(qt(d[f].cloneNode(!0)).addClass(t.slideDuplicateClass));for(let f=a.length-1;f>=0;f-=1)r.prepend(qt(a[f].cloneNode(!0)).addClass(t.slideDuplicateClass))},loopFix:function XQ(){const n=this;n.emit("beforeLoopFix");const{activeIndex:e,slides:t,loopedSlides:i,allowSlidePrev:r,allowSlideNext:s,snapGrid:a,rtlTranslate:d}=n;let f;n.allowSlidePrev=!0,n.allowSlideNext=!0;const _=-a[e]-n.getTranslate();e<i?(f=t.length-3*i+e,f+=i,n.slideTo(f,0,!1,!0)&&0!==_&&n.setTranslate((d?-n.translate:n.translate)-_)):e>=t.length-i&&(f=-t.length+e+i,f+=i,n.slideTo(f,0,!1,!0)&&0!==_&&n.setTranslate((d?-n.translate:n.translate)-_)),n.allowSlidePrev=r,n.allowSlideNext=s,n.emit("loopFix")},loopDestroy:function JQ(){const{$wrapperEl:e,params:t,slides:i}=this;e.children(`.${t.slideClass}.${t.slideDuplicateClass},.${t.slideClass}.${t.slideBlankClass}`).remove(),i.removeAttr("data-swiper-slide-index")}};function s9(n){const e=this,t=_r(),i=sr(),r=e.touchEventsData,{params:s,touches:a,enabled:d}=e;if(!d||e.animating&&s.preventInteractionOnTransition)return;!e.animating&&s.cssMode&&s.loop&&e.loopFix();let f=n;f.originalEvent&&(f=f.originalEvent);let p=qt(f.target);if("wrapper"===s.touchEventsTarget&&!p.closest(e.wrapperEl).length||(r.isTouchEvent="touchstart"===f.type,!r.isTouchEvent&&"which"in f&&3===f.which)||!r.isTouchEvent&&"button"in f&&f.button>0||r.isTouched&&r.isMoved)return;const _=!!s.noSwipingClass&&""!==s.noSwipingClass,v=n.composedPath?n.composedPath():n.path;_&&f.target&&f.target.shadowRoot&&v&&(p=qt(v[0]));const w=s.noSwipingSelector?s.noSwipingSelector:`.${s.noSwipingClass}`;if(s.noSwiping&&(f.target&&f.target.shadowRoot?function r9(n,e=this){return function t(i){if(!i||i===_r()||i===sr())return null;i.assignedSlot&&(i=i.assignedSlot);const r=i.closest(n);return r||i.getRootNode?r||t(i.getRootNode().host):null}(e)}(w,p[0]):p.closest(w)[0]))return void(e.allowClick=!0);if(s.swipeHandler&&!p.closest(s.swipeHandler)[0])return;a.currentX="touchstart"===f.type?f.targetTouches[0].pageX:f.pageX,a.currentY="touchstart"===f.type?f.targetTouches[0].pageY:f.pageY;const A=a.currentX,x=a.currentY,k=s.edgeSwipeDetection||s.iOSEdgeSwipeDetection,F=s.edgeSwipeThreshold||s.iOSEdgeSwipeThreshold;if(k&&(A<=F||A>=i.innerWidth-F)){if("prevent"!==k)return;n.preventDefault()}if(Object.assign(r,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),a.startX=A,a.startY=x,r.touchStartTime=Pw(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,s.threshold>0&&(r.allowThresholdMove=!1),"touchstart"!==f.type){let L=!0;p.is(r.focusableElements)&&(L=!1,"SELECT"===p[0].nodeName&&(r.isTouched=!1)),t.activeElement&&qt(t.activeElement).is(r.focusableElements)&&t.activeElement!==p[0]&&t.activeElement.blur();const U=L&&e.allowTouchMove&&s.touchStartPreventDefault;(s.touchStartForcePreventDefault||U)&&!p[0].isContentEditable&&f.preventDefault()}e.params.freeMode&&e.params.freeMode.enabled&&e.freeMode&&e.animating&&!s.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",f)}function o9(n){const e=_r(),t=this,i=t.touchEventsData,{params:r,touches:s,rtlTranslate:a,enabled:d}=t;if(!d)return;let f=n;if(f.originalEvent&&(f=f.originalEvent),!i.isTouched)return void(i.startMoving&&i.isScrolling&&t.emit("touchMoveOpposite",f));if(i.isTouchEvent&&"touchmove"!==f.type)return;const p="touchmove"===f.type&&f.targetTouches&&(f.targetTouches[0]||f.changedTouches[0]),_="touchmove"===f.type?p.pageX:f.pageX,v="touchmove"===f.type?p.pageY:f.pageY;if(f.preventedByNestedSwiper)return s.startX=_,void(s.startY=v);if(!t.allowTouchMove)return qt(f.target).is(i.focusableElements)||(t.allowClick=!1),void(i.isTouched&&(Object.assign(s,{startX:_,startY:v,currentX:_,currentY:v}),i.touchStartTime=Pw()));if(i.isTouchEvent&&r.touchReleaseOnEdges&&!r.loop)if(t.isVertical()){if(v<s.startY&&t.translate<=t.maxTranslate()||v>s.startY&&t.translate>=t.minTranslate())return i.isTouched=!1,void(i.isMoved=!1)}else if(_<s.startX&&t.translate<=t.maxTranslate()||_>s.startX&&t.translate>=t.minTranslate())return;if(i.isTouchEvent&&e.activeElement&&f.target===e.activeElement&&qt(f.target).is(i.focusableElements))return i.isMoved=!0,void(t.allowClick=!1);if(i.allowTouchCallbacks&&t.emit("touchMove",f),f.targetTouches&&f.targetTouches.length>1)return;s.currentX=_,s.currentY=v;const w=s.currentX-s.startX,D=s.currentY-s.startY;if(t.params.threshold&&Math.sqrt(w**2+D**2)<t.params.threshold)return;if(typeof i.isScrolling>"u"){let F;t.isHorizontal()&&s.currentY===s.startY||t.isVertical()&&s.currentX===s.startX?i.isScrolling=!1:w*w+D*D>=25&&(F=180*Math.atan2(Math.abs(D),Math.abs(w))/Math.PI,i.isScrolling=t.isHorizontal()?F>r.touchAngle:90-F>r.touchAngle)}if(i.isScrolling&&t.emit("touchMoveOpposite",f),typeof i.startMoving>"u"&&(s.currentX!==s.startX||s.currentY!==s.startY)&&(i.startMoving=!0),i.isScrolling)return void(i.isTouched=!1);if(!i.startMoving)return;t.allowClick=!1,!r.cssMode&&f.cancelable&&f.preventDefault(),r.touchMoveStopPropagation&&!r.nested&&f.stopPropagation(),i.isMoved||(r.loop&&!r.cssMode&&t.loopFix(),i.startTranslate=t.getTranslate(),t.setTransition(0),t.animating&&t.$wrapperEl.trigger("webkitTransitionEnd transitionend"),i.allowMomentumBounce=!1,r.grabCursor&&(!0===t.allowSlideNext||!0===t.allowSlidePrev)&&t.setGrabCursor(!0),t.emit("sliderFirstMove",f)),t.emit("sliderMove",f),i.isMoved=!0;let A=t.isHorizontal()?w:D;s.diff=A,A*=r.touchRatio,a&&(A=-A),t.swipeDirection=A>0?"prev":"next",i.currentTranslate=A+i.startTranslate;let x=!0,k=r.resistanceRatio;if(r.touchReleaseOnEdges&&(k=0),A>0&&i.currentTranslate>t.minTranslate()?(x=!1,r.resistance&&(i.currentTranslate=t.minTranslate()-1+(-t.minTranslate()+i.startTranslate+A)**k)):A<0&&i.currentTranslate<t.maxTranslate()&&(x=!1,r.resistance&&(i.currentTranslate=t.maxTranslate()+1-(t.maxTranslate()-i.startTranslate-A)**k)),x&&(f.preventedByNestedSwiper=!0),!t.allowSlideNext&&"next"===t.swipeDirection&&i.currentTranslate<i.startTranslate&&(i.currentTranslate=i.startTranslate),!t.allowSlidePrev&&"prev"===t.swipeDirection&&i.currentTranslate>i.startTranslate&&(i.currentTranslate=i.startTranslate),!t.allowSlidePrev&&!t.allowSlideNext&&(i.currentTranslate=i.startTranslate),r.threshold>0){if(!(Math.abs(A)>r.threshold||i.allowThresholdMove))return void(i.currentTranslate=i.startTranslate);if(!i.allowThresholdMove)return i.allowThresholdMove=!0,s.startX=s.currentX,s.startY=s.currentY,i.currentTranslate=i.startTranslate,void(s.diff=t.isHorizontal()?s.currentX-s.startX:s.currentY-s.startY)}!r.followFinger||r.cssMode||((r.freeMode&&r.freeMode.enabled&&t.freeMode||r.watchSlidesProgress)&&(t.updateActiveIndex(),t.updateSlidesClasses()),t.params.freeMode&&r.freeMode.enabled&&t.freeMode&&t.freeMode.onTouchMove(),t.updateProgress(i.currentTranslate),t.setTranslate(i.currentTranslate))}function a9(n){const e=this,t=e.touchEventsData,{params:i,touches:r,rtlTranslate:s,slidesGrid:a,enabled:d}=e;if(!d)return;let f=n;if(f.originalEvent&&(f=f.originalEvent),t.allowTouchCallbacks&&e.emit("touchEnd",f),t.allowTouchCallbacks=!1,!t.isTouched)return t.isMoved&&i.grabCursor&&e.setGrabCursor(!1),t.isMoved=!1,void(t.startMoving=!1);i.grabCursor&&t.isMoved&&t.isTouched&&(!0===e.allowSlideNext||!0===e.allowSlidePrev)&&e.setGrabCursor(!1);const p=Pw(),_=p-t.touchStartTime;if(e.allowClick){const L=f.path||f.composedPath&&f.composedPath();e.updateClickedSlide(L&&L[0]||f.target),e.emit("tap click",f),_<300&&p-t.lastClickTime<300&&e.emit("doubleTap doubleClick",f)}if(t.lastClickTime=Pw(),jy(()=>{e.destroyed||(e.allowClick=!0)}),!t.isTouched||!t.isMoved||!e.swipeDirection||0===r.diff||t.currentTranslate===t.startTranslate)return t.isTouched=!1,t.isMoved=!1,void(t.startMoving=!1);let v;if(t.isTouched=!1,t.isMoved=!1,t.startMoving=!1,v=i.followFinger?s?e.translate:-e.translate:-t.currentTranslate,i.cssMode)return;if(e.params.freeMode&&i.freeMode.enabled)return void e.freeMode.onTouchEnd({currentPos:v});let w=0,D=e.slidesSizesGrid[0];for(let L=0;L<a.length;L+=L<i.slidesPerGroupSkip?1:i.slidesPerGroup){const U=L<i.slidesPerGroupSkip-1?1:i.slidesPerGroup;typeof a[L+U]<"u"?v>=a[L]&&v<a[L+U]&&(w=L,D=a[L+U]-a[L]):v>=a[L]&&(w=L,D=a[a.length-1]-a[a.length-2])}let A=null,x=null;i.rewind&&(e.isBeginning?x=e.params.virtual&&e.params.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(A=0));const k=(v-a[w])/D,F=w<i.slidesPerGroupSkip-1?1:i.slidesPerGroup;if(_>i.longSwipesMs){if(!i.longSwipes)return void e.slideTo(e.activeIndex);"next"===e.swipeDirection&&e.slideTo(k>=i.longSwipesRatio?i.rewind&&e.isEnd?A:w+F:w),"prev"===e.swipeDirection&&(k>1-i.longSwipesRatio?e.slideTo(w+F):null!==x&&k<0&&Math.abs(k)>i.longSwipesRatio?e.slideTo(x):e.slideTo(w))}else{if(!i.shortSwipes)return void e.slideTo(e.activeIndex);!e.navigation||f.target!==e.navigation.nextEl&&f.target!==e.navigation.prevEl?("next"===e.swipeDirection&&e.slideTo(null!==A?A:w+F),"prev"===e.swipeDirection&&e.slideTo(null!==x?x:w)):e.slideTo(f.target===e.navigation.nextEl?w+F:w)}}function Az(){const n=this,{params:e,el:t}=n;if(t&&0===t.offsetWidth)return;e.breakpoints&&n.setBreakpoint();const{allowSlideNext:i,allowSlidePrev:r,snapGrid:s}=n;n.allowSlideNext=!0,n.allowSlidePrev=!0,n.updateSize(),n.updateSlides(),n.updateSlidesClasses(),n.slideTo(("auto"===e.slidesPerView||e.slidesPerView>1)&&n.isEnd&&!n.isBeginning&&!n.params.centeredSlides?n.slides.length-1:n.activeIndex,0,!1,!0),n.autoplay&&n.autoplay.running&&n.autoplay.paused&&n.autoplay.run(),n.allowSlidePrev=r,n.allowSlideNext=i,n.params.watchOverflow&&s!==n.snapGrid&&n.checkOverflow()}function l9(n){const e=this;!e.enabled||e.allowClick||(e.params.preventClicks&&n.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(n.stopPropagation(),n.stopImmediatePropagation()))}function c9(){const n=this,{wrapperEl:e,rtlTranslate:t,enabled:i}=n;if(!i)return;let r;n.previousTranslate=n.translate,n.translate=n.isHorizontal()?-e.scrollLeft:-e.scrollTop,0===n.translate&&(n.translate=0),n.updateActiveIndex(),n.updateSlidesClasses();const s=n.maxTranslate()-n.minTranslate();r=0===s?0:(n.translate-n.minTranslate())/s,r!==n.progress&&n.updateProgress(t?-n.translate:n.translate),n.emit("setTranslate",n.translate,!1)}let xz=!1;function u9(){}const Mz=(n,e)=>{const t=_r(),{params:i,touchEvents:r,el:s,wrapperEl:a,device:d,support:f}=n,p=!!i.nested,_="on"===e?"addEventListener":"removeEventListener",v=e;if(f.touch){const w=!("touchstart"!==r.start||!f.passiveListener||!i.passiveListeners)&&{passive:!0,capture:!1};s[_](r.start,n.onTouchStart,w),s[_](r.move,n.onTouchMove,f.passiveListener?{passive:!1,capture:p}:p),s[_](r.end,n.onTouchEnd,w),r.cancel&&s[_](r.cancel,n.onTouchEnd,w)}else s[_](r.start,n.onTouchStart,!1),t[_](r.move,n.onTouchMove,p),t[_](r.end,n.onTouchEnd,!1);(i.preventClicks||i.preventClicksPropagation)&&s[_]("click",n.onClick,!0),i.cssMode&&a[_]("scroll",n.onScroll),n[v](i.updateOnWindowResize?d.ios||d.android?"resize orientationchange observerUpdate":"resize observerUpdate":"observerUpdate",Az,!0)},f9={attachEvents:function d9(){const n=this,e=_r(),{params:t,support:i}=n;n.onTouchStart=s9.bind(n),n.onTouchMove=o9.bind(n),n.onTouchEnd=a9.bind(n),t.cssMode&&(n.onScroll=c9.bind(n)),n.onClick=l9.bind(n),i.touch&&!xz&&(e.addEventListener("touchstart",u9),xz=!0),Mz(n,"on")},detachEvents:function h9(){Mz(this,"off")}},kz=(n,e)=>n.grid&&e.grid&&e.grid.rows>1,g9={setBreakpoint:function p9(){const n=this,{activeIndex:e,initialized:t,loopedSlides:i=0,params:r,$el:s}=n,a=r.breakpoints;if(!a||a&&0===Object.keys(a).length)return;const d=n.getBreakpoint(a,n.params.breakpointsBase,n.el);if(!d||n.currentBreakpoint===d)return;const p=(d in a?a[d]:void 0)||n.originalParams,_=kz(n,r),v=kz(n,p),w=r.enabled;_&&!v?(s.removeClass(`${r.containerModifierClass}grid ${r.containerModifierClass}grid-column`),n.emitContainerClasses()):!_&&v&&(s.addClass(`${r.containerModifierClass}grid`),(p.grid.fill&&"column"===p.grid.fill||!p.grid.fill&&"column"===r.grid.fill)&&s.addClass(`${r.containerModifierClass}grid-column`),n.emitContainerClasses()),["navigation","pagination","scrollbar"].forEach(k=>{const F=r[k]&&r[k].enabled,L=p[k]&&p[k].enabled;F&&!L&&n[k].disable(),!F&&L&&n[k].enable()});const D=p.direction&&p.direction!==r.direction,A=r.loop&&(p.slidesPerView!==r.slidesPerView||D);D&&t&&n.changeDirection(),ao(n.params,p);const x=n.params.enabled;Object.assign(n,{allowTouchMove:n.params.allowTouchMove,allowSlideNext:n.params.allowSlideNext,allowSlidePrev:n.params.allowSlidePrev}),w&&!x?n.disable():!w&&x&&n.enable(),n.currentBreakpoint=d,n.emit("_beforeBreakpoint",p),A&&t&&(n.loopDestroy(),n.loopCreate(),n.updateSlides(),n.slideTo(e-i+n.loopedSlides,0,!1)),n.emit("breakpoint",p)},getBreakpoint:function m9(n,e="window",t){if(!n||"container"===e&&!t)return;let i=!1;const r=sr(),s="window"===e?r.innerHeight:t.clientHeight,a=Object.keys(n).map(d=>{if("string"==typeof d&&0===d.indexOf("@")){const f=parseFloat(d.substr(1));return{value:s*f,point:d}}return{value:d,point:d}});a.sort((d,f)=>parseInt(d.value,10)-parseInt(f.value,10));for(let d=0;d<a.length;d+=1){const{point:f,value:p}=a[d];"window"===e?r.matchMedia(`(min-width: ${p}px)`).matches&&(i=f):p<=t.clientWidth&&(i=f)}return i||"max"}},b9={addClasses:function y9(){const n=this,{classNames:e,params:t,rtl:i,$el:r,device:s,support:a}=n,d=function _9(n,e){const t=[];return n.forEach(i=>{"object"==typeof i?Object.keys(i).forEach(r=>{i[r]&&t.push(e+r)}):"string"==typeof i&&t.push(e+i)}),t}(["initialized",t.direction,{"pointer-events":!a.touch},{"free-mode":n.params.freeMode&&t.freeMode.enabled},{autoheight:t.autoHeight},{rtl:i},{grid:t.grid&&t.grid.rows>1},{"grid-column":t.grid&&t.grid.rows>1&&"column"===t.grid.fill},{android:s.android},{ios:s.ios},{"css-mode":t.cssMode},{centered:t.cssMode&&t.centeredSlides},{"watch-progress":t.watchSlidesProgress}],t.containerModifierClass);e.push(...d),r.addClass([...e].join(" ")),n.emitContainerClasses()},removeClasses:function v9(){const{$el:e,classNames:t}=this;e.removeClass(t.join(" ")),this.emitContainerClasses()}},C9={loadImage:function E9(n,e,t,i,r,s){const a=sr();let d;function f(){s&&s()}qt(n).parent("picture")[0]||n.complete&&r||!e?f():(d=new a.Image,d.onload=f,d.onerror=f,i&&(d.sizes=i),t&&(d.srcset=t),e&&(d.src=e))},preloadImages:function w9(){const n=this;function e(){typeof n>"u"||null===n||!n||n.destroyed||(void 0!==n.imagesLoaded&&(n.imagesLoaded+=1),n.imagesLoaded===n.imagesToLoad.length&&(n.params.updateOnImagesReady&&n.update(),n.emit("imagesReady")))}n.imagesToLoad=n.$el.find("img");for(let t=0;t<n.imagesToLoad.length;t+=1){const i=n.imagesToLoad[t];n.loadImage(i,i.currentSrc||i.getAttribute("src"),i.srcset||i.getAttribute("srcset"),i.sizes||i.getAttribute("sizes"),!0,e)}}},Rz={init:!0,direction:"horizontal",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:0,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,preloadImages:!0,updateOnImagesReady:!0,loop:!1,loopAdditionalSlides:0,loopedSlides:null,loopedSlidesLimit:!0,loopFillGroupWithBlank:!1,loopPreventsSlide:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-invisible-blank",slideActiveClass:"swiper-slide-active",slideDuplicateActiveClass:"swiper-slide-duplicate-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",slideNextClass:"swiper-slide-next",slideDuplicateNextClass:"swiper-slide-duplicate-next",slidePrevClass:"swiper-slide-prev",slideDuplicatePrevClass:"swiper-slide-duplicate-prev",wrapperClass:"swiper-wrapper",runCallbacksOnInit:!0,_emitClasses:!1};function T9(n,e){return function(i={}){const r=Object.keys(i)[0],s=i[r];"object"==typeof s&&null!==s?(["navigation","pagination","scrollbar"].indexOf(r)>=0&&!0===n[r]&&(n[r]={auto:!0}),r in n&&"enabled"in s?(!0===n[r]&&(n[r]={enabled:!0}),"object"==typeof n[r]&&!("enabled"in n[r])&&(n[r].enabled=!0),n[r]||(n[r]={enabled:!1}),ao(e,i)):ao(e,i)):ao(e,i)}}const hN={eventsEmitter:wQ,update:RQ,translate:VQ,transition:HQ,slide:KQ,loop:e9,grabCursor:{setGrabCursor:function t9(n){const e=this;if(e.support.touch||!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const t="container"===e.params.touchEventsTarget?e.el:e.wrapperEl;t.style.cursor="move",t.style.cursor=n?"grabbing":"grab"},unsetGrabCursor:function n9(){const n=this;n.support.touch||n.params.watchOverflow&&n.isLocked||n.params.cssMode||(n["container"===n.params.touchEventsTarget?"el":"wrapperEl"].style.cursor="")}},events:f9,breakpoints:g9,checkOverflow:{checkOverflow:function S9(){const n=this,{isLocked:e,params:t}=n,{slidesOffsetBefore:i}=t;if(i){const r=n.slides.length-1;n.isLocked=n.size>n.slidesGrid[r]+n.slidesSizesGrid[r]+2*i}else n.isLocked=1===n.snapGrid.length;!0===t.allowSlideNext&&(n.allowSlideNext=!n.isLocked),!0===t.allowSlidePrev&&(n.allowSlidePrev=!n.isLocked),e&&e!==n.isLocked&&(n.isEnd=!1),e!==n.isLocked&&n.emit(n.isLocked?"lock":"unlock")}},classes:b9,images:C9},fN={};class zo{constructor(...e){let t,i;if(1===e.length&&e[0].constructor&&"Object"===Object.prototype.toString.call(e[0]).slice(8,-1)?i=e[0]:[t,i]=e,i||(i={}),i=ao({},i),t&&!i.el&&(i.el=t),i.el&&qt(i.el).length>1){const d=[];return qt(i.el).each(f=>{const p=ao({},i,{el:f});d.push(new zo(p))}),d}const r=this;r.__swiper__=!0,r.support=Tz(),r.device=function _Q(n={}){return uN||(uN=function gQ({userAgent:n}={}){const e=Tz(),t=sr(),i=t.navigator.platform,r=n||t.navigator.userAgent,s={ios:!1,android:!1},a=t.screen.width,d=t.screen.height,f=r.match(/(Android);?[\s\/]+([\d.]+)?/);let p=r.match(/(iPad).*OS\s([\d_]+)/);const _=r.match(/(iPod)(.*OS\s([\d_]+))?/),v=!p&&r.match(/(iPhone\sOS|iOS)\s([\d_]+)/),w="Win32"===i;let D="MacIntel"===i;return!p&&D&&e.touch&&["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"].indexOf(`${a}x${d}`)>=0&&(p=r.match(/(Version)\/([\d.]+)/),p||(p=[0,1,"13_0_0"]),D=!1),f&&!w&&(s.os="android",s.android=!0),(p||v||_)&&(s.os="ios",s.ios=!0),s}(n)),uN}({userAgent:i.userAgent}),r.browser=function vQ(){return dN||(dN=function yQ(){const n=sr();return{isSafari:function e(){const t=n.navigator.userAgent.toLowerCase();return t.indexOf("safari")>=0&&t.indexOf("chrome")<0&&t.indexOf("android")<0}(),isWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(n.navigator.userAgent)}}()),dN}(),r.eventsListeners={},r.eventsAnyListeners=[],r.modules=[...r.__modules__],i.modules&&Array.isArray(i.modules)&&r.modules.push(...i.modules);const s={};r.modules.forEach(d=>{d({swiper:r,extendParams:T9(i,s),on:r.on.bind(r),once:r.once.bind(r),off:r.off.bind(r),emit:r.emit.bind(r)})});const a=ao({},Rz,s);return r.params=ao({},a,fN,i),r.originalParams=ao({},r.params),r.passedParams=ao({},i),r.params&&r.params.on&&Object.keys(r.params.on).forEach(d=>{r.on(d,r.params.on[d])}),r.params&&r.params.onAny&&r.onAny(r.params.onAny),r.$=qt,Object.assign(r,{enabled:r.params.enabled,el:t,classNames:[],slides:qt(),slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal:()=>"horizontal"===r.params.direction,isVertical:()=>"vertical"===r.params.direction,activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,allowSlideNext:r.params.allowSlideNext,allowSlidePrev:r.params.allowSlidePrev,touchEvents:function(){const f=["touchstart","touchmove","touchend","touchcancel"],p=["pointerdown","pointermove","pointerup"];return r.touchEventsTouch={start:f[0],move:f[1],end:f[2],cancel:f[3]},r.touchEventsDesktop={start:p[0],move:p[1],end:p[2]},r.support.touch||!r.params.simulateTouch?r.touchEventsTouch:r.touchEventsDesktop}(),touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:r.params.focusableElements,lastClickTime:Pw(),clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,isTouchEvent:void 0,startMoving:void 0},allowClick:!0,allowTouchMove:r.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),r.emit("_swiper"),r.params.init&&r.init(),r}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;!e.enabled||(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,t){const i=this;e=Math.min(Math.max(e,0),1);const r=i.minTranslate(),a=(i.maxTranslate()-r)*e+r;i.translateTo(a,typeof t>"u"?0:t),i.updateActiveIndex(),i.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=e.el.className.split(" ").filter(i=>0===i.indexOf("swiper")||0===i.indexOf(e.params.containerModifierClass));e.emit("_containerClasses",t.join(" "))}getSlideClasses(e){const t=this;return t.destroyed?"":e.className.split(" ").filter(i=>0===i.indexOf("swiper-slide")||0===i.indexOf(t.params.slideClass)).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=[];e.slides.each(i=>{const r=e.getSlideClasses(i);t.push({slideEl:i,classNames:r}),e.emit("_slideClass",i,r)}),e.emit("_slideClasses",t)}slidesPerViewDynamic(e="current",t=!1){const{params:r,slides:s,slidesGrid:a,slidesSizesGrid:d,size:f,activeIndex:p}=this;let _=1;if(r.centeredSlides){let w,v=s[p].swiperSlideSize;for(let D=p+1;D<s.length;D+=1)s[D]&&!w&&(v+=s[D].swiperSlideSize,_+=1,v>f&&(w=!0));for(let D=p-1;D>=0;D-=1)s[D]&&!w&&(v+=s[D].swiperSlideSize,_+=1,v>f&&(w=!0))}else if("current"===e)for(let v=p+1;v<s.length;v+=1)(t?a[v]+d[v]-a[p]<f:a[v]-a[p]<f)&&(_+=1);else for(let v=p-1;v>=0;v-=1)a[p]-a[v]<f&&(_+=1);return _}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:t,params:i}=e;function r(){const d=Math.min(Math.max(e.rtlTranslate?-1*e.translate:e.translate,e.maxTranslate()),e.minTranslate());e.setTranslate(d),e.updateActiveIndex(),e.updateSlidesClasses()}let s;i.breakpoints&&e.setBreakpoint(),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses(),e.params.freeMode&&e.params.freeMode.enabled?(r(),e.params.autoHeight&&e.updateAutoHeight()):(s=e.slideTo(("auto"===e.params.slidesPerView||e.params.slidesPerView>1)&&e.isEnd&&!e.params.centeredSlides?e.slides.length-1:e.activeIndex,0,!1,!0),s||r()),i.watchOverflow&&t!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,t=!0){const i=this,r=i.params.direction;return e||(e="horizontal"===r?"vertical":"horizontal"),e===r||"horizontal"!==e&&"vertical"!==e||(i.$el.removeClass(`${i.params.containerModifierClass}${r}`).addClass(`${i.params.containerModifierClass}${e}`),i.emitContainerClasses(),i.params.direction=e,i.slides.each(s=>{"vertical"===e?s.style.width="":s.style.height=""}),i.emit("changeDirection"),t&&i.update()),i}changeLanguageDirection(e){const t=this;t.rtl&&"rtl"===e||!t.rtl&&"ltr"===e||(t.rtl="rtl"===e,t.rtlTranslate="horizontal"===t.params.direction&&t.rtl,t.rtl?(t.$el.addClass(`${t.params.containerModifierClass}rtl`),t.el.dir="rtl"):(t.$el.removeClass(`${t.params.containerModifierClass}rtl`),t.el.dir="ltr"),t.update())}mount(e){const t=this;if(t.mounted)return!0;const i=qt(e||t.params.el);if(!(e=i[0]))return!1;e.swiper=t;const r=()=>`.${(t.params.wrapperClass||"").trim().split(" ").join(".")}`;let a=(()=>{if(e&&e.shadowRoot&&e.shadowRoot.querySelector){const d=qt(e.shadowRoot.querySelector(r()));return d.children=f=>i.children(f),d}return i.children?i.children(r()):qt(i).children(r())})();if(0===a.length&&t.params.createElements){const f=_r().createElement("div");a=qt(f),f.className=t.params.wrapperClass,i.append(f),i.children(`.${t.params.slideClass}`).each(p=>{a.append(p)})}return Object.assign(t,{$el:i,el:e,$wrapperEl:a,wrapperEl:a[0],mounted:!0,rtl:"rtl"===e.dir.toLowerCase()||"rtl"===i.css("direction"),rtlTranslate:"horizontal"===t.params.direction&&("rtl"===e.dir.toLowerCase()||"rtl"===i.css("direction")),wrongRTL:"-webkit-box"===a.css("display")}),!0}init(e){const t=this;return t.initialized||!1===t.mount(e)||(t.emit("beforeInit"),t.params.breakpoints&&t.setBreakpoint(),t.addClasses(),t.params.loop&&t.loopCreate(),t.updateSize(),t.updateSlides(),t.params.watchOverflow&&t.checkOverflow(),t.params.grabCursor&&t.enabled&&t.setGrabCursor(),t.params.preloadImages&&t.preloadImages(),t.slideTo(t.params.loop?t.params.initialSlide+t.loopedSlides:t.params.initialSlide,0,t.params.runCallbacksOnInit,!1,!0),t.attachEvents(),t.initialized=!0,t.emit("init"),t.emit("afterInit")),t}destroy(e=!0,t=!0){const i=this,{params:r,$el:s,$wrapperEl:a,slides:d}=i;return typeof i.params>"u"||i.destroyed||(i.emit("beforeDestroy"),i.initialized=!1,i.detachEvents(),r.loop&&i.loopDestroy(),t&&(i.removeClasses(),s.removeAttr("style"),a.removeAttr("style"),d&&d.length&&d.removeClass([r.slideVisibleClass,r.slideActiveClass,r.slideNextClass,r.slidePrevClass].join(" ")).removeAttr("style").removeAttr("data-swiper-slide-index")),i.emit("destroy"),Object.keys(i.eventsListeners).forEach(f=>{i.off(f)}),!1!==e&&(i.$el[0].swiper=null,function hQ(n){const e=n;Object.keys(e).forEach(t=>{try{e[t]=null}catch{}try{delete e[t]}catch{}})}(i)),i.destroyed=!0),null}static extendDefaults(e){ao(fN,e)}static get extendedDefaults(){return fN}static get defaults(){return Rz}static installModule(e){zo.prototype.__modules__||(zo.prototype.__modules__=[]);const t=zo.prototype.__modules__;"function"==typeof e&&t.indexOf(e)<0&&t.push(e)}static use(e){return Array.isArray(e)?(e.forEach(t=>zo.installModule(t)),zo):(zo.installModule(e),zo)}}Object.keys(hN).forEach(n=>{Object.keys(hN[n]).forEach(e=>{zo.prototype[e]=hN[n][e]})}),zo.use([function bQ({swiper:n,on:e,emit:t}){const i=sr();let r=null,s=null;const a=()=>{!n||n.destroyed||!n.initialized||(t("beforeResize"),t("resize"))},p=()=>{!n||n.destroyed||!n.initialized||t("orientationchange")};e("init",()=>{n.params.resizeObserver&&typeof i.ResizeObserver<"u"?!n||n.destroyed||!n.initialized||(r=new ResizeObserver(_=>{s=i.requestAnimationFrame(()=>{const{width:v,height:w}=n;let D=v,A=w;_.forEach(({contentBoxSize:x,contentRect:k,target:F})=>{F&&F!==n.el||(D=k?k.width:(x[0]||x).inlineSize,A=k?k.height:(x[0]||x).blockSize)}),(D!==v||A!==w)&&a()})}),r.observe(n.el)):(i.addEventListener("resize",a),i.addEventListener("orientationchange",p))}),e("destroy",()=>{s&&i.cancelAnimationFrame(s),r&&r.unobserve&&n.el&&(r.unobserve(n.el),r=null),i.removeEventListener("resize",a),i.removeEventListener("orientationchange",p)})},function EQ({swiper:n,extendParams:e,on:t,emit:i}){const r=[],s=sr(),a=(p,_={})=>{const w=new(s.MutationObserver||s.WebkitMutationObserver)(D=>{if(1===D.length)return void i("observerUpdate",D[0]);const A=function(){i("observerUpdate",D[0])};s.requestAnimationFrame?s.requestAnimationFrame(A):s.setTimeout(A,0)});w.observe(p,{attributes:typeof _.attributes>"u"||_.attributes,childList:typeof _.childList>"u"||_.childList,characterData:typeof _.characterData>"u"||_.characterData}),r.push(w)};e({observer:!1,observeParents:!1,observeSlideChildren:!1}),t("init",()=>{if(n.params.observer){if(n.params.observeParents){const p=n.$el.parents();for(let _=0;_<p.length;_+=1)a(p[_])}a(n.$el[0],{childList:n.params.observeSlideChildren}),a(n.$wrapperEl[0],{attributes:!1})}}),t("destroy",()=>{r.forEach(p=>{p.disconnect()}),r.splice(0,r.length)})}]);const Lw=zo;function pN(n,e,t,i){const r=_r();return n.params.createElements&&Object.keys(i).forEach(s=>{if(!t[s]&&!0===t.auto){let a=n.$el.children(`.${i[s]}`)[0];a||(a=r.createElement("div"),a.className=i[s],n.$el.append(a)),t[s]=a,e[s]=a}}),t}function tu(n=""){return`.${n.trim().replace(/([\.:!\/])/g,"\\$1").replace(/ /g,".")}`}const F9=["prevElRef"],L9=["nextElRef"],V9=["scrollbarElRef"],B9=["paginationElRef"];function U9(n,e){1&n&&(c.ynx(0),c._UZ(1,"div",6,7)(3,"div",8,9),c.BQk())}function $9(n,e){1&n&&c._UZ(0,"div",10,11)}function H9(n,e){1&n&&c._UZ(0,"div",12,13)}function z9(n,e){}function j9(n,e){1&n&&c.YNc(0,z9,0,0,"ng-template")}function G9(n,e){}function W9(n,e){1&n&&c.YNc(0,G9,0,0,"ng-template")}function q9(n,e){}function Y9(n,e){1&n&&c.YNc(0,q9,0,0,"ng-template")}function Z9(n,e){}const Oz=function(n){return{$implicit:n}};function K9(n,e){if(1&n&&(c.TgZ(0,"div",3),c.YNc(1,Z9,0,0,"ng-template",18),c.qZA()),2&n){const t=c.oxw().$implicit,i=c.oxw(2);c.Q6J("ngClass",i.zoomContainerClass),c.xp6(1),c.Q6J("ngTemplateOutlet",t.template)("ngTemplateOutletContext",c.VKq(3,Oz,t.slideData))}}function Q9(n,e){}function X9(n,e){if(1&n&&(c.ynx(0),c.YNc(1,Q9,0,0,"ng-template",18),c.BQk()),2&n){const t=c.oxw().$implicit;c.xp6(1),c.Q6J("ngTemplateOutlet",t.template)("ngTemplateOutletContext",c.VKq(2,Oz,t.slideData))}}function J9(n,e){if(1&n&&(c.TgZ(0,"div",15),c.YNc(1,K9,2,5,"div",16),c.YNc(2,X9,2,4,"ng-container",17),c.qZA()),2&n){const t=e.$implicit,i=c.oxw().key,r=c.oxw();c.Akn(r.style),c.Q6J("ngClass",(t.class?t.class+" ":"")+r.slideClass+(""!==i?" "+r.slideDuplicateClass:""))("ngSwitch",t.zoom),c.uIk("data-swiper-slide-index",t.virtualIndex?t.virtualIndex:t.slideIndex)("data-swiper-autoplay",t.autoplayDelay),c.xp6(1),c.Q6J("ngSwitchCase",!0)}}function eX(n,e){1&n&&(c.YNc(0,J9,3,7,"div",14),c.ALo(1,"async")),2&n&&c.Q6J("ngForOf",c.lcZ(1,1,e.loopSlides))}const tX=[[["","slot","container-start"]],[["","slot","wrapper-start"]],[["","slot","wrapper-end"]],[["","slot","container-end"]]],nX=function(n){return{loopSlides:n,key:"prepend"}},iX=function(n){return{loopSlides:n,key:""}},rX=function(n){return{loopSlides:n,key:"append"}},sX=["[slot=container-start]","[slot=wrapper-start]","[slot=wrapper-end]","[slot=container-end]"],Pz=["init","enabled","_direction","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_preloadImages","updateOnImagesReady","_loop","_loopAdditionalSlides","_loopedSlides","_loopedSlidesLimit","_loopFillGroupWithBlank","loopPreventsSlide","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideBlankClass","slideActiveClass","slideDuplicateActiveClass","slideVisibleClass","slideDuplicateClass","slideNextClass","slideDuplicateNextClass","slidePrevClass","slideDuplicatePrevClass","wrapperClass","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","lazy","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","on"];function Gy(n){return"object"==typeof n&&null!==n&&n.constructor&&"Object"===Object.prototype.toString.call(n).slice(8,-1)}function mN(n){return typeof n<"u"&&"boolean"!=typeof n&&!0===n.enabled}function Nz(n,e,t){return!0===RA(n)&&e&&!e.el||!("boolean"!=typeof e&&e.el!==t?.nativeElement&&("string"==typeof e.el||"object"==typeof e.el))}function zd(n,e){const t=["__proto__","constructor","prototype"];Object.keys(e).filter(i=>t.indexOf(i)<0).forEach(i=>{typeof n[i]>"u"?n[i]=e[i]:n[i]&&!e[i]||(Gy(e[i])&&Gy(n[i])&&Object.keys(e[i]).length>0?e[i].__swiper__?n[i]=e[i]:zd(n[i],e[i]):n[i]=e[i])})}function RA(n){return null!=n&&"false"!=`${n}`}const oX=["pagination","navigation","scrollbar","virtual"];function OA(n,e={}){return Gy(n)?n:!0===RA(n)&&e}function gN(n={}){const e={on:{}},t={};zd(e,Lw.defaults),zd(e,Lw.extendedDefaults),e._emitClasses=!0,e.init=!1;const i={},r=Pz.map(s=>s.replace(/_/,""));return Object.keys(n).forEach(s=>{const a=s.replace(/^_/,"");r.indexOf(a)>=0?Gy(n[s])?(e[a]={},t[a]={},zd(e[a],n[s]),zd(t[a],n[s])):(e[a]=n[s],t[a]=n[s]):i[a]=n[s]}),["navigation","pagination","scrollbar"].forEach(s=>{!0===e[s]&&(e[s]={}),!1===e[s]&&delete e[s]}),{params:e,passedParams:t,rest:i}}Pz.map(n=>n.replace(/_/,""));let _N=(()=>{class n{constructor(t){this.template=t,this.class="",this.autoplayDelay=null,this.slideData={isActive:!1,isPrev:!1,isNext:!1,isVisible:!1,isDuplicate:!1}}set ngClass(t){this.class=[this.class||"",t].join(" ")}set zoom(t){this._zoom=RA(t)}get zoom(){return this._zoom}get classNames(){return this._classNames}set classNames(t){this._classNames!==t&&(this._classNames=t,this.slideData={isActive:this._hasClass(["swiper-slide-active","swiper-slide-duplicate-active"]),isVisible:this._hasClass(["swiper-slide-visible"]),isDuplicate:this._hasClass(["swiper-slide-duplicate"]),isPrev:this._hasClass(["swiper-slide-prev","swiper-slide-duplicate-prev"]),isNext:this._hasClass(["swiper-slide-next","swiper-slide-duplicate-next"])})}_hasClass(t){return t.some(i=>this._classNames.indexOf(i)>=0)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Rgc))},n.\u0275dir=c.lG2({type:n,selectors:[["ng-template","swiperSlide",""]],inputs:{virtualIndex:"virtualIndex",class:"class",ngClass:"ngClass",autoplayDelay:["data-swiper-autoplay","autoplayDelay"],zoom:"zoom"}}),n})(),Fz=(()=>{class n{constructor(t,i,r,s){this._ngZone=t,this.elementRef=i,this._changeDetectorRef=r,this._platformId=s,this.slideClass="swiper-slide",this.wrapperClass="swiper-wrapper",this.showNavigation=!0,this.showPagination=!0,this.showScrollbar=!0,this.s__beforeBreakpoint=new c.vpe,this.s__containerClasses=new c.vpe,this.s__slideClass=new c.vpe,this.s__swiper=new c.vpe,this.s_activeIndexChange=new c.vpe,this.s_afterInit=new c.vpe,this.s_autoplay=new c.vpe,this.s_autoplayStart=new c.vpe,this.s_autoplayStop=new c.vpe,this.s_autoplayPause=new c.vpe,this.s_autoplayResume=new c.vpe,this.s_beforeDestroy=new c.vpe,this.s_beforeInit=new c.vpe,this.s_beforeLoopFix=new c.vpe,this.s_beforeResize=new c.vpe,this.s_beforeSlideChangeStart=new c.vpe,this.s_beforeTransitionStart=new c.vpe,this.s_breakpoint=new c.vpe,this.s_changeDirection=new c.vpe,this.s_click=new c.vpe,this.s_doubleTap=new c.vpe,this.s_doubleClick=new c.vpe,this.s_destroy=new c.vpe,this.s_fromEdge=new c.vpe,this.s_hashChange=new c.vpe,this.s_hashSet=new c.vpe,this.s_imagesReady=new c.vpe,this.s_init=new c.vpe,this.s_keyPress=new c.vpe,this.s_lazyImageLoad=new c.vpe,this.s_lazyImageReady=new c.vpe,this.s_loopFix=new c.vpe,this.s_momentumBounce=new c.vpe,this.s_navigationHide=new c.vpe,this.s_navigationShow=new c.vpe,this.s_navigationPrev=new c.vpe,this.s_navigationNext=new c.vpe,this.s_observerUpdate=new c.vpe,this.s_orientationchange=new c.vpe,this.s_paginationHide=new c.vpe,this.s_paginationRender=new c.vpe,this.s_paginationShow=new c.vpe,this.s_paginationUpdate=new c.vpe,this.s_progress=new c.vpe,this.s_reachBeginning=new c.vpe,this.s_reachEnd=new c.vpe,this.s_realIndexChange=new c.vpe,this.s_resize=new c.vpe,this.s_scroll=new c.vpe,this.s_scrollbarDragEnd=new c.vpe,this.s_scrollbarDragMove=new c.vpe,this.s_scrollbarDragStart=new c.vpe,this.s_setTransition=new c.vpe,this.s_setTranslate=new c.vpe,this.s_slideChange=new c.vpe,this.s_slideChangeTransitionEnd=new c.vpe,this.s_slideChangeTransitionStart=new c.vpe,this.s_slideNextTransitionEnd=new c.vpe,this.s_slideNextTransitionStart=new c.vpe,this.s_slidePrevTransitionEnd=new c.vpe,this.s_slidePrevTransitionStart=new c.vpe,this.s_slideResetTransitionStart=new c.vpe,this.s_slideResetTransitionEnd=new c.vpe,this.s_sliderMove=new c.vpe,this.s_sliderFirstMove=new c.vpe,this.s_slidesLengthChange=new c.vpe,this.s_slidesGridLengthChange=new c.vpe,this.s_snapGridLengthChange=new c.vpe,this.s_snapIndexChange=new c.vpe,this.s_tap=new c.vpe,this.s_toEdge=new c.vpe,this.s_touchEnd=new c.vpe,this.s_touchMove=new c.vpe,this.s_touchMoveOpposite=new c.vpe,this.s_touchStart=new c.vpe,this.s_transitionEnd=new c.vpe,this.s_transitionStart=new c.vpe,this.s_update=new c.vpe,this.s_zoomChange=new c.vpe,this.s_swiper=new c.vpe,this.s_lock=new c.vpe,this.s_unlock=new c.vpe,this._activeSlides=new zt.x,this.containerClasses="swiper",this.slidesChanges=a=>{this.slides=a.map((d,f)=>(d.slideIndex=f,d.classNames=this.slideClass||"",d)),this.loop&&!this.loopedSlides&&this.calcLoopedSlides(),this.virtual?this.swiperRef&&this.swiperRef.virtual&&this._ngZone.runOutsideAngular(()=>{this.swiperRef.virtual.slides=this.slides,this.swiperRef.virtual.update(!0)}):this.loopedSlides&&(this.prependSlides=tt(this.slides.slice(this.slides.length-this.loopedSlides)),this.appendSlides=tt(this.slides.slice(0,this.loopedSlides))),this._changeDetectorRef.detectChanges()},this.style=null,this.updateVirtualSlides=a=>{!this.swiperRef||this.currentVirtualData&&this.currentVirtualData.from===a.from&&this.currentVirtualData.to===a.to&&this.currentVirtualData.offset===a.offset||(this.style=this.swiperRef.isHorizontal()?{[this.swiperRef.rtlTranslate?"right":"left"]:`${a.offset}px`}:{top:`${a.offset}px`},this.currentVirtualData=a,this._activeSlides.next(a.slides),this._ngZone.run(()=>{this._changeDetectorRef.detectChanges()}),this._ngZone.runOutsideAngular(()=>{this.swiperRef.updateSlides(),this.swiperRef.updateProgress(),this.swiperRef.updateSlidesClasses(),mN(this.swiperRef.params.lazy)&&this.swiperRef.lazy.load(),this.swiperRef.virtual.update(!0)}))}}set navigation(t){var i,r,s;const a="boolean"!=typeof this._navigation&&""!==this._navigation?null===(i=this._navigation)||void 0===i?void 0:i.nextEl:null,d="boolean"!=typeof this._navigation&&""!==this._navigation?null===(r=this._navigation)||void 0===r?void 0:r.prevEl:null;this._navigation=OA(t,{nextEl:a||null,prevEl:d||null}),this.showNavigation=!(!0!==RA(t)||this._navigation&&"boolean"!=typeof this._navigation&&this._navigation.prevEl!==(null===(s=this._prevElRef)||void 0===s?void 0:s.nativeElement)&&(null!==this._navigation.prevEl||null!==this._navigation.nextEl)&&("string"==typeof this._navigation.nextEl||"string"==typeof this._navigation.prevEl||"object"==typeof this._navigation.nextEl||"object"==typeof this._navigation.prevEl))}get navigation(){return this._navigation}set pagination(t){var i;const r="boolean"!=typeof this._pagination&&""!==this._pagination?null===(i=this._pagination)||void 0===i?void 0:i.el:null;this._pagination=OA(t,{el:r||null}),this.showPagination=Nz(t,this._pagination,this._paginationElRef)}get pagination(){return this._pagination}set scrollbar(t){var i;const r="boolean"!=typeof this._scrollbar&&""!==this._scrollbar?null===(i=this._scrollbar)||void 0===i?void 0:i.el:null;this._scrollbar=OA(t,{el:r||null}),this.showScrollbar=Nz(t,this._scrollbar,this._scrollbarElRef)}get scrollbar(){return this._scrollbar}set virtual(t){this._virtual=OA(t)}get virtual(){return this._virtual}set config(t){this.updateSwiper(t);const{params:i}=gN(t);Object.assign(this,i)}set prevElRef(t){this._prevElRef=t,this._setElement(t,this.navigation,"navigation","prevEl")}set nextElRef(t){this._nextElRef=t,this._setElement(t,this.navigation,"navigation","nextEl")}set scrollbarElRef(t){this._scrollbarElRef=t,this._setElement(t,this.scrollbar,"scrollbar")}set paginationElRef(t){this._paginationElRef=t,this._setElement(t,this.pagination,"pagination")}get activeSlides(){return this.virtual?this._activeSlides:tt(this.slides)}get zoomContainerClass(){return this.zoom&&"boolean"!=typeof this.zoom?this.zoom.containerClass:"swiper-zoom-container"}_setElement(t,i,r,s="el"){if(!i||!t)return;if(t.nativeElement){if(i[s]===t.nativeElement)return;i[s]=t.nativeElement}const a={};a[r]=!0,this.updateInitSwiper(a)}ngOnInit(){const{params:t}=gN(this);Object.assign(this,t)}ngAfterViewInit(){this.childrenSlidesInit(),this.initSwiper(),this._changeDetectorRef.detectChanges(),setTimeout(()=>{this.s_swiper.emit(this.swiperRef)})}childrenSlidesInit(){this.slidesChanges(this.slidesEl),this.slidesEl.changes.subscribe(this.slidesChanges)}get isSwiperActive(){return this.swiperRef&&!this.swiperRef.destroyed}initSwiper(){const{params:t}=gN(this);Object.assign(this,t),this._ngZone.runOutsideAngular(()=>{t.init=!1,t.virtual||(t.observer=!0),t.onAny=(f,...p)=>{const _=this["s_"+f];_&&_.emit([...p])},Object.assign(t.on,{_containerClasses:(f,p)=>{setTimeout(()=>{this.containerClasses=p})},_slideClasses:(f,p)=>{p.forEach(({slideEl:_,classNames:v},w)=>{const D=_.getAttribute("data-swiper-slide-index"),A=D?parseInt(D):w;if(this.virtual){const x=this.slides.find(k=>k.virtualIndex&&k.virtualIndex===A);if(x)return void(x.classNames=v)}this.slides[A]&&(this.slides[A].classNames=v)}),this._changeDetectorRef.detectChanges()}});const a=new Lw(t);a.loopCreate=()=>{},a.loopDestroy=()=>{},t.loop&&(a.loopedSlides=this.loopedSlides);const d=mN(a.params.virtual);if(a.virtual&&d){a.virtual.slides=this.slides;const f={cache:!1,slides:this.slides,renderExternal:this.updateVirtualSlides,renderExternalUpdate:!1};zd(a.params.virtual,f),zd(a.originalParams.virtual,f)}if(Ki(this._platformId)){this.swiperRef=a.init(this.elementRef.nativeElement);const f=mN(this.swiperRef.params.virtual);this.swiperRef.virtual&&f&&this.swiperRef.virtual.update(!0),this._changeDetectorRef.detectChanges()}})}ngOnChanges(t){this.updateSwiper(t),this._changeDetectorRef.detectChanges()}updateInitSwiper(t){!t||!this.swiperRef||this.swiperRef.destroyed||this._ngZone.runOutsideAngular(()=>{const{pagination:r,navigation:s,scrollbar:a,thumbs:f}=this.swiperRef;t.pagination&&(this.pagination&&"boolean"!=typeof this.pagination&&this.pagination.el&&r&&!r.el?(this.updateParameter("pagination",this.pagination),r.init(),r.render(),r.update()):(r.destroy(),r.el=null)),t.scrollbar&&(this.scrollbar&&"boolean"!=typeof this.scrollbar&&this.scrollbar.el&&a&&!a.el?(this.updateParameter("scrollbar",this.scrollbar),a.init(),a.updateSize(),a.setTranslate()):(a.destroy(),a.el=null)),t.navigation&&(this.navigation&&"boolean"!=typeof this.navigation&&this.navigation.prevEl&&this.navigation.nextEl&&s&&!s.prevEl&&!s.nextEl?(this.updateParameter("navigation",this.navigation),s.init(),s.update()):s.prevEl&&s.nextEl&&(s.destroy(),s.nextEl=null,s.prevEl=null)),t.thumbs&&this.thumbs&&this.thumbs.swiper&&(this.updateParameter("thumbs",this.thumbs),f.init()&&f.update(!0)),t.controller&&this.controller&&this.controller.control&&(this.swiperRef.controller.control=this.controller.control),this.swiperRef.update()})}updateSwiper(t){this._ngZone.runOutsideAngular(()=>{var i,r;if(!t.config&&t&&this.swiperRef&&!this.swiperRef.destroyed){for(const s in t){if(oX.indexOf(s)>=0)continue;const a=null!==(r=null===(i=t[s])||void 0===i?void 0:i.currentValue)&&void 0!==r?r:t[s];this.updateParameter(s,a)}t.allowSlideNext&&(this.swiperRef.allowSlideNext=this.allowSlideNext),t.allowSlidePrev&&(this.swiperRef.allowSlidePrev=this.allowSlidePrev),t.direction&&this.swiperRef.changeDirection(this.direction,!1),t.breakpoints&&(this.loop&&!this.loopedSlides&&this.calcLoopedSlides(),this.swiperRef.currentBreakpoint=null,this.swiperRef.setBreakpoint()),(t.thumbs||t.controller)&&this.updateInitSwiper(t),this.swiperRef.update()}})}calcLoopedSlides(){if(!this.loop)return!1;let t=this.slidesPerView;if(this.breakpoints){const r=Lw.prototype.getBreakpoint(this.breakpoints),s=r in this.breakpoints?this.breakpoints[r]:void 0;s&&s.slidesPerView&&(t=s.slidesPerView)}if("auto"===t)return this.loopedSlides=this.slides.length,this.slides.length;let i=this.loopedSlides||t;return!!i&&(this.loopAdditionalSlides&&(i+=this.loopAdditionalSlides),i>this.slides.length&&(i=this.slides.length),this.loopedSlides=i,!0)}updateParameter(t,i){if(!this.swiperRef||this.swiperRef.destroyed)return;const r=t.replace(/^_/,""),s=Gy(this.swiperRef.params[r]);"enabled"!==r?s&&Gy(i)?zd(this.swiperRef.params[r],i):this.swiperRef.params[r]=i:!0===i?this.swiperRef.enable():!1===i&&this.swiperRef.disable()}ngOnDestroy(){this._ngZone.runOutsideAngular(()=>{var t;null===(t=this.swiperRef)||void 0===t||t.destroy(!0,!1)})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.R0b),c.Y36(c.SBq),c.Y36(c.sBO),c.Y36(c.Lbi))},n.\u0275cmp=c.Xpm({type:n,selectors:[["swiper"],["","swiper",""]],contentQueries:function(t,i,r){if(1&t&&c.Suo(r,_N,4),2&t){let s;c.iGM(s=c.CRH())&&(i.slidesEl=s)}},viewQuery:function(t,i){if(1&t&&(c.Gf(F9,5),c.Gf(L9,5),c.Gf(V9,5),c.Gf(B9,5)),2&t){let r;c.iGM(r=c.CRH())&&(i.prevElRef=r.first),c.iGM(r=c.CRH())&&(i.nextElRef=r.first),c.iGM(r=c.CRH())&&(i.scrollbarElRef=r.first),c.iGM(r=c.CRH())&&(i.paginationElRef=r.first)}},hostVars:2,hostBindings:function(t,i){2&t&&c.Tol(i.containerClasses)},inputs:{enabled:"enabled",on:"on",direction:"direction",touchEventsTarget:"touchEventsTarget",initialSlide:"initialSlide",speed:"speed",cssMode:"cssMode",updateOnWindowResize:"updateOnWindowResize",resizeObserver:"resizeObserver",nested:"nested",focusableElements:"focusableElements",width:"width",height:"height",preventInteractionOnTransition:"preventInteractionOnTransition",userAgent:"userAgent",url:"url",edgeSwipeDetection:"edgeSwipeDetection",edgeSwipeThreshold:"edgeSwipeThreshold",freeMode:"freeMode",autoHeight:"autoHeight",setWrapperSize:"setWrapperSize",virtualTranslate:"virtualTranslate",effect:"effect",breakpoints:"breakpoints",spaceBetween:"spaceBetween",slidesPerView:"slidesPerView",maxBackfaceHiddenSlides:"maxBackfaceHiddenSlides",grid:"grid",slidesPerGroup:"slidesPerGroup",slidesPerGroupSkip:"slidesPerGroupSkip",centeredSlides:"centeredSlides",centeredSlidesBounds:"centeredSlidesBounds",slidesOffsetBefore:"slidesOffsetBefore",slidesOffsetAfter:"slidesOffsetAfter",normalizeSlideIndex:"normalizeSlideIndex",centerInsufficientSlides:"centerInsufficientSlides",watchOverflow:"watchOverflow",roundLengths:"roundLengths",touchRatio:"touchRatio",touchAngle:"touchAngle",simulateTouch:"simulateTouch",shortSwipes:"shortSwipes",longSwipes:"longSwipes",longSwipesRatio:"longSwipesRatio",longSwipesMs:"longSwipesMs",followFinger:"followFinger",allowTouchMove:"allowTouchMove",threshold:"threshold",touchMoveStopPropagation:"touchMoveStopPropagation",touchStartPreventDefault:"touchStartPreventDefault",touchStartForcePreventDefault:"touchStartForcePreventDefault",touchReleaseOnEdges:"touchReleaseOnEdges",uniqueNavElements:"uniqueNavElements",resistance:"resistance",resistanceRatio:"resistanceRatio",watchSlidesProgress:"watchSlidesProgress",grabCursor:"grabCursor",preventClicks:"preventClicks",preventClicksPropagation:"preventClicksPropagation",slideToClickedSlide:"slideToClickedSlide",preloadImages:"preloadImages",updateOnImagesReady:"updateOnImagesReady",loop:"loop",loopAdditionalSlides:"loopAdditionalSlides",loopedSlides:"loopedSlides",loopedSlidesLimit:"loopedSlidesLimit",loopFillGroupWithBlank:"loopFillGroupWithBlank",loopPreventsSlide:"loopPreventsSlide",rewind:"rewind",allowSlidePrev:"allowSlidePrev",allowSlideNext:"allowSlideNext",swipeHandler:"swipeHandler",noSwiping:"noSwiping",noSwipingClass:"noSwipingClass",noSwipingSelector:"noSwipingSelector",passiveListeners:"passiveListeners",containerModifierClass:"containerModifierClass",slideClass:"slideClass",slideBlankClass:"slideBlankClass",slideActiveClass:"slideActiveClass",slideDuplicateActiveClass:"slideDuplicateActiveClass",slideVisibleClass:"slideVisibleClass",slideDuplicateClass:"slideDuplicateClass",slideNextClass:"slideNextClass",slideDuplicateNextClass:"slideDuplicateNextClass",slidePrevClass:"slidePrevClass",slideDuplicatePrevClass:"slideDuplicatePrevClass",wrapperClass:"wrapperClass",runCallbacksOnInit:"runCallbacksOnInit",observeParents:"observeParents",observeSlideChildren:"observeSlideChildren",a11y:"a11y",autoplay:"autoplay",controller:"controller",coverflowEffect:"coverflowEffect",cubeEffect:"cubeEffect",fadeEffect:"fadeEffect",flipEffect:"flipEffect",creativeEffect:"creativeEffect",cardsEffect:"cardsEffect",hashNavigation:"hashNavigation",history:"history",keyboard:"keyboard",lazy:"lazy",mousewheel:"mousewheel",parallax:"parallax",thumbs:"thumbs",zoom:"zoom",class:"class",id:"id",navigation:"navigation",pagination:"pagination",scrollbar:"scrollbar",virtual:"virtual",config:"config"},outputs:{s__beforeBreakpoint:"_beforeBreakpoint",s__containerClasses:"_containerClasses",s__slideClass:"_slideClass",s__swiper:"_swiper",s_activeIndexChange:"activeIndexChange",s_afterInit:"afterInit",s_autoplay:"autoplay",s_autoplayStart:"autoplayStart",s_autoplayStop:"autoplayStop",s_autoplayPause:"autoplayPause",s_autoplayResume:"autoplayResume",s_beforeDestroy:"beforeDestroy",s_beforeInit:"beforeInit",s_beforeLoopFix:"beforeLoopFix",s_beforeResize:"beforeResize",s_beforeSlideChangeStart:"beforeSlideChangeStart",s_beforeTransitionStart:"beforeTransitionStart",s_breakpoint:"breakpoint",s_changeDirection:"changeDirection",s_click:"click",s_doubleTap:"doubleTap",s_doubleClick:"doubleClick",s_destroy:"destroy",s_fromEdge:"fromEdge",s_hashChange:"hashChange",s_hashSet:"hashSet",s_imagesReady:"imagesReady",s_init:"init",s_keyPress:"keyPress",s_lazyImageLoad:"lazyImageLoad",s_lazyImageReady:"lazyImageReady",s_loopFix:"loopFix",s_momentumBounce:"momentumBounce",s_navigationHide:"navigationHide",s_navigationShow:"navigationShow",s_navigationPrev:"navigationPrev",s_navigationNext:"navigationNext",s_observerUpdate:"observerUpdate",s_orientationchange:"orientationchange",s_paginationHide:"paginationHide",s_paginationRender:"paginationRender",s_paginationShow:"paginationShow",s_paginationUpdate:"paginationUpdate",s_progress:"progress",s_reachBeginning:"reachBeginning",s_reachEnd:"reachEnd",s_realIndexChange:"realIndexChange",s_resize:"resize",s_scroll:"scroll",s_scrollbarDragEnd:"scrollbarDragEnd",s_scrollbarDragMove:"scrollbarDragMove",s_scrollbarDragStart:"scrollbarDragStart",s_setTransition:"setTransition",s_setTranslate:"setTranslate",s_slideChange:"slideChange",s_slideChangeTransitionEnd:"slideChangeTransitionEnd",s_slideChangeTransitionStart:"slideChangeTransitionStart",s_slideNextTransitionEnd:"slideNextTransitionEnd",s_slideNextTransitionStart:"slideNextTransitionStart",s_slidePrevTransitionEnd:"slidePrevTransitionEnd",s_slidePrevTransitionStart:"slidePrevTransitionStart",s_slideResetTransitionStart:"slideResetTransitionStart",s_slideResetTransitionEnd:"slideResetTransitionEnd",s_sliderMove:"sliderMove",s_sliderFirstMove:"sliderFirstMove",s_slidesLengthChange:"slidesLengthChange",s_slidesGridLengthChange:"slidesGridLengthChange",s_snapGridLengthChange:"snapGridLengthChange",s_snapIndexChange:"snapIndexChange",s_tap:"tap",s_toEdge:"toEdge",s_touchEnd:"touchEnd",s_touchMove:"touchMove",s_touchMoveOpposite:"touchMoveOpposite",s_touchStart:"touchStart",s_transitionEnd:"transitionEnd",s_transitionStart:"transitionStart",s_update:"update",s_zoomChange:"zoomChange",s_swiper:"swiper",s_lock:"lock",s_unlock:"unlock"},features:[c.TTD],ngContentSelectors:sX,decls:13,vars:17,consts:[[4,"ngIf"],["class","swiper-scrollbar",4,"ngIf"],["class","swiper-pagination",4,"ngIf"],[3,"ngClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["slidesTemplate",""],[1,"swiper-button-prev"],["prevElRef",""],[1,"swiper-button-next"],["nextElRef",""],[1,"swiper-scrollbar"],["scrollbarElRef",""],[1,"swiper-pagination"],["paginationElRef",""],[3,"ngClass","style","ngSwitch",4,"ngFor","ngForOf"],[3,"ngClass","ngSwitch"],[3,"ngClass",4,"ngSwitchCase"],[4,"ngSwitchDefault"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,i){if(1&t&&(c.F$t(tX),c.Hsn(0),c.YNc(1,U9,5,0,"ng-container",0),c.YNc(2,$9,2,0,"div",1),c.YNc(3,H9,2,0,"div",2),c.TgZ(4,"div",3),c.Hsn(5,1),c.YNc(6,j9,1,0,null,4),c.YNc(7,W9,1,0,null,4),c.YNc(8,Y9,1,0,null,4),c.Hsn(9,2),c.qZA(),c.Hsn(10,3),c.YNc(11,eX,2,3,"ng-template",null,5,c.W1O)),2&t){const r=c.MAs(12);c.xp6(1),c.Q6J("ngIf",i.navigation&&i.showNavigation),c.xp6(1),c.Q6J("ngIf",i.scrollbar&&i.showScrollbar),c.xp6(1),c.Q6J("ngIf",i.pagination&&i.showPagination),c.xp6(1),c.Q6J("ngClass",i.wrapperClass),c.uIk("id",i.id),c.xp6(2),c.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",c.VKq(11,nX,i.prependSlides)),c.xp6(1),c.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",c.VKq(13,iX,i.activeSlides)),c.xp6(1),c.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",c.VKq(15,rX,i.appendSlides))}},dependencies:[Nn,_n,Wa,Vr,Ts,ra,sa,om],styles:["swiper{display:block}\n"],encapsulation:2,changeDetection:0}),n})(),Lz=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[ki]]}),n})();function aX(n,e){if(1&n&&c._UZ(0,"app-product-card-in-main",6),2&n){const t=c.oxw().$implicit;c.Q6J("book",t)}}function lX(n,e){1&n&&(c.ynx(0),c.YNc(1,aX,1,1,"ng-template",5),c.BQk())}let cX=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-all-products-main"]],inputs:{books:"books",title:"title"},decls:6,vars:4,consts:[[1,"container"],[1,"title-of-main-products","pb-4"],[1,"d-flex"],[3,"slidesPerView","spaceBetween"],[4,"ngFor","ngForOf"],["swiperSlide",""],[3,"book"]],template:function(t,i){1&t&&(c.TgZ(0,"div",0)(1,"div",1),c._uU(2),c.qZA(),c.TgZ(3,"div",2)(4,"swiper",3),c.YNc(5,lX,2,0,"ng-container",4),c.qZA()()()),2&t&&(c.xp6(2),c.Oqu(i.title),c.xp6(2),c.Q6J("slidesPerView",4)("spaceBetween",50),c.xp6(1),c.Q6J("ngForOf",i.books))},dependencies:[Vr,C7,Fz,_N]}),n})();function uX(n,e){1&n&&(c.TgZ(0,"div",7),c._UZ(1,"img",12)(2,"div",9),c.qZA())}function dX(n,e){1&n&&(c.TgZ(0,"div",7),c._UZ(1,"img",13)(2,"div",9),c.qZA())}function hX(n,e){1&n&&(c.TgZ(0,"div",7),c._UZ(1,"img",14)(2,"div",9),c.qZA())}function fX(n,e){1&n&&(c.TgZ(0,"div",7),c._UZ(1,"img",15)(2,"div",9),c.qZA())}const pX=function(){return{delay:100,disableOnInteraction:!1}},mX=function(){return{clickable:!0}};Lw.use([function A9({swiper:n,extendParams:e,on:t,emit:i}){function r(D){let A;return D&&(A=qt(D),n.params.uniqueNavElements&&"string"==typeof D&&A.length>1&&1===n.$el.find(D).length&&(A=n.$el.find(D))),A}function s(D,A){const x=n.params.navigation;D&&D.length>0&&(D[A?"addClass":"removeClass"](x.disabledClass),D[0]&&"BUTTON"===D[0].tagName&&(D[0].disabled=A),n.params.watchOverflow&&n.enabled&&D[n.isLocked?"addClass":"removeClass"](x.lockClass))}function a(){if(n.params.loop)return;const{$nextEl:D,$prevEl:A}=n.navigation;s(A,n.isBeginning&&!n.params.rewind),s(D,n.isEnd&&!n.params.rewind)}function d(D){D.preventDefault(),(!n.isBeginning||n.params.loop||n.params.rewind)&&(n.slidePrev(),i("navigationPrev"))}function f(D){D.preventDefault(),(!n.isEnd||n.params.loop||n.params.rewind)&&(n.slideNext(),i("navigationNext"))}function p(){const D=n.params.navigation;if(n.params.navigation=pN(n,n.originalParams.navigation,n.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!D.nextEl&&!D.prevEl)return;const A=r(D.nextEl),x=r(D.prevEl);A&&A.length>0&&A.on("click",f),x&&x.length>0&&x.on("click",d),Object.assign(n.navigation,{$nextEl:A,nextEl:A&&A[0],$prevEl:x,prevEl:x&&x[0]}),n.enabled||(A&&A.addClass(D.lockClass),x&&x.addClass(D.lockClass))}function _(){const{$nextEl:D,$prevEl:A}=n.navigation;D&&D.length&&(D.off("click",f),D.removeClass(n.params.navigation.disabledClass)),A&&A.length&&(A.off("click",d),A.removeClass(n.params.navigation.disabledClass))}e({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),n.navigation={nextEl:null,$nextEl:null,prevEl:null,$prevEl:null},t("init",()=>{!1===n.params.navigation.enabled?w():(p(),a())}),t("toEdge fromEdge lock unlock",()=>{a()}),t("destroy",()=>{_()}),t("enable disable",()=>{const{$nextEl:D,$prevEl:A}=n.navigation;D&&D[n.enabled?"removeClass":"addClass"](n.params.navigation.lockClass),A&&A[n.enabled?"removeClass":"addClass"](n.params.navigation.lockClass)}),t("click",(D,A)=>{const{$nextEl:x,$prevEl:k}=n.navigation,F=A.target;if(n.params.navigation.hideOnClick&&!qt(F).is(k)&&!qt(F).is(x)){if(n.pagination&&n.params.pagination&&n.params.pagination.clickable&&(n.pagination.el===F||n.pagination.el.contains(F)))return;let L;x?L=x.hasClass(n.params.navigation.hiddenClass):k&&(L=k.hasClass(n.params.navigation.hiddenClass)),i(!0===L?"navigationShow":"navigationHide"),x&&x.toggleClass(n.params.navigation.hiddenClass),k&&k.toggleClass(n.params.navigation.hiddenClass)}});const w=()=>{n.$el.addClass(n.params.navigation.navigationDisabledClass),_()};Object.assign(n.navigation,{enable:()=>{n.$el.removeClass(n.params.navigation.navigationDisabledClass),p(),a()},disable:w,update:a,init:p,destroy:_})},function x9({swiper:n,extendParams:e,on:t,emit:i}){const r="swiper-pagination";e({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:x=>x,formatFractionTotal:x=>x,bulletClass:`${r}-bullet`,bulletActiveClass:`${r}-bullet-active`,modifierClass:`${r}-`,currentClass:`${r}-current`,totalClass:`${r}-total`,hiddenClass:`${r}-hidden`,progressbarFillClass:`${r}-progressbar-fill`,progressbarOppositeClass:`${r}-progressbar-opposite`,clickableClass:`${r}-clickable`,lockClass:`${r}-lock`,horizontalClass:`${r}-horizontal`,verticalClass:`${r}-vertical`,paginationDisabledClass:`${r}-disabled`}}),n.pagination={el:null,$el:null,bullets:[]};let s,a=0;function d(){return!n.params.pagination.el||!n.pagination.el||!n.pagination.$el||0===n.pagination.$el.length}function f(x,k){const{bulletActiveClass:F}=n.params.pagination;x[k]().addClass(`${F}-${k}`)[k]().addClass(`${F}-${k}-${k}`)}function p(){const x=n.rtl,k=n.params.pagination;if(d())return;const F=n.virtual&&n.params.virtual.enabled?n.virtual.slides.length:n.slides.length,L=n.pagination.$el;let U;const ee=n.params.loop?Math.ceil((F-2*n.loopedSlides)/n.params.slidesPerGroup):n.snapGrid.length;if(n.params.loop?(U=Math.ceil((n.activeIndex-n.loopedSlides)/n.params.slidesPerGroup),U>F-1-2*n.loopedSlides&&(U-=F-2*n.loopedSlides),U>ee-1&&(U-=ee),U<0&&"bullets"!==n.params.paginationType&&(U=ee+U)):U=typeof n.snapIndex<"u"?n.snapIndex:n.activeIndex||0,"bullets"===k.type&&n.pagination.bullets&&n.pagination.bullets.length>0){const oe=n.pagination.bullets;let ue,ye,ze;if(k.dynamicBullets&&(s=oe.eq(0)[n.isHorizontal()?"outerWidth":"outerHeight"](!0),L.css(n.isHorizontal()?"width":"height",s*(k.dynamicMainBullets+4)+"px"),k.dynamicMainBullets>1&&void 0!==n.previousIndex&&(a+=U-(n.previousIndex-n.loopedSlides||0),a>k.dynamicMainBullets-1?a=k.dynamicMainBullets-1:a<0&&(a=0)),ue=Math.max(U-a,0),ye=ue+(Math.min(oe.length,k.dynamicMainBullets)-1),ze=(ye+ue)/2),oe.removeClass(["","-next","-next-next","-prev","-prev-prev","-main"].map(it=>`${k.bulletActiveClass}${it}`).join(" ")),L.length>1)oe.each(it=>{const $e=qt(it),ge=$e.index();ge===U&&$e.addClass(k.bulletActiveClass),k.dynamicBullets&&(ge>=ue&&ge<=ye&&$e.addClass(`${k.bulletActiveClass}-main`),ge===ue&&f($e,"prev"),ge===ye&&f($e,"next"))});else{const it=oe.eq(U),$e=it.index();if(it.addClass(k.bulletActiveClass),k.dynamicBullets){const ge=oe.eq(ue),ae=oe.eq(ye);for(let Ee=ue;Ee<=ye;Ee+=1)oe.eq(Ee).addClass(`${k.bulletActiveClass}-main`);if(n.params.loop)if($e>=oe.length){for(let Ee=k.dynamicMainBullets;Ee>=0;Ee-=1)oe.eq(oe.length-Ee).addClass(`${k.bulletActiveClass}-main`);oe.eq(oe.length-k.dynamicMainBullets-1).addClass(`${k.bulletActiveClass}-prev`)}else f(ge,"prev"),f(ae,"next");else f(ge,"prev"),f(ae,"next")}}if(k.dynamicBullets){const it=Math.min(oe.length,k.dynamicMainBullets+4),$e=(s*it-s)/2-ze*s,ge=x?"right":"left";oe.css(n.isHorizontal()?ge:"top",`${$e}px`)}}if("fraction"===k.type&&(L.find(tu(k.currentClass)).text(k.formatFractionCurrent(U+1)),L.find(tu(k.totalClass)).text(k.formatFractionTotal(ee))),"progressbar"===k.type){let oe;oe=k.progressbarOpposite?n.isHorizontal()?"vertical":"horizontal":n.isHorizontal()?"horizontal":"vertical";const ue=(U+1)/ee;let ye=1,ze=1;"horizontal"===oe?ye=ue:ze=ue,L.find(tu(k.progressbarFillClass)).transform(`translate3d(0,0,0) scaleX(${ye}) scaleY(${ze})`).transition(n.params.speed)}"custom"===k.type&&k.renderCustom?(L.html(k.renderCustom(n,U+1,ee)),i("paginationRender",L[0])):i("paginationUpdate",L[0]),n.params.watchOverflow&&n.enabled&&L[n.isLocked?"addClass":"removeClass"](k.lockClass)}function _(){const x=n.params.pagination;if(d())return;const k=n.virtual&&n.params.virtual.enabled?n.virtual.slides.length:n.slides.length,F=n.pagination.$el;let L="";if("bullets"===x.type){let U=n.params.loop?Math.ceil((k-2*n.loopedSlides)/n.params.slidesPerGroup):n.snapGrid.length;n.params.freeMode&&n.params.freeMode.enabled&&!n.params.loop&&U>k&&(U=k);for(let ee=0;ee<U;ee+=1)L+=x.renderBullet?x.renderBullet.call(n,ee,x.bulletClass):`<${x.bulletElement} class="${x.bulletClass}"></${x.bulletElement}>`;F.html(L),n.pagination.bullets=F.find(tu(x.bulletClass))}"fraction"===x.type&&(L=x.renderFraction?x.renderFraction.call(n,x.currentClass,x.totalClass):`<span class="${x.currentClass}"></span> / <span class="${x.totalClass}"></span>`,F.html(L)),"progressbar"===x.type&&(L=x.renderProgressbar?x.renderProgressbar.call(n,x.progressbarFillClass):`<span class="${x.progressbarFillClass}"></span>`,F.html(L)),"custom"!==x.type&&i("paginationRender",n.pagination.$el[0])}function v(){n.params.pagination=pN(n,n.originalParams.pagination,n.params.pagination,{el:"swiper-pagination"});const x=n.params.pagination;if(!x.el)return;let k=qt(x.el);0!==k.length&&(n.params.uniqueNavElements&&"string"==typeof x.el&&k.length>1&&(k=n.$el.find(x.el),k.length>1&&(k=k.filter(F=>qt(F).parents(".swiper")[0]===n.el))),"bullets"===x.type&&x.clickable&&k.addClass(x.clickableClass),k.addClass(x.modifierClass+x.type),k.addClass(n.isHorizontal()?x.horizontalClass:x.verticalClass),"bullets"===x.type&&x.dynamicBullets&&(k.addClass(`${x.modifierClass}${x.type}-dynamic`),a=0,x.dynamicMainBullets<1&&(x.dynamicMainBullets=1)),"progressbar"===x.type&&x.progressbarOpposite&&k.addClass(x.progressbarOppositeClass),x.clickable&&k.on("click",tu(x.bulletClass),function(L){L.preventDefault();let U=qt(this).index()*n.params.slidesPerGroup;n.params.loop&&(U+=n.loopedSlides),n.slideTo(U)}),Object.assign(n.pagination,{$el:k,el:k[0]}),n.enabled||k.addClass(x.lockClass))}function w(){const x=n.params.pagination;if(d())return;const k=n.pagination.$el;k.removeClass(x.hiddenClass),k.removeClass(x.modifierClass+x.type),k.removeClass(n.isHorizontal()?x.horizontalClass:x.verticalClass),n.pagination.bullets&&n.pagination.bullets.removeClass&&n.pagination.bullets.removeClass(x.bulletActiveClass),x.clickable&&k.off("click",tu(x.bulletClass))}t("init",()=>{!1===n.params.pagination.enabled?A():(v(),_(),p())}),t("activeIndexChange",()=>{(n.params.loop||typeof n.snapIndex>"u")&&p()}),t("snapIndexChange",()=>{n.params.loop||p()}),t("slidesLengthChange",()=>{n.params.loop&&(_(),p())}),t("snapGridLengthChange",()=>{n.params.loop||(_(),p())}),t("destroy",()=>{w()}),t("enable disable",()=>{const{$el:x}=n.pagination;x&&x[n.enabled?"removeClass":"addClass"](n.params.pagination.lockClass)}),t("lock unlock",()=>{p()}),t("click",(x,k)=>{const F=k.target,{$el:L}=n.pagination;if(n.params.pagination.el&&n.params.pagination.hideOnClick&&L&&L.length>0&&!qt(F).hasClass(n.params.pagination.bulletClass)){if(n.navigation&&(n.navigation.nextEl&&F===n.navigation.nextEl||n.navigation.prevEl&&F===n.navigation.prevEl))return;const U=L.hasClass(n.params.pagination.hiddenClass);i(!0===U?"paginationShow":"paginationHide"),L.toggleClass(n.params.pagination.hiddenClass)}});const A=()=>{n.$el.addClass(n.params.pagination.paginationDisabledClass),n.pagination.$el&&n.pagination.$el.addClass(n.params.pagination.paginationDisabledClass),w()};Object.assign(n.pagination,{enable:()=>{n.$el.removeClass(n.params.pagination.paginationDisabledClass),n.pagination.$el&&n.pagination.$el.removeClass(n.params.pagination.paginationDisabledClass),v(),_(),p()},disable:A,render:_,update:p,init:v,destroy:w})},function M9({swiper:n,extendParams:e,on:t,emit:i}){const r=_r();let f,p,_,v,s=!1,a=null,d=null;function w(){if(!n.params.scrollbar.el||!n.scrollbar.el)return;const{scrollbar:ge,rtlTranslate:ae,progress:Ee}=n,{$dragEl:_t,$el:Mt}=ge,J=n.params.scrollbar;let Ie=p,we=(_-p)*Ee;ae?(we=-we,we>0?(Ie=p-we,we=0):-we+p>_&&(Ie=_+we)):we<0?(Ie=p+we,we=0):we+p>_&&(Ie=_-we),n.isHorizontal()?(_t.transform(`translate3d(${we}px, 0, 0)`),_t[0].style.width=`${Ie}px`):(_t.transform(`translate3d(0px, ${we}px, 0)`),_t[0].style.height=`${Ie}px`),J.hide&&(clearTimeout(a),Mt[0].style.opacity=1,a=setTimeout(()=>{Mt[0].style.opacity=0,Mt.transition(400)},1e3))}function A(){if(!n.params.scrollbar.el||!n.scrollbar.el)return;const{scrollbar:ge}=n,{$dragEl:ae,$el:Ee}=ge;ae[0].style.width="",ae[0].style.height="",_=n.isHorizontal()?Ee[0].offsetWidth:Ee[0].offsetHeight,v=n.size/(n.virtualSize+n.params.slidesOffsetBefore-(n.params.centeredSlides?n.snapGrid[0]:0)),p="auto"===n.params.scrollbar.dragSize?_*v:parseInt(n.params.scrollbar.dragSize,10),n.isHorizontal()?ae[0].style.width=`${p}px`:ae[0].style.height=`${p}px`,Ee[0].style.display=v>=1?"none":"",n.params.scrollbar.hide&&(Ee[0].style.opacity=0),n.params.watchOverflow&&n.enabled&&ge.$el[n.isLocked?"addClass":"removeClass"](n.params.scrollbar.lockClass)}function x(ge){return n.isHorizontal()?"touchstart"===ge.type||"touchmove"===ge.type?ge.targetTouches[0].clientX:ge.clientX:"touchstart"===ge.type||"touchmove"===ge.type?ge.targetTouches[0].clientY:ge.clientY}function k(ge){const{scrollbar:ae,rtlTranslate:Ee}=n,{$el:_t}=ae;let Mt;Mt=(x(ge)-_t.offset()[n.isHorizontal()?"left":"top"]-(null!==f?f:p/2))/(_-p),Mt=Math.max(Math.min(Mt,1),0),Ee&&(Mt=1-Mt);const J=n.minTranslate()+(n.maxTranslate()-n.minTranslate())*Mt;n.updateProgress(J),n.setTranslate(J),n.updateActiveIndex(),n.updateSlidesClasses()}function F(ge){const ae=n.params.scrollbar,{scrollbar:Ee,$wrapperEl:_t}=n,{$el:Mt,$dragEl:J}=Ee;s=!0,f=ge.target===J[0]||ge.target===J?x(ge)-ge.target.getBoundingClientRect()[n.isHorizontal()?"left":"top"]:null,ge.preventDefault(),ge.stopPropagation(),_t.transition(100),J.transition(100),k(ge),clearTimeout(d),Mt.transition(0),ae.hide&&Mt.css("opacity",1),n.params.cssMode&&n.$wrapperEl.css("scroll-snap-type","none"),i("scrollbarDragStart",ge)}function L(ge){const{scrollbar:ae,$wrapperEl:Ee}=n,{$el:_t,$dragEl:Mt}=ae;!s||(ge.preventDefault?ge.preventDefault():ge.returnValue=!1,k(ge),Ee.transition(0),_t.transition(0),Mt.transition(0),i("scrollbarDragMove",ge))}function U(ge){const ae=n.params.scrollbar,{scrollbar:Ee,$wrapperEl:_t}=n,{$el:Mt}=Ee;!s||(s=!1,n.params.cssMode&&(n.$wrapperEl.css("scroll-snap-type",""),_t.transition("")),ae.hide&&(clearTimeout(d),d=jy(()=>{Mt.css("opacity",0),Mt.transition(400)},1e3)),i("scrollbarDragEnd",ge),ae.snapOnRelease&&n.slideToClosest())}function ee(ge){const{scrollbar:ae,touchEventsTouch:Ee,touchEventsDesktop:_t,params:Mt,support:J}=n,Ie=ae.$el;if(!Ie)return;const we=Ie[0],pt=!(!J.passiveListener||!Mt.passiveListeners)&&{passive:!1,capture:!1},Bt=!(!J.passiveListener||!Mt.passiveListeners)&&{passive:!0,capture:!1};if(!we)return;const oi="on"===ge?"addEventListener":"removeEventListener";J.touch?(we[oi](Ee.start,F,pt),we[oi](Ee.move,L,pt),we[oi](Ee.end,U,Bt)):(we[oi](_t.start,F,pt),r[oi](_t.move,L,pt),r[oi](_t.end,U,Bt))}function ye(){const{scrollbar:ge,$el:ae}=n;n.params.scrollbar=pN(n,n.originalParams.scrollbar,n.params.scrollbar,{el:"swiper-scrollbar"});const Ee=n.params.scrollbar;if(!Ee.el)return;let _t=qt(Ee.el);n.params.uniqueNavElements&&"string"==typeof Ee.el&&_t.length>1&&1===ae.find(Ee.el).length&&(_t=ae.find(Ee.el)),_t.addClass(n.isHorizontal()?Ee.horizontalClass:Ee.verticalClass);let Mt=_t.find(`.${n.params.scrollbar.dragClass}`);0===Mt.length&&(Mt=qt(`<div class="${n.params.scrollbar.dragClass}"></div>`),_t.append(Mt)),Object.assign(ge,{$el:_t,el:_t[0],$dragEl:Mt,dragEl:Mt[0]}),Ee.draggable&&function oe(){!n.params.scrollbar.el||!n.scrollbar.el||ee("on")}(),_t&&_t[n.enabled?"removeClass":"addClass"](n.params.scrollbar.lockClass)}function ze(){const ge=n.params.scrollbar,ae=n.scrollbar.$el;ae&&ae.removeClass(n.isHorizontal()?ge.horizontalClass:ge.verticalClass),function ue(){!n.params.scrollbar.el||!n.scrollbar.el||ee("off")}()}e({scrollbar:{el:null,dragSize:"auto",hide:!1,draggable:!1,snapOnRelease:!0,lockClass:"swiper-scrollbar-lock",dragClass:"swiper-scrollbar-drag",scrollbarDisabledClass:"swiper-scrollbar-disabled",horizontalClass:"swiper-scrollbar-horizontal",verticalClass:"swiper-scrollbar-vertical"}}),n.scrollbar={el:null,dragEl:null,$el:null,$dragEl:null},t("init",()=>{!1===n.params.scrollbar.enabled?$e():(ye(),A(),w())}),t("update resize observerUpdate lock unlock",()=>{A()}),t("setTranslate",()=>{w()}),t("setTransition",(ge,ae)=>{!function D(ge){!n.params.scrollbar.el||!n.scrollbar.el||n.scrollbar.$dragEl.transition(ge)}(ae)}),t("enable disable",()=>{const{$el:ge}=n.scrollbar;ge&&ge[n.enabled?"removeClass":"addClass"](n.params.scrollbar.lockClass)}),t("destroy",()=>{ze()});const $e=()=>{n.$el.addClass(n.params.scrollbar.scrollbarDisabledClass),n.scrollbar.$el&&n.scrollbar.$el.addClass(n.params.scrollbar.scrollbarDisabledClass),ze()};Object.assign(n.scrollbar,{enable:()=>{n.$el.removeClass(n.params.scrollbar.scrollbarDisabledClass),n.scrollbar.$el&&n.scrollbar.$el.removeClass(n.params.scrollbar.scrollbarDisabledClass),ye(),A(),w()},disable:$e,updateSize:A,setTranslate:w,init:ye,destroy:ze})},function O9({swiper:n,extendParams:e,on:t}){e({a11y:{enabled:!0,notificationClass:"swiper-notification",prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",paginationBulletMessage:"Go to slide {{index}}",slideLabelMessage:"{{index}} / {{slidesLength}}",containerMessage:null,containerRoleDescriptionMessage:null,itemRoleDescriptionMessage:null,slideRole:"group",id:null}}),n.a11y={clicked:!1};let i=null;function r(ae){const Ee=i;0!==Ee.length&&(Ee.html(""),Ee.html(ae))}function a(ae){ae.attr("tabIndex","0")}function d(ae){ae.attr("tabIndex","-1")}function f(ae,Ee){ae.attr("role",Ee)}function p(ae,Ee){ae.attr("aria-roledescription",Ee)}function v(ae,Ee){ae.attr("aria-label",Ee)}function A(ae){ae.attr("aria-disabled",!0)}function x(ae){ae.attr("aria-disabled",!1)}function k(ae){if(13!==ae.keyCode&&32!==ae.keyCode)return;const Ee=n.params.a11y,_t=qt(ae.target);n.navigation&&n.navigation.$nextEl&&_t.is(n.navigation.$nextEl)&&(n.isEnd&&!n.params.loop||n.slideNext(),r(n.isEnd?Ee.lastSlideMessage:Ee.nextSlideMessage)),n.navigation&&n.navigation.$prevEl&&_t.is(n.navigation.$prevEl)&&(n.isBeginning&&!n.params.loop||n.slidePrev(),r(n.isBeginning?Ee.firstSlideMessage:Ee.prevSlideMessage)),n.pagination&&_t.is(tu(n.params.pagination.bulletClass))&&_t[0].click()}function L(){return n.pagination&&n.pagination.bullets&&n.pagination.bullets.length}function U(){return L()&&n.params.pagination.clickable}const oe=(ae,Ee,_t)=>{a(ae),"BUTTON"!==ae[0].tagName&&(f(ae,"button"),ae.on("keydown",k)),v(ae,_t),function _(ae,Ee){ae.attr("aria-controls",Ee)}(ae,Ee)},ue=()=>{n.a11y.clicked=!0},ye=()=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{n.a11y.clicked=!1})})},ze=ae=>{if(n.a11y.clicked)return;const Ee=ae.target.closest(`.${n.params.slideClass}`);if(!Ee||!n.slides.includes(Ee))return;const _t=n.slides.indexOf(Ee)===n.activeIndex,Mt=n.params.watchSlidesProgress&&n.visibleSlides&&n.visibleSlides.includes(Ee);_t||Mt||(n.isHorizontal()?n.el.scrollLeft=0:n.el.scrollTop=0,n.slideTo(n.slides.indexOf(Ee),0))},it=()=>{const ae=n.params.a11y;ae.itemRoleDescriptionMessage&&p(qt(n.slides),ae.itemRoleDescriptionMessage),ae.slideRole&&f(qt(n.slides),ae.slideRole);const Ee=n.params.loop?n.slides.filter(_t=>!_t.classList.contains(n.params.slideDuplicateClass)).length:n.slides.length;ae.slideLabelMessage&&n.slides.each((_t,Mt)=>{const J=qt(_t),Ie=n.params.loop?parseInt(J.attr("data-swiper-slide-index"),10):Mt;v(J,ae.slideLabelMessage.replace(/\{\{index\}\}/,Ie+1).replace(/\{\{slidesLength\}\}/,Ee))})};t("beforeInit",()=>{i=qt(`<span class="${n.params.a11y.notificationClass}" aria-live="assertive" aria-atomic="true"></span>`)}),t("afterInit",()=>{!n.params.a11y.enabled||(()=>{const ae=n.params.a11y;n.$el.append(i);const Ee=n.$el;ae.containerRoleDescriptionMessage&&p(Ee,ae.containerRoleDescriptionMessage),ae.containerMessage&&v(Ee,ae.containerMessage);const _t=n.$wrapperEl,Mt=ae.id||_t.attr("id")||`swiper-wrapper-${function s(ae=16){return"x".repeat(ae).replace(/x/g,()=>Math.round(16*Math.random()).toString(16))}(16)}`,J=n.params.autoplay&&n.params.autoplay.enabled?"off":"polite";let Ie,we;(function w(ae,Ee){ae.attr("id",Ee)})(_t,Mt),function D(ae,Ee){ae.attr("aria-live",Ee)}(_t,J),it(),n.navigation&&n.navigation.$nextEl&&(Ie=n.navigation.$nextEl),n.navigation&&n.navigation.$prevEl&&(we=n.navigation.$prevEl),Ie&&Ie.length&&oe(Ie,Mt,ae.nextSlideMessage),we&&we.length&&oe(we,Mt,ae.prevSlideMessage),U()&&n.pagination.$el.on("keydown",tu(n.params.pagination.bulletClass),k),n.$el.on("focus",ze,!0),n.$el.on("pointerdown",ue,!0),n.$el.on("pointerup",ye,!0)})()}),t("slidesLengthChange snapGridLengthChange slidesGridLengthChange",()=>{!n.params.a11y.enabled||it()}),t("fromEdge toEdge afterInit lock unlock",()=>{!n.params.a11y.enabled||function F(){if(n.params.loop||n.params.rewind||!n.navigation)return;const{$nextEl:ae,$prevEl:Ee}=n.navigation;Ee&&Ee.length>0&&(n.isBeginning?(A(Ee),d(Ee)):(x(Ee),a(Ee))),ae&&ae.length>0&&(n.isEnd?(A(ae),d(ae)):(x(ae),a(ae)))}()}),t("paginationUpdate",()=>{!n.params.a11y.enabled||function ee(){const ae=n.params.a11y;!L()||n.pagination.bullets.each(Ee=>{const _t=qt(Ee);n.params.pagination.clickable&&(a(_t),n.params.pagination.renderBullet||(f(_t,"button"),v(_t,ae.paginationBulletMessage.replace(/\{\{index\}\}/,_t.index()+1)))),_t.is(`.${n.params.pagination.bulletActiveClass}`)?_t.attr("aria-current","true"):_t.removeAttr("aria-current")})}()}),t("destroy",()=>{!n.params.a11y.enabled||function ge(){let ae,Ee;i&&i.length>0&&i.remove(),n.navigation&&n.navigation.$nextEl&&(ae=n.navigation.$nextEl),n.navigation&&n.navigation.$prevEl&&(Ee=n.navigation.$prevEl),ae&&ae.off("keydown",k),Ee&&Ee.off("keydown",k),U()&&n.pagination.$el.off("keydown",tu(n.params.pagination.bulletClass),k),n.$el.off("focus",ze,!0),n.$el.off("pointerdown",ue,!0),n.$el.off("pointerup",ye,!0)}()})},function D9({swiper:n,extendParams:e,on:t,emit:i}){let r;function s(v,w){const D=n.params.virtual;if(D.cache&&n.virtual.cache[w])return n.virtual.cache[w];const A=qt(D.renderSlide?D.renderSlide.call(n,v,w):`<div class="${n.params.slideClass}" data-swiper-slide-index="${w}">${v}</div>`);return A.attr("data-swiper-slide-index")||A.attr("data-swiper-slide-index",w),D.cache&&(n.virtual.cache[w]=A),A}function a(v){const{slidesPerView:w,slidesPerGroup:D,centeredSlides:A}=n.params,{addSlidesBefore:x,addSlidesAfter:k}=n.params.virtual,{from:F,to:L,slides:U,slidesGrid:ee,offset:oe}=n.virtual;n.params.cssMode||n.updateActiveIndex();const ue=n.activeIndex||0;let ye,ze,it;ye=n.rtlTranslate?"right":n.isHorizontal()?"left":"top",A?(ze=Math.floor(w/2)+D+k,it=Math.floor(w/2)+D+x):(ze=w+(D-1)+k,it=D+x);const $e=Math.max((ue||0)-it,0),ge=Math.min((ue||0)+ze,U.length-1),ae=(n.slidesGrid[$e]||0)-(n.slidesGrid[0]||0);function Ee(){n.updateSlides(),n.updateProgress(),n.updateSlidesClasses(),n.lazy&&n.params.lazy.enabled&&n.lazy.load(),i("virtualUpdate")}if(Object.assign(n.virtual,{from:$e,to:ge,offset:ae,slidesGrid:n.slidesGrid}),F===$e&&L===ge&&!v)return n.slidesGrid!==ee&&ae!==oe&&n.slides.css(ye,`${ae}px`),n.updateProgress(),void i("virtualUpdate");if(n.params.virtual.renderExternal)return n.params.virtual.renderExternal.call(n,{offset:ae,from:$e,to:ge,slides:function(){const Ie=[];for(let we=$e;we<=ge;we+=1)Ie.push(U[we]);return Ie}()}),void(n.params.virtual.renderExternalUpdate?Ee():i("virtualUpdate"));const _t=[],Mt=[];if(v)n.$wrapperEl.find(`.${n.params.slideClass}`).remove();else for(let J=F;J<=L;J+=1)(J<$e||J>ge)&&n.$wrapperEl.find(`.${n.params.slideClass}[data-swiper-slide-index="${J}"]`).remove();for(let J=0;J<U.length;J+=1)J>=$e&&J<=ge&&(typeof L>"u"||v?Mt.push(J):(J>L&&Mt.push(J),J<F&&_t.push(J)));Mt.forEach(J=>{n.$wrapperEl.append(s(U[J],J))}),_t.sort((J,Ie)=>Ie-J).forEach(J=>{n.$wrapperEl.prepend(s(U[J],J))}),n.$wrapperEl.children(".swiper-slide").css(ye,`${ae}px`),Ee()}e({virtual:{enabled:!1,slides:[],cache:!0,renderSlide:null,renderExternal:null,renderExternalUpdate:!0,addSlidesBefore:0,addSlidesAfter:0}}),n.virtual={cache:{},from:void 0,to:void 0,slides:[],offset:0,slidesGrid:[]},t("beforeInit",()=>{!n.params.virtual.enabled||(n.virtual.slides=n.params.virtual.slides,n.classNames.push(`${n.params.containerModifierClass}virtual`),n.params.watchSlidesProgress=!0,n.originalParams.watchSlidesProgress=!0,n.params.initialSlide||a())}),t("setTranslate",()=>{!n.params.virtual.enabled||(n.params.cssMode&&!n._immediateVirtual?(clearTimeout(r),r=setTimeout(()=>{a()},100)):a())}),t("init update resize",()=>{!n.params.virtual.enabled||n.params.cssMode&&Fw(n.wrapperEl,"--swiper-virtual-size",`${n.virtualSize}px`)}),Object.assign(n.virtual,{appendSlide:function d(v){if("object"==typeof v&&"length"in v)for(let w=0;w<v.length;w+=1)v[w]&&n.virtual.slides.push(v[w]);else n.virtual.slides.push(v);a(!0)},prependSlide:function f(v){const w=n.activeIndex;let D=w+1,A=1;if(Array.isArray(v)){for(let x=0;x<v.length;x+=1)v[x]&&n.virtual.slides.unshift(v[x]);D=w+v.length,A=v.length}else n.virtual.slides.unshift(v);if(n.params.virtual.cache){const x=n.virtual.cache,k={};Object.keys(x).forEach(F=>{const L=x[F],U=L.attr("data-swiper-slide-index");U&&L.attr("data-swiper-slide-index",parseInt(U,10)+A),k[parseInt(F,10)+A]=L}),n.virtual.cache=k}a(!0),n.slideTo(D,0)},removeSlide:function p(v){if(typeof v>"u"||null===v)return;let w=n.activeIndex;if(Array.isArray(v))for(let D=v.length-1;D>=0;D-=1)n.virtual.slides.splice(v[D],1),n.params.virtual.cache&&delete n.virtual.cache[v[D]],v[D]<w&&(w-=1),w=Math.max(w,0);else n.virtual.slides.splice(v,1),n.params.virtual.cache&&delete n.virtual.cache[v],v<w&&(w-=1),w=Math.max(w,0);a(!0),n.slideTo(w,0)},removeAllSlides:function _(){n.virtual.slides=[],n.params.virtual.cache&&(n.virtual.cache={}),a(!0),n.slideTo(0,0)},update:a})},function k9({swiper:n,extendParams:e,on:t,emit:i}){const r=sr();e({zoom:{enabled:!1,maxRatio:3,minRatio:1,toggle:!0,containerClass:"swiper-zoom-container",zoomedSlideClass:"swiper-slide-zoomed"}}),n.zoom={enabled:!1};let d,f,p,s=1,a=!1;const _={$slideEl:void 0,slideWidth:void 0,slideHeight:void 0,$imageEl:void 0,$imageWrapEl:void 0,maxRatio:3},v={isTouched:void 0,isMoved:void 0,currentX:void 0,currentY:void 0,minX:void 0,minY:void 0,maxX:void 0,maxY:void 0,width:void 0,height:void 0,startX:void 0,startY:void 0,touchesStart:{},touchesCurrent:{}},w={x:void 0,y:void 0,prevPositionX:void 0,prevPositionY:void 0,prevTime:void 0};let D=1;function A(J){return J.targetTouches.length<2?1:Math.sqrt((J.targetTouches[1].pageX-J.targetTouches[0].pageX)**2+(J.targetTouches[1].pageY-J.targetTouches[0].pageY)**2)}function x(J){const we=n.params.zoom;if(f=!1,p=!1,!n.support.gestures){if("touchstart"!==J.type||"touchstart"===J.type&&J.targetTouches.length<2)return;f=!0,_.scaleStart=A(J)}_.$slideEl&&_.$slideEl.length||(_.$slideEl=qt(J.target).closest(`.${n.params.slideClass}`),0===_.$slideEl.length&&(_.$slideEl=n.slides.eq(n.activeIndex)),_.$imageEl=_.$slideEl.find(`.${we.containerClass}`).eq(0).find("picture, img, svg, canvas, .swiper-zoom-target").eq(0),_.$imageWrapEl=_.$imageEl.parent(`.${we.containerClass}`),_.maxRatio=_.$imageWrapEl.attr("data-swiper-zoom")||we.maxRatio,0!==_.$imageWrapEl.length)?(_.$imageEl&&_.$imageEl.transition(0),a=!0):_.$imageEl=void 0}function k(J){const Ie=n.support,we=n.params.zoom,pt=n.zoom;if(!Ie.gestures){if("touchmove"!==J.type||"touchmove"===J.type&&J.targetTouches.length<2)return;p=!0,_.scaleMove=A(J)}_.$imageEl&&0!==_.$imageEl.length?(pt.scale=Ie.gestures?J.scale*s:_.scaleMove/_.scaleStart*s,pt.scale>_.maxRatio&&(pt.scale=_.maxRatio-1+(pt.scale-_.maxRatio+1)**.5),pt.scale<we.minRatio&&(pt.scale=we.minRatio+1-(we.minRatio-pt.scale+1)**.5),_.$imageEl.transform(`translate3d(0,0,0) scale(${pt.scale})`)):"gesturechange"===J.type&&x(J)}function F(J){const pt=n.params.zoom,Bt=n.zoom;if(!n.support.gestures){if(!f||!p||"touchend"!==J.type||"touchend"===J.type&&J.changedTouches.length<2&&!n.device.android)return;f=!1,p=!1}!_.$imageEl||0===_.$imageEl.length||(Bt.scale=Math.max(Math.min(Bt.scale,_.maxRatio),pt.minRatio),_.$imageEl.transition(n.params.speed).transform(`translate3d(0,0,0) scale(${Bt.scale})`),s=Bt.scale,a=!1,1===Bt.scale&&(_.$slideEl=void 0))}function U(J){const Ie=n.zoom;if(!_.$imageEl||0===_.$imageEl.length||(n.allowClick=!1,!v.isTouched||!_.$slideEl))return;v.isMoved||(v.width=_.$imageEl[0].offsetWidth,v.height=_.$imageEl[0].offsetHeight,v.startX=lN(_.$imageWrapEl[0],"x")||0,v.startY=lN(_.$imageWrapEl[0],"y")||0,_.slideWidth=_.$slideEl[0].offsetWidth,_.slideHeight=_.$slideEl[0].offsetHeight,_.$imageWrapEl.transition(0));const we=v.width*Ie.scale,pt=v.height*Ie.scale;if(!(we<_.slideWidth&&pt<_.slideHeight)){if(v.minX=Math.min(_.slideWidth/2-we/2,0),v.maxX=-v.minX,v.minY=Math.min(_.slideHeight/2-pt/2,0),v.maxY=-v.minY,v.touchesCurrent.x="touchmove"===J.type?J.targetTouches[0].pageX:J.pageX,v.touchesCurrent.y="touchmove"===J.type?J.targetTouches[0].pageY:J.pageY,!v.isMoved&&!a){if(n.isHorizontal()&&(Math.floor(v.minX)===Math.floor(v.startX)&&v.touchesCurrent.x<v.touchesStart.x||Math.floor(v.maxX)===Math.floor(v.startX)&&v.touchesCurrent.x>v.touchesStart.x))return void(v.isTouched=!1);if(!n.isHorizontal()&&(Math.floor(v.minY)===Math.floor(v.startY)&&v.touchesCurrent.y<v.touchesStart.y||Math.floor(v.maxY)===Math.floor(v.startY)&&v.touchesCurrent.y>v.touchesStart.y))return void(v.isTouched=!1)}J.cancelable&&J.preventDefault(),J.stopPropagation(),v.isMoved=!0,v.currentX=v.touchesCurrent.x-v.touchesStart.x+v.startX,v.currentY=v.touchesCurrent.y-v.touchesStart.y+v.startY,v.currentX<v.minX&&(v.currentX=v.minX+1-(v.minX-v.currentX+1)**.8),v.currentX>v.maxX&&(v.currentX=v.maxX-1+(v.currentX-v.maxX+1)**.8),v.currentY<v.minY&&(v.currentY=v.minY+1-(v.minY-v.currentY+1)**.8),v.currentY>v.maxY&&(v.currentY=v.maxY-1+(v.currentY-v.maxY+1)**.8),w.prevPositionX||(w.prevPositionX=v.touchesCurrent.x),w.prevPositionY||(w.prevPositionY=v.touchesCurrent.y),w.prevTime||(w.prevTime=Date.now()),w.x=(v.touchesCurrent.x-w.prevPositionX)/(Date.now()-w.prevTime)/2,w.y=(v.touchesCurrent.y-w.prevPositionY)/(Date.now()-w.prevTime)/2,Math.abs(v.touchesCurrent.x-w.prevPositionX)<2&&(w.x=0),Math.abs(v.touchesCurrent.y-w.prevPositionY)<2&&(w.y=0),w.prevPositionX=v.touchesCurrent.x,w.prevPositionY=v.touchesCurrent.y,w.prevTime=Date.now(),_.$imageWrapEl.transform(`translate3d(${v.currentX}px, ${v.currentY}px,0)`)}}function oe(){const J=n.zoom;_.$slideEl&&n.previousIndex!==n.activeIndex&&(_.$imageEl&&_.$imageEl.transform("translate3d(0,0,0) scale(1)"),_.$imageWrapEl&&_.$imageWrapEl.transform("translate3d(0,0,0)"),J.scale=1,s=1,_.$slideEl=void 0,_.$imageEl=void 0,_.$imageWrapEl=void 0)}function ue(J){const Ie=n.zoom,we=n.params.zoom;if(_.$slideEl||(J&&J.target&&(_.$slideEl=qt(J.target).closest(`.${n.params.slideClass}`)),_.$slideEl||(_.$slideEl=n.params.virtual&&n.params.virtual.enabled&&n.virtual?n.$wrapperEl.children(`.${n.params.slideActiveClass}`):n.slides.eq(n.activeIndex)),_.$imageEl=_.$slideEl.find(`.${we.containerClass}`).eq(0).find("picture, img, svg, canvas, .swiper-zoom-target").eq(0),_.$imageWrapEl=_.$imageEl.parent(`.${we.containerClass}`)),!_.$imageEl||0===_.$imageEl.length||!_.$imageWrapEl||0===_.$imageWrapEl.length)return;let pt,Bt,oi,Fi,go,Hn,Ko,uu,or,Yl,ws,rm,ch,EM,UV,$V,HV,zV;n.params.cssMode&&(n.wrapperEl.style.overflow="hidden",n.wrapperEl.style.touchAction="none"),_.$slideEl.addClass(`${we.zoomedSlideClass}`),typeof v.touchesStart.x>"u"&&J?(pt="touchend"===J.type?J.changedTouches[0].pageX:J.pageX,Bt="touchend"===J.type?J.changedTouches[0].pageY:J.pageY):(pt=v.touchesStart.x,Bt=v.touchesStart.y),Ie.scale=_.$imageWrapEl.attr("data-swiper-zoom")||we.maxRatio,s=_.$imageWrapEl.attr("data-swiper-zoom")||we.maxRatio,J?(HV=_.$slideEl[0].offsetWidth,zV=_.$slideEl[0].offsetHeight,oi=_.$slideEl.offset().left+r.scrollX,Fi=_.$slideEl.offset().top+r.scrollY,go=oi+HV/2-pt,Hn=Fi+zV/2-Bt,or=_.$imageEl[0].offsetWidth,Yl=_.$imageEl[0].offsetHeight,ws=or*Ie.scale,rm=Yl*Ie.scale,ch=Math.min(HV/2-ws/2,0),EM=Math.min(zV/2-rm/2,0),UV=-ch,$V=-EM,Ko=go*Ie.scale,uu=Hn*Ie.scale,Ko<ch&&(Ko=ch),Ko>UV&&(Ko=UV),uu<EM&&(uu=EM),uu>$V&&(uu=$V)):(Ko=0,uu=0),_.$imageWrapEl.transition(300).transform(`translate3d(${Ko}px, ${uu}px,0)`),_.$imageEl.transition(300).transform(`translate3d(0,0,0) scale(${Ie.scale})`)}function ye(){const J=n.zoom,Ie=n.params.zoom;_.$slideEl||(_.$slideEl=n.params.virtual&&n.params.virtual.enabled&&n.virtual?n.$wrapperEl.children(`.${n.params.slideActiveClass}`):n.slides.eq(n.activeIndex),_.$imageEl=_.$slideEl.find(`.${Ie.containerClass}`).eq(0).find("picture, img, svg, canvas, .swiper-zoom-target").eq(0),_.$imageWrapEl=_.$imageEl.parent(`.${Ie.containerClass}`)),_.$imageEl&&0!==_.$imageEl.length&&_.$imageWrapEl&&0!==_.$imageWrapEl.length&&(n.params.cssMode&&(n.wrapperEl.style.overflow="",n.wrapperEl.style.touchAction=""),J.scale=1,s=1,_.$imageWrapEl.transition(300).transform("translate3d(0,0,0)"),_.$imageEl.transition(300).transform("translate3d(0,0,0) scale(1)"),_.$slideEl.removeClass(`${Ie.zoomedSlideClass}`),_.$slideEl=void 0)}function ze(J){const Ie=n.zoom;Ie.scale&&1!==Ie.scale?ye():ue(J)}function it(){const J=n.support;return{passiveListener:!("touchstart"!==n.touchEvents.start||!J.passiveListener||!n.params.passiveListeners)&&{passive:!0,capture:!1},activeListenerWithCapture:!J.passiveListener||{passive:!1,capture:!0}}}function $e(){return`.${n.params.slideClass}`}function ge(J){const{passiveListener:Ie}=it(),we=$e();n.$wrapperEl[J]("gesturestart",we,x,Ie),n.$wrapperEl[J]("gesturechange",we,k,Ie),n.$wrapperEl[J]("gestureend",we,F,Ie)}function ae(){d||(d=!0,ge("on"))}function Ee(){!d||(d=!1,ge("off"))}function _t(){const J=n.zoom;if(J.enabled)return;J.enabled=!0;const Ie=n.support,{passiveListener:we,activeListenerWithCapture:pt}=it(),Bt=$e();Ie.gestures?(n.$wrapperEl.on(n.touchEvents.start,ae,we),n.$wrapperEl.on(n.touchEvents.end,Ee,we)):"touchstart"===n.touchEvents.start&&(n.$wrapperEl.on(n.touchEvents.start,Bt,x,we),n.$wrapperEl.on(n.touchEvents.move,Bt,k,pt),n.$wrapperEl.on(n.touchEvents.end,Bt,F,we),n.touchEvents.cancel&&n.$wrapperEl.on(n.touchEvents.cancel,Bt,F,we)),n.$wrapperEl.on(n.touchEvents.move,`.${n.params.zoom.containerClass}`,U,pt)}function Mt(){const J=n.zoom;if(!J.enabled)return;const Ie=n.support;J.enabled=!1;const{passiveListener:we,activeListenerWithCapture:pt}=it(),Bt=$e();Ie.gestures?(n.$wrapperEl.off(n.touchEvents.start,ae,we),n.$wrapperEl.off(n.touchEvents.end,Ee,we)):"touchstart"===n.touchEvents.start&&(n.$wrapperEl.off(n.touchEvents.start,Bt,x,we),n.$wrapperEl.off(n.touchEvents.move,Bt,k,pt),n.$wrapperEl.off(n.touchEvents.end,Bt,F,we),n.touchEvents.cancel&&n.$wrapperEl.off(n.touchEvents.cancel,Bt,F,we)),n.$wrapperEl.off(n.touchEvents.move,`.${n.params.zoom.containerClass}`,U,pt)}Object.defineProperty(n.zoom,"scale",{get:()=>D,set(J){D!==J&&i("zoomChange",J,_.$imageEl?_.$imageEl[0]:void 0,_.$slideEl?_.$slideEl[0]:void 0),D=J}}),t("init",()=>{n.params.zoom.enabled&&_t()}),t("destroy",()=>{Mt()}),t("touchStart",(J,Ie)=>{!n.zoom.enabled||function L(J){!_.$imageEl||0===_.$imageEl.length||v.isTouched||(n.device.android&&J.cancelable&&J.preventDefault(),v.isTouched=!0,v.touchesStart.x="touchstart"===J.type?J.targetTouches[0].pageX:J.pageX,v.touchesStart.y="touchstart"===J.type?J.targetTouches[0].pageY:J.pageY)}(Ie)}),t("touchEnd",(J,Ie)=>{!n.zoom.enabled||function ee(){const J=n.zoom;if(!_.$imageEl||0===_.$imageEl.length)return;if(!v.isTouched||!v.isMoved)return v.isTouched=!1,void(v.isMoved=!1);v.isTouched=!1,v.isMoved=!1;let Ie=300,we=300;const Bt=v.currentX+w.x*Ie,Fi=v.currentY+w.y*we;0!==w.x&&(Ie=Math.abs((Bt-v.currentX)/w.x)),0!==w.y&&(we=Math.abs((Fi-v.currentY)/w.y));const go=Math.max(Ie,we);v.currentX=Bt,v.currentY=Fi;const Ko=v.height*J.scale;v.minX=Math.min(_.slideWidth/2-v.width*J.scale/2,0),v.maxX=-v.minX,v.minY=Math.min(_.slideHeight/2-Ko/2,0),v.maxY=-v.minY,v.currentX=Math.max(Math.min(v.currentX,v.maxX),v.minX),v.currentY=Math.max(Math.min(v.currentY,v.maxY),v.minY),_.$imageWrapEl.transition(go).transform(`translate3d(${v.currentX}px, ${v.currentY}px,0)`)}()}),t("doubleTap",(J,Ie)=>{!n.animating&&n.params.zoom.enabled&&n.zoom.enabled&&n.params.zoom.toggle&&ze(Ie)}),t("transitionEnd",()=>{n.zoom.enabled&&n.params.zoom.enabled&&oe()}),t("slideChange",()=>{n.zoom.enabled&&n.params.zoom.enabled&&n.params.cssMode&&oe()}),Object.assign(n.zoom,{enable:_t,disable:Mt,in:ue,out:ye,toggle:ze})},function P9({swiper:n,extendParams:e,on:t,emit:i}){let r;function s(){if(!n.size)return n.autoplay.running=!1,void(n.autoplay.paused=!1);const x=n.slides.eq(n.activeIndex);let k=n.params.autoplay.delay;x.attr("data-swiper-autoplay")&&(k=x.attr("data-swiper-autoplay")||n.params.autoplay.delay),clearTimeout(r),r=jy(()=>{let F;n.params.autoplay.reverseDirection?n.params.loop?(n.loopFix(),F=n.slidePrev(n.params.speed,!0,!0),i("autoplay")):n.isBeginning?n.params.autoplay.stopOnLastSlide?d():(F=n.slideTo(n.slides.length-1,n.params.speed,!0,!0),i("autoplay")):(F=n.slidePrev(n.params.speed,!0,!0),i("autoplay")):n.params.loop?(n.loopFix(),F=n.slideNext(n.params.speed,!0,!0),i("autoplay")):n.isEnd?n.params.autoplay.stopOnLastSlide?d():(F=n.slideTo(0,n.params.speed,!0,!0),i("autoplay")):(F=n.slideNext(n.params.speed,!0,!0),i("autoplay")),(n.params.cssMode&&n.autoplay.running||!1===F)&&s()},k)}function a(){return!(typeof r<"u"||n.autoplay.running||(n.autoplay.running=!0,i("autoplayStart"),s(),0))}function d(){return!(!n.autoplay.running||typeof r>"u"||(r&&(clearTimeout(r),r=void 0),n.autoplay.running=!1,i("autoplayStop"),0))}function f(x){!n.autoplay.running||n.autoplay.paused||(r&&clearTimeout(r),n.autoplay.paused=!0,0!==x&&n.params.autoplay.waitForTransition?["transitionend","webkitTransitionEnd"].forEach(k=>{n.$wrapperEl[0].addEventListener(k,_)}):(n.autoplay.paused=!1,s()))}function p(){const x=_r();"hidden"===x.visibilityState&&n.autoplay.running&&f(),"visible"===x.visibilityState&&n.autoplay.paused&&(s(),n.autoplay.paused=!1)}function _(x){!n||n.destroyed||!n.$wrapperEl||x.target===n.$wrapperEl[0]&&(["transitionend","webkitTransitionEnd"].forEach(k=>{n.$wrapperEl[0].removeEventListener(k,_)}),n.autoplay.paused=!1,n.autoplay.running?s():d())}function v(){n.params.autoplay.disableOnInteraction?d():(i("autoplayPause"),f()),["transitionend","webkitTransitionEnd"].forEach(x=>{n.$wrapperEl[0].removeEventListener(x,_)})}function w(){n.params.autoplay.disableOnInteraction||(n.autoplay.paused=!1,i("autoplayResume"),s())}n.autoplay={running:!1,paused:!1},e({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!0,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}}),t("init",()=>{n.params.autoplay.enabled&&(a(),_r().addEventListener("visibilitychange",p),function D(){n.params.autoplay.pauseOnMouseEnter&&(n.$el.on("mouseenter",v),n.$el.on("mouseleave",w))}())}),t("beforeTransitionStart",(x,k,F)=>{n.autoplay.running&&(F||!n.params.autoplay.disableOnInteraction?n.autoplay.pause(k):d())}),t("sliderFirstMove",()=>{n.autoplay.running&&(n.params.autoplay.disableOnInteraction?d():f())}),t("touchEnd",()=>{n.params.cssMode&&n.autoplay.paused&&!n.params.autoplay.disableOnInteraction&&s()}),t("destroy",()=>{(function A(){n.$el.off("mouseenter",v),n.$el.off("mouseleave",w)})(),n.autoplay.running&&d(),_r().removeEventListener("visibilitychange",p)}),Object.assign(n.autoplay,{pause:f,run:s,start:a,stop:d})},function N9({swiper:n,extendParams:e,on:t}){e({thumbs:{swiper:null,multipleActiveThumbs:!0,autoScrollOffset:0,slideThumbActiveClass:"swiper-slide-thumb-active",thumbsContainerClass:"swiper-thumbs"}});let i=!1,r=!1;function s(){const f=n.thumbs.swiper;if(!f||f.destroyed)return;const p=f.clickedIndex,_=f.clickedSlide;if(_&&qt(_).hasClass(n.params.thumbs.slideThumbActiveClass)||typeof p>"u"||null===p)return;let v;if(v=f.params.loop?parseInt(qt(f.clickedSlide).attr("data-swiper-slide-index"),10):p,n.params.loop){let w=n.activeIndex;n.slides.eq(w).hasClass(n.params.slideDuplicateClass)&&(n.loopFix(),n._clientLeft=n.$wrapperEl[0].clientLeft,w=n.activeIndex);const D=n.slides.eq(w).prevAll(`[data-swiper-slide-index="${v}"]`).eq(0).index(),A=n.slides.eq(w).nextAll(`[data-swiper-slide-index="${v}"]`).eq(0).index();v=typeof D>"u"?A:typeof A>"u"?D:A-w<w-D?A:D}n.slideTo(v)}function a(){const{thumbs:f}=n.params;if(i)return!1;i=!0;const p=n.constructor;if(f.swiper instanceof p)n.thumbs.swiper=f.swiper,Object.assign(n.thumbs.swiper.originalParams,{watchSlidesProgress:!0,slideToClickedSlide:!1}),Object.assign(n.thumbs.swiper.params,{watchSlidesProgress:!0,slideToClickedSlide:!1});else if(Nw(f.swiper)){const _=Object.assign({},f.swiper);Object.assign(_,{watchSlidesProgress:!0,slideToClickedSlide:!1}),n.thumbs.swiper=new p(_),r=!0}return n.thumbs.swiper.$el.addClass(n.params.thumbs.thumbsContainerClass),n.thumbs.swiper.on("tap",s),!0}function d(f){const p=n.thumbs.swiper;if(!p||p.destroyed)return;const _="auto"===p.params.slidesPerView?p.slidesPerViewDynamic():p.params.slidesPerView;let v=1;const w=n.params.thumbs.slideThumbActiveClass;if(n.params.slidesPerView>1&&!n.params.centeredSlides&&(v=n.params.slidesPerView),n.params.thumbs.multipleActiveThumbs||(v=1),v=Math.floor(v),p.slides.removeClass(w),p.params.loop||p.params.virtual&&p.params.virtual.enabled)for(let x=0;x<v;x+=1)p.$wrapperEl.children(`[data-swiper-slide-index="${n.realIndex+x}"]`).addClass(w);else for(let x=0;x<v;x+=1)p.slides.eq(n.realIndex+x).addClass(w);const D=n.params.thumbs.autoScrollOffset,A=D&&!p.params.loop;if(n.realIndex!==p.realIndex||A){let k,F,x=p.activeIndex;if(p.params.loop){p.slides.eq(x).hasClass(p.params.slideDuplicateClass)&&(p.loopFix(),p._clientLeft=p.$wrapperEl[0].clientLeft,x=p.activeIndex);const L=p.slides.eq(x).prevAll(`[data-swiper-slide-index="${n.realIndex}"]`).eq(0).index(),U=p.slides.eq(x).nextAll(`[data-swiper-slide-index="${n.realIndex}"]`).eq(0).index();k=typeof L>"u"?U:typeof U>"u"?L:U-x==x-L?p.params.slidesPerGroup>1?U:x:U-x<x-L?U:L,F=n.activeIndex>n.previousIndex?"next":"prev"}else k=n.realIndex,F=k>n.previousIndex?"next":"prev";A&&(k+="next"===F?D:-1*D),p.visibleSlidesIndexes&&p.visibleSlidesIndexes.indexOf(k)<0&&(p.params.centeredSlides&&(k=k>x?k-Math.floor(_/2)+1:k+Math.floor(_/2)-1),p.slideTo(k,f?0:void 0))}}n.thumbs={swiper:null},t("beforeInit",()=>{const{thumbs:f}=n.params;!f||!f.swiper||(a(),d(!0))}),t("slideChange update resize observerUpdate",()=>{d()}),t("setTransition",(f,p)=>{const _=n.thumbs.swiper;!_||_.destroyed||_.setTransition(p)}),t("beforeDestroy",()=>{const f=n.thumbs.swiper;!f||f.destroyed||r&&f.destroy()}),Object.assign(n.thumbs,{init:a,update:d})},function R9({swiper:n,extendParams:e,on:t}){function i(f,p){const _=function(){let A,x,k;return(F,L)=>{for(x=-1,A=F.length;A-x>1;)k=A+x>>1,F[k]<=L?x=k:A=k;return A}}();let v,w;return this.x=f,this.y=p,this.lastIndex=f.length-1,this.interpolate=function(A){return A?(w=_(this.x,A),v=w-1,(A-this.x[v])*(this.y[w]-this.y[v])/(this.x[w]-this.x[v])+this.y[v]):0},this}function d(){!n.controller.control||n.controller.spline&&(n.controller.spline=void 0,delete n.controller.spline)}e({controller:{control:void 0,inverse:!1,by:"slide"}}),n.controller={control:void 0},t("beforeInit",()=>{n.controller.control=n.params.controller.control}),t("update",()=>{d()}),t("resize",()=>{d()}),t("observerUpdate",()=>{d()}),t("setTranslate",(f,p,_)=>{!n.controller.control||n.controller.setTranslate(p,_)}),t("setTransition",(f,p,_)=>{!n.controller.control||n.controller.setTransition(p,_)}),Object.assign(n.controller,{setTranslate:function s(f,p){const _=n.controller.control;let v,w;const D=n.constructor;function A(x){const k=n.rtlTranslate?-n.translate:n.translate;"slide"===n.params.controller.by&&(function r(f){n.controller.spline||(n.controller.spline=n.params.loop?new i(n.slidesGrid,f.slidesGrid):new i(n.snapGrid,f.snapGrid))}(x),w=-n.controller.spline.interpolate(-k)),(!w||"container"===n.params.controller.by)&&(v=(x.maxTranslate()-x.minTranslate())/(n.maxTranslate()-n.minTranslate()),w=(k-n.minTranslate())*v+x.minTranslate()),n.params.controller.inverse&&(w=x.maxTranslate()-w),x.updateProgress(w),x.setTranslate(w,n),x.updateActiveIndex(),x.updateSlidesClasses()}if(Array.isArray(_))for(let x=0;x<_.length;x+=1)_[x]!==p&&_[x]instanceof D&&A(_[x]);else _ instanceof D&&p!==_&&A(_)},setTransition:function a(f,p){const _=n.constructor,v=n.controller.control;let w;function D(A){A.setTransition(f,n),0!==f&&(A.transitionStart(),A.params.autoHeight&&jy(()=>{A.updateAutoHeight()}),A.$wrapperEl.transitionEnd(()=>{!v||(A.params.loop&&"slide"===n.params.controller.by&&A.loopFix(),A.transitionEnd())}))}if(Array.isArray(v))for(w=0;w<v.length;w+=1)v[w]!==p&&v[w]instanceof _&&D(v[w]);else v instanceof _&&p!==v&&D(v)}})}]);let gX=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-banner"]],decls:16,vars:9,consts:[[1,"wrapper"],[1,"d-flex","justify-between"],[1,"banner"],[3,"loop","autoHeight","allowTouchMove","spaceBetween","autoplay","pagination","navigation"],["data-swiper-autoplay","6000","swiperSlide",""],["data-swiper-autoplay","10000","class","swiper-slide","swiperSlide",""],[1,"mini-banners","height","d-flex","flex-col"],[1,"relative"],["src","assets/images/banner-5.jpg","width","350","alt",""],[1,"hover-state"],[1,"spacer"],["src","assets/images/banner-6.jpg","width","350","alt",""],["src","assets/images/banner-1.jpg","width","750","alt",""],["src","assets/images/banner-2.jpg","width","750","alt",""],["src","assets/images/banner-3.jpg","width","750","alt",""],["src","assets/images/banner-4.jpg","width","750","alt",""]],template:function(t,i){1&t&&(c.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"swiper",3),c.YNc(4,uX,3,0,"ng-template",4),c.YNc(5,dX,3,0,"ng-template",5),c.YNc(6,hX,3,0,"ng-template",5),c.YNc(7,fX,3,0,"ng-template",5),c.qZA()(),c.TgZ(8,"div",6)(9,"div",7),c._UZ(10,"img",8)(11,"div",9),c.qZA(),c._UZ(12,"div",10),c.TgZ(13,"div",7),c._UZ(14,"img",11)(15,"div",9),c.qZA()()()()),2&t&&(c.xp6(3),c.Q6J("loop",!0)("autoHeight",!0)("allowTouchMove",!0)("spaceBetween",20)("autoplay",c.DdM(7,pX))("pagination",c.DdM(8,mX))("navigation",!1))},dependencies:[Fz,_N],styles:[".swiper-container[_ngcontent-%COMP%]{width:100%;height:300px;margin:50px auto}.swiper-slide[_ngcontent-%COMP%]{background:#f1f1f1;color:#000;text-align:center;line-height:300px}img[_ngcontent-%COMP%]{border-radius:1rem}.hover-state[_ngcontent-%COMP%]{position:absolute;z-index:12;background:#000;inset:0;border-radius:1rem;cursor:pointer;opacity:0;transition:.3s ease}.hover-state[_ngcontent-%COMP%]:hover{opacity:.3;transition:.3s ease}.img[_ngcontent-%COMP%]{background:#000}.banner[_ngcontent-%COMP%]{max-width:750px}.mini-banners[_ngcontent-%COMP%]{height:317px}"]}),n})();const _X=[{path:"main",component:(()=>{class n{constructor(t){this.firestore=t}ngOnInit(){this.getBooks(),this.subjectBooks?.subscribe(t=>{this.books=t,console.log(t)})}getBooks(){this.subjectBooks=$H(jH(HH(this.firestore,"/books")),{idField:"id"})}get newest(){return this.books?.filter(t=>"newest"==t?.chapter)}get popular_psychology(){return this.books?.filter(t=>"popular_psychology"==t?.chapter)}get recipe(){return this.books?.filter(t=>"recipe"==t?.chapter)}get investments(){return this.books?.filter(t=>"investments"==t?.chapter)}get prose_chosen(){return this.books?.filter(t=>"prose_chosen"==t?.chapter)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Mp))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-main"]],decls:17,vars:13,consts:[[1,"container"],[1,"d-flex","justify-between","width"],[1,"filters","spacer","width"],[1,"main","d-flex","flex-col","gap-6"],[1,"fz-6","mt-4"],[1,"grey-text"],[1,"pt-4","pb-4"],[3,"books","title"]],template:function(t,i){1&t&&(c.TgZ(0,"div",0)(1,"div",1),c._UZ(2,"div",2),c.TgZ(3,"div",3)(4,"div",4),c._uU(5,"\u041a\u043d\u0438\u0433\u0438: "),c.TgZ(6,"span",5),c._uU(7),c.qZA()(),c.TgZ(8,"div",6),c._UZ(9,"app-banner"),c.qZA(),c._UZ(10,"app-catalog")(11,"app-all-products-main",7)(12,"app-all-products-main",7)(13,"app-all-products-main",7)(14,"app-all-products-main",7)(15,"app-all-products-main",7)(16,"app-all-products-main",7),c.qZA()()()),2&t&&(c.xp6(7),c.Oqu(null==i.books?null:i.books.length),c.xp6(4),c.Q6J("books",i.books)("title","\u0412\u0441\u0435 \u0442\u043e\u0432\u0430\u0440\u044b"),c.xp6(1),c.Q6J("books",i.newest)("title","\u041a\u043d\u0438\u0436\u043d\u044b\u0435 \u043d\u043e\u0432\u0438\u043d\u043a\u0438"),c.xp6(1),c.Q6J("books",i.popular_psychology)("title","\u041f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u0430\u044f \u043f\u0441\u0438\u0445\u043e\u043b\u043e\u0433\u0438\u044f 2022"),c.xp6(1),c.Q6J("books",i.recipe)("title","\u041d\u0438 \u043e\u0434\u0438\u043d \u0440\u0435\u0446\u0435\u043f\u0442 \u043d\u0435 \u0431\u0443\u0434\u0435\u0442 \u043f\u043e\u0442\u0435\u0440\u044f\u043d!"),c.xp6(1),c.Q6J("books",i.investments)("title","\u0412\u0441\u0435 \u043e\u0431 \u0438\u043d\u0432\u0435\u0441\u0442\u0438\u0446\u0438\u044f\u0445"),c.xp6(1),c.Q6J("books",i.prose_chosen)("title","\u041f\u0440\u043e\u0437\u0430, \u043a\u043e\u0442\u043e\u0440\u0443\u044e \u0432\u044b\u0431\u0438\u0440\u0430\u044e\u0442"))},dependencies:[hK,cX,gX],styles:[".filters[_ngcontent-%COMP%]{width:200px!important}.main[_ngcontent-%COMP%]{max-width:1150px}"]}),n})()},{path:"product-detail/:id",component:(()=>{class n{constructor(t,i){this.firestore=t,this.activatedRoute=i}ngOnInit(){var t=this;return(0,te.Z)(function*(){uK(zH(t.firestore,"books",t.activatedRoute.snapshot.params.id.toString()),s=>{t.book=s.data(),console.log(t.book)})})()}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Mp),c.Y36(al))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-product-detail"]],decls:2,vars:0,template:function(t,i){1&t&&(c.TgZ(0,"p"),c._uU(1,"product-detail works!"),c.qZA())}}),n})()},{path:"",redirectTo:"main",pathMatch:"full"}];let yX=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Pb.forRoot(_X),Pb]}),n})();var vX=z(3532);function yN(n=0,e,t=oT){let i=-1;return null!=e&&((0,vX.K)(e)?t=e:i=e),new kn.y(r=>{let s=function bX(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;s<0&&(s=0);let a=0;return t.schedule(function(){r.closed||(r.next(a++),0<=i?this.schedule(void 0,i):r.complete())},s)})}function Vz(n,e){return e?t=>To(e.pipe(tn(1),function wX(){return(0,Wn.e)((n,e)=>{n.subscribe((0,Bn.x)(e,XH.Z))})}()),t.pipe(Vz(n))):(0,li.z)((t,i)=>n(t,i).pipe(tn(1),Ou(t)))}function vN(n,e=Vc){const t=yN(n,e);return Vz(()=>t)}var CX=z(1144);const SX=["addListener","removeListener"],IX=["addEventListener","removeEventListener"],TX=["on","off"];function PA(n,e,t,i){if((0,Bi.m)(t)&&(i=t,t=void 0),i)return PA(n,e,t).pipe(Bh(i));const[r,s]=function xX(n){return(0,Bi.m)(n.addEventListener)&&(0,Bi.m)(n.removeEventListener)}(n)?IX.map(a=>d=>n[a](e,d,t)):function DX(n){return(0,Bi.m)(n.addListener)&&(0,Bi.m)(n.removeListener)}(n)?SX.map(Bz(n,e)):function AX(n){return(0,Bi.m)(n.on)&&(0,Bi.m)(n.off)}(n)?TX.map(Bz(n,e)):[];if(!r&&(0,CX.z)(n))return(0,li.z)(a=>PA(a,e,t))((0,is.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new kn.y(a=>{const d=(...f)=>a.next(1<f.length?f:f[0]);return r(d),()=>s(d)})}function Bz(n,e){return t=>i=>n[t](e,i)}const Vw={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:i}=Vw;i&&(e=i.requestAnimationFrame,t=i.cancelAnimationFrame);const r=e(s=>{t=void 0,n(s)});return new Ir.w0(()=>t?.(r))},requestAnimationFrame(...n){const{delegate:e}=Vw;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=Vw;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};new class kX extends n_{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class MX extends t_{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=Vw.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:s}=e;null!=t&&(null===(r=s[s.length-1])||void 0===r?void 0:r.id)!==t&&(Vw.cancelAnimationFrame(t),e._scheduled=void 0)}});let bN,OX=1;const NA={};function Uz(n){return n in NA&&(delete NA[n],!0)}const PX={setImmediate(n){const e=OX++;return NA[e]=!0,bN||(bN=Promise.resolve()),bN.then(()=>Uz(e)&&n()),e},clearImmediate(n){Uz(n)}},{setImmediate:NX,clearImmediate:FX}=PX,FA={setImmediate(...n){const{delegate:e}=FA;return(e?.setImmediate||NX)(...n)},clearImmediate(n){const{delegate:e}=FA;return(e?.clearImmediate||FX)(n)},delegate:void 0},EN=new class VX extends n_{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class LX extends t_{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=FA.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:s}=e;null!=t&&(null===(r=s[s.length-1])||void 0===r?void 0:r.id)!==t&&(FA.clearImmediate(t),e._scheduled=void 0)}});function $z(n,e=Vc){return function BX(n){return(0,Wn.e)((e,t)=>{let i=!1,r=null,s=null,a=!1;const d=()=>{if(s?.unsubscribe(),s=null,i){i=!1;const p=r;r=null,t.next(p)}a&&t.complete()},f=()=>{s=null,a&&t.complete()};e.subscribe((0,Bn.x)(t,p=>{i=!0,r=p,s||(0,is.Xf)(n(p)).subscribe(s=(0,Bn.x)(t,d,f))},()=>{a=!0,(!i||!s||s.closed)&&t.complete()}))})}(()=>yN(n,e))}let $X=(()=>{class n{constructor(t,i,r){this._ngZone=t,this._platform=i,this._scrolled=new zt.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const i=this.scrollContainers.get(t);i&&(i.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new kn.y(i=>{this._globalSubscription||this._addGlobalListener();const r=t>0?this._scrolled.pipe($z(t)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):tt()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(t,i){const r=this.getAncestorScrollContainers(t);return this.scrolled(i).pipe(Rn(s=>!s||r.indexOf(s)>-1))}getAncestorScrollContainers(t){const i=[];return this.scrollContainers.forEach((r,s)=>{this._scrollableContainsElement(s,t)&&i.push(s)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,i){let r=eu(i),s=t.getElementRef().nativeElement;do{if(r==s)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>PA(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.R0b),c.LFG(ps),c.LFG(Ce,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),wN=(()=>{class n{constructor(t,i,r){this._platform=t,this._change=new zt.x,this._changeListener=s=>{this._change.next(s)},this._document=r,i.runOutsideAngular(()=>{if(t.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+r,right:t.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,i=this._getWindow(),r=t.documentElement,s=r.getBoundingClientRect();return{top:-s.top||t.body.scrollTop||i.scrollY||r.scrollTop||0,left:-s.left||t.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(t=20){return t>0?this._change.pipe($z(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ps),c.LFG(c.R0b),c.LFG(Ce,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),CN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})(),Hz=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Aw,CN,Aw,CN]}),n})();class SN{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class IN extends SN{constructor(e,t,i,r){super(),this.component=e,this.viewContainerRef=t,this.injector=i,this.componentFactoryResolver=r}}class TN extends SN{constructor(e,t,i,r){super(),this.templateRef=e,this.viewContainerRef=t,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class zX extends SN{constructor(e){super(),this.element=e instanceof c.SBq?e.nativeElement:e}}class DN{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof IN?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof TN?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof zX?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class jX extends DN{constructor(e,t,i,r,s){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=a=>{const d=a.element,f=this._document.createComment("dom-portal");d.parentNode.insertBefore(f,d),this.outletElement.appendChild(d),this._attachedPortal=a,super.setDisposeFn(()=>{f.parentNode&&f.parentNode.replaceChild(d,f)})},this._document=s}attachComponentPortal(e){const i=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let r;return e.viewContainerRef?(r=e.viewContainerRef.createComponent(i,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector),this.setDisposeFn(()=>r.destroy())):(r=i.create(e.injector||this._defaultInjector||c.zs3.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=e,r}attachTemplatePortal(e){let t=e.viewContainerRef,i=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=t.indexOf(i);-1!==r&&t.remove(r)}),this._attachedPortal=e,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let AN=(()=>{class n extends DN{constructor(t,i,r){super(),this._componentFactoryResolver=t,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new c.vpe,this.attachDomPortal=s=>{const a=s.element,d=this._document.createComment("dom-portal");s.setAttachedHost(this),a.parentNode.insertBefore(d,a),this._getRootNode().appendChild(a),this._attachedPortal=s,super.setDisposeFn(()=>{d.parentNode&&d.parentNode.replaceChild(a,d)})},this._document=r}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(t){t.setAttachedHost(this);const i=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,s=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),a=i.createComponent(s,i.length,t.injector||i.injector);return i!==this._viewContainerRef&&this._getRootNode().appendChild(a.hostView.rootNodes[0]),super.setDisposeFn(()=>a.destroy()),this._attachedPortal=t,this._attachedRef=a,this.attached.emit(a),a}attachTemplatePortal(t){t.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c._Vd),c.Y36(c.s_b),c.Y36(Ce))},n.\u0275dir=c.lG2({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[c.qOj]}),n})(),LA=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();var Pp=z(6451);const zz=pK();class GX{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=qi(-this._previousScrollPosition.left),e.style.top=qi(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,i=e.style,r=this._document.body.style,s=i.scrollBehavior||"",a=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),zz&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),zz&&(i.scrollBehavior=s,r.scrollBehavior=a)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,i=this._viewportRuler.getViewportSize();return t.scrollHeight>i.height||t.scrollWidth>i.width}}class WX{constructor(e,t,i,r){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class jz{enable(){}disable(){}attach(){}}function xN(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function Gz(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class qX{constructor(e,t,i,r){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();xN(t,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let YX=(()=>{class n{constructor(t,i,r,s){this._scrollDispatcher=t,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new jz,this.close=a=>new WX(this._scrollDispatcher,this._ngZone,this._viewportRuler,a),this.block=()=>new GX(this._viewportRuler,this._document),this.reposition=a=>new qX(this._scrollDispatcher,this._viewportRuler,this._ngZone,a),this._document=s}}return n.\u0275fac=function(t){return new(t||n)(c.LFG($X),c.LFG(wN),c.LFG(c.R0b),c.LFG(Ce))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class MN{constructor(e){if(this.scrollStrategy=new jz,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const i of t)void 0!==e[i]&&(this[i]=e[i])}}}class ZX{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let Wz=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const i=this._attachedOverlays.indexOf(t);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Ce))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),KX=(()=>{class n extends Wz{constructor(t,i){super(t),this._ngZone=i,this._keydownListener=r=>{const s=this._attachedOverlays;for(let a=s.length-1;a>-1;a--)if(s[a]._keydownEvents.observers.length>0){const d=s[a]._keydownEvents;this._ngZone?this._ngZone.run(()=>d.next(r)):d.next(r);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Ce),c.LFG(c.R0b,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),QX=(()=>{class n extends Wz{constructor(t,i,r){super(t),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=Rp(s)},this._clickListener=s=>{const a=Rp(s),d="click"===s.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:a;this._pointerDownEventTarget=null;const f=this._attachedOverlays.slice();for(let p=f.length-1;p>-1;p--){const _=f[p];if(_._outsidePointerEvents.observers.length<1||!_.hasAttached())continue;if(_.overlayElement.contains(a)||_.overlayElement.contains(d))break;const v=_._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>v.next(s)):v.next(s)}}}add(t){if(super.add(t),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Ce),c.LFG(ps),c.LFG(c.R0b,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),VA=(()=>{class n{constructor(t,i){this._platform=i,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||YP()){const r=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let s=0;s<r.length;s++)r[s].remove()}const i=this._document.createElement("div");i.classList.add(t),YP()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Ce),c.LFG(ps))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Bw{constructor(e,t,i,r,s,a,d,f,p,_=!1){this._portalOutlet=e,this._host=t,this._pane=i,this._config=r,this._ngZone=s,this._keyboardDispatcher=a,this._document=d,this._location=f,this._outsideClickDispatcher=p,this._animationsDisabled=_,this._backdropElement=null,this._backdropClick=new zt.x,this._attachments=new zt.x,this._detachments=new zt.x,this._locationChanges=Ir.w0.EMPTY,this._backdropClickHandler=v=>this._backdropClick.next(v),this._backdropTransitionendHandler=v=>{this._disposeBackdrop(v.target)},this._keydownEvents=new zt.x,this._outsidePointerEvents=new zt.x,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(tn(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof t?.onDestroy&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config={...this._config,...e},this._updateElementSize()}setDirection(e){this._config={...this._config,direction:e},this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=qi(this._config.width),e.height=qi(this._config.height),e.minWidth=qi(this._config.minWidth),e.minHeight=qi(this._config.minHeight),e.maxWidth=qi(this._config.maxWidth),e.maxHeight=qi(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(e){if(this._animationsDisabled)return void this._disposeBackdrop(e);e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,t,i){const r=AA(t||[]).filter(s=>!!s);r.length&&(i?e.classList.add(...r):e.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(oo((0,Pp.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const qz="cdk-overlay-connected-position-bounding-box",XX=/([A-Za-z%]+)$/;class JX{constructor(e,t,i,r,s){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new zt.x,this._resizeSubscription=Ir.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}get positions(){return this._preferredPositions}attach(e){this._validatePositions(),e.hostElement.classList.add(qz),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,i=this._viewportRect,r=this._containerRect,s=[];let a;for(let d of this._preferredPositions){let f=this._getOriginPoint(e,r,d),p=this._getOverlayPoint(f,t,d),_=this._getOverlayFit(p,t,i,d);if(_.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(d,f);this._canFitWithFlexibleDimensions(_,p,i)?s.push({position:d,origin:f,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(f,d)}):(!a||a.overlayFit.visibleArea<_.visibleArea)&&(a={overlayFit:_,overlayPoint:p,originPoint:f,position:d,overlayRect:t})}if(s.length){let d=null,f=-1;for(const p of s){const _=p.boundingBoxRect.width*p.boundingBoxRect.height*(p.position.weight||1);_>f&&(f=_,d=p)}return this._isPushed=!1,void this._applyPosition(d.position,d.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(a.position,a.originPoint);this._applyPosition(a.position,a.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Np(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(qz),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,i){let r,s;if("center"==i.originX)r=e.left+e.width/2;else{const a=this._isRtl()?e.right:e.left,d=this._isRtl()?e.left:e.right;r="start"==i.originX?a:d}return t.left<0&&(r-=t.left),s="center"==i.originY?e.top+e.height/2:"top"==i.originY?e.top:e.bottom,t.top<0&&(s-=t.top),{x:r,y:s}}_getOverlayPoint(e,t,i){let r,s;return r="center"==i.overlayX?-t.width/2:"start"===i.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,s="center"==i.overlayY?-t.height/2:"top"==i.overlayY?0:-t.height,{x:e.x+r,y:e.y+s}}_getOverlayFit(e,t,i,r){const s=Zz(t);let{x:a,y:d}=e,f=this._getOffset(r,"x"),p=this._getOffset(r,"y");f&&(a+=f),p&&(d+=p);let w=0-d,D=d+s.height-i.height,A=this._subtractOverflows(s.width,0-a,a+s.width-i.width),x=this._subtractOverflows(s.height,w,D),k=A*x;return{visibleArea:k,isCompletelyWithinViewport:s.width*s.height===k,fitsInViewportVertically:x===s.height,fitsInViewportHorizontally:A==s.width}}_canFitWithFlexibleDimensions(e,t,i){if(this._hasFlexibleDimensions){const r=i.bottom-t.y,s=i.right-t.x,a=Yz(this._overlayRef.getConfig().minHeight),d=Yz(this._overlayRef.getConfig().minWidth),p=e.fitsInViewportHorizontally||null!=d&&d<=s;return(e.fitsInViewportVertically||null!=a&&a<=r)&&p}return!1}_pushOverlayOnScreen(e,t,i){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const r=Zz(t),s=this._viewportRect,a=Math.max(e.x+r.width-s.width,0),d=Math.max(e.y+r.height-s.height,0),f=Math.max(s.top-i.top-e.y,0),p=Math.max(s.left-i.left-e.x,0);let _=0,v=0;return _=r.width<=s.width?p||-a:e.x<this._viewportMargin?s.left-i.left-e.x:0,v=r.height<=s.height?f||-d:e.y<this._viewportMargin?s.top-i.top-e.y:0,this._previousPushAmount={x:_,y:v},{x:e.x+_,y:e.y+v}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new ZX(e,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=e.overlayY;i="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let s=0;s<t.length;s++)t[s].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(e,t){const i=this._viewportRect,r=this._isRtl();let s,a,d,_,v,w;if("top"===t.overlayY)a=e.y,s=i.height-a+this._viewportMargin;else if("bottom"===t.overlayY)d=i.height-e.y+2*this._viewportMargin,s=i.height-d+this._viewportMargin;else{const D=Math.min(i.bottom-e.y+i.top,e.y),A=this._lastBoundingBoxSize.height;s=2*D,a=e.y-D,s>A&&!this._isInitialRender&&!this._growAfterOpen&&(a=e.y-A/2)}if("end"===t.overlayX&&!r||"start"===t.overlayX&&r)w=i.width-e.x+this._viewportMargin,_=e.x-this._viewportMargin;else if("start"===t.overlayX&&!r||"end"===t.overlayX&&r)v=e.x,_=i.right-e.x;else{const D=Math.min(i.right-e.x+i.left,e.x),A=this._lastBoundingBoxSize.width;_=2*D,v=e.x-D,_>A&&!this._isInitialRender&&!this._growAfterOpen&&(v=e.x-A/2)}return{top:a,left:v,bottom:d,right:w,width:_,height:s}}_setBoundingBoxStyles(e,t){const i=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const s=this._overlayRef.getConfig().maxHeight,a=this._overlayRef.getConfig().maxWidth;r.height=qi(i.height),r.top=qi(i.top),r.bottom=qi(i.bottom),r.width=qi(i.width),r.left=qi(i.left),r.right=qi(i.right),r.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",r.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",s&&(r.maxHeight=qi(s)),a&&(r.maxWidth=qi(a))}this._lastBoundingBoxSize=i,Np(this._boundingBox.style,r)}_resetBoundingBoxStyles(){Np(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Np(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const i={},r=this._hasExactPosition(),s=this._hasFlexibleDimensions,a=this._overlayRef.getConfig();if(r){const _=this._viewportRuler.getViewportScrollPosition();Np(i,this._getExactOverlayY(t,e,_)),Np(i,this._getExactOverlayX(t,e,_))}else i.position="static";let d="",f=this._getOffset(t,"x"),p=this._getOffset(t,"y");f&&(d+=`translateX(${f}px) `),p&&(d+=`translateY(${p}px)`),i.transform=d.trim(),a.maxHeight&&(r?i.maxHeight=qi(a.maxHeight):s&&(i.maxHeight="")),a.maxWidth&&(r?i.maxWidth=qi(a.maxWidth):s&&(i.maxWidth="")),Np(this._pane.style,i)}_getExactOverlayY(e,t,i){let r={top:"",bottom:""},s=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),"bottom"===e.overlayY?r.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":r.top=qi(s.y),r}_getExactOverlayX(e,t,i){let a,r={left:"",right:""},s=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),a=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===a?r.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":r.left=qi(s.x),r}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:Gz(e,i),isOriginOutsideView:xN(e,i),isOverlayClipped:Gz(t,i),isOverlayOutsideView:xN(t,i)}}_subtractOverflows(e,...t){return t.reduce((i,r)=>i-Math.max(r,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+e-this._viewportMargin,bottom:i.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?e.offsetX??this._offsetX:e.offsetY??this._offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&AA(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof c.SBq)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,i=e.height||0;return{top:e.y,bottom:e.y+i,left:e.x,right:e.x+t,height:i,width:t}}}function Np(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function Yz(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(XX);return t&&"px"!==t?null:parseFloat(e)}return n||null}function Zz(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const Kz="cdk-global-overlay-wrapper";class eJ{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(Kz),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:s,maxWidth:a,maxHeight:d}=i,f=!("100%"!==r&&"100vw"!==r||a&&"100%"!==a&&"100vw"!==a),p=!("100%"!==s&&"100vh"!==s||d&&"100%"!==d&&"100vh"!==d),_=this._xPosition,v=this._xOffset,w="rtl"===this._overlayRef.getConfig().direction;let D="",A="",x="";f?x="flex-start":"center"===_?(x="center",w?A=v:D=v):w?"left"===_||"end"===_?(x="flex-end",D=v):("right"===_||"start"===_)&&(x="flex-start",A=v):"left"===_||"start"===_?(x="flex-start",D=v):("right"===_||"end"===_)&&(x="flex-end",A=v),e.position=this._cssPosition,e.marginLeft=f?"0":D,e.marginTop=p?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=f?"0":A,t.justifyContent=x,t.alignItems=p?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,i=t.style;t.classList.remove(Kz),i.justifyContent=i.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let tJ=(()=>{class n{constructor(t,i,r,s){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=s}global(){return new eJ}flexibleConnectedTo(t){return new JX(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(wN),c.LFG(Ce),c.LFG(ps),c.LFG(VA))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),nJ=0,jd=(()=>{class n{constructor(t,i,r,s,a,d,f,p,_,v,w,D){this.scrollStrategies=t,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=s,this._keyboardDispatcher=a,this._injector=d,this._ngZone=f,this._document=p,this._directionality=_,this._location=v,this._outsideClickDispatcher=w,this._animationsModuleType=D}create(t){const i=this._createHostElement(),r=this._createPaneElement(i),s=this._createPortalOutlet(r),a=new MN(t);return a.direction=a.direction||this._directionality.value,new Bw(s,i,r,a,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(t){const i=this._document.createElement("div");return i.id="cdk-overlay-"+nJ++,i.classList.add("cdk-overlay-pane"),t.appendChild(i),i}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(c.z2F)),new jX(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(YX),c.LFG(VA),c.LFG(c._Vd),c.LFG(tJ),c.LFG(KX),c.LFG(c.zs3),c.LFG(c.R0b),c.LFG(Ce),c.LFG(Dw),c.LFG(Ge),c.LFG(QX),c.LFG(c.QbO,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const sJ={provide:new c.OlP("cdk-connected-overlay-scroll-strategy"),deps:[jd],useFactory:function rJ(n){return()=>n.scrollStrategies.reposition()}};let kN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[jd,sJ],imports:[Aw,LA,Hz,Hz]}),n})();function oJ(n,e){}class BA{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0}}let Qz=(()=>{class n extends DN{constructor(t,i,r,s,a,d,f,p){super(),this._elementRef=t,this._focusTrapFactory=i,this._config=s,this._interactivityChecker=a,this._ngZone=d,this._overlayRef=f,this._focusMonitor=p,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=_=>{this._portalOutlet.hasAttached();const v=this._portalOutlet.attachDomPortal(_);return this._contentAttached(),v},this._ariaLabelledBy=this._config.ariaLabelledBy||null,this._document=r}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(t){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachComponentPortal(t);return this._contentAttached(),i}attachTemplatePortal(t){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachTemplatePortal(t);return this._contentAttached(),i}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(t,i){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{t.removeEventListener("blur",r),t.removeEventListener("mousedown",r),t.removeAttribute("tabindex")};t.addEventListener("blur",r),t.addEventListener("mousedown",r)})),t.focus(i)}_focusByCssSelector(t,i){let r=this._elementRef.nativeElement.querySelector(t);r&&this._forceFocus(r,i)}_trapFocus(){const t=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||t.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{i||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const t=this._config.restoreFocus;let i=null;if("string"==typeof t?i=this._document.querySelector(t):"boolean"==typeof t?i=t?this._elementFocusedBeforeDialogWasOpened:null:t&&(i=t),this._config.restoreFocus&&i&&"function"==typeof i.focus){const r=qP(),s=this._elementRef.nativeElement;(!r||r===this._document.body||r===s||s.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(i,this._closeInteractionType),this._closeInteractionType=null):i.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const t=this._elementRef.nativeElement,i=qP();return t===i||t.contains(i)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=qP())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(tN),c.Y36(Ce,8),c.Y36(BA),c.Y36(xA),c.Y36(c.R0b),c.Y36(Bw),c.Y36($d))},n.\u0275cmp=c.Xpm({type:n,selectors:[["cdk-dialog-container"]],viewQuery:function(t,i){if(1&t&&c.Gf(AN,7),2&t){let r;c.iGM(r=c.CRH())&&(i._portalOutlet=r.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(t,i){2&t&&c.uIk("id",i._config.id||null)("role",i._config.role)("aria-modal",i._config.ariaModal)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null)},features:[c.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,i){1&t&&c.YNc(0,oJ,0,0,"ng-template",0)},dependencies:[AN],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2}),n})();class RN{constructor(e,t){this.overlayRef=e,this.config=t,this.closed=new zt.x,this.disableClose=t.disableClose,this.backdropClick=e.backdropClick(),this.keydownEvents=e.keydownEvents(),this.outsidePointerEvents=e.outsidePointerEvents(),this.id=t.id,this.keydownEvents.subscribe(i=>{27===i.keyCode&&!this.disableClose&&!Uy(i)&&(i.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})})}close(e,t){if(this.containerInstance){const i=this.closed;this.containerInstance._closeInteractionType=t?.focusOrigin||"program",this.overlayRef.dispose(),i.next(e),i.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(e="",t=""){return this.overlayRef.updateSize({width:e,height:t}),this}addPanelClass(e){return this.overlayRef.addPanelClass(e),this}removePanelClass(e){return this.overlayRef.removePanelClass(e),this}}const Xz=new c.OlP("DialogScrollStrategy"),aJ=new c.OlP("DialogData"),lJ=new c.OlP("DefaultDialogConfig"),uJ={provide:Xz,deps:[jd],useFactory:function cJ(n){return()=>n.scrollStrategies.block()}};let dJ=0,Jz=(()=>{class n{constructor(t,i,r,s,a,d){this._overlay=t,this._injector=i,this._defaultOptions=r,this._parentDialog=s,this._overlayContainer=a,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new zt.x,this._afterOpenedAtThisLevel=new zt.x,this._ariaHiddenElements=new Map,this.afterAllClosed=Do(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(_i(void 0))),this._scrollStrategy=d}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}open(t,i){(i={...this._defaultOptions||new BA,...i}).id=i.id||"cdk-dialog-"+dJ++,i.id&&this.getDialogById(i.id);const s=this._getOverlayConfig(i),a=this._overlay.create(s),d=new RN(a,i),f=this._attachContainer(a,d,i);return d.containerInstance=f,this._attachDialogContent(t,d,f,i),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(d),d.closed.subscribe(()=>this._removeOpenDialog(d,!0)),this.afterOpened.next(d),d}closeAll(){ON(this.openDialogs,t=>t.close())}getDialogById(t){return this.openDialogs.find(i=>i.id===t)}ngOnDestroy(){ON(this._openDialogsAtThisLevel,t=>{!1===t.config.closeOnDestroy&&this._removeOpenDialog(t,!1)}),ON(this._openDialogsAtThisLevel,t=>t.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(t){const i=new MN({positionStrategy:t.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,width:t.width,height:t.height,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(i.backdropClass=t.backdropClass),i}_attachContainer(t,i,r){const s=r.injector||r.viewContainerRef?.injector,a=[{provide:BA,useValue:r},{provide:RN,useValue:i},{provide:Bw,useValue:t}];let d;r.container?"function"==typeof r.container?d=r.container:(d=r.container.type,a.push(...r.container.providers(r))):d=Qz;const f=new IN(d,r.viewContainerRef,c.zs3.create({parent:s||this._injector,providers:a}),r.componentFactoryResolver);return t.attach(f).instance}_attachDialogContent(t,i,r,s){if(t instanceof c.Rgc){const a=this._createInjector(s,i,r,void 0);let d={$implicit:s.data,dialogRef:i};s.templateContext&&(d={...d,..."function"==typeof s.templateContext?s.templateContext():s.templateContext}),r.attachTemplatePortal(new TN(t,null,d,a))}else{const a=this._createInjector(s,i,r,this._injector),d=r.attachComponentPortal(new IN(t,s.viewContainerRef,a,s.componentFactoryResolver));i.componentInstance=d.instance}}_createInjector(t,i,r,s){const a=t.injector||t.viewContainerRef?.injector,d=[{provide:aJ,useValue:t.data},{provide:RN,useValue:i}];return t.providers&&("function"==typeof t.providers?d.push(...t.providers(i,t,r)):d.push(...t.providers)),t.direction&&(!a||!a.get(Dw,null,c.XFs.Optional))&&d.push({provide:Dw,useValue:{value:t.direction,change:tt()}}),c.zs3.create({parent:a||s,providers:d})}_removeOpenDialog(t,i){const r=this.openDialogs.indexOf(t);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((s,a)=>{s?a.setAttribute("aria-hidden",s):a.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),i&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const t=this._overlayContainer.getContainerElement();if(t.parentElement){const i=t.parentElement.children;for(let r=i.length-1;r>-1;r--){const s=i[r];s!==t&&"SCRIPT"!==s.nodeName&&"STYLE"!==s.nodeName&&!s.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(s,s.getAttribute("aria-hidden")),s.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(jd),c.LFG(c.zs3),c.LFG(lJ,8),c.LFG(n,12),c.LFG(VA),c.LFG(Xz))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function ON(n,e){let t=n.length;for(;t--;)e(n[t])}let hJ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[Jz,uJ],imports:[kN,LA,e7,LA]}),n})();class ej{}const nu="*";function UA(n,e){return{type:7,name:n,definitions:e,options:{}}}function Wy(n,e=null){return{type:4,styles:e,timings:n}}function tj(n,e=null){return{type:3,steps:n,options:e}}function nj(n,e=null){return{type:2,steps:n,options:e}}function lo(n){return{type:6,styles:n,offset:null}}function Uw(n,e,t){return{type:0,name:n,styles:e,options:t}}function qy(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function ij(n=null){return{type:9,options:n}}function rj(n,e,t=null){return{type:11,selector:n,animation:e,options:t}}function sj(n){Promise.resolve().then(n)}class $w{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){sj(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class oj{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,r=0;const s=this.players.length;0==s?sj(()=>this._onFinish()):this.players.forEach(a=>{a.onDone(()=>{++t==s&&this._onFinish()}),a.onDestroy(()=>{++i==s&&this._onDestroy()}),a.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((a,d)=>Math.max(a,d.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){const e=this.players.reduce((t,i)=>null===t||i.totalTime>t.totalTime?i:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}function pJ(n,e){}const Yy={params:{enterAnimationDuration:"150ms",exitAnimationDuration:"75ms"}},mJ={dialogContainer:UA("dialogContainer",[Uw("void, exit",lo({opacity:0,transform:"scale(0.7)"})),Uw("enter",lo({transform:"none"})),qy("* => enter",tj([Wy("{{enterAnimationDuration}} cubic-bezier(0, 0, 0.2, 1)",lo({transform:"none",opacity:1})),rj("@*",ij(),{optional:!0})]),Yy),qy("* => void, * => exit",tj([Wy("{{exitAnimationDuration}} cubic-bezier(0.4, 0.0, 0.2, 1)",lo({opacity:0})),rj("@*",ij(),{optional:!0})]),Yy)])};class $A{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0,this.enterAnimationDuration=Yy.params.enterAnimationDuration,this.exitAnimationDuration=Yy.params.exitAnimationDuration}}let gJ=(()=>{class n extends Qz{constructor(t,i,r,s,a,d,f,p){super(t,i,r,s,a,d,f,p),this._animationStateChanged=new c.vpe}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(t){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:t})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(tN),c.Y36(Ce,8),c.Y36($A),c.Y36(xA),c.Y36(c.R0b),c.Y36(Bw),c.Y36($d))},n.\u0275cmp=c.Xpm({type:n,selectors:[["ng-component"]],features:[c.qOj],decls:0,vars:0,template:function(t,i){},encapsulation:2}),n})(),_J=(()=>{class n extends gJ{constructor(t,i,r,s,a,d,f,p,_){super(t,i,r,s,a,d,f,_),this._changeDetectorRef=p,this._state="enter"}_onAnimationDone({toState:t,totalTime:i}){"enter"===t?this._openAnimationDone(i):"exit"===t&&this._animationStateChanged.next({state:"closed",totalTime:i})}_onAnimationStart({toState:t,totalTime:i}){"enter"===t?this._animationStateChanged.next({state:"opening",totalTime:i}):("exit"===t||"void"===t)&&this._animationStateChanged.next({state:"closing",totalTime:i})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}_getAnimationState(){return{value:this._state,params:{enterAnimationDuration:this._config.enterAnimationDuration||Yy.params.enterAnimationDuration,exitAnimationDuration:this._config.exitAnimationDuration||Yy.params.exitAnimationDuration}}}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(tN),c.Y36(Ce,8),c.Y36($A),c.Y36(xA),c.Y36(c.R0b),c.Y36(Bw),c.Y36(c.sBO),c.Y36($d))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-dialog-container"],hostVars:7,hostBindings:function(t,i){1&t&&c.WFA("@dialogContainer.start",function(s){return i._onAnimationStart(s)})("@dialogContainer.done",function(s){return i._onAnimationDone(s)}),2&t&&(c.Ikx("id",i._config.id),c.uIk("aria-modal",i._config.ariaModal)("role",i._config.role)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null),c.d8E("@dialogContainer",i._getAnimationState()))},features:[c.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,i){1&t&&c.YNc(0,pJ,0,0,"ng-template",0)},dependencies:[AN],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions.mat-dialog-actions-align-center,.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions.mat-dialog-actions-align-end,.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}"],encapsulation:2,data:{animation:[mJ.dialogContainer]}}),n})();class HA{constructor(e,t,i){this._ref=e,this._containerInstance=i,this._afterOpened=new zt.x,this._beforeClosed=new zt.x,this._state=0,this.disableClose=t.disableClose,this.id=e.id,i._animationStateChanged.pipe(Rn(r=>"opened"===r.state),tn(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),i._animationStateChanged.pipe(Rn(r=>"closed"===r.state),tn(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),e.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),(0,Pp.T)(this.backdropClick(),this.keydownEvents().pipe(Rn(r=>27===r.keyCode&&!this.disableClose&&!Uy(r)))).subscribe(r=>{this.disableClose||(r.preventDefault(),function yJ(n,e,t){n._closeInteractionType=e,n.close(t)}(this,"keydown"===r.type?"keyboard":"mouse"))})}close(e){this._result=e,this._containerInstance._animationStateChanged.pipe(Rn(t=>"closing"===t.state),tn(1)).subscribe(t=>{this._beforeClosed.next(e),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),t.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(e){let t=this._ref.config.positionStrategy;return e&&(e.left||e.right)?e.left?t.left(e.left):t.right(e.right):t.centerHorizontally(),e&&(e.top||e.bottom)?e.top?t.top(e.top):t.bottom(e.bottom):t.centerVertically(),this._ref.updatePosition(),this}updateSize(e="",t=""){return this._ref.updateSize(e,t),this}addPanelClass(e){return this._ref.addPanelClass(e),this}removePanelClass(e){return this._ref.removePanelClass(e),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}const aj=new c.OlP("MatDialogData"),vJ=new c.OlP("mat-dialog-default-options"),lj=new c.OlP("mat-dialog-scroll-strategy"),EJ={provide:lj,deps:[jd],useFactory:function bJ(n){return()=>n.scrollStrategies.block()}};let wJ=0,CJ=(()=>{class n{constructor(t,i,r,s,a,d,f,p,_,v){this._overlay=t,this._defaultOptions=r,this._parentDialog=s,this._dialogRefConstructor=f,this._dialogContainerType=p,this._dialogDataToken=_,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new zt.x,this._afterOpenedAtThisLevel=new zt.x,this._idPrefix="mat-dialog-",this.afterAllClosed=Do(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(_i(void 0))),this._scrollStrategy=d,this._dialog=i.get(Jz)}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(t,i){let r;(i={...this._defaultOptions||new $A,...i}).id=i.id||`${this._idPrefix}${wJ++}`,i.scrollStrategy=i.scrollStrategy||this._scrollStrategy();const s=this._dialog.open(t,{...i,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:$A,useValue:i},{provide:BA,useValue:i}]},templateContext:()=>({dialogRef:r}),providers:(a,d,f)=>(r=new this._dialogRefConstructor(a,i,f),r.updatePosition(i?.position),[{provide:this._dialogContainerType,useValue:f},{provide:this._dialogDataToken,useValue:d.data},{provide:this._dialogRefConstructor,useValue:r}])});return r.componentInstance=s.componentInstance,this.openDialogs.push(r),this.afterOpened.next(r),r.afterClosed().subscribe(()=>{const a=this.openDialogs.indexOf(r);a>-1&&(this.openDialogs.splice(a,1),this.openDialogs.length||this._getAfterAllClosed().next())}),r}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(i=>i.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(t){let i=t.length;for(;i--;)t[i].close()}}return n.\u0275fac=function(t){c.$Z()},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),cj=(()=>{class n extends CJ{constructor(t,i,r,s,a,d,f,p){super(t,i,s,d,f,a,HA,_J,aj,p)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(jd),c.LFG(c.zs3),c.LFG(Ge,8),c.LFG(vJ,8),c.LFG(lj),c.LFG(n,12),c.LFG(VA),c.LFG(c.QbO,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),SJ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[cj,EJ],imports:[hJ,kN,LA,hi,hi]}),n})();class uj{constructor(e=!1,t,i=!0,r){this._multiple=e,this._emitChanges=i,this.compareWith=r,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new zt.x,t&&t.length&&(e?t.forEach(s=>this._markSelected(s)):this._markSelected(t[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...e){this._verifyValueAssignment(e),e.forEach(i=>this._markSelected(i));const t=this._hasQueuedChanges();return this._emitChangeEvent(),t}deselect(...e){this._verifyValueAssignment(e),e.forEach(i=>this._unmarkSelected(i));const t=this._hasQueuedChanges();return this._emitChangeEvent(),t}setSelection(...e){this._verifyValueAssignment(e);const t=this.selected,i=new Set(e);e.forEach(s=>this._markSelected(s)),t.filter(s=>!i.has(s)).forEach(s=>this._unmarkSelected(s));const r=this._hasQueuedChanges();return this._emitChangeEvent(),r}toggle(e){return this.isSelected(e)?this.deselect(e):this.select(e)}clear(e=!0){this._unmarkAll();const t=this._hasQueuedChanges();return e&&this._emitChangeEvent(),t}isSelected(e){if(this.compareWith){for(const t of this._selection)if(this.compareWith(t,e))return!0;return!1}return this._selection.has(e)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(e){this._multiple&&this.selected&&this._selected.sort(e)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(e){this.isSelected(e)||(this._multiple||this._unmarkAll(),this.isSelected(e)||this._selection.add(e),this._emitChanges&&this._selectedToEmit.push(e))}_unmarkSelected(e){this.isSelected(e)&&(this._selection.delete(e),this._emitChanges&&this._deselectedToEmit.push(e))}_unmarkAll(){this.isEmpty()||this._selection.forEach(e=>this._unmarkSelected(e))}_verifyValueAssignment(e){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}}let IJ=(()=>{class n{constructor(){this._listeners=[]}notify(t,i){for(let r of this._listeners)r(t,i)}listen(t){return this._listeners.push(t),()=>{this._listeners=this._listeners.filter(i=>t!==i)}}ngOnDestroy(){this._listeners=[]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function dj(...n){const e=(0,Ms.jO)(n),{args:t,keys:i}=_a(n),r=new kn.y(s=>{const{length:a}=t;if(!a)return void s.complete();const d=new Array(a);let f=a,p=a;for(let _=0;_<a;_++){let v=!1;(0,is.Xf)(t[_]).subscribe((0,Bn.x)(s,w=>{v||(v=!0,p--),d[_]=w},()=>f--,void 0,()=>{(!f||!v)&&(p||s.next(i?Uh(i,d):d),s.complete())}))}});return e?r.pipe(Bh(e)):r}let hj=(()=>{class n{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Qsj),c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n}),n})(),Fp=(()=>{class n extends hj{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=c.n5z(n)))(i||n)}}(),n.\u0275dir=c.lG2({type:n,features:[c.qOj]}),n})();const jo=new c.OlP("NgValueAccessor"),DJ={provide:jo,useExisting:(0,c.Gpc)(()=>Zy),multi:!0},xJ=new c.OlP("CompositionEventMode");let Zy=(()=>{class n extends hj{constructor(t,i,r){super(t,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function AJ(){const n=H()?H().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(xJ,8))},n.\u0275dir=c.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,i){1&t&&c.NdJ("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[c._Bn([DJ]),c.qOj]}),n})();function Gd(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function pj(n){return null!=n&&"number"==typeof n.length}const Qr=new c.OlP("NgValidators"),Wd=new c.OlP("NgAsyncValidators"),kJ=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class iu{static min(e){return function mj(n){return e=>{if(Gd(e.value)||Gd(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function gj(n){return e=>{if(Gd(e.value)||Gd(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function _j(n){return Gd(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function yj(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function vj(n){return Gd(n.value)||kJ.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function bj(n){return e=>Gd(e.value)||!pj(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function Ej(n){return e=>pj(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function wj(n){if(!n)return zA;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),i=>{if(Gd(i.value))return null;const r=i.value;return e.test(r)?null:{pattern:{requiredPattern:t,actualValue:r}}}}(e)}static nullValidator(e){return null}static compose(e){return Aj(e)}static composeAsync(e){return xj(e)}}function zA(n){return null}function Cj(n){return null!=n}function Sj(n){return(0,c.QGY)(n)?(0,dn.D)(n):n}function Ij(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function Tj(n,e){return e.map(t=>t(n))}function Dj(n){return n.map(e=>function RJ(n){return!n.validate}(e)?e:t=>e.validate(t))}function Aj(n){if(!n)return null;const e=n.filter(Cj);return 0==e.length?null:function(t){return Ij(Tj(t,e))}}function NN(n){return null!=n?Aj(Dj(n)):null}function xj(n){if(!n)return null;const e=n.filter(Cj);return 0==e.length?null:function(t){return dj(Tj(t,e).map(Sj)).pipe((0,rt.U)(Ij))}}function FN(n){return null!=n?xj(Dj(n)):null}function Mj(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function kj(n){return n._rawValidators}function Rj(n){return n._rawAsyncValidators}function LN(n){return n?Array.isArray(n)?n:[n]:[]}function jA(n,e){return Array.isArray(n)?n.includes(e):n===e}function Oj(n,e){const t=LN(e);return LN(n).forEach(r=>{jA(t,r)||t.push(r)}),t}function Pj(n,e){return LN(e).filter(t=>!jA(n,t))}class Nj{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=NN(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=FN(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class ms extends Nj{get formDirective(){return null}get path(){return null}}class ru extends Nj{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Fj{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let GA=(()=>{class n extends Fj{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(ru,2))},n.\u0275dir=c.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,i){2&t&&c.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[c.qOj]}),n})(),VN=(()=>{class n extends Fj{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(ms,10))},n.\u0275dir=c.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,i){2&t&&c.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[c.qOj]}),n})();const Hw="VALID",qA="INVALID",Ky="PENDING",zw="DISABLED";function HN(n){return(YA(n)?n.validators:n)||null}function Vj(n){return Array.isArray(n)?NN(n):n||null}function zN(n,e){return(YA(e)?e.asyncValidators:n)||null}function Bj(n){return Array.isArray(n)?FN(n):n||null}function YA(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class Hj{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=Vj(this._rawValidators),this._composedAsyncValidatorFn=Bj(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Hw}get invalid(){return this.status===qA}get pending(){return this.status==Ky}get disabled(){return this.status===zw}get enabled(){return this.status!==zw}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=Vj(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=Bj(e)}addValidators(e){this.setValidators(Oj(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Oj(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Pj(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Pj(e,this._rawAsyncValidators))}hasValidator(e){return jA(this._rawValidators,e)}hasAsyncValidator(e){return jA(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Ky,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=zw,this.errors=null,this._forEachChild(i=>{i.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Hw,this._forEachChild(i=>{i.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Hw||this.status===Ky)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?zw:Hw}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Ky,this._hasOwnPendingAsyncValidator=!0;const t=Sj(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(e,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new c.vpe,this.statusChanges=new c.vpe}_calculateStatus(){return this._allControlsDisabled()?zw:this.errors?qA:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ky)?Ky:this._anyControlsHaveStatus(qA)?qA:Hw}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){YA(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}}class jw extends Hj{constructor(e,t,i){super(HN(t),zN(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function $j(n,e,t){n._forEachChild((i,r)=>{if(void 0===t[r])throw new c.vHH(1002,"")})})(this,0,e),Object.keys(e).forEach(i=>{(function Uj(n,e,t){const i=n.controls;if(!(e?Object.keys(i):i).length)throw new c.vHH(1e3,"");if(!i[t])throw new c.vHH(1001,"")})(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(i=>{const r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>!!i._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,i]of Object.entries(this.controls))if(this.contains(t)&&e(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,i,r)=>((i.enabled||this.disabled)&&(t[r]=i.value),t))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,s)=>{i=t(i,r,s)}),i}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}function ZA(n,e){return[...e.path,n]}function Gw(n,e){jN(n,e),e.valueAccessor.writeValue(n.value),n.disabled&&e.valueAccessor.setDisabledState?.(!0),function $J(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&zj(n,e)})}(n,e),function zJ(n,e){const t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function HJ(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&zj(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function UJ(n,e){if(e.valueAccessor.setDisabledState){const t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function KA(n,e,t=!0){const i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),XA(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function QA(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function jN(n,e){const t=kj(n);null!==e.validator?n.setValidators(Mj(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const i=Rj(n);null!==e.asyncValidator?n.setAsyncValidators(Mj(i,e.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();QA(e._rawValidators,r),QA(e._rawAsyncValidators,r)}function XA(n,e){let t=!1;if(null!==n){if(null!==e.validator){const r=kj(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(a=>a!==e.validator);s.length!==r.length&&(t=!0,n.setValidators(s))}}if(null!==e.asyncValidator){const r=Rj(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(a=>a!==e.asyncValidator);s.length!==r.length&&(t=!0,n.setAsyncValidators(s))}}}const i=()=>{};return QA(e._rawValidators,i),QA(e._rawAsyncValidators,i),t}function zj(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function jj(n,e){jN(n,e)}function GN(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}function Wj(n,e){n._syncPendingControls(),e.forEach(t=>{const i=t.control;"submit"===i.updateOn&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function WN(n,e){if(!e)return null;let t,i,r;return Array.isArray(e),e.forEach(s=>{s.constructor===Zy?t=s:function WJ(n){return Object.getPrototypeOf(n.constructor)===Fp}(s)?i=s:r=s}),r||i||t||null}const YJ={provide:ms,useExisting:(0,c.Gpc)(()=>JA)},Ww=(()=>Promise.resolve())();let JA=(()=>{class n extends ms{constructor(t,i){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new c.vpe,this.form=new jw({},NN(t),FN(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Ww.then(()=>{const i=this._findContainer(t.path);t.control=i.registerControl(t.name,t.control),Gw(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Ww.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Ww.then(()=>{const i=this._findContainer(t.path),r=new jw({});jj(r,t),i.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Ww.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,i){Ww.then(()=>{this.form.get(t.path).setValue(i)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,Wj(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Qr,10),c.Y36(Wd,10))},n.\u0275dir=c.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,i){1&t&&c.NdJ("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([YJ]),c.qOj]}),n})();function qj(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function Yj(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Lp=class extends Hj{constructor(e=null,t,i){super(HN(t),zN(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),YA(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=Yj(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){qj(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){qj(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){Yj(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},QJ={provide:ru,useExisting:(0,c.Gpc)(()=>qN)},Qj=(()=>Promise.resolve())();let qN=(()=>{class n extends ru{constructor(t,i,r,s,a){super(),this._changeDetectorRef=a,this.control=new Lp,this._registered=!1,this.update=new c.vpe,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=WN(0,s)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const i=t.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),GN(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Gw(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){Qj.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const i=t.isDisabled.currentValue,r=0!==i&&(0,c.D6c)(i);Qj.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?ZA(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(ms,9),c.Y36(Qr,10),c.Y36(Wd,10),c.Y36(jo,10),c.Y36(c.sBO,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[c._Bn([QJ]),c.qOj,c.TTD]}),n})(),YN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),Jj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const ZN=new c.OlP("NgModelWithFormControlWarning"),iee={provide:ms,useExisting:(0,c.Gpc)(()=>Qy)};let Qy=(()=>{class n extends ms{constructor(t,i){super(),this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new c.vpe,this._setValidators(t),this._setAsyncValidators(i)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(XA(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const i=this.form.get(t.path);return Gw(i,t),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),i}getControl(t){return this.form.get(t.path)}removeControl(t){KA(t.control||null,t,!1),function qJ(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,i){this.form.get(t.path).setValue(i)}onSubmit(t){return this.submitted=!0,Wj(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const i=t.control,r=this.form.get(t.path);i!==r&&(KA(i||null,t),(n=>n instanceof Lp)(r)&&(Gw(r,t),t.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const i=this.form.get(t.path);jj(i,t),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const i=this.form.get(t.path);i&&function jJ(n,e){return XA(n,e)}(i,t)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){jN(this.form,this),this._oldForm&&XA(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Qr,10),c.Y36(Wd,10))},n.\u0275dir=c.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,i){1&t&&c.NdJ("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([iee]),c.qOj,c.TTD]}),n})();const oee={provide:ru,useExisting:(0,c.Gpc)(()=>ex)};let ex=(()=>{class n extends ru{constructor(t,i,r,s,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.update=new c.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=WN(0,s)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),GN(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return ZA(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(c.Y36(ms,13),c.Y36(Qr,10),c.Y36(Wd,10),c.Y36(jo,10),c.Y36(ZN,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[c._Bn([oee]),c.qOj,c.TTD]}),n})(),g3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Jj]}),n})(),_3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[g3]}),n})(),y3=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:ZN,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[g3]}),n})();const wee=["input"],Cee=function(n){return{enterDuration:n}},See=["*"],Iee=new c.OlP("mat-radio-default-options",{providedIn:"root",factory:function Tee(){return{color:"accent"}}});let v3=0;const Dee={provide:jo,useExisting:(0,c.Gpc)(()=>w3),multi:!0};class b3{constructor(e,t){this.source=e,this.value=t}}const E3=new c.OlP("MatRadioGroup");let Aee=(()=>{class n{constructor(t){this._changeDetector=t,this._value=null,this._name="mat-radio-group-"+v3++,this._selected=null,this._isInitialized=!1,this._labelPosition="after",this._disabled=!1,this._required=!1,this._controlValueAccessorChangeFn=()=>{},this.onTouched=()=>{},this.change=new c.vpe}get name(){return this._name}set name(t){this._name=t,this._updateRadioButtonNames()}get labelPosition(){return this._labelPosition}set labelPosition(t){this._labelPosition="before"===t?"before":"after",this._markRadiosForCheck()}get value(){return this._value}set value(t){this._value!==t&&(this._value=t,this._updateSelectedRadioFromValue(),this._checkSelectedRadioButton())}_checkSelectedRadioButton(){this._selected&&!this._selected.checked&&(this._selected.checked=!0)}get selected(){return this._selected}set selected(t){this._selected=t,this.value=t?t.value:null,this._checkSelectedRadioButton()}get disabled(){return this._disabled}set disabled(t){this._disabled=rr(t),this._markRadiosForCheck()}get required(){return this._required}set required(t){this._required=rr(t),this._markRadiosForCheck()}ngAfterContentInit(){this._isInitialized=!0}_touch(){this.onTouched&&this.onTouched()}_updateRadioButtonNames(){this._radios&&this._radios.forEach(t=>{t.name=this.name,t._markForCheck()})}_updateSelectedRadioFromValue(){this._radios&&(null===this._selected||this._selected.value!==this._value)&&(this._selected=null,this._radios.forEach(i=>{i.checked=this.value===i.value,i.checked&&(this._selected=i)}))}_emitChangeEvent(){this._isInitialized&&this.change.emit(new b3(this._selected,this._value))}_markRadiosForCheck(){this._radios&&this._radios.forEach(t=>t._markForCheck())}writeValue(t){this.value=t,this._changeDetector.markForCheck()}registerOnChange(t){this._controlValueAccessorChangeFn=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetector.markForCheck()}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.sBO))},n.\u0275dir=c.lG2({type:n,inputs:{color:"color",name:"name",labelPosition:"labelPosition",value:"value",selected:"selected",disabled:"disabled",required:"required"},outputs:{change:"change"}}),n})(),w3=(()=>{class n extends Aee{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=c.n5z(n)))(i||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["mat-radio-group"]],contentQueries:function(t,i,r){if(1&t&&c.Suo(r,C3,5),2&t){let s;c.iGM(s=c.CRH())&&(i._radios=s)}},hostAttrs:["role","radiogroup",1,"mat-radio-group"],exportAs:["matRadioGroup"],features:[c._Bn([Dee,{provide:E3,useExisting:n}]),c.qOj]}),n})();class xee{constructor(e){this._elementRef=e}}const Mee=xw(a7(xee));let kee=(()=>{class n extends Mee{constructor(t,i,r,s,a,d,f,p){super(i),this._changeDetector=r,this._focusMonitor=s,this._radioDispatcher=a,this._providerOverride=f,this._uniqueId="mat-radio-"+ ++v3,this.id=this._uniqueId,this.change=new c.vpe,this._checked=!1,this._value=null,this._removeUniqueSelectionListener=()=>{},this.radioGroup=t,this._noopAnimations="NoopAnimations"===d,p&&(this.tabIndex=$y(p,0)),this._removeUniqueSelectionListener=a.listen((_,v)=>{_!==this.id&&v===this.name&&(this.checked=!1)})}get checked(){return this._checked}set checked(t){const i=rr(t);this._checked!==i&&(this._checked=i,i&&this.radioGroup&&this.radioGroup.value!==this.value?this.radioGroup.selected=this:!i&&this.radioGroup&&this.radioGroup.value===this.value&&(this.radioGroup.selected=null),i&&this._radioDispatcher.notify(this.id,this.name),this._changeDetector.markForCheck())}get value(){return this._value}set value(t){this._value!==t&&(this._value=t,null!==this.radioGroup&&(this.checked||(this.checked=this.radioGroup.value===t),this.checked&&(this.radioGroup.selected=this)))}get labelPosition(){return this._labelPosition||this.radioGroup&&this.radioGroup.labelPosition||"after"}set labelPosition(t){this._labelPosition=t}get disabled(){return this._disabled||null!==this.radioGroup&&this.radioGroup.disabled}set disabled(t){this._setDisabled(rr(t))}get required(){return this._required||this.radioGroup&&this.radioGroup.required}set required(t){this._required=rr(t)}get color(){return this._color||this.radioGroup&&this.radioGroup.color||this._providerOverride&&this._providerOverride.color||"accent"}set color(t){this._color=t}get inputId(){return`${this.id||this._uniqueId}-input`}focus(t,i){i?this._focusMonitor.focusVia(this._inputElement,i,t):this._inputElement.nativeElement.focus(t)}_markForCheck(){this._changeDetector.markForCheck()}ngOnInit(){this.radioGroup&&(this.checked=this.radioGroup.value===this._value,this.checked&&(this.radioGroup.selected=this),this.name=this.radioGroup.name)}ngDoCheck(){this._updateTabIndex()}ngAfterViewInit(){this._updateTabIndex(),this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{!t&&this.radioGroup&&this.radioGroup._touch()})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._removeUniqueSelectionListener()}_emitChangeEvent(){this.change.emit(new b3(this,this._value))}_isRippleDisabled(){return this.disableRipple||this.disabled}_onInputClick(t){t.stopPropagation()}_onInputInteraction(t){if(t.stopPropagation(),!this.checked&&!this.disabled){const i=this.radioGroup&&this.value!==this.radioGroup.value;this.checked=!0,this._emitChangeEvent(),this.radioGroup&&(this.radioGroup._controlValueAccessorChangeFn(this.value),i&&this.radioGroup._emitChangeEvent())}}_setDisabled(t){this._disabled!==t&&(this._disabled=t,this._changeDetector.markForCheck())}_updateTabIndex(){const t=this.radioGroup;let i;if(i=t&&t.selected&&!this.disabled?t.selected===this?this.tabIndex:-1:this.tabIndex,i!==this._previousTabIndex){const r=this._inputElement?.nativeElement;r&&(r.setAttribute("tabindex",i+""),this._previousTabIndex=i)}}}return n.\u0275fac=function(t){c.$Z()},n.\u0275dir=c.lG2({type:n,viewQuery:function(t,i){if(1&t&&c.Gf(wee,5),2&t){let r;c.iGM(r=c.CRH())&&(i._inputElement=r.first)}},inputs:{id:"id",name:"name",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],checked:"checked",value:"value",labelPosition:"labelPosition",disabled:"disabled",required:"required",color:"color"},outputs:{change:"change"},features:[c.qOj]}),n})(),C3=(()=>{class n extends kee{constructor(t,i,r,s,a,d,f,p){super(t,i,r,s,a,d,f,p)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(E3,8),c.Y36(c.SBq),c.Y36(c.sBO),c.Y36($d),c.Y36(IJ),c.Y36(c.QbO,8),c.Y36(Iee,8),c.$8M("tabindex"))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-radio-button"]],hostAttrs:[1,"mat-radio-button"],hostVars:17,hostBindings:function(t,i){1&t&&c.NdJ("focus",function(){return i._inputElement.nativeElement.focus()}),2&t&&(c.uIk("tabindex",null)("id",i.id)("aria-label",null)("aria-labelledby",null)("aria-describedby",null),c.ekj("mat-radio-checked",i.checked)("mat-radio-disabled",i.disabled)("_mat-animation-noopable",i._noopAnimations)("mat-primary","primary"===i.color)("mat-accent","accent"===i.color)("mat-warn","warn"===i.color))},inputs:{disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matRadioButton"],features:[c.qOj],ngContentSelectors:See,decls:13,vars:19,consts:[[1,"mat-radio-label"],["label",""],[1,"mat-radio-container"],[1,"mat-radio-outer-circle"],[1,"mat-radio-inner-circle"],["type","radio",1,"mat-radio-input",3,"id","checked","disabled","required","change","click"],["input",""],["mat-ripple","",1,"mat-radio-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered","matRippleRadius","matRippleAnimation"],[1,"mat-ripple-element","mat-radio-persistent-ripple"],[1,"mat-radio-label-content"],[2,"display","none"]],template:function(t,i){if(1&t&&(c.F$t(),c.TgZ(0,"label",0,1)(2,"span",2),c._UZ(3,"span",3)(4,"span",4),c.TgZ(5,"input",5,6),c.NdJ("change",function(s){return i._onInputInteraction(s)})("click",function(s){return i._onInputClick(s)}),c.qZA(),c.TgZ(7,"span",7),c._UZ(8,"span",8),c.qZA()(),c.TgZ(9,"span",9)(10,"span",10),c._uU(11,"\xa0"),c.qZA(),c.Hsn(12),c.qZA()()),2&t){const r=c.MAs(1);c.uIk("for",i.inputId),c.xp6(5),c.Q6J("id",i.inputId)("checked",i.checked)("disabled",i.disabled)("required",i.required),c.uIk("name",i.name)("value",i.value)("aria-label",i.ariaLabel)("aria-labelledby",i.ariaLabelledby)("aria-describedby",i.ariaDescribedby),c.xp6(2),c.Q6J("matRippleTrigger",r)("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",!0)("matRippleRadius",20)("matRippleAnimation",c.VKq(17,Cee,i._noopAnimations?0:150)),c.xp6(2),c.ekj("mat-radio-label-before","before"==i.labelPosition)}},dependencies:[kw],styles:['.mat-radio-button{display:inline-block;-webkit-tap-highlight-color:rgba(0,0,0,0);outline:0}.mat-radio-label{-webkit-user-select:none;user-select:none;cursor:pointer;display:inline-flex;align-items:center;white-space:nowrap;vertical-align:middle;width:100%}.mat-radio-container{box-sizing:border-box;display:inline-block;position:relative;width:20px;height:20px;flex-shrink:0}.mat-radio-outer-circle{box-sizing:border-box;display:block;height:20px;left:0;position:absolute;top:0;transition:border-color ease 280ms;width:20px;border-width:2px;border-style:solid;border-radius:50%}._mat-animation-noopable .mat-radio-outer-circle{transition:none}.mat-radio-inner-circle{border-radius:50%;box-sizing:border-box;display:block;height:20px;left:0;position:absolute;top:0;opacity:0;transition:transform ease 280ms,background-color ease 280ms,opacity linear 1ms 280ms;width:20px;transform:scale(0.001);-webkit-print-color-adjust:exact;color-adjust:exact}.mat-radio-checked .mat-radio-inner-circle{transform:scale(0.5);opacity:1;transition:transform ease 280ms,background-color ease 280ms}.cdk-high-contrast-active .mat-radio-checked .mat-radio-inner-circle{border:solid 10px}._mat-animation-noopable .mat-radio-inner-circle{transition:none}.mat-radio-label-content{-webkit-user-select:auto;user-select:auto;display:inline-block;order:0;line-height:inherit;padding-left:8px;padding-right:0}[dir=rtl] .mat-radio-label-content{padding-right:8px;padding-left:0}.mat-radio-label-content.mat-radio-label-before{order:-1;padding-left:0;padding-right:8px}[dir=rtl] .mat-radio-label-content.mat-radio-label-before{padding-right:0;padding-left:8px}.mat-radio-disabled,.mat-radio-disabled .mat-radio-label{cursor:default}.mat-radio-button .mat-radio-ripple{position:absolute;left:calc(50% - 20px);top:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.mat-radio-button .mat-radio-ripple .mat-ripple-element:not(.mat-radio-persistent-ripple){opacity:.16}.mat-radio-persistent-ripple{width:100%;height:100%;transform:none;top:0;left:0}.mat-radio-container:hover .mat-radio-persistent-ripple{opacity:.04}.mat-radio-button:not(.mat-radio-disabled).cdk-keyboard-focused .mat-radio-persistent-ripple,.mat-radio-button:not(.mat-radio-disabled).cdk-program-focused .mat-radio-persistent-ripple{opacity:.12}.mat-radio-persistent-ripple,.mat-radio-disabled .mat-radio-container:hover .mat-radio-persistent-ripple{opacity:0}@media(hover: none){.mat-radio-container:hover .mat-radio-persistent-ripple{display:none}}.mat-radio-input{opacity:0;position:absolute;top:0;left:0;margin:0;width:100%;height:100%;cursor:inherit;z-index:-1}.mat-radio-input:focus~.mat-focus-indicator::before{content:""}.cdk-high-contrast-active .mat-radio-disabled{opacity:.5}'],encapsulation:2,changeDetection:0}),n})(),Ree=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Rw,hi,hi]}),n})(),Oee=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[hi,hi]}),n})();const Pee=["*"],Fee=["text"];function Lee(n,e){if(1&n&&c._UZ(0,"mat-pseudo-checkbox",5),2&n){const t=c.oxw();c.Q6J("state",t.selected?"checked":"unchecked")("disabled",t.disabled)}}const Vee=["*",[["","mat-list-avatar",""],["","mat-list-icon",""],["","matListAvatar",""],["","matListIcon",""]]],Bee=["*","[mat-list-avatar], [mat-list-icon], [matListAvatar], [matListIcon]"];let Uee=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["","mat-list-avatar",""],["","matListAvatar",""]],hostAttrs:[1,"mat-list-avatar"]}),n})(),$ee=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["","mat-list-icon",""],["","matListIcon",""]],hostAttrs:[1,"mat-list-icon"]}),n})();const Hee=xw(class{}),zee=xw(class{}),jee={provide:jo,useExisting:(0,c.Gpc)(()=>tF),multi:!0};class Gee{constructor(e,t){this.source=e,this.options=t}}let S3=(()=>{class n extends zee{constructor(t,i,r){super(),this._element=t,this._changeDetector=i,this.selectionList=r,this._selected=!1,this._disabled=!1,this._hasFocus=!1,this.selectedChange=new c.vpe,this.checkboxPosition="after",this._inputsInitialized=!1}get color(){return this._color||this.selectionList.color}set color(t){this._color=t}get value(){return this._value}set value(t){this.selected&&!this.selectionList.compareWith(t,this.value)&&this._inputsInitialized&&(this.selected=!1),this._value=t}get disabled(){return this._disabled||this.selectionList&&this.selectionList.disabled}set disabled(t){const i=rr(t);i!==this._disabled&&(this._disabled=i,this._changeDetector.markForCheck())}get selected(){return this.selectionList.selectedOptions.isSelected(this)}set selected(t){const i=rr(t);i!==this._selected&&(this._setSelected(i),(i||this.selectionList.multiple)&&this.selectionList._reportValueChange())}ngOnInit(){const t=this.selectionList;t._value&&t._value.some(r=>t.compareWith(this._value,r))&&this._setSelected(!0);const i=this._selected;Promise.resolve().then(()=>{(this._selected||i)&&(this.selected=!0,this._changeDetector.markForCheck())}),this._inputsInitialized=!0}ngAfterContentInit(){!function d7(n,e,t="mat"){n.changes.pipe(_i(n)).subscribe(({length:i})=>{Mw(e,`${t}-2-line`,!1),Mw(e,`${t}-3-line`,!1),Mw(e,`${t}-multi-line`,!1),2===i||3===i?Mw(e,`${t}-${i}-line`,!0):i>3&&Mw(e,`${t}-multi-line`,!0)})}(this._lines,this._element)}ngOnDestroy(){this.selected&&Promise.resolve().then(()=>{this.selected=!1});const t=this._hasFocus,i=this.selectionList._removeOptionFromList(this);t&&i&&i.focus()}toggle(){this.selected=!this.selected}focus(){this._element.nativeElement.focus()}getLabel(){return this._text&&this._text.nativeElement.textContent||""}_isRippleDisabled(){return this.disabled||this.disableRipple||this.selectionList.disableRipple}_handleClick(){!this.disabled&&(this.selectionList.multiple||!this.selected)&&(this.toggle(),this.selectionList._emitChangeEvent([this]))}_handleFocus(){this.selectionList._setFocusedOption(this),this._hasFocus=!0}_handleBlur(){this.selectionList._onTouched(),this._hasFocus=!1}_getHostElement(){return this._element.nativeElement}_setSelected(t){return t!==this._selected&&(this._selected=t,t?this.selectionList.selectedOptions.select(this):this.selectionList.selectedOptions.deselect(this),this.selectedChange.emit(t),this._changeDetector.markForCheck(),!0)}_markForCheck(){this._changeDetector.markForCheck()}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.sBO),c.Y36((0,c.Gpc)(()=>tF)))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-list-option"]],contentQueries:function(t,i,r){if(1&t&&(c.Suo(r,Uee,5),c.Suo(r,$ee,5),c.Suo(r,u7,5)),2&t){let s;c.iGM(s=c.CRH())&&(i._avatar=s.first),c.iGM(s=c.CRH())&&(i._icon=s.first),c.iGM(s=c.CRH())&&(i._lines=s)}},viewQuery:function(t,i){if(1&t&&c.Gf(Fee,5),2&t){let r;c.iGM(r=c.CRH())&&(i._text=r.first)}},hostAttrs:["role","option",1,"mat-list-item","mat-list-option","mat-focus-indicator"],hostVars:15,hostBindings:function(t,i){1&t&&c.NdJ("focus",function(){return i._handleFocus()})("blur",function(){return i._handleBlur()})("click",function(){return i._handleClick()}),2&t&&(c.uIk("aria-selected",i.selected)("aria-disabled",i.disabled)("tabindex",-1),c.ekj("mat-list-item-disabled",i.disabled)("mat-list-item-with-avatar",i._avatar||i._icon)("mat-primary","primary"===i.color)("mat-accent","primary"!==i.color&&"warn"!==i.color)("mat-warn","warn"===i.color)("mat-list-single-selected-option",i.selected&&!i.selectionList.multiple))},inputs:{disableRipple:"disableRipple",checkboxPosition:"checkboxPosition",color:"color",value:"value",disabled:"disabled",selected:"selected"},outputs:{selectedChange:"selectedChange"},exportAs:["matListOption"],features:[c.qOj],ngContentSelectors:Bee,decls:7,vars:5,consts:[[1,"mat-list-item-content"],["mat-ripple","",1,"mat-list-item-ripple",3,"matRippleTrigger","matRippleDisabled"],[3,"state","disabled",4,"ngIf"],[1,"mat-list-text"],["text",""],[3,"state","disabled"]],template:function(t,i){1&t&&(c.F$t(Vee),c.TgZ(0,"div",0),c._UZ(1,"div",1),c.YNc(2,Lee,1,2,"mat-pseudo-checkbox",2),c.TgZ(3,"div",3,4),c.Hsn(5),c.qZA(),c.Hsn(6,1),c.qZA()),2&t&&(c.ekj("mat-list-item-content-reverse","after"==i.checkboxPosition),c.xp6(1),c.Q6J("matRippleTrigger",i._getHostElement())("matRippleDisabled",i._isRippleDisabled()),c.xp6(1),c.Q6J("ngIf",i.selectionList.multiple))},dependencies:[kw,_7,Nn],encapsulation:2,changeDetection:0}),n})(),tF=(()=>{class n extends Hee{constructor(t,i,r){super(),this._element=t,this._changeDetector=i,this._focusMonitor=r,this._multiple=!0,this._contentInitialized=!1,this.selectionChange=new c.vpe,this.color="accent",this.compareWith=(s,a)=>s===a,this._disabled=!1,this.selectedOptions=new uj(this._multiple),this._tabIndex=-1,this._onChange=s=>{},this._destroyed=new zt.x,this._onTouched=()=>{}}get disabled(){return this._disabled}set disabled(t){this._disabled=rr(t),this._markOptionsForCheck()}get multiple(){return this._multiple}set multiple(t){const i=rr(t);i!==this._multiple&&(this._multiple=i,this.selectedOptions=new uj(this._multiple,this.selectedOptions.selected))}ngAfterContentInit(){this._contentInitialized=!0,this._keyManager=new sz(this.options).withWrap().withTypeAhead().withHomeAndEnd().skipPredicate(()=>!1).withAllowedModifierKeys(["shiftKey"]),this._value&&this._setOptionsFromValues(this._value),this._keyManager.tabOut.pipe(oo(this._destroyed)).subscribe(()=>{this._allowFocusEscape()}),this.options.changes.pipe(_i(null),oo(this._destroyed)).subscribe(()=>{this._updateTabIndex()}),this.selectedOptions.changed.pipe(oo(this._destroyed)).subscribe(t=>{if(t.added)for(let i of t.added)i.selected=!0;if(t.removed)for(let i of t.removed)i.selected=!1}),this._focusMonitor.monitor(this._element).pipe(oo(this._destroyed)).subscribe(t=>{if("keyboard"===t||"program"===t){let i=0;for(let r=0;r<this.options.length;r++)if(this.options.get(r)?.selected){i=r;break}this._keyManager.setActiveItem(i)}})}ngOnChanges(t){const i=t.disableRipple,r=t.color;(i&&!i.firstChange||r&&!r.firstChange)&&this._markOptionsForCheck()}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._element),this._destroyed.next(),this._destroyed.complete(),this._isDestroyed=!0}focus(t){this._element.nativeElement.focus(t)}selectAll(){return this._setAllOptionsSelected(!0)}deselectAll(){return this._setAllOptionsSelected(!1)}_setFocusedOption(t){this._keyManager.updateActiveItem(t)}_removeOptionFromList(t){const i=this._getOptionIndex(t);return i>-1&&this._keyManager.activeItemIndex===i&&(i>0?this._keyManager.updateActiveItem(i-1):0===i&&this.options.length>1&&this._keyManager.updateActiveItem(Math.min(i+1,this.options.length-1))),this._keyManager.activeItem}_keydown(t){const i=t.keyCode,r=this._keyManager,s=r.activeItemIndex,a=Uy(t);switch(i){case 32:case 13:!a&&!r.isTyping()&&(this._toggleFocusedOption(),t.preventDefault());break;default:if(65===i&&this.multiple&&Uy(t,"ctrlKey")&&!r.isTyping()){const d=this.options.some(f=>!f.disabled&&!f.selected);this._setAllOptionsSelected(d,!0,!0),t.preventDefault()}else r.onKeydown(t)}this.multiple&&(38===i||40===i)&&t.shiftKey&&r.activeItemIndex!==s&&this._toggleFocusedOption()}_reportValueChange(){if(this.options&&!this._isDestroyed){const t=this._getSelectedOptionValues();this._onChange(t),this._value=t}}_emitChangeEvent(t){this.selectionChange.emit(new Gee(this,t))}writeValue(t){this._value=t,this.options&&this._setOptionsFromValues(t||[])}setDisabledState(t){this.disabled=t}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}_setOptionsFromValues(t){this.options.forEach(i=>i._setSelected(!1)),t.forEach(i=>{const r=this.options.find(s=>!s.selected&&this.compareWith(s.value,i));r&&r._setSelected(!0)})}_getSelectedOptionValues(){return this.options.filter(t=>t.selected).map(t=>t.value)}_toggleFocusedOption(){let t=this._keyManager.activeItemIndex;if(null!=t&&this._isValidIndex(t)){let i=this.options.toArray()[t];i&&!i.disabled&&(this._multiple||!i.selected)&&(i.toggle(),this._emitChangeEvent([i]))}}_setAllOptionsSelected(t,i,r){const s=[];return this.options.forEach(a=>{(!i||!a.disabled)&&a._setSelected(t)&&s.push(a)}),s.length&&(this._reportValueChange(),r&&this._emitChangeEvent(s)),s}_isValidIndex(t){return t>=0&&t<this.options.length}_getOptionIndex(t){return this.options.toArray().indexOf(t)}_markOptionsForCheck(){this.options&&this.options.forEach(t=>t._markForCheck())}_allowFocusEscape(){this._tabIndex=-1,setTimeout(()=>{this._tabIndex=0,this._changeDetector.markForCheck()})}_updateTabIndex(){this._tabIndex=0===this.options.length?-1:0}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.sBO),c.Y36($d))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-selection-list"]],contentQueries:function(t,i,r){if(1&t&&c.Suo(r,S3,5),2&t){let s;c.iGM(s=c.CRH())&&(i.options=s)}},hostAttrs:["role","listbox",1,"mat-selection-list","mat-list-base"],hostVars:3,hostBindings:function(t,i){1&t&&c.NdJ("keydown",function(s){return i._keydown(s)}),2&t&&c.uIk("aria-multiselectable",i.multiple)("aria-disabled",i.disabled.toString())("tabindex",i._tabIndex)},inputs:{disableRipple:"disableRipple",color:"color",compareWith:"compareWith",disabled:"disabled",multiple:"multiple"},outputs:{selectionChange:"selectionChange"},exportAs:["matSelectionList"],features:[c._Bn([jee]),c.qOj,c.TTD],ngContentSelectors:Pee,decls:1,vars:0,template:function(t,i){1&t&&(c.F$t(),c.Hsn(0))},styles:['.mat-subheader{display:flex;box-sizing:border-box;padding:16px;align-items:center}.mat-list-base .mat-subheader{margin:0}button.mat-list-item,button.mat-list-option{padding:0;width:100%;background:none;color:inherit;border:none;outline:inherit;-webkit-tap-highlight-color:rgba(0,0,0,0);text-align:left}[dir=rtl] button.mat-list-item,[dir=rtl] button.mat-list-option{text-align:right}button.mat-list-item::-moz-focus-inner,button.mat-list-option::-moz-focus-inner{border:0}.mat-list-base{padding-top:8px;display:block;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-list-base .mat-subheader{height:48px;line-height:16px}.mat-list-base .mat-subheader:first-child{margin-top:-8px}.mat-list-base .mat-list-item,.mat-list-base .mat-list-option{display:block;height:48px;-webkit-tap-highlight-color:rgba(0,0,0,0);width:100%;padding:0}.mat-list-base .mat-list-item .mat-list-item-content,.mat-list-base .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base .mat-list-item .mat-list-item-content-reverse,.mat-list-base .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base .mat-list-item .mat-list-item-ripple,.mat-list-base .mat-list-option .mat-list-item-ripple{display:block;top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar,.mat-list-base .mat-list-option.mat-list-item-with-avatar{height:56px}.mat-list-base .mat-list-item.mat-2-line,.mat-list-base .mat-list-option.mat-2-line{height:72px}.mat-list-base .mat-list-item.mat-3-line,.mat-list-base .mat-list-option.mat-3-line{height:88px}.mat-list-base .mat-list-item.mat-multi-line,.mat-list-base .mat-list-option.mat-multi-line{height:auto}.mat-list-base .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base .mat-list-item .mat-list-text,.mat-list-base .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base .mat-list-item .mat-list-text>*,.mat-list-base .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base .mat-list-item .mat-list-text:empty,.mat-list-base .mat-list-option .mat-list-text:empty{display:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base .mat-list-item .mat-list-avatar,.mat-list-base .mat-list-option .mat-list-avatar{flex-shrink:0;width:40px;height:40px;border-radius:50%;object-fit:cover}.mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:72px;width:calc(100% - 72px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:72px}.mat-list-base .mat-list-item .mat-list-icon,.mat-list-base .mat-list-option .mat-list-icon{flex-shrink:0;width:24px;height:24px;font-size:24px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:64px;width:calc(100% - 64px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:64px}.mat-list-base .mat-list-item .mat-divider,.mat-list-base .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base .mat-list-item .mat-divider,[dir=rtl] .mat-list-base .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-list-base[dense]{padding-top:4px;display:block}.mat-list-base[dense] .mat-subheader{height:40px;line-height:8px}.mat-list-base[dense] .mat-subheader:first-child{margin-top:-4px}.mat-list-base[dense] .mat-list-item,.mat-list-base[dense] .mat-list-option{display:block;height:40px;-webkit-tap-highlight-color:rgba(0,0,0,0);width:100%;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-item-content,.mat-list-base[dense] .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base[dense] .mat-list-item .mat-list-item-content-reverse,.mat-list-base[dense] .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base[dense] .mat-list-item .mat-list-item-ripple,.mat-list-base[dense] .mat-list-option .mat-list-item-ripple{display:block;top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar{height:48px}.mat-list-base[dense] .mat-list-item.mat-2-line,.mat-list-base[dense] .mat-list-option.mat-2-line{height:60px}.mat-list-base[dense] .mat-list-item.mat-3-line,.mat-list-base[dense] .mat-list-option.mat-3-line{height:76px}.mat-list-base[dense] .mat-list-item.mat-multi-line,.mat-list-base[dense] .mat-list-option.mat-multi-line{height:auto}.mat-list-base[dense] .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base[dense] .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base[dense] .mat-list-item .mat-list-text,.mat-list-base[dense] .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-text>*,.mat-list-base[dense] .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base[dense] .mat-list-item .mat-list-text:empty,.mat-list-base[dense] .mat-list-option .mat-list-text:empty{display:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base[dense] .mat-list-item .mat-list-avatar,.mat-list-base[dense] .mat-list-option .mat-list-avatar{flex-shrink:0;width:36px;height:36px;border-radius:50%;object-fit:cover}.mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:68px;width:calc(100% - 68px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:68px}.mat-list-base[dense] .mat-list-item .mat-list-icon,.mat-list-base[dense] .mat-list-option .mat-list-icon{flex-shrink:0;width:20px;height:20px;font-size:20px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:60px;width:calc(100% - 60px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:60px}.mat-list-base[dense] .mat-list-item .mat-divider,.mat-list-base[dense] .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-divider,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base[dense] .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-nav-list a{text-decoration:none;color:inherit}.mat-nav-list .mat-list-item{cursor:pointer;outline:none}mat-action-list .mat-list-item{cursor:pointer;outline:inherit}.mat-list-option:not(.mat-list-item-disabled){cursor:pointer;outline:none}.mat-list-item-disabled{pointer-events:none}.cdk-high-contrast-active .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active :host .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active .mat-list-option:hover,.cdk-high-contrast-active .mat-nav-list .mat-list-item:hover,.cdk-high-contrast-active mat-action-list .mat-list-item:hover{outline:dotted 1px;z-index:1}.cdk-high-contrast-active .mat-list-single-selected-option::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active [dir=rtl] .mat-list-single-selected-option::after{right:auto;left:16px}@media(hover: none){.mat-list-option:not(.mat-list-single-selected-option):not(.mat-list-item-disabled):hover,.mat-nav-list .mat-list-item:not(.mat-list-item-disabled):hover,.mat-action-list .mat-list-item:not(.mat-list-item-disabled):hover{background:none}}'],encapsulation:2,changeDetection:0}),n})(),Wee=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[gz,Rw,hi,bz,ki,gz,hi,bz,Oee]}),n})();var I3=z(3099);class qee{}class qd{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const i=t.indexOf(":");if(i>0){const r=t.slice(0,i),s=r.toLowerCase(),a=t.slice(i+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(a):this.headers.set(s,[a])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let i=e[t];const r=t.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(t,r))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof qd?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new qd;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof qd?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(e.name,t);const r=("a"===e.op?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":const s=e.value;if(s){let a=this.headers.get(t);if(!a)return;a=a.filter(d=>-1===s.indexOf(d)),0===a.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,a)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class Yee{encodeKey(e){return T3(e)}encodeValue(e){return T3(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const Kee=/%(\d[a-f0-9])/gi,Qee={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function T3(n){return encodeURIComponent(n).replace(Kee,(e,t)=>Qee[t]??e)}function tx(n){return`${n}`}class Yd{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Yee,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Zee(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const s=r.indexOf("="),[a,d]=-1==s?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,s)),e.decodeValue(r.slice(s+1))],f=t.get(a)||[];f.push(d),t.set(a,f)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const i=e.fromObject[t],r=Array.isArray(i)?i.map(tx):[tx(i)];this.map.set(t,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(i=>{const r=e[i];Array.isArray(r)?r.forEach(s=>{t.push({param:i,value:s,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Yd({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(tx(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let i=this.map.get(e.param)||[];const r=i.indexOf(tx(e.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class Xee{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function D3(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function A3(n){return typeof Blob<"u"&&n instanceof Blob}function x3(n){return typeof FormData<"u"&&n instanceof FormData}class qw{constructor(e,t,i,r){let s;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function Jee(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,s=r):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new qd),this.context||(this.context=new Xee),this.params){const a=this.params.toString();if(0===a.length)this.urlWithParams=t;else{const d=t.indexOf("?");this.urlWithParams=t+(-1===d?"?":d<t.length-1?"&":"")+a}}else this.params=new Yd,this.urlWithParams=t}serializeBody(){return null===this.body?null:D3(this.body)||A3(this.body)||x3(this.body)||function ete(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Yd?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||x3(this.body)?null:A3(this.body)?this.body.type||null:D3(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Yd?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,s=void 0!==e.body?e.body:this.body,a=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,d=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let f=e.headers||this.headers,p=e.params||this.params;const _=e.context??this.context;return void 0!==e.setHeaders&&(f=Object.keys(e.setHeaders).reduce((v,w)=>v.set(w,e.setHeaders[w]),f)),e.setParams&&(p=Object.keys(e.setParams).reduce((v,w)=>v.set(w,e.setParams[w]),p)),new qw(t,i,s,{params:p,headers:f,context:_,reportProgress:d,responseType:r,withCredentials:a})}}var Pr=(()=>((Pr=Pr||{})[Pr.Sent=0]="Sent",Pr[Pr.UploadProgress=1]="UploadProgress",Pr[Pr.ResponseHeader=2]="ResponseHeader",Pr[Pr.DownloadProgress=3]="DownloadProgress",Pr[Pr.Response=4]="Response",Pr[Pr.User=5]="User",Pr))();class nF extends class tte{constructor(e,t=200,i="OK"){this.headers=e.headers||new qd,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}{constructor(e={}){super(e),this.type=Pr.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new nF({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}function iF(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let k3=(()=>{class n{constructor(t){this.handler=t}request(t,i,r={}){let s;if(t instanceof qw)s=t;else{let f,p;f=r.headers instanceof qd?r.headers:new qd(r.headers),r.params&&(p=r.params instanceof Yd?r.params:new Yd({fromObject:r.params})),s=new qw(t,i,void 0!==r.body?r.body:null,{headers:f,context:r.context,params:p,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const a=tt(s).pipe(Os(f=>this.handler.handle(f)));if(t instanceof qw||"events"===r.observe)return a;const d=a.pipe(Rn(f=>f instanceof nF));switch(r.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return d.pipe((0,rt.U)(f=>{if(null!==f.body&&!(f.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return f.body}));case"blob":return d.pipe((0,rt.U)(f=>{if(null!==f.body&&!(f.body instanceof Blob))throw new Error("Response is not a Blob.");return f.body}));case"text":return d.pipe((0,rt.U)(f=>{if(null!==f.body&&"string"!=typeof f.body)throw new Error("Response is not a string.");return f.body}));default:return d.pipe((0,rt.U)(f=>f.body))}case"response":return d;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:(new Yd).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,r={}){return this.request("PATCH",t,iF(r,i))}post(t,i,r={}){return this.request("POST",t,iF(r,i))}put(t,i,r={}){return this.request("PUT",t,iF(r,i))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(qee))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const ite=["*"];let nx;function Yw(n){return function rte(){if(void 0===nx&&(nx=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(nx=n.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return nx}()?.createHTML(n)||n}function R3(n){return Error(`Unable to find icon with the name "${n}"`)}function O3(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function P3(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class Bp{constructor(e,t,i){this.url=e,this.svgText=t,this.options=i}}let ix=(()=>{class n{constructor(t,i,r,s){this._httpClient=t,this._sanitizer=i,this._errorHandler=s,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=r}addSvgIcon(t,i,r){return this.addSvgIconInNamespace("",t,i,r)}addSvgIconLiteral(t,i,r){return this.addSvgIconLiteralInNamespace("",t,i,r)}addSvgIconInNamespace(t,i,r,s){return this._addSvgIconConfig(t,i,new Bp(r,null,s))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,i,r,s){const a=this._sanitizer.sanitize(c.q3G.HTML,r);if(!a)throw P3(r);const d=Yw(a);return this._addSvgIconConfig(t,i,new Bp("",d,s))}addSvgIconSet(t,i){return this.addSvgIconSetInNamespace("",t,i)}addSvgIconSetLiteral(t,i){return this.addSvgIconSetLiteralInNamespace("",t,i)}addSvgIconSetInNamespace(t,i,r){return this._addSvgIconSetConfig(t,new Bp(i,null,r))}addSvgIconSetLiteralInNamespace(t,i,r){const s=this._sanitizer.sanitize(c.q3G.HTML,i);if(!s)throw P3(i);const a=Yw(s);return this._addSvgIconSetConfig(t,new Bp("",a,r))}registerFontClassAlias(t,i=t){return this._fontCssClassesByAlias.set(t,i),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(...t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const i=this._sanitizer.sanitize(c.q3G.RESOURCE_URL,t);if(!i)throw O3(t);const r=this._cachedIconsByUrl.get(i);return r?tt(rx(r)):this._loadSvgIconFromConfig(new Bp(t,null)).pipe(An(s=>this._cachedIconsByUrl.set(i,s)),(0,rt.U)(s=>rx(s)))}getNamedSvgIcon(t,i=""){const r=N3(i,t);let s=this._svgIconConfigs.get(r);if(s)return this._getSvgFromConfig(s);if(s=this._getIconConfigFromResolvers(i,t),s)return this._svgIconConfigs.set(r,s),this._getSvgFromConfig(s);const a=this._iconSetConfigs.get(i);return a?this._getSvgFromIconSetConfigs(t,a):Ao(R3(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?tt(rx(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe((0,rt.U)(i=>rx(i)))}_getSvgFromIconSetConfigs(t,i){const r=this._extractIconWithNameFromAnySet(t,i);return r?tt(r):dj(i.filter(a=>!a.svgText).map(a=>this._loadSvgIconSetFromConfig(a).pipe(Hr(d=>{const p=`Loading icon set URL: ${this._sanitizer.sanitize(c.q3G.RESOURCE_URL,a.url)} failed: ${d.message}`;return this._errorHandler.handleError(new Error(p)),tt(null)})))).pipe((0,rt.U)(()=>{const a=this._extractIconWithNameFromAnySet(t,i);if(!a)throw R3(t);return a}))}_extractIconWithNameFromAnySet(t,i){for(let r=i.length-1;r>=0;r--){const s=i[r];if(s.svgText&&s.svgText.toString().indexOf(t)>-1){const a=this._svgElementFromConfig(s),d=this._extractSvgIconFromSet(a,t,s.options);if(d)return d}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe(An(i=>t.svgText=i),(0,rt.U)(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?tt(null):this._fetchIcon(t).pipe(An(i=>t.svgText=i))}_extractSvgIconFromSet(t,i,r){const s=t.querySelector(`[id="${i}"]`);if(!s)return null;const a=s.cloneNode(!0);if(a.removeAttribute("id"),"svg"===a.nodeName.toLowerCase())return this._setSvgAttributes(a,r);if("symbol"===a.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(a),r);const d=this._svgElementFromString(Yw("<svg></svg>"));return d.appendChild(a),this._setSvgAttributes(d,r)}_svgElementFromString(t){const i=this._document.createElement("DIV");i.innerHTML=t;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(t){const i=this._svgElementFromString(Yw("<svg></svg>")),r=t.attributes;for(let s=0;s<r.length;s++){const{name:a,value:d}=r[s];"id"!==a&&i.setAttribute(a,d)}for(let s=0;s<t.childNodes.length;s++)t.childNodes[s].nodeType===this._document.ELEMENT_NODE&&i.appendChild(t.childNodes[s].cloneNode(!0));return i}_setSvgAttributes(t,i){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),i&&i.viewBox&&t.setAttribute("viewBox",i.viewBox),t}_fetchIcon(t){const{url:i,options:r}=t,s=r?.withCredentials??!1;if(!this._httpClient)throw function ste(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const a=this._sanitizer.sanitize(c.q3G.RESOURCE_URL,i);if(!a)throw O3(i);const d=this._inProgressUrlFetches.get(a);if(d)return d;const f=this._httpClient.get(a,{responseType:"text",withCredentials:s}).pipe((0,rt.U)(p=>Yw(p)),wc(()=>this._inProgressUrlFetches.delete(a)),(0,I3.B)());return this._inProgressUrlFetches.set(a,f),f}_addSvgIconConfig(t,i,r){return this._svgIconConfigs.set(N3(t,i),r),this}_addSvgIconSetConfig(t,i){const r=this._iconSetConfigs.get(t);return r?r.push(i):this._iconSetConfigs.set(t,[i]),this}_svgElementFromConfig(t){if(!t.svgElement){const i=this._svgElementFromString(t.svgText);this._setSvgAttributes(i,t.options),t.svgElement=i}return t.svgElement}_getIconConfigFromResolvers(t,i){for(let r=0;r<this._resolvers.length;r++){const s=this._resolvers[r](i,t);if(s)return ate(s)?new Bp(s.url,null,s.options):new Bp(s,null)}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(k3,8),c.LFG(So),c.LFG(Ce,8),c.LFG(c.qLn))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function rx(n){return n.cloneNode(!0)}function N3(n,e){return n+":"+e}function ate(n){return!(!n.url||!n.options)}const lte=kA(class{constructor(n){this._elementRef=n}}),cte=new c.OlP("MAT_ICON_DEFAULT_OPTIONS"),ute=new c.OlP("mat-icon-location",{providedIn:"root",factory:function dte(){const n=(0,c.f3M)(Ce),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),F3=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],hte=F3.map(n=>`[${n}]`).join(", "),fte=/^url\(['"]?#(.*?)['"]?\)$/;let L3=(()=>{class n extends lte{constructor(t,i,r,s,a,d){super(t),this._iconRegistry=i,this._location=s,this._errorHandler=a,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=Ir.w0.EMPTY,d&&(d.color&&(this.color=this.defaultColor=d.color),d.fontSet&&(this.fontSet=d.fontSet)),r||t.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(t){this._inline=rr(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const i=this._cleanupFontValue(t);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const i=this._cleanupFontValue(t);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}_splitIconName(t){if(!t)return["",""];const i=t.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let i=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=t.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>t.classList.remove(r)),i.forEach(r=>t.classList.add(r)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const i=this._elementsWithExternalReferences;i&&i.forEach((r,s)=>{r.forEach(a=>{s.setAttribute(a.name,`url('${t}#${a.value}')`)})})}_cacheChildrenWithExternalReferences(t){const i=t.querySelectorAll(hte),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let s=0;s<i.length;s++)F3.forEach(a=>{const d=i[s],f=d.getAttribute(a),p=f?f.match(fte):null;if(p){let _=r.get(d);_||(_=[],r.set(d,_)),_.push({name:a,value:p[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[i,r]=this._splitIconName(t);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe(tn(1)).subscribe(s=>this._setSvgElement(s),s=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${s.message}`))})}}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(ix),c.$8M("aria-hidden"),c.Y36(ute),c.Y36(c.qLn),c.Y36(cte,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(t,i){2&t&&(c.uIk("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet)("fontIcon",i._usingFontIcon()?i.fontIcon:null),c.ekj("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[c.qOj],ngContentSelectors:ite,decls:1,vars:0,template:function(t,i){1&t&&(c.F$t(),c.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),n})(),V3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[hi,hi]}),n})();function pte(n,e){if(1&n&&(c.O4$(),c._UZ(0,"circle",4)),2&n){const t=c.oxw(),i=c.MAs(1);c.Udp("animation-name","mat-progress-spinner-stroke-rotate-"+t._spinnerAnimationLabel)("stroke-dashoffset",t._getStrokeDashOffset(),"px")("stroke-dasharray",t._getStrokeCircumference(),"px")("stroke-width",t._getCircleStrokeWidth(),"%")("transform-origin",t._getCircleTransformOrigin(i)),c.uIk("r",t._getCircleRadius())}}function mte(n,e){if(1&n&&(c.O4$(),c._UZ(0,"circle",4)),2&n){const t=c.oxw(),i=c.MAs(1);c.Udp("stroke-dashoffset",t._getStrokeDashOffset(),"px")("stroke-dasharray",t._getStrokeCircumference(),"px")("stroke-width",t._getCircleStrokeWidth(),"%")("transform-origin",t._getCircleTransformOrigin(i)),c.uIk("r",t._getCircleRadius())}}const _te=kA(class{constructor(n){this._elementRef=n}},"primary"),yte=new c.OlP("mat-progress-spinner-default-options",{providedIn:"root",factory:function vte(){return{diameter:100}}});class Ll extends _te{constructor(e,t,i,r,s,a,d,f){super(e),this._document=i,this._diameter=100,this._value=0,this._resizeSubscription=Ir.w0.EMPTY,this.mode="determinate";const p=Ll._diameters;this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),p.has(i.head)||p.set(i.head,new Set([100])),this._noopAnimations="NoopAnimations"===r&&!!s&&!s._forceAnimations,"mat-spinner"===e.nativeElement.nodeName.toLowerCase()&&(this.mode="indeterminate"),s&&(s.color&&(this.color=this.defaultColor=s.color),s.diameter&&(this.diameter=s.diameter),s.strokeWidth&&(this.strokeWidth=s.strokeWidth)),t.isBrowser&&t.SAFARI&&d&&a&&f&&(this._resizeSubscription=d.change(150).subscribe(()=>{"indeterminate"===this.mode&&f.run(()=>a.markForCheck())}))}get diameter(){return this._diameter}set diameter(e){this._diameter=$y(e),this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),this._styleRoot&&this._attachStyleNode()}get strokeWidth(){return this._strokeWidth||this.diameter/10}set strokeWidth(e){this._strokeWidth=$y(e)}get value(){return"determinate"===this.mode?this._value:0}set value(e){this._value=Math.max(0,Math.min(100,$y(e)))}ngOnInit(){const e=this._elementRef.nativeElement;this._styleRoot=qH(e)||this._document.head,this._attachStyleNode(),e.classList.add("mat-progress-spinner-indeterminate-animation")}ngOnDestroy(){this._resizeSubscription.unsubscribe()}_getCircleRadius(){return(this.diameter-10)/2}_getViewBox(){const e=2*this._getCircleRadius()+this.strokeWidth;return`0 0 ${e} ${e}`}_getStrokeCircumference(){return 2*Math.PI*this._getCircleRadius()}_getStrokeDashOffset(){return"determinate"===this.mode?this._getStrokeCircumference()*(100-this._value)/100:null}_getCircleStrokeWidth(){return this.strokeWidth/this.diameter*100}_getCircleTransformOrigin(e){const t=50*(e.currentScale??1);return`${t}% ${t}%`}_attachStyleNode(){const e=this._styleRoot,t=this._diameter,i=Ll._diameters;let r=i.get(e);if(!r||!r.has(t)){const s=this._document.createElement("style");s.setAttribute("mat-spinner-animation",this._spinnerAnimationLabel),s.textContent=this._getAnimationText(),e.appendChild(s),r||(r=new Set,i.set(e,r)),r.add(t)}}_getAnimationText(){const e=this._getStrokeCircumference();return"\n @keyframes mat-progress-spinner-stroke-rotate-DIAMETER {\n    0%      { stroke-dashoffset: START_VALUE;  transform: rotate(0); }\n    12.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(0); }\n    12.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(72.5deg); }\n    25%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(72.5deg); }\n\n    25.0001%   { stroke-dashoffset: START_VALUE;  transform: rotate(270deg); }\n    37.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(270deg); }\n    37.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(161.5deg); }\n    50%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(161.5deg); }\n\n    50.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(180deg); }\n    62.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(180deg); }\n    62.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(251.5deg); }\n    75%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(251.5deg); }\n\n    75.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(90deg); }\n    87.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(90deg); }\n    87.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(341.5deg); }\n    100%    { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(341.5deg); }\n  }\n".replace(/START_VALUE/g,""+.95*e).replace(/END_VALUE/g,""+.2*e).replace(/DIAMETER/g,`${this._spinnerAnimationLabel}`)}_getSpinnerAnimationLabel(){return this.diameter.toString().replace(".","_")}}Ll._diameters=new WeakMap,Ll.\u0275fac=function(e){return new(e||Ll)(c.Y36(c.SBq),c.Y36(ps),c.Y36(Ce,8),c.Y36(c.QbO,8),c.Y36(yte),c.Y36(c.sBO),c.Y36(wN),c.Y36(c.R0b))},Ll.\u0275cmp=c.Xpm({type:Ll,selectors:[["mat-progress-spinner"],["mat-spinner"]],hostAttrs:["role","progressbar","tabindex","-1",1,"mat-progress-spinner","mat-spinner"],hostVars:10,hostBindings:function(e,t){2&e&&(c.uIk("aria-valuemin","determinate"===t.mode?0:null)("aria-valuemax","determinate"===t.mode?100:null)("aria-valuenow","determinate"===t.mode?t.value:null)("mode",t.mode),c.Udp("width",t.diameter,"px")("height",t.diameter,"px"),c.ekj("_mat-animation-noopable",t._noopAnimations))},inputs:{color:"color",diameter:"diameter",strokeWidth:"strokeWidth",mode:"mode",value:"value"},exportAs:["matProgressSpinner"],features:[c.qOj],decls:4,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false","aria-hidden","true",3,"ngSwitch"],["svg",""],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(e,t){1&e&&(c.O4$(),c.TgZ(0,"svg",0,1),c.YNc(2,pte,1,11,"circle",2),c.YNc(3,mte,1,9,"circle",3),c.qZA()),2&e&&(c.Udp("width",t.diameter,"px")("height",t.diameter,"px"),c.Q6J("ngSwitch","indeterminate"===t.mode),c.uIk("viewBox",t._getViewBox()),c.xp6(2),c.Q6J("ngSwitchCase",!0),c.xp6(1),c.Q6J("ngSwitchCase",!1))},dependencies:[Ts,ra],styles:[".mat-progress-spinner{display:block;position:relative;overflow:hidden}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:rgba(0,0,0,0);transition:stroke-dashoffset 225ms linear}.cdk-high-contrast-active .mat-progress-spinner circle{stroke:CanvasText}.mat-progress-spinner[mode=indeterminate] svg{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}.mat-progress-spinner[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}.mat-progress-spinner._mat-animation-noopable svg,.mat-progress-spinner._mat-animation-noopable circle{animation:none;transition:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}"],encapsulation:2,changeDetection:0});let sx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[hi,ki,hi]}),n})(),Ete=(()=>{class n{transform(t,i){return t.filter(r=>r.name.toLowerCase().includes(i.toLowerCase()))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=c.Yjl({name:"cityChangeFilter",type:n,pure:!0}),n})();function wte(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"mat-list-option",15),c.NdJ("click",function(){const s=c.CHM(t).$implicit,a=c.oxw(2);return c.KtG(a.selectedCity=s.name)}),c.TgZ(1,"mat-radio-group",16),c.NdJ("ngModelChange",function(r){c.CHM(t);const s=c.oxw(2);return c.KtG(s.selectedCity=r)}),c.TgZ(2,"div",17)(3,"div"),c._uU(4),c.qZA(),c._UZ(5,"mat-radio-button",18),c.qZA()()()}if(2&n){const t=e.$implicit,i=c.oxw(2);c.ekj("active",i.selectedCity==t.name),c.xp6(1),c.Q6J("ngModel",i.selectedCity)("value",i.selectedCity),c.xp6(3),c.Oqu(t.name),c.xp6(1),c.Q6J("value",t.name)}}function Cte(n,e){if(1&n&&(c.ynx(0),c.YNc(1,wte,6,6,"mat-list-option",14),c.ALo(2,"cityChangeFilter"),c.BQk()),2&n){const t=e.ngIf,i=c.oxw();c.xp6(1),c.Q6J("ngForOf",c.xi3(2,1,t,i.filterCity))}}function Ste(n,e){1&n&&c._UZ(0,"mat-spinner")}let Ite=(()=>{class n{constructor(t,i,r){this.firestore=t,this.data=i,this.dialogRef=r,this.selectedCity=this.data.selectedCity,this.filterCity="",this.subject=new zt.x}getCities(){this.cities=$H(jH(HH(this.firestore,"/cities")),{idField:"userId"})}ngOnInit(){console.log(this.selectedCity),this.getCities()}close(){this.dialogRef.close()}save(){(function EX(n=0,e=Vc){return n<0&&(n=0),yN(n,n,e)})().pipe(tn(1),vN(1200)).subscribe(()=>{this.dialogRef.close(this.selectedCity)})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Mp),c.Y36(aj),c.Y36(HA))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-city-change"]],inputs:{selectedCity:"selectedCity"},decls:21,vars:6,consts:[[1,"wrapper","d-flex","flex-col","height"],[1,"header"],[1,"d-flex","justify-between","align-center","pr-4","pl-4","pt-4"],[1,"fz-5","fw600"],["mat-icon-button","","aria-label","Example icon button with a vertical three dot icon",3,"click"],[1,"fz-5"],[1,"mt-4","ml-4","mr-4"],["type","search","placeholder","\u041d\u0430\u0439\u0442\u0438 \u0433\u043e\u0440\u043e\u0434",1,"width",3,"ngModel","ngModelChange"],[1,"list","spacer",3,"multiple"],[4,"ngIf","ngIfElse"],[1,"footer","d-flex"],["mat-button","","color","warn",1,"spacer","fw600",3,"click"],["mat-button","","color","primary",1,"spacer","fw600",3,"click"],["spinnerRef",""],[3,"active","click",4,"ngFor","ngForOf"],[3,"click"],["aria-label","Select an option",3,"ngModel","value","ngModelChange"],[1,"city","d-flex","width","justify-between","pointer"],[3,"value"]],template:function(t,i){if(1&t&&(c.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),c._uU(4,"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0433\u043e\u0440\u043e\u0434"),c.qZA(),c.TgZ(5,"div")(6,"button",4),c.NdJ("click",function(){return i.close()}),c.TgZ(7,"mat-icon",5),c._uU(8,"close"),c.qZA()()()(),c.TgZ(9,"div",6)(10,"input",7),c.NdJ("ngModelChange",function(s){return i.filterCity=s}),c.qZA()()(),c.TgZ(11,"mat-selection-list",8),c.YNc(12,Cte,3,4,"ng-container",9),c.ALo(13,"async"),c.qZA(),c.TgZ(14,"div",10)(15,"button",11),c.NdJ("click",function(){return i.close()}),c._uU(16,"\u041e\u0442\u043c\u0435\u043d\u0430"),c.qZA(),c.TgZ(17,"button",12),c.NdJ("click",function(){return i.save()}),c._uU(18,"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"),c.qZA()()(),c.YNc(19,Ste,1,0,"ng-template",null,13,c.W1O)),2&t){const r=c.MAs(20);c.xp6(10),c.Q6J("ngModel",i.filterCity),c.xp6(1),c.Q6J("multiple",!1),c.xp6(1),c.Q6J("ngIf",c.lcZ(13,4,i.cities))("ngIfElse",r)}},dependencies:[Vr,Nn,w3,C3,tF,S3,Zy,GA,qN,L3,oN,Ll,om,Ete],styles:[".list[_ngcontent-%COMP%]{overflow-y:scroll}.active[_ngcontent-%COMP%]{background-color:#fdffde}.header[_ngcontent-%COMP%]{height:120px}.footer[_ngcontent-%COMP%]{height:70px}mat-selection-list[_ngcontent-%COMP%]     .mat-list-text{padding-right:0!important}input[_ngcontent-%COMP%]{height:32px;border-radius:.5rem;border:1px solid grey;padding-left:1rem;padding-right:1rem}"]}),n})();class B3{constructor(){this.loading=!0}on(){this.loading=!1}off(){this.loading=!0}}function ox(){return(0,Wn.e)((n,e)=>{let t,i=!1;n.subscribe((0,Bn.x)(e,r=>{const s=t;t=r,i&&e.next([s,r]),i=!0}))})}var gs=z(2011),U3=(z(5881),z(3942));function sF(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Ue("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function $3(){if(typeof Uint8Array>"u")throw new Ue("unimplemented","Uint8Arrays are not available in this environment.")}function H3(){if(!function u5(){return typeof atob<"u"}())throw new Ue("unimplemented","Blobs are unavailable in Firestore in this environment.")}class Zw{constructor(e){this._delegate=e}static fromBase64String(e){return H3(),new Zw(Fl.fromBase64String(e))}static fromUint8Array(e){return $3(),new Zw(Fl.fromUint8Array(e))}toBase64(){return H3(),this._delegate.toBase64()}toUint8Array(){return $3(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function oF(n){return function Ate(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const i of e)if(i in t&&"function"==typeof t[i])return!0;return!1}(n,["next","error","complete"])}class xte{enableIndexedDbPersistence(e,t){return function iZ(n,e){pH(n=gn(n,si));const t=Ni(n),i=n._freezeSettings(),r=new EP;return fH(t,r,new K$(r,i.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function rZ(n){pH(n=gn(n,si));const e=Ni(n),t=n._freezeSettings(),i=new EP;return fH(e,i,new VY(i,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function sZ(n){if(n._initialized&&!n._terminated)throw new Ue(be.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new nr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,te.Z)(function*(){try{yield(t=(0,te.Z)(function*(i){if(!Ua.C())return Promise.resolve();const r=i+"main";yield Ua.delete(r)}),function(i){return t.apply(this,arguments)})(p1(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class z3{constructor(e,t,i){this._delegate=t,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},e instanceof xd||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&lp("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,i={}){iH(this._delegate,e,t,i)}enableNetwork(){return function aZ(n){return function WY(n){return n.asyncQueue.enqueue((0,te.Z)(function*(){const e=yield lH(n),t=yield MP(n);return e.setNetworkEnabled(!0),function(i){const r=at(i);return r._u.delete(0),_w(r)}(t)}))}(Ni(n=gn(n,si)))}(this._delegate)}disableNetwork(){return function lZ(n){return function qY(n){return n.asyncQueue.enqueue((0,te.Z)(function*(){const e=yield lH(n),t=yield MP(n);return e.setNetworkEnabled(!1),(i=(0,te.Z)(function*(r){const s=at(r);s._u.add(0),yield My(s),s.gu.set("Offline")}),function(r){return i.apply(this,arguments)})(t);var i}))}(Ni(n=gn(n,si)))}(this._delegate)}enablePersistence(e){let t=!1,i=!1;return e&&(t=!!e.synchronizeTabs,i=!!e.experimentalForceOwningTab,Q$("synchronizeTabs",t,"experimentalForceOwningTab",i)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function oZ(n){return function(e){const t=new nr;return e.asyncQueue.enqueueAndForget((0,te.Z)(function*(){return function TY(n,e){return sP.apply(this,arguments)}(yield kP(e),t)})),t.promise}(Ni(n=gn(n,si)))}(this._delegate)}onSnapshotsInSync(e){return function VZ(n,e){return function KY(n,e){const t=new mA(e);return n.asyncQueue.enqueueAndForget((0,te.Z)(function*(){return i=yield Ly(n),r=t,at(i).Ru.add(r),void r.next();var i,r})),()=>{t.bc(),n.asyncQueue.enqueueAndForget((0,te.Z)(function*(){return i=yield Ly(n),r=t,void at(i).Ru.delete(r);var i,r}))}}(Ni(n=gn(n,si)),OP(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Ue("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Xy(this,CP(this._delegate,e))}catch(t){throw _s(t,"collection()","Firestore.collection()")}}doc(e){try{return new Go(this,bw(this._delegate,e))}catch(t){throw _s(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new ys(this,function BY(n,e){if(n=gn(n,vw),wP("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Ue(be.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Kr(n,null,(t=e,new qc(bn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw _s(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function $Z(n,e,t){n=gn(n,si);const i=Object.assign(Object.assign({},BZ),t);return function(r){if(r.maxAttempts<1)throw new Ue(be.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(r,s,a){const d=new nr;return r.asyncQueue.enqueueAndForget((0,te.Z)(function*(){const f=yield function cH(n){return gA(n).then(e=>e.datastore)}(r);new jY(r.asyncQueue,f,a,s,d).run()})),d.promise}(Ni(n),r=>e(new UZ(n,r)),i)}(this._delegate,t=>e(new j3(this,t)))}batch(){return Ni(this._delegate),new G3(new PH(this._delegate,e=>Vy(this._delegate,e)))}loadBundle(e){return function cZ(n,e){const t=Ni(n=gn(n,si)),i=new eZ;return function QY(n,e,t,i){const r=function(s,a){let d;return d="string"==typeof s?(new TextEncoder).encode(s):s,f=function(f,p){if(f instanceof Uint8Array)return sH(f,p);if(f instanceof ArrayBuffer)return sH(new Uint8Array(f),p);if(f instanceof ReadableStream)return f.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(d),new UY(f,a);var f}(t,gw(e));n.asyncQueue.enqueueAndForget((0,te.Z)(function*(){!function LY(n,e,t){const i=at(n);var r;(r=(0,te.Z)(function*(s,a,d){try{const f=yield a.getMetadata();if(yield function(w,D){const A=at(w),x=pr(D.createTime);return A.persistence.runTransaction("hasNewerBundle","readonly",k=>A.Ns.getBundleMetadata(k,D.id)).then(k=>!!k&&k.createTime.compareTo(x)>=0)}(s.localStore,f))return yield a.close(),d._completeWith({taskState:"Success",documentsLoaded:(w=f).totalDocuments,bytesLoaded:w.totalBytes,totalDocuments:w.totalDocuments,totalBytes:w.totalBytes}),Promise.resolve(new Set);d._updateProgress(U$(f));const p=new gY(f,s.localStore,a.It);let _=yield a.mc();for(;_;){const w=yield p.Fu(_);w&&d._updateProgress(w),_=yield a.mc()}const v=yield p.complete();return yield Kc(s,v.Lu,void 0),yield function(w,D){const A=at(w);return A.persistence.runTransaction("Save bundle","readwrite",x=>A.Ns.saveBundleMetadata(x,D))}(s.localStore,f),d._completeWith(v.progress),Promise.resolve(v.Bu)}catch(f){return lp("SyncEngine",`Loading bundle failed with ${f}`),d._failWith(f),Promise.resolve(new Set)}var w}),function(s,a,d){return r.apply(this,arguments)})(i,e,t).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield kP(n),r,i)}))}(t,n._databaseId,e,i),i}(this._delegate,e)}namedQuery(e){return function uZ(n,e){return function XY(n,e){return n.asyncQueue.enqueue((0,te.Z)(function*(){return function(t,i){const r=at(t);return r.persistence.runTransaction("Get named query","readonly",s=>r.Ns.getNamedQuery(s,i))}(yield _A(n),e)}))}(Ni(n=gn(n,si)),e).then(t=>t?new Kr(n,null,t.query):null)}(this._delegate,e).then(t=>t?new ys(this,t):null)}}class ax extends BP{constructor(e){super(),this.firestore=e}convertBytes(e){return new Zw(new Fl(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Go.forKey(t,this.firestore,null)}}class j3{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new ax(e)}get(e){const t=$p(e);return this._delegate.get(t).then(i=>new Kw(this._firestore,new Jc(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,t.converter)))}set(e,t,i){const r=$p(e);return i?(sF("Transaction.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const s=$p(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,i,...r),this}delete(e){const t=$p(e);return this._delegate.delete(t),this}}class G3{constructor(e){this._delegate=e}set(e,t,i){const r=$p(e);return i?(sF("WriteBatch.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const s=$p(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,i,...r),this}delete(e){const t=$p(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Up{constructor(e,t,i){this._firestore=e,this._userDataWriter=t,this._delegate=i}fromFirestore(e,t){const i=new Sw(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Qw(this._firestore,i),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const i=Up.INSTANCES;let r=i.get(e);r||(r=new WeakMap,i.set(e,r));let s=r.get(t);return s||(s=new Up(e,new ax(e),t),r.set(t,s)),s}}Up.INSTANCES=new WeakMap;class Go{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new ax(e)}static forPath(e,t,i){if(e.length%2!=0)throw new Ue("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Go(t,new ri(t._delegate,i,new st(e)))}static forKey(e,t,i){return new Go(t,new ri(t._delegate,i,e))}get id(){return this._delegate.id}get parent(){return new Xy(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Xy(this.firestore,CP(this._delegate,e))}catch(t){throw _s(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,q.m9)(e))instanceof ri&&rH(this._delegate,e)}set(e,t){t=sF("DocumentReference.set",t);try{return t?RH(this._delegate,e,t):RH(this._delegate,e)}catch(i){throw _s(i,"setDoc()","DocumentReference.set()")}}update(e,t,...i){try{return 1===arguments.length?OH(this._delegate,e):OH(this._delegate,e,t,...i)}catch(r){throw _s(r,"updateDoc()","DocumentReference.update()")}}delete(){return function FZ(n){return Vy(gn(n.firestore,si),[new Cy(n._key,di.none())])}(this._delegate)}onSnapshot(...e){const t=W3(e),i=q3(e,r=>new Kw(this.firestore,new Jc(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return IA(this._delegate,t,i)}get(e){let t;return t="cache"===e?.source?function kZ(n){n=gn(n,ri);const e=gn(n.firestore,si),t=Ni(e),i=new Bd(e);return function YY(n,e){const t=new nr;return n.asyncQueue.enqueueAndForget((0,te.Z)(function*(){return(i=(0,te.Z)(function*(r,s,a){try{const d=yield function(f,p){const _=at(f);return _.persistence.runTransaction("read document","readonly",v=>_.localDocuments.getDocument(v,p))}(r,s);d.isFoundDocument()?a.resolve(d):d.isNoDocument()?a.resolve(null):a.reject(new Ue(be.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(d){const f=Oy(d,`Failed to get document '${s} from cache`);a.reject(f)}}),function(r,s,a){return i.apply(this,arguments)})(yield _A(n),e,t);var i})),t.promise}(t,n._key).then(r=>new Jc(e,i,n._key,r,new xp(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function RZ(n){n=gn(n,ri);const e=gn(n.firestore,si);return uH(Ni(e),n._key,{source:"server"}).then(t=>UP(e,n,t))}(this._delegate):kH(this._delegate),t.then(i=>new Kw(this.firestore,new Jc(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(e){return new Go(this.firestore,this._delegate.withConverter(e?Up.getInstance(this.firestore,e):null))}}function _s(n,e,t){return n.message=n.message.replace(e,t),n}function W3(n){for(const e of n)if("object"==typeof e&&!oF(e))return e;return{}}function q3(n,e){var t,i;let r;return r=oF(n[0])?n[0]:oF(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:s=>{r.next&&r.next(e(s))},error:null===(t=r.error)||void 0===t?void 0:t.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class Kw{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Go(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return MH(this._delegate,e._delegate)}}class Qw extends Kw{data(e){const t=this._delegate.data(e);return function Y6(n,e){n||bt()}(void 0!==t),t}}class ys{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new ax(e)}where(e,t,i){try{return new ys(this.firestore,Xc(this._delegate,function bZ(n,e,t){const i=e,r=CA("where",n);return new vZ(r,i,t)}(e,t,i)))}catch(r){throw _s(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new ys(this.firestore,Xc(this._delegate,function wZ(n,e="asc"){const t=e,i=CA("orderBy",n);return new EZ(i,t)}(e,t)))}catch(i){throw _s(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new ys(this.firestore,Xc(this._delegate,function CZ(n){return eH("limit",n),new CH("limit",n,"F")}(e)))}catch(t){throw _s(t,"limit()","Query.limit()")}}limitToLast(e){try{return new ys(this.firestore,Xc(this._delegate,function SZ(n){return eH("limitToLast",n),new CH("limitToLast",n,"L")}(e)))}catch(t){throw _s(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new ys(this.firestore,Xc(this._delegate,function IZ(...n){return new SH("startAt",n,!0)}(...e)))}catch(t){throw _s(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new ys(this.firestore,Xc(this._delegate,function TZ(...n){return new SH("startAfter",n,!1)}(...e)))}catch(t){throw _s(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new ys(this.firestore,Xc(this._delegate,function DZ(...n){return new IH("endBefore",n,!1)}(...e)))}catch(t){throw _s(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new ys(this.firestore,Xc(this._delegate,function AZ(...n){return new IH("endAt",n,!0)}(...e)))}catch(t){throw _s(t,"endAt()","Query.endAt()")}}isEqual(e){return SP(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function PZ(n){n=gn(n,Kr);const e=gn(n.firestore,si),t=Ni(e),i=new Bd(e);return function ZY(n,e){const t=new nr;return n.asyncQueue.enqueueAndForget((0,te.Z)(function*(){return(i=(0,te.Z)(function*(r,s,a){try{const d=yield lA(r,s,!0),f=new z$(s,d.Hi),p=f.Wu(d.documents),_=f.applyChanges(p,!1);a.resolve(_.snapshot)}catch(d){const f=Oy(d,`Failed to execute query '${s} against cache`);a.reject(f)}}),function(r,s,a){return i.apply(this,arguments)})(yield _A(n),e,t);var i})),t.promise}(t,n._query).then(r=>new Vd(e,i,n,r))}(this._delegate):"server"===e?.source?function NZ(n){n=gn(n,Kr);const e=gn(n.firestore,si),t=Ni(e),i=new Bd(e);return dH(t,n._query,{source:"server"}).then(r=>new Vd(e,i,n,r))}(this._delegate):function OZ(n){n=gn(n,Kr);const e=gn(n.firestore,si),t=Ni(e),i=new Bd(e);return wH(n._query),dH(t,n._query).then(r=>new Vd(e,i,n,r))}(this._delegate),t.then(i=>new aF(this.firestore,new Vd(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...e){const t=W3(e),i=q3(e,r=>new aF(this.firestore,new Vd(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return IA(this._delegate,t,i)}withConverter(e){return new ys(this.firestore,this._delegate.withConverter(e?Up.getInstance(this.firestore,e):null))}}class kte{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Qw(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class aF{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new ys(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Qw(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new kte(this._firestore,t))}forEach(e,t){this._delegate.forEach(i=>{e.call(t,new Qw(this._firestore,i))})}isEqual(e){return MH(this._delegate,e._delegate)}}class Xy extends ys{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Go(this.firestore,e):null}doc(e){try{return new Go(this.firestore,void 0===e?bw(this._delegate):bw(this._delegate,e))}catch(t){throw _s(t,"doc()","CollectionReference.doc()")}}add(e){return function LZ(n,e){const t=gn(n.firestore,si),i=bw(n),r=SA(n.converter,e);return Vy(t,[bA(Dp(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,di.exists(!1))]).then(()=>i)}(this._delegate,e).then(t=>new Go(this.firestore,t))}isEqual(e){return rH(this._delegate,e._delegate)}withConverter(e){return new Xy(this.firestore,this._delegate.withConverter(e?Up.getInstance(this.firestore,e):null))}}function $p(n){return gn(n,ri)}class lF{constructor(...e){this._delegate=new Qc(...e)}static documentId(){return new lF(Ii.keyField().canonicalString())}isEqual(e){return(e=(0,q.m9)(e))instanceof Qc&&this._delegate._internalPath.isEqual(e._internalPath)}}class Hp{constructor(e){this._delegate=e}static serverTimestamp(){const e=function zZ(){return new PP("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Hp(e)}static delete(){const e=function HZ(){return new Ew("deleteField")}();return e._methodName="FieldValue.delete",new Hp(e)}static arrayUnion(...e){const t=function jZ(...n){return new pZ("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Hp(t)}static arrayRemove(...e){const t=function GZ(...n){return new mZ("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Hp(t)}static increment(e){const t=function WZ(n){return new gZ("increment",n)}(e);return t._methodName="FieldValue.increment",new Hp(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const Rte={Firestore:z3,GeoPoint:yA,Timestamp:ui,Blob:Zw,Transaction:j3,WriteBatch:G3,DocumentReference:Go,DocumentSnapshot:Kw,Query:ys,QueryDocumentSnapshot:Qw,QuerySnapshot:aF,CollectionReference:Xy,FieldPath:lF,FieldValue:Hp,setLogLevel:function Mte(n){!function q6(n){Id.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function Pte(n){(function Ote(n,e){n.INTERNAL.registerComponent(new Tr.wA("firestore-compat",t=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("firestore").getImmediate();return e(i,r)},"PUBLIC").setServiceProps(Object.assign({},Rte)))})(n,(e,t)=>new z3(e,t,new xte)),n.registerVersion("@firebase/firestore-compat","0.2.3")}(U3.Z);class Nte extends zt.x{constructor(e=1/0,t=1/0,i=N0){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:s,_windowTime:a}=this;t||(i.push(e),!r&&i.push(s.now()+a)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:r}=this,s=r.slice();for(let a=0;a<s.length&&!e.closed;a+=i?1:2)e.next(s[a]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:i,_infiniteTimeWindow:r}=this,s=(r?1:2)*e;if(e<1/0&&s<i.length&&i.splice(0,i.length-s),!r){const a=t.now();let d=0;for(let f=1;f<i.length&&i[f]<=a;f+=2)d=f;d&&i.splice(0,d+1)}}}function Y3(n,e,t){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:e=1/0,refCount:r=!1,scheduler:t}=n):i=n??1/0,(0,I3.B)({connector:()=>new Nte(i,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function Z3(n,e){return(0,Bi.m)(e)?Un(()=>n,e):Un(()=>n)}z(127);const K3=new c.OlP("angularfire2.auth.use-emulator"),Q3=new c.OlP("angularfire2.auth.settings"),X3=new c.OlP("angularfire2.auth.tenant-id"),J3=new c.OlP("angularfire2.auth.langugage-code"),eG=new c.OlP("angularfire2.auth.use-device-language"),tG=new c.OlP("angularfire.auth.persistence"),nG=(n,e,t,i,r,s,a,d)=>(0,gs.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const f=e.runOutsideAngular(()=>n.auth());if(t&&f.useEmulator(...t),i&&(f.tenantId=i),f.languageCode=r,s&&f.useDeviceLanguage(),a)for(const[p,_]of Object.entries(a))f.settings[p]=_;return d&&f.setPersistence(d),f},[t,i,r,s,a,d]);let Xw=(()=>{class n{constructor(t,i,r,s,a,d,f,p,_,v,w,D){const A=new zt.x,x=tt(void 0).pipe((0,Cl.Q)(a.outsideAngular),Un(()=>s.runOutsideAngular(()=>Promise.resolve().then(z.bind(z,5881)))),(0,rt.U)(()=>(0,gs.on)(t,s,i)),(0,rt.U)(k=>nG(k,s,d,p,_,v,f,w)),Y3({bufferSize:1,refCount:!1}));if(tc(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=tt(null);else{x.pipe(rs()).subscribe();const F=x.pipe(Un(ee=>ee.getRedirectResult().then(oe=>oe,()=>null)),Si,Y3({bufferSize:1,refCount:!1})),L=x.pipe(Un(ee=>new kn.y(oe=>({unsubscribe:s.runOutsideAngular(()=>ee.onAuthStateChanged(ue=>oe.next(ue),ue=>oe.error(ue),()=>oe.complete()))})))),U=x.pipe(Un(ee=>new kn.y(oe=>({unsubscribe:s.runOutsideAngular(()=>ee.onIdTokenChanged(ue=>oe.next(ue),ue=>oe.error(ue),()=>oe.complete()))}))));this.authState=F.pipe(Z3(L),(0,fd.R)(a.outsideAngular),(0,Cl.Q)(a.insideAngular)),this.user=F.pipe(Z3(U),(0,fd.R)(a.outsideAngular),(0,Cl.Q)(a.insideAngular)),this.idToken=this.user.pipe(Un(ee=>ee?(0,dn.D)(ee.getIdToken()):tt(null))),this.idTokenResult=this.user.pipe(Un(ee=>ee?(0,dn.D)(ee.getIdTokenResult()):tt(null))),this.credential=(0,Pp.T)(F,A,this.authState.pipe(Rn(ee=>!ee))).pipe((0,rt.U)(ee=>ee?.user?ee:null),(0,fd.R)(a.outsideAngular),(0,Cl.Q)(a.insideAngular))}return(0,gs.pX)(this,x,s,{spy:{apply:(k,F,L)=>{(k.startsWith("signIn")||k.startsWith("createUser"))&&L.then(U=>A.next(U))}}})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(gs.Dh),c.LFG(gs.xv,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(Yr),c.LFG(K3,8),c.LFG(Q3,8),c.LFG(X3,8),c.LFG(J3,8),c.LFG(eG,8),c.LFG(tG,8),c.LFG(Oa,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function iG(n,e){return function Lte(n,e=Vc){return new kn.y(t=>{let i;return null!=e?e.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},t)}):i=n.onSnapshot({includeMetadataChanges:!0},t),()=>{i?.()}})}(n,e)}function cF(n,e){return iG(n,e).pipe((0,rt.U)(t=>({payload:t,type:"query"})))}function lx(n,e){return cF(n,e).pipe(_i(void 0),ox(),(0,rt.U)(([t,i])=>{const r=i.payload.docChanges(),s=r.map(a=>({type:a.type,payload:a}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((a,d)=>{const f=r.find(_=>_.doc.ref.isEqual(a.ref)),p=t?.payload.docs.find(_=>_.ref.isEqual(a.ref));f&&JSON.stringify(f.doc.metadata)===JSON.stringify(a.metadata)||!f&&p&&JSON.stringify(p.metadata)===JSON.stringify(a.metadata)||s.push({type:"modified",payload:{oldIndex:d,newIndex:d,type:"modified",doc:a}})}),s}))}function rG(n,e,t){return lx(n,t).pipe(el((i,r)=>function Bte(n,e,t){return e.forEach(i=>{t.indexOf(i.type)>-1&&(n=function Ute(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return uF(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return uF(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return uF(n,e.oldIndex,1)}return n}(n,i))}),n}(i,r.map(s=>s.payload),e),[]),eN(),(0,rt.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function uF(n,e,t,...i){const r=n.slice();return r.splice(e,t,...i),r}function sG(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class oG{constructor(e,t,i){this.ref=e,this.query=t,this.afs=i}stateChanges(e){let t=lx(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,rt.U)(i=>i.filter(r=>e.indexOf(r.type)>-1)))),t.pipe(_i(void 0),ox(),Rn(([i,r])=>r.length>0||!i),(0,rt.U)(([i,r])=>r),Si)}auditTrail(e){return this.stateChanges(e).pipe(el((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=sG(e);return rG(this.query,t,this.afs.schedulers.outsideAngular).pipe(Si)}valueChanges(e={}){return cF(this.query,this.afs.schedulers.outsideAngular).pipe((0,rt.U)(t=>t.payload.docs.map(i=>e.idField?Object.assign(Object.assign({},i.data()),{[e.idField]:i.id}):i.data())),Si)}get(e){return(0,dn.D)(this.query.get(e)).pipe(Si)}add(e){return this.ref.add(e)}doc(e){return new aG(this.ref.doc(e),this.afs)}}class aG{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const i=this.ref.collection(e),{ref:r,query:s}=lG(i,t);return new oG(r,s,this.afs)}snapshotChanges(){return function Vte(n,e){return iG(n,e).pipe(_i(void 0),ox(),(0,rt.U)(([t,i])=>i.exists?t?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Si)}valueChanges(e={}){return this.snapshotChanges().pipe((0,rt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,dn.D)(this.ref.get(e)).pipe(Si)}}class $te{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?lx(this.query,this.afs.schedulers.outsideAngular).pipe((0,rt.U)(t=>t.filter(i=>e.indexOf(i.type)>-1)),Rn(t=>t.length>0),Si):lx(this.query,this.afs.schedulers.outsideAngular).pipe(Si)}auditTrail(e){return this.stateChanges(e).pipe(el((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=sG(e);return rG(this.query,t,this.afs.schedulers.outsideAngular).pipe(Si)}valueChanges(e={}){return cF(this.query,this.afs.schedulers.outsideAngular).pipe((0,rt.U)(i=>i.payload.docs.map(r=>e.idField?Object.assign({[e.idField]:r.id},r.data()):r.data())),Si)}get(e){return(0,dn.D)(this.query.get(e)).pipe(Si)}}const Hte=new c.OlP("angularfire2.enableFirestorePersistence"),zte=new c.OlP("angularfire2.firestore.persistenceSettings"),jte=new c.OlP("angularfire2.firestore.settings"),Gte=new c.OlP("angularfire2.firestore.use-emulator");function lG(n,e=(t=>t)){return{query:e(n),ref:n}}let Wte=(()=>{class n{constructor(t,i,r,s,a,d,f,p,_,v,w,D,A,x,k,F,L){this.schedulers=f;const U=(0,gs.on)(t,d,i),ee=_;v&&nG(U,d,w,A,x,k,D,F),[this.firestore,this.persistenceEnabled$]=(0,gs.cc)(`${U.name}.firestore`,"AngularFirestore",U.name,()=>{const oe=d.runOutsideAngular(()=>U.firestore());if(s&&oe.settings(s),ee&&oe.useEmulator(...ee),r&&!tc(a)){const ue=()=>{try{return(0,dn.D)(oe.enablePersistence(p||void 0).then(()=>!0,()=>!1))}catch(ye){return typeof console<"u"&&console.warn(ye),tt(!1)}};return[oe,d.runOutsideAngular(ue)]}return[oe,tt(!1)]},[s,ee,r])}collection(t,i){let r;r="string"==typeof t?this.firestore.collection(t):t;const{ref:s,query:a}=lG(r,i),d=this.schedulers.ngZone.run(()=>s);return new oG(d,a,this)}collectionGroup(t,i){const r=i||(a=>a),s=this.firestore.collectionGroup(t);return new $te(r(s),this)}doc(t){let i;i="string"==typeof t?this.firestore.doc(t):t;const r=this.schedulers.ngZone.run(()=>i);return new aG(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(gs.Dh),c.LFG(gs.xv,8),c.LFG(Hte,8),c.LFG(jte,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(Yr),c.LFG(zte,8),c.LFG(Gte,8),c.LFG(Xw,8),c.LFG(K3,8),c.LFG(Q3,8),c.LFG(X3,8),c.LFG(J3,8),c.LFG(eG,8),c.LFG(tG,8),c.LFG(Oa,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),dF=(()=>{class n{constructor(t,i,r){this.afs=t,this.afAuth=i,this.fireStore=r,this.afAuth.authState.subscribe(s=>{s?(this.userData=s,localStorage.setItem("user",JSON.stringify(this.userData)),JSON.parse(localStorage.getItem("user"))):(localStorage.setItem("user","null"),JSON.parse(localStorage.getItem("user")))})}SignIn(t,i){return this.afAuth.signInWithEmailAndPassword(t,i).then(r=>this.SetUserData(r.user).then())}SignUp(t,i,r){return this.afAuth.createUserWithEmailAndPassword(t,i).then(s=>this.SetUserData(s?.user,r).then())}ForgotPassword(t){return this.afAuth.sendPasswordResetEmail(t).then(()=>{window.alert("Password reset email sent, check your inbox.")}).catch(i=>{window.alert(i)})}SetUserData(t,i){const r=this.afs.doc(`users/${t.uid}`),s={uid:t.uid,email:t.email,photoURL:t.photoURL,emailVerified:t.emailVerified};return i&&(s.displayName=i),r.set(s,{merge:!0}).then(()=>this.setUserInformation(t.uid))}SignOut(){return this.afAuth.signOut().then(()=>{localStorage.clear()})}setUserInformation(t){var i=this;return(0,te.Z)(function*(){const s=yield(yield lK(zH(i.fireStore,"/users/",t))).data();localStorage.setItem("currentUser",JSON.stringify(s))})()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Wte),c.LFG(Xw),c.LFG(Mp))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const qte=["connectionContainer"],Yte=["inputContainer"],Zte=["label"];function Kte(n,e){1&n&&(c.ynx(0),c.TgZ(1,"div",14),c._UZ(2,"div",15)(3,"div",16)(4,"div",17),c.qZA(),c.TgZ(5,"div",18),c._UZ(6,"div",15)(7,"div",16)(8,"div",17),c.qZA(),c.BQk())}function Qte(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div",19),c.NdJ("cdkObserveContent",function(){c.CHM(t);const r=c.oxw();return c.KtG(r.updateOutlineGap())}),c.Hsn(1,1),c.qZA()}if(2&n){const t=c.oxw();c.Q6J("cdkObserveContentDisabled","outline"!=t.appearance)}}function Xte(n,e){if(1&n&&(c.ynx(0),c.Hsn(1,2),c.TgZ(2,"span"),c._uU(3),c.qZA(),c.BQk()),2&n){const t=c.oxw(2);c.xp6(3),c.Oqu(t._control.placeholder)}}function Jte(n,e){1&n&&c.Hsn(0,3,["*ngSwitchCase","true"])}function ene(n,e){1&n&&(c.TgZ(0,"span",23),c._uU(1," *"),c.qZA())}function tne(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"label",20,21),c.NdJ("cdkObserveContent",function(){c.CHM(t);const r=c.oxw();return c.KtG(r.updateOutlineGap())}),c.YNc(2,Xte,4,1,"ng-container",12),c.YNc(3,Jte,1,0,"ng-content",12),c.YNc(4,ene,2,0,"span",22),c.qZA()}if(2&n){const t=c.oxw();c.ekj("mat-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-form-field-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-accent","accent"==t.color)("mat-warn","warn"==t.color),c.Q6J("cdkObserveContentDisabled","outline"!=t.appearance)("id",t._labelId)("ngSwitch",t._hasLabel()),c.uIk("for",t._control.id)("aria-owns",t._control.id),c.xp6(2),c.Q6J("ngSwitchCase",!1),c.xp6(1),c.Q6J("ngSwitchCase",!0),c.xp6(1),c.Q6J("ngIf",!t.hideRequiredMarker&&t._control.required&&!t._control.disabled)}}function nne(n,e){1&n&&(c.TgZ(0,"div",24),c.Hsn(1,4),c.qZA())}function ine(n,e){if(1&n&&(c.TgZ(0,"div",25),c._UZ(1,"span",26),c.qZA()),2&n){const t=c.oxw();c.xp6(1),c.ekj("mat-accent","accent"==t.color)("mat-warn","warn"==t.color)}}function rne(n,e){if(1&n&&(c.TgZ(0,"div"),c.Hsn(1,5),c.qZA()),2&n){const t=c.oxw();c.Q6J("@transitionMessages",t._subscriptAnimationState)}}function sne(n,e){if(1&n&&(c.TgZ(0,"div",30),c._uU(1),c.qZA()),2&n){const t=c.oxw(2);c.Q6J("id",t._hintLabelId),c.xp6(1),c.Oqu(t.hintLabel)}}function one(n,e){if(1&n&&(c.TgZ(0,"div",27),c.YNc(1,sne,2,2,"div",28),c.Hsn(2,6),c._UZ(3,"div",29),c.Hsn(4,7),c.qZA()),2&n){const t=c.oxw();c.Q6J("@transitionMessages",t._subscriptAnimationState),c.xp6(1),c.Q6J("ngIf",t.hintLabel)}}const ane=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],lne=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],cne=new c.OlP("MatError"),une={transitionMessages:UA("transitionMessages",[Uw("enter",lo({opacity:1,transform:"translateY(0%)"})),qy("void => enter",[lo({opacity:0,transform:"translateY(-5px)"}),Wy("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let hF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n}),n})(),dne=0;const cG=new c.OlP("MatHint");let hne=(()=>{class n{constructor(){this.align="start",this.id="mat-hint-"+dne++}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["mat-hint"]],hostAttrs:[1,"mat-hint"],hostVars:4,hostBindings:function(t,i){2&t&&(c.uIk("id",i.id)("align",null),c.ekj("mat-form-field-hint-end","end"===i.align))},inputs:{align:"align",id:"id"},features:[c._Bn([{provide:cG,useExisting:n}])]}),n})(),cx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["mat-label"]]}),n})(),fne=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["mat-placeholder"]]}),n})();const pne=new c.OlP("MatPrefix"),mne=new c.OlP("MatSuffix");let uG=0;const _ne=kA(class{constructor(n){this._elementRef=n}},"primary"),yne=new c.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),hG=new c.OlP("MatFormField");let fG=(()=>{class n extends _ne{constructor(t,i,r,s,a,d,f){super(t),this._changeDetectorRef=i,this._dir=r,this._defaults=s,this._platform=a,this._ngZone=d,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new zt.x,this._hideRequiredMarker=!1,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+uG++,this._labelId="mat-form-field-label-"+uG++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==f,this.appearance=s?.appearance||"legacy",s&&(this._hideRequiredMarker=Boolean(s.hideRequiredMarker),s.color&&(this.color=this.defaultColor=s.color))}get appearance(){return this._appearance}set appearance(t){const i=this._appearance;this._appearance=t||this._defaults?.appearance||"legacy","outline"===this._appearance&&i!==t&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=rr(t)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(t){this._explicitFormFieldControl=t}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${t.controlType}`),t.stateChanges.pipe(_i(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(oo(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(oo(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,Pp.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(_i(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(_i(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(oo(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(t){const i=this._control?this._control.ngControl:null;return i&&i[t]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,PA(this._label.nativeElement,"transitionend").pipe(tn(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(s=>"start"===s.align):null,r=this._hintChildren?this._hintChildren.find(s=>"end"===s.align):null;i?t.push(i.id):this._hintLabel&&t.push(this._hintLabelId),r&&t.push(r.id)}else this._errorChildren&&t.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(t)}}_validateControlChild(){}updateOutlineGap(){const t=this._label?this._label.nativeElement:null,i=this._connectionContainerRef.nativeElement,r=".mat-form-field-outline-start",s=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!t||!t.children.length||!t.textContent.trim()){const _=i.querySelectorAll(`${r}, ${s}`);for(let v=0;v<_.length;v++)_[v].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let a=0,d=0;const f=i.querySelectorAll(r),p=i.querySelectorAll(s);if(this._label&&this._label.nativeElement.children.length){const _=i.getBoundingClientRect();if(0===_.width&&0===_.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const v=this._getStartEnd(_),w=t.children,D=this._getStartEnd(w[0].getBoundingClientRect());let A=0;for(let x=0;x<w.length;x++)A+=w[x].offsetWidth;a=Math.abs(D-v)-5,d=A>0?.75*A+10:0}for(let _=0;_<f.length;_++)f[_].style.width=`${a}px`;for(let _=0;_<p.length;_++)p[_].style.width=`${d}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(t){return this._dir&&"rtl"===this._dir.value?t.right:t.left}_isAttachedToDOM(){const t=this._elementRef.nativeElement;if(t.getRootNode){const i=t.getRootNode();return i&&i!==t}return document.documentElement.contains(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.sBO),c.Y36(Dw,8),c.Y36(yne,8),c.Y36(ps),c.Y36(c.R0b),c.Y36(c.QbO,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(t,i,r){if(1&t&&(c.Suo(r,hF,5),c.Suo(r,hF,7),c.Suo(r,cx,5),c.Suo(r,cx,7),c.Suo(r,fne,5),c.Suo(r,cne,5),c.Suo(r,cG,5),c.Suo(r,pne,5),c.Suo(r,mne,5)),2&t){let s;c.iGM(s=c.CRH())&&(i._controlNonStatic=s.first),c.iGM(s=c.CRH())&&(i._controlStatic=s.first),c.iGM(s=c.CRH())&&(i._labelChildNonStatic=s.first),c.iGM(s=c.CRH())&&(i._labelChildStatic=s.first),c.iGM(s=c.CRH())&&(i._placeholderChild=s.first),c.iGM(s=c.CRH())&&(i._errorChildren=s),c.iGM(s=c.CRH())&&(i._hintChildren=s),c.iGM(s=c.CRH())&&(i._prefixChildren=s),c.iGM(s=c.CRH())&&(i._suffixChildren=s)}},viewQuery:function(t,i){if(1&t&&(c.Gf(qte,7),c.Gf(Yte,5),c.Gf(Zte,5)),2&t){let r;c.iGM(r=c.CRH())&&(i._connectionContainerRef=r.first),c.iGM(r=c.CRH())&&(i._inputContainerRef=r.first),c.iGM(r=c.CRH())&&(i._label=r.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(t,i){2&t&&c.ekj("mat-form-field-appearance-standard","standard"==i.appearance)("mat-form-field-appearance-fill","fill"==i.appearance)("mat-form-field-appearance-outline","outline"==i.appearance)("mat-form-field-appearance-legacy","legacy"==i.appearance)("mat-form-field-invalid",i._control.errorState)("mat-form-field-can-float",i._canLabelFloat())("mat-form-field-should-float",i._shouldLabelFloat())("mat-form-field-has-label",i._hasFloatingLabel())("mat-form-field-hide-placeholder",i._hideControlPlaceholder())("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-focused",i._control.focused)("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))("_mat-animation-noopable",!i._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[c._Bn([{provide:hG,useExisting:n}]),c.qOj],ngContentSelectors:lne,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(t,i){1&t&&(c.F$t(ane),c.TgZ(0,"div",0)(1,"div",1,2),c.NdJ("click",function(s){return i._control.onContainerClick&&i._control.onContainerClick(s)}),c.YNc(3,Kte,9,0,"ng-container",3),c.YNc(4,Qte,2,1,"div",4),c.TgZ(5,"div",5,6),c.Hsn(7),c.TgZ(8,"span",7),c.YNc(9,tne,5,16,"label",8),c.qZA()(),c.YNc(10,nne,2,0,"div",9),c.qZA(),c.YNc(11,ine,2,4,"div",10),c.TgZ(12,"div",11),c.YNc(13,rne,2,1,"div",12),c.YNc(14,one,5,2,"div",13),c.qZA()()),2&t&&(c.xp6(3),c.Q6J("ngIf","outline"==i.appearance),c.xp6(1),c.Q6J("ngIf",i._prefixChildren.length),c.xp6(5),c.Q6J("ngIf",i._hasFloatingLabel()),c.xp6(1),c.Q6J("ngIf",i._suffixChildren.length),c.xp6(1),c.Q6J("ngIf","outline"!=i.appearance),c.xp6(1),c.Q6J("ngSwitch",i._getDisplayedMessages()),c.xp6(1),c.Q6J("ngSwitchCase","error"),c.xp6(1),c.Q6J("ngSwitchCase","hint"))},dependencies:[Nn,Ts,ra,MK],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.cdk-high-contrast-active .mat-form-field-disabled .mat-form-field-label{color:GrayText}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}','.mat-input-element{font:inherit;background:rgba(0,0,0,0);color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}._mat-animation-noopable .mat-input-element::placeholder{transition:none}._mat-animation-noopable .mat-input-element::-moz-placeholder{transition:none}._mat-animation-noopable .mat-input-element::-webkit-input-placeholder{transition:none}._mat-animation-noopable .mat-input-element:-ms-input-placeholder{transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px;border-top-color:GrayText}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:rgba(0,0,0,0)}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:GrayText}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}"],encapsulation:2,data:{animation:[une.transitionMessages]},changeDetection:0}),n})(),ux=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[ki,hi,ez,hi]}),n})();const pG=Tw({passive:!0});let vne=(()=>{class n{constructor(t,i){this._platform=t,this._ngZone=i,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return ks.E;const i=eu(t),r=this._monitoredElements.get(i);if(r)return r.subject;const s=new zt.x,a="cdk-text-field-autofilled",d=f=>{"cdk-text-field-autofill-start"!==f.animationName||i.classList.contains(a)?"cdk-text-field-autofill-end"===f.animationName&&i.classList.contains(a)&&(i.classList.remove(a),this._ngZone.run(()=>s.next({target:f.target,isAutofilled:!1}))):(i.classList.add(a),this._ngZone.run(()=>s.next({target:f.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",d,pG),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:s,unlisten:()=>{i.removeEventListener("animationstart",d,pG)}}),s}stopMonitoring(t){const i=eu(t),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((t,i)=>this.stopMonitoring(i))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ps),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),mG=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const bne=new c.OlP("MAT_INPUT_VALUE_ACCESSOR"),Ene=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let wne=0;const Cne=l7(class{constructor(n,e,t,i){this._defaultErrorStateMatcher=n,this._parentForm=e,this._parentFormGroup=t,this.ngControl=i,this.stateChanges=new zt.x}});let gG=(()=>{class n extends Cne{constructor(t,i,r,s,a,d,f,p,_,v){super(d,s,a,r),this._elementRef=t,this._platform=i,this._autofillMonitor=p,this._formField=v,this._uid="mat-input-"+wne++,this.focused=!1,this.stateChanges=new zt.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(A=>WH().has(A)),this._iOSKeyupListener=A=>{const x=A.target;!x.value&&0===x.selectionStart&&0===x.selectionEnd&&(x.setSelectionRange(1,1),x.setSelectionRange(0,0))};const w=this._elementRef.nativeElement,D=w.nodeName.toLowerCase();this._inputValueAccessor=f||w,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&_.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===D,this._isTextarea="textarea"===D,this._isInFormField=!!v,this._isNativeSelect&&(this.controlType=w.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(t){this._disabled=rr(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(iu.required)??!1}set required(t){this._required=rr(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&WH().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=rr(t)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t!==this.focused&&(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){const t=this._formField,i=t&&"legacy"===t.appearance&&!t._hasLabel?.()?null:this.placeholder;if(i!==this._previousPlaceholder){const r=this._elementRef.nativeElement;this._previousPlaceholder=i,i?r.setAttribute("placeholder",i):r.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_validateType(){Ene.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,i=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const t=this._elementRef.nativeElement;return this._isNativeSelect&&(t.multiple||t.size>1)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(ps),c.Y36(ru,10),c.Y36(JA,8),c.Y36(Qy,8),c.Y36(mz),c.Y36(bne,10),c.Y36(vne),c.Y36(c.R0b),c.Y36(hG,8))},n.\u0275dir=c.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:12,hostBindings:function(t,i){1&t&&c.NdJ("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),2&t&&(c.Ikx("disabled",i.disabled)("required",i.required),c.uIk("id",i.id)("data-placeholder",i.placeholder)("name",i.name||null)("readonly",i.readonly&&!i._isNativeSelect||null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required),c.ekj("mat-input-server",i._isServer)("mat-native-select-inline",i._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[c._Bn([{provide:hF,useExisting:n}]),c.qOj,c.TTD]}),n})(),_G=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[mz],imports:[mG,ux,hi,mG,ux]}),n})();function Sne(n,e){if(1&n&&(c.ynx(0),c._uU(1),c.BQk()),2&n){const t=c.oxw();c.xp6(1),c.hij(" ",t.value," ")}}function Ine(n,e){1&n&&c._UZ(0,"mat-spinner")}let yG=(()=>{class n{constructor(){this.disabled=!1,this.value="\u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c",this.loading=!0,this.onClick=new c.vpe}ngOnInit(){}submitClick(){this.onClick.emit()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-spinner-button"]],inputs:{disabled:"disabled",value:"value",loading:"loading"},outputs:{onClick:"onClick"},decls:4,vars:4,consts:[["mat-raised-button","",1,"main-btn","width",3,"color","disabled","click"],[4,"ngIf","ngIfElse"],["spinner",""]],template:function(t,i){if(1&t&&(c.TgZ(0,"button",0),c.NdJ("click",function(){return i.submitClick()}),c.YNc(1,Sne,2,1,"ng-container",1),c.YNc(2,Ine,1,0,"ng-template",null,2,c.W1O),c.qZA()),2&t){const r=c.MAs(3);c.Q6J("color","primary")("disabled",i.disabled),c.xp6(1),c.Q6J("ngIf",i.loading)("ngIfElse",r)}},dependencies:[Nn,oN,Ll],styles:["mat-spinner[_ngcontent-%COMP%]{width:28px!important;height:28px!important;position:absolute}mat-spinner[_ngcontent-%COMP%]     svg{width:28px!important;height:28px!important}.main-btn[_ngcontent-%COMP%]{height:40px!important;display:flex;justify-content:center}"]}),n})(),Tne=(()=>{class n{constructor(t,i,r){this.authService=t,this.dialogRef=i,this.afAuth=r,this.form=new jw({name:new Lp("",[iu.required,iu.maxLength(20)]),email:new Lp("",[iu.required,iu.email]),password:new Lp("",[iu.required])}),this.loader=new B3}SignUp(t,i,r){this.loader.on(),this.authService.SignUp(t,i,r).then(()=>{this.loader.off(),this.dialogRef.close()})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(dF),c.Y36(HA),c.Y36(Xw))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-sign-up"]],decls:22,vars:4,consts:[[1,"wrapper","p-4"],[1,"mb-4"],[1,"d-flex","flex-col","gap-3",3,"formGroup"],["appearance","legacy",1,"width"],["matInput","","placeholder","\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f","formControlName","name"],["name",""],["align","end"],["matInput","","placeholder","\u0412\u0432\u0435\u0434\u0438\u0442\u0435 email","formControlName","email"],["email",""],["matInput","","placeholder","\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c","formControlName","password"],["password",""],[3,"disabled","loading","onClick"]],template:function(t,i){if(1&t){const r=c.EpF();c.TgZ(0,"div",0)(1,"div",1),c._uU(2,"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"),c.qZA(),c.TgZ(3,"form",2)(4,"mat-form-field",3)(5,"mat-label"),c._uU(6,"\u0418\u043c\u044f"),c.qZA(),c._UZ(7,"input",4,5),c.TgZ(9,"mat-hint",6),c._uU(10),c.qZA()(),c.TgZ(11,"mat-form-field",3)(12,"mat-label"),c._uU(13,"Email"),c.qZA(),c._UZ(14,"input",7,8),c.qZA(),c.TgZ(16,"mat-form-field",3)(17,"mat-label"),c._uU(18,"\u041f\u0430\u0440\u043e\u043b\u044c"),c.qZA(),c._UZ(19,"input",9,10),c.qZA(),c.TgZ(21,"app-spinner-button",11),c.NdJ("onClick",function(){c.CHM(r);const a=c.MAs(15),d=c.MAs(20),f=c.MAs(8);return c.KtG(i.SignUp(a.value,d.value,f.value))}),c.qZA()()()}if(2&t){const r=c.MAs(8);c.xp6(3),c.Q6J("formGroup",i.form),c.xp6(7),c.Oqu(r.value.length+"/20"),c.xp6(11),c.Q6J("disabled",i.form.invalid||!i.loader.loading)("loading",i.loader.loading)}},dependencies:[fG,hne,cx,gG,YN,Zy,GA,VN,Qy,ex,yG]}),n})(),Dne=(()=>{class n{constructor(t,i,r){this.authService=t,this.dialogRef=i,this.afAuth=r,this.form=new jw({email:new Lp("",[iu.required,iu.email]),password:new Lp("",[iu.required])}),this.loader=new B3}signIn(){this.loader.on(),this.authService.SignIn(this.form.controls.email.getRawValue(),this.form.controls.password.getRawValue()).then(()=>this.dialogRef.close()).finally(()=>this.loader.off())}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(dF),c.Y36(HA),c.Y36(Xw))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-sign-in"]],decls:15,vars:4,consts:[[1,"wrapper","p-4"],[1,"mb-4"],[1,"d-flex","flex-col","gap-3",3,"formGroup"],["appearance","legacy",1,"width"],["matInput","","placeholder","\u0412\u0432\u0435\u0434\u0438\u0442\u0435 email","formControlName","email"],["email",""],["matInput","","placeholder","\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c","formControlName","password"],["password",""],[3,"value","loading","disabled","onClick"]],template:function(t,i){1&t&&(c.TgZ(0,"div",0)(1,"div",1),c._uU(2,"\u0412\u043e\u0439\u0442\u0438"),c.qZA(),c.TgZ(3,"form",2)(4,"mat-form-field",3)(5,"mat-label"),c._uU(6,"Email"),c.qZA(),c._UZ(7,"input",4,5),c.qZA(),c.TgZ(9,"mat-form-field",3)(10,"mat-label"),c._uU(11,"\u041f\u0430\u0440\u043e\u043b\u044c"),c.qZA(),c._UZ(12,"input",6,7),c.qZA(),c.TgZ(14,"app-spinner-button",8),c.NdJ("onClick",function(){return i.signIn()}),c.qZA()()()),2&t&&(c.xp6(3),c.Q6J("formGroup",i.form),c.xp6(11),c.Q6J("value","\u0412\u043e\u0439\u0442\u0438")("loading",i.loader.loading)("disabled",i.form.invalid||!i.loader.loading))},dependencies:[fG,cx,YN,Zy,GA,VN,Qy,ex,gG,yG]}),n})();const vG="firebasestorage.googleapis.com",bG="storageBucket";class yi extends q.ZR{constructor(e,t,i=0){super(fF(e),`Firebase Storage: ${t} (${fF(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,yi.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return fF(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function fF(n){return"storage/"+n}function pF(){return new yi("unknown","An unknown error occurred, please check the error payload for server response.")}function EG(){return new yi("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function wG(){return new yi("canceled","User canceled the upload/download.")}function CG(){return new yi("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Jy(n){return new yi("invalid-argument",n)}function SG(){return new yi("app-deleted","The Firebase app was deleted.")}function IG(n){return new yi("invalid-root-operation","The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Jw(n,e){return new yi("invalid-format","String does not match format '"+n+"': "+e)}function eC(n){throw new yi("internal-error","Internal error: "+n)}class Xr{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let i;try{i=Xr.makeFromUrl(e,t)}catch{return new Xr(e,"")}if(""===i.path)return i;throw function Lne(n){return new yi("invalid-default-bucket","Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let i=null;const r="([A-Za-z0-9.\\-_]+)",d=new RegExp("^gs://"+r+"(/(.*))?$","i");function p(ee){ee.path_=decodeURIComponent(ee.path)}const v=t.replace(/[.]/g,"\\."),U=[{regex:d,indices:{bucket:1,path:3},postModify:function s(ee){"/"===ee.path.charAt(ee.path.length-1)&&(ee.path_=ee.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${v}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:p},{regex:new RegExp(`^https?://${t===vG?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:p}];for(let ee=0;ee<U.length;ee++){const oe=U[ee],ue=oe.regex.exec(e);if(ue){let ze=ue[oe.indices.path];ze||(ze=""),i=new Xr(ue[oe.indices.bucket],ze),oe.postModify(i);break}}if(null==i)throw function Fne(n){return new yi("invalid-url","Invalid URL '"+n+"'.")}(e);return i}}class Hne{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function dx(n){return"string"==typeof n||n instanceof String}function TG(n){return mF()&&n instanceof Blob}function mF(){return typeof Blob<"u"&&!(0,q.UG)()}function gF(n,e,t,i){if(i<e)throw Jy(`Invalid value for '${n}'. Expected ${e} or greater.`);if(i>t)throw Jy(`Invalid value for '${n}'. Expected ${t} or less.`)}function su(n,e,t){let i=e;return null==t&&(i=`https://${e}`),`${t}://${i}/v0${n}`}function DG(n){const e=encodeURIComponent;let t="?";for(const i in n)n.hasOwnProperty(i)&&(t=t+(e(i)+"=")+e(n[i])+"&");return t=t.slice(0,-1),t}var Zd=(()=>(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"}(Zd||(Zd={})),Zd))();function AG(n,e){const t=n>=500&&n<600,r=-1!==[408,429].indexOf(n),s=-1!==e.indexOf(n);return t||r||s}class Yne{constructor(e,t,i,r,s,a,d,f,p,_,v,w=!0){this.url_=e,this.method_=t,this.headers_=i,this.body_=r,this.successCodes_=s,this.additionalRetryCodes_=a,this.callback_=d,this.errorCallback_=f,this.timeout_=p,this.progressCallback_=_,this.connectionFactory_=v,this.retry=w,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((D,A)=>{this.resolve_=D,this.reject_=A,this.start_()})}start_(){const t=(i,r)=>{const s=this.resolve_,a=this.reject_,d=r.connection;if(r.wasSuccessCode)try{const f=this.callback_(d,d.getResponse());!function Gne(n){return void 0!==n}(f)?s():s(f)}catch(f){a(f)}else if(null!==d){const f=pF();f.serverResponse=d.getErrorText(),a(this.errorCallback_?this.errorCallback_(d,f):f)}else a(r.canceled?this.appDelete_?SG():wG():EG())};this.canceled_?t(0,new hx(!1,null,!0)):this.backoffId_=function zne(n,e,t){let i=1,r=null,s=null,a=!1,d=0;function f(){return 2===d}let p=!1;function _(...k){p||(p=!0,e.apply(null,k))}function v(k){r=setTimeout(()=>{r=null,n(D,f())},k)}function w(){s&&clearTimeout(s)}function D(k,...F){if(p)return void w();if(k)return w(),void _.call(null,k,...F);if(f()||a)return w(),void _.call(null,k,...F);let U;i<64&&(i*=2),1===d?(d=2,U=0):U=1e3*(i+Math.random()),v(U)}let A=!1;function x(k){A||(A=!0,w(),!p&&(null!==r?(k||(d=2),clearTimeout(r),v(0)):k||(d=1)))}return v(0),s=setTimeout(()=>{a=!0,x(!0)},t),x}((i,r)=>{if(r)return void i(!1,new hx(!1,null,!0));const s=this.connectionFactory_();this.pendingConnection_=s;const a=d=>{null!==this.progressCallback_&&this.progressCallback_(d.loaded,d.lengthComputable?d.total:-1)};null!==this.progressCallback_&&s.addUploadProgressListener(a),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&s.removeUploadProgressListener(a),this.pendingConnection_=null;const d=s.getErrorCode()===Zd.NO_ERROR,f=s.getStatus();if((!d||AG(f,this.additionalRetryCodes_))&&this.retry){const _=s.getErrorCode()===Zd.ABORT;return void i(!1,new hx(!1,null,_))}const p=-1!==this.successCodes_.indexOf(f);i(!0,new hx(p,s))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function jne(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class hx{constructor(e,t,i){this.wasSuccessCode=e,this.connection=t,this.canceled=!!i}}function tie(...n){const e=function eie(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==e){const t=new e;for(let i=0;i<n.length;i++)t.append(n[i]);return t.getBlob()}if(mF())return new Blob(n);throw new yi("unsupported-environment","This browser doesn't seem to support creating Blobs")}const co={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class _F{constructor(e,t){this.data=e,this.contentType=t||null}}function yF(n,e){switch(n){case co.RAW:return new _F(xG(e));case co.BASE64:case co.BASE64URL:return new _F(MG(n,e));case co.DATA_URL:return new _F(function sie(n){const e=new kG(n);return e.base64?MG(co.BASE64,e.rest):function rie(n){let e;try{e=decodeURIComponent(n)}catch{throw Jw(co.DATA_URL,"Malformed data URL.")}return xG(e)}(e.rest)}(e),function oie(n){return new kG(n).contentType}(e))}throw pF()}function xG(n){const e=[];for(let t=0;t<n.length;t++){let i=n.charCodeAt(t);i<=127?e.push(i):i<=2047?e.push(192|i>>6,128|63&i):55296==(64512&i)?t<n.length-1&&56320==(64512&n.charCodeAt(t+1))?(i=65536|(1023&i)<<10|1023&n.charCodeAt(++t),e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i)):e.push(239,191,189):56320==(64512&i)?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|63&i)}return new Uint8Array(e)}function MG(n,e){switch(n){case co.BASE64:{const r=-1!==e.indexOf("-"),s=-1!==e.indexOf("_");if(r||s)throw Jw(n,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case co.BASE64URL:{const r=-1!==e.indexOf("+"),s=-1!==e.indexOf("/");if(r||s)throw Jw(n,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=function iie(n){if(typeof atob>"u")throw function $ne(n){return new yi("unsupported-environment",`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(n)}(e)}catch(r){throw r.message.includes("polyfill")?r:Jw(n,"Invalid character found")}const i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i}class kG{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw Jw(co.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=t[1]||null;null!=i&&(this.base64=function aie(n,e){return n.length>=e.length&&n.substring(n.length-e.length)===e}(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}class Vl{constructor(e,t){let i=0,r="";TG(e)?(this.data_=e,i=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(TG(this.data_)){const r=function nie(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}(this.data_,e,t);return null===r?null:new Vl(r)}{const i=new Uint8Array(this.data_.buffer,e,t-e);return new Vl(i,!0)}}static getBlob(...e){if(mF()){const t=e.map(i=>i instanceof Vl?i.data_:i);return new Vl(tie.apply(null,t))}{const t=e.map(a=>dx(a)?yF(co.RAW,a).data:a.data_);let i=0;t.forEach(a=>{i+=a.byteLength});const r=new Uint8Array(i);let s=0;return t.forEach(a=>{for(let d=0;d<a.length;d++)r[s++]=a[d]}),new Vl(r,!0)}}uploadData(){return this.data_}}function vF(n){let e;try{e=JSON.parse(n)}catch{return null}return function qne(n){return"object"==typeof n&&!Array.isArray(n)}(e)?e:null}function RG(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}function uie(n,e){return e}class vs{constructor(e,t,i,r){this.server=e,this.local=t||e,this.writable=!!i,this.xform=r||uie}}let fx=null;function tC(){if(fx)return fx;const n=[];n.push(new vs("bucket")),n.push(new vs("generation")),n.push(new vs("metageneration")),n.push(new vs("name","fullPath",!0));const t=new vs("name");t.xform=function e(s,a){return function die(n){return!dx(n)||n.length<2?n:RG(n)}(a)},n.push(t);const r=new vs("size");return r.xform=function i(s,a){return void 0!==a?Number(a):a},n.push(r),n.push(new vs("timeCreated")),n.push(new vs("updated")),n.push(new vs("md5Hash",null,!0)),n.push(new vs("cacheControl",null,!0)),n.push(new vs("contentDisposition",null,!0)),n.push(new vs("contentEncoding",null,!0)),n.push(new vs("contentLanguage",null,!0)),n.push(new vs("contentType",null,!0)),n.push(new vs("metadata","customMetadata",!0)),fx=n,fx}function OG(n,e,t){const i=vF(e);return null===i?null:function fie(n,e,t){const i={type:"file"},r=t.length;for(let s=0;s<r;s++){const a=t[s];i[a.local]=a.xform(i,e[a.server])}return function hie(n,e){Object.defineProperty(n,"ref",{get:function t(){const s=new Xr(n.bucket,n.fullPath);return e._makeStorageReference(s)}})}(i,n),i}(n,i,t)}function bF(n,e){const t={},i=e.length;for(let r=0;r<i;r++){const s=e[r];s.writable&&(t[s.server]=n[s.local])}return JSON.stringify(t)}const PG="prefixes";class Bl{constructor(e,t,i,r){this.url=e,this.method=t,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Ul(n){if(!n)throw pF()}function px(n,e){return function t(i,r){const s=OG(n,r,e);return Ul(null!==s),s}}function ev(n){return function e(t,i){let r;return r=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?function Pne(){return new yi("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function One(){return new yi("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===t.getStatus()?function Rne(n){return new yi("quota-exceeded","Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===t.getStatus()?function Nne(n){return new yi("unauthorized","User does not have permission to access '"+n+"'.")}(n.path):i,r.status=t.getStatus(),r.serverResponse=i.serverResponse,r}}function nC(n){const e=ev(n);return function t(i,r){let s=e(i,r);return 404===i.getStatus()&&(s=function kne(n){return new yi("object-not-found","Object '"+n+"' does not exist.")}(n.path)),s.serverResponse=r.serverResponse,s}}function FG(n,e,t){const r=su(e.fullServerUrl(),n.host,n._protocol),a=n.maxOperationRetryTime,d=new Bl(r,"GET",px(n,t),a);return d.errorHandler=nC(e),d}function vie(n,e,t,i,r){const s={};s.prefix=e.isRoot?"":e.path+"/",t&&t.length>0&&(s.delimiter=t),i&&(s.pageToken=i),r&&(s.maxResults=r);const d=su(e.bucketOnlyServerUrl(),n.host,n._protocol),p=n.maxOperationRetryTime,_=new Bl(d,"GET",function _ie(n,e){return function t(i,r){const s=function gie(n,e,t){const i=vF(t);return null===i?null:function mie(n,e,t){const i={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[PG])for(const r of t[PG]){const s=r.replace(/\/$/,""),a=n._makeStorageReference(new Xr(e,s));i.prefixes.push(a)}if(t.items)for(const r of t.items){const s=n._makeStorageReference(new Xr(e,r.name));i.items.push(s)}return i}(n,e,i)}(n,e,r);return Ul(null!==s),s}}(n,e.bucket),p);return _.urlParams=s,_.errorHandler=ev(e),_}function VG(n,e,t){const i=Object.assign({},t);return i.fullPath=n.path,i.size=e.size(),i.contentType||(i.contentType=function Cie(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}(null,e)),i}function BG(n,e,t,i,r){const s=e.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"},f=function d(){let U="";for(let ee=0;ee<2;ee++)U+=Math.random().toString().slice(2);return U}();a["Content-Type"]="multipart/related; boundary="+f;const p=VG(e,i,r),_=bF(p,t),D=Vl.getBlob("--"+f+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+_+"\r\n--"+f+"\r\nContent-Type: "+p.contentType+"\r\n\r\n",i,"\r\n--"+f+"--");if(null===D)throw CG();const A={name:p.fullPath},x=su(s,n.host,n._protocol),F=n.maxUploadRetryTime,L=new Bl(x,"POST",px(n,t),F);return L.urlParams=A,L.headers=a,L.body=D.uploadData(),L.errorHandler=ev(e),L}class mx{constructor(e,t,i,r){this.current=e,this.total=t,this.finalized=!!i,this.metadata=r||null}}function EF(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch{Ul(!1)}return Ul(!!t&&-1!==(e||["active"]).indexOf(t)),t}const Die={STATE_CHANGED:"state_changed"},bs={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function wF(n){switch(n){case"running":case"pausing":case"canceling":return bs.RUNNING;case"paused":return bs.PAUSED;case"success":return bs.SUCCESS;case"canceled":return bs.CANCELED;default:return bs.ERROR}}class Aie{constructor(e,t,i){if(function Wne(n){return"function"==typeof n}(e)||null!=t||null!=i)this.next=e,this.error=t??void 0,this.complete=i??void 0;else{const s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}}function tv(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}class Mie extends class xie{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Zd.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Zd.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Zd.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,i,r){if(this.sent_)throw eC("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(const s in r)r.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,r[s].toString());return void 0!==i?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw eC("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw eC("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw eC("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw eC("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}{initXhr(){this.xhr_.responseType="text"}}function $a(){return new Mie}class HG{constructor(e,t,i=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=i,this._mappings=tC(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=r=>{if(this._request=void 0,this._chunkMultiplier=1,r._codeEquals("canceled"))this._needToFetchStatus=!0,this.completeTransitions_();else{const s=this.isExponentialBackoffExpired();if(AG(r.status,[])){if(!s)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();r=EG()}this._error=r,this._transition("error")}},this._metadataErrorHandler=r=>{this._request=void 0,r._codeEquals("canceled")?this.completeTransitions_():(this._error=r,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((r,s)=>{this._resolve=r,this._reject=s,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,i])=>{switch(this._state){case"running":e(t,i);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,t)=>{const i=function Sie(n,e,t,i,r){const s=e.bucketOnlyServerUrl(),a=VG(e,i,r),d={name:a.fullPath},f=su(s,n.host,n._protocol),_={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i.size()}`,"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},v=bF(a,t),A=new Bl(f,"POST",function D(x){let k;EF(x);try{k=x.getResponseHeader("X-Goog-Upload-URL")}catch{Ul(!1)}return Ul(dx(k)),k},n.maxUploadRetryTime);return A.urlParams=d,A.headers=_,A.body=v,A.errorHandler=ev(e),A}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,$a,e,t);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,i)=>{const r=function Iie(n,e,t,i){const f=new Bl(t,"POST",function s(p){const _=EF(p,["active","final"]);let v=null;try{v=p.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Ul(!1)}v||Ul(!1);const w=Number(v);return Ul(!isNaN(w)),new mx(w,i.size(),"final"===_)},n.maxUploadRetryTime);return f.headers={"X-Goog-Upload-Command":"query"},f.errorHandler=ev(e),f}(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(r,$a,t,i);this._request=s,s.getPromise().then(a=>{this._request=void 0,this._updateProgress(a.current),this._needToFetchStatus=!1,a.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=262144*this._chunkMultiplier,t=new mx(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken((r,s)=>{let a;try{a=function Tie(n,e,t,i,r,s,a,d){const f=new mx(0,0);if(a?(f.current=a.current,f.total=a.total):(f.current=0,f.total=i.size()),i.size()!==f.total)throw function Bne(){return new yi("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}();const p=f.total-f.current;let _=p;r>0&&(_=Math.min(_,r));const v=f.current;let D="";D=0===_?"finalize":p===_?"upload, finalize":"upload";const A={"X-Goog-Upload-Command":D,"X-Goog-Upload-Offset":`${f.current}`},x=i.slice(v,v+_);if(null===x)throw CG();const U=new Bl(t,"POST",function k(ee,oe){const ue=EF(ee,["active","final"]),ye=f.current+_,ze=i.size();let it;return it="final"===ue?px(e,s)(ee,oe):null,new mx(ye,ze,"final"===ue,it)},e.maxUploadRetryTime);return U.headers=A,U.body=x.uploadData(),U.progressCallback=d||null,U.errorHandler=ev(n),U}(this._ref._location,this._ref.storage,i,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(f){return this._error=f,void this._transition("error")}const d=this._ref.storage._makeRequest(a,$a,r,s,!1);this._request=d,d.getPromise().then(f=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(f.current),f.finalized?(this._metadata=f.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const i=FG(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(i,$a,e,t);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const i=BG(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,$a,e,t);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=wG(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=wF(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,i,r){const s=new Aie(t||void 0,i||void 0,r||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(wF(this._state)){case bs.SUCCESS:tv(this._resolve.bind(null,this.snapshot))();break;case bs.CANCELED:case bs.ERROR:tv(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(wF(this._state)){case bs.RUNNING:case bs.PAUSED:e.next&&tv(e.next.bind(e,this.snapshot))();break;case bs.SUCCESS:e.complete&&tv(e.complete.bind(e))();break;default:e.error&&tv(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class zp{constructor(e,t){this._service=e,this._location=t instanceof Xr?t:Xr.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new zp(e,t)}get root(){const e=new Xr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return RG(this._location.path)}get storage(){return this._service}get parent(){const e=function lie(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new Xr(this._location.bucket,e);return new zp(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw IG(e)}}function jG(n,e,t){return CF.apply(this,arguments)}function CF(){return CF=(0,te.Z)(function*(n,e,t){const r=yield GG(n,{pageToken:t});e.prefixes.push(...r.prefixes),e.items.push(...r.items),null!=r.nextPageToken&&(yield jG(n,e,r.nextPageToken))}),CF.apply(this,arguments)}function GG(n,e){null!=e&&"number"==typeof e.maxResults&&gF("options.maxResults",1,1e3,e.maxResults);const t=e||{},i=vie(n.storage,n._location,"/",t.pageToken,t.maxResults);return n.storage.makeRequestWithTokens(i,$a)}function Hie(n){n._throwIfRoot("getDownloadURL");const e=function bie(n,e,t){const r=su(e.fullServerUrl(),n.host,n._protocol),a=n.maxOperationRetryTime,d=new Bl(r,"GET",function yie(n,e){return function t(i,r){const s=OG(n,r,e);return Ul(null!==s),function pie(n,e,t,i){const r=vF(e);if(null===r||!dx(r.downloadTokens))return null;const s=r.downloadTokens;if(0===s.length)return null;const a=encodeURIComponent;return s.split(",").map(p=>{const v=n.fullPath;return su("/b/"+a(n.bucket)+"/o/"+a(v),t,i)+DG({alt:"media",token:p})})[0]}(s,r,n.host,n._protocol)}}(n,t),a);return d.errorHandler=nC(e),d}(n.storage,n._location,tC());return n.storage.makeRequestWithTokens(e,$a).then(t=>{if(null===t)throw function Une(){return new yi("no-download-url","The given file does not have any download URLs.")}();return t})}function WG(n,e){const t=function cie(n,e){const t=e.split("/").filter(i=>i.length>0).join("/");return 0===n.length?t:n+"/"+t}(n._location.path,e),i=new Xr(n._location.bucket,t);return new zp(n.storage,i)}function qG(n,e){if(n instanceof SF){const t=n;if(null==t._bucket)throw function Vne(){return new yi("no-default-bucket","No default bucket found. Did you set the '"+bG+"' property when initializing the app?")}();const i=new zp(t,t._bucket);return null!=e?qG(i,e):i}return void 0!==e?WG(n,e):n}function Wie(n,e){if(e&&function jie(n){return/^[A-Za-z]+:\/\//.test(n)}(e)){if(n instanceof SF)return function Gie(n,e){return new zp(n,e)}(n,e);throw Jy("To use ref(service, url), the first argument must be a Storage instance.")}return qG(n,e)}function YG(n,e){const t=e?.[bG];return null==t?null:Xr.makeFromBucketSpec(t,n)}class SF{constructor(e,t,i,r,s){this.app=e,this._authProvider=t,this._appCheckProvider=i,this._url=r,this._firebaseVersion=s,this._bucket=null,this._host=vG,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?Xr.makeFromBucketSpec(r,this._host):YG(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?Xr.makeFromBucketSpec(this._url,e):YG(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){gF("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){gF("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,te.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const i=yield t.getToken();if(null!==i)return i.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,te.Z)(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new zp(this,e)}_makeRequest(e,t,i,r,s=!0){if(this._deleted)return new Hne(SG());{const a=function Jne(n,e,t,i,r,s,a=!0){const d=DG(n.urlParams),f=n.url+d,p=Object.assign({},n.headers);return function Qne(n,e){e&&(n["X-Firebase-GMPID"]=e)}(p,e),function Zne(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(p,t),function Kne(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}(p,s),function Xne(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(p,i),new Yne(f,n.method,p,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,r,a)}(e,this._appId,i,r,t,this._firebaseVersion,s);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}makeRequestWithTokens(e,t){var i=this;return(0,te.Z)(function*(){const[r,s]=yield Promise.all([i._getAuthToken(),i._getAppCheckToken()]);return i._makeRequest(e,t,r,s).getPromise()})()}}const ZG="@firebase/storage",QG="storage";function Yie(n,e,t){return function zG(n,e,t){n._throwIfRoot("uploadBytes");const i=BG(n.storage,n._location,tC(),new Vl(e,!0),t);return n.storage.makeRequestWithTokens(i,$a).then(r=>({metadata:r,ref:n}))}(n=(0,q.m9)(n),e,t)}function IF(n,e){return Wie(n=(0,q.m9)(n),e)}function ire(n=(0,ot.getApp)(),e){n=(0,q.m9)(n);const i=(0,ot._getProvider)(n,QG).getImmediate({identifier:e}),r=(0,q.P0)("storage");return r&&XG(i,...r),i}function XG(n,e,t,i={}){!function qie(n,e,t,i={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:r}=i;r&&(n._overrideAuthToken="string"==typeof r?r:(0,q.Sg)(r,n.app.options.projectId))}(n,e,t,i)}function rre(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),r=n.getProvider("app-check-internal");return new SF(t,i,r,e,ot.SDK_VERSION)}!function sre(){(0,ot._registerComponent)(new Tr.wA(QG,rre,"PUBLIC").setMultipleInstances(!0)),(0,ot.registerVersion)(ZG,"0.9.14",""),(0,ot.registerVersion)(ZG,"0.9.14","esm2017")}();class TF{constructor(e){return e}}const JG="storage",DF=new c.OlP("angularfire2.storage-instances");function lre(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new TF(i)}}const cre={provide:class ore{constructor(){return ka(JG)}},deps:[[new c.FiY,DF]]},ure={provide:TF,useFactory:function are(n,e){const t=Dr(JG,n,e);return t&&new TF(t)},deps:[[new c.FiY,DF],pn]};let dre=(()=>{class n{constructor(){(0,ot.registerVersion)("angularfire",qr.full,"gcs")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[ure,cre]}),n})();function hre(n,...e){return{ngModule:dre,providers:[{provide:DF,useFactory:lre(n),multi:!0,deps:[c.R0b,c.zs3,Yr,Ra,[new c.FiY,Pa],[new c.FiY,Oa],...e]}]}}const eW=Jn(ire,!0),fre=Jn(IF,!0),pre=Jn(Yie,!0);class gx{constructor(e,t,i){this._delegate=e,this.task=t,this.ref=i}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class tW{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new gx(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then(i=>{if(e)return e(new gx(i,this,this._ref))},t)}on(e,t,i,r){let s;return t&&(s="function"==typeof t?a=>t(new gx(a,this,this._ref)):{next:t.next?a=>t.next(new gx(a,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,s,i||void 0,r||void 0)}}class nW{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map(e=>new ou(e,this._service))}get items(){return this._delegate.items.map(e=>new ou(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class ou{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=function nre(n,e){return WG(n,e)}(this._delegate,e);return new ou(t,this.storage)}get root(){return new ou(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new ou(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new tW(function Zie(n,e,t){return function Lie(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new HG(n,new Vl(e),t)}(n=(0,q.m9)(n),e,t)}(this._delegate,e,t),this)}putString(e,t=co.RAW,i){this._throwIfRoot("putString");const r=yF(t,e),s=Object.assign({},i);return null==s.contentType&&null!=r.contentType&&(s.contentType=r.contentType),new tW(new HG(this._delegate,new Vl(r.data,!0),s),this)}listAll(){return function Jie(n){return function Bie(n){const e={prefixes:[],items:[]};return jG(n,e).then(()=>e)}(n=(0,q.m9)(n))}(this._delegate).then(e=>new nW(e,this.storage))}list(e){return function Xie(n,e){return GG(n=(0,q.m9)(n),e)}(this._delegate,e||void 0).then(t=>new nW(t,this.storage))}getMetadata(){return function Kie(n){return function Uie(n){n._throwIfRoot("getMetadata");const e=FG(n.storage,n._location,tC());return n.storage.makeRequestWithTokens(e,$a)}(n=(0,q.m9)(n))}(this._delegate)}updateMetadata(e){return function Qie(n,e){return function $ie(n,e){n._throwIfRoot("updateMetadata");const t=function Eie(n,e,t,i){const s=su(e.fullServerUrl(),n.host,n._protocol),d=bF(t,i),p=n.maxOperationRetryTime,_=new Bl(s,"PATCH",px(n,i),p);return _.headers={"Content-Type":"application/json; charset=utf-8"},_.body=d,_.errorHandler=nC(e),_}(n.storage,n._location,e,tC());return n.storage.makeRequestWithTokens(t,$a)}(n=(0,q.m9)(n),e)}(this._delegate,e)}getDownloadURL(){return function ere(n){return Hie(n=(0,q.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function tre(n){return function zie(n){n._throwIfRoot("deleteObject");const e=function wie(n,e){const i=su(e.fullServerUrl(),n.host,n._protocol),d=new Bl(i,"DELETE",function a(f,p){},n.maxOperationRetryTime);return d.successCodes=[200,204],d.errorHandler=nC(e),d}(n.storage,n._location);return n.storage.makeRequestWithTokens(e,$a)}(n=(0,q.m9)(n))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw IG(e)}}class iW{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(rW(e))throw Jy("ref() expected a child path but got a URL, use refFromURL instead.");return new ou(IF(this._delegate,e),this)}refFromURL(e){if(!rW(e))throw Jy("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Xr.makeFromUrl(e,this._delegate.host)}catch{throw Jy("refFromUrl() expected a valid full URL but got an invalid one.")}return new ou(IF(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t,i={}){XG(this._delegate,e,t,i)}}function rW(n){return/^[A-Za-z]+:\/\//.test(n)}function yre(n,{instanceIdentifier:e}){const t=n.getProvider("app-compat").getImmediate(),i=n.getProvider("storage").getImmediate({identifier:e});return new iW(t,i)}function sW(n){const e=function bre(n){return new kn.y(e=>{const t=a=>e.next(a);t(n.snapshot);const s=n.on("state_changed",t);return n.then(a=>{t(a),e.complete()},a=>{t(n.snapshot),(a=>{e.error(a)})(a)}),function(){s()}}).pipe(DA(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>e,percentageChanges:()=>e.pipe((0,rt.U)(t=>t.bytesTransferred/t.totalBytes*100))}}function _x(n){return{getDownloadURL:()=>tt(void 0).pipe(lT,Un(()=>n.getDownloadURL()),Si),getMetadata:()=>tt(void 0).pipe(lT,Un(()=>n.getMetadata()),Si),delete:()=>(0,dn.D)(n.delete()),child:e=>_x(n.child(e)),updateMetadata:e=>(0,dn.D)(n.updateMetadata(e)),put:(e,t)=>sW(n.put(e,t)),putString:(e,t,i)=>sW(n.putString(e,t,i)),list:e=>(0,dn.D)(n.list(e)),listAll:()=>(0,dn.D)(n.listAll())}}!function vre(n){const e={TaskState:bs,TaskEvent:Die,StringFormat:co,Storage:iW,Reference:ou};n.INTERNAL.registerComponent(new Tr.wA("storage-compat",yre,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.1.22")}(U3.Z);const Ere=new c.OlP("angularfire2.storageBucket"),wre=new c.OlP("angularfire2.storage.maxUploadRetryTime"),Cre=new c.OlP("angularfire2.storage.maxOperationRetryTime"),Sre=new c.OlP("angularfire2.storage.use-emulator");let Ire=(()=>{class n{constructor(t,i,r,s,a,d,f,p,_,v){const w=(0,gs.on)(t,a,i);this.storage=(0,gs.cc)(`${w.name}.storage.${r}`,"AngularFireStorage",w.name,()=>{const D=a.runOutsideAngular(()=>w.storage(r||void 0)),A=_;return A&&D.useEmulator(...A),f&&D.setMaxUploadRetryTime(f),p&&D.setMaxOperationRetryTime(p),D},[f,p])}ref(t){return _x(this.storage.ref(t))}refFromURL(t){return _x(this.storage.refFromURL(t))}upload(t,i,r){return _x(this.storage.ref(t)).put(i,r)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(gs.Dh),c.LFG(gs.xv,8),c.LFG(Ere,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(Yr),c.LFG(wre,8),c.LFG(Cre,8),c.LFG(Sre,8),c.LFG(Oa,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Tre=(()=>{class n{getUser(){return JSON.parse(localStorage.getItem("currentUser"))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Dre=["mat-menu-item",""];function Are(n,e){1&n&&(c.O4$(),c.TgZ(0,"svg",2),c._UZ(1,"polygon",3),c.qZA())}const oW=["*"];function xre(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div",0),c.NdJ("keydown",function(r){c.CHM(t);const s=c.oxw();return c.KtG(s._handleKeydown(r))})("click",function(){c.CHM(t);const r=c.oxw();return c.KtG(r.closed.emit("click"))})("@transformMenu.start",function(r){c.CHM(t);const s=c.oxw();return c.KtG(s._onAnimationStart(r))})("@transformMenu.done",function(r){c.CHM(t);const s=c.oxw();return c.KtG(s._onAnimationDone(r))}),c.TgZ(1,"div",1),c.Hsn(2),c.qZA()()}if(2&n){const t=c.oxw();c.Q6J("id",t.panelId)("ngClass",t._classList)("@transformMenu",t._panelAnimationState),c.uIk("aria-label",t.ariaLabel||null)("aria-labelledby",t.ariaLabelledby||null)("aria-describedby",t.ariaDescribedby||null)}}const yx={transformMenu:UA("transformMenu",[Uw("void",lo({opacity:0,transform:"scale(0.8)"})),qy("void => enter",Wy("120ms cubic-bezier(0, 0, 0.2, 1)",lo({opacity:1,transform:"scale(1)"}))),qy("* => void",Wy("100ms 25ms linear",lo({opacity:0})))]),fadeInItems:UA("fadeInItems",[Uw("showing",lo({opacity:1})),qy("void => *",[lo({opacity:0}),Wy("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},Mre=new c.OlP("MatMenuContent"),AF=new c.OlP("MAT_MENU_PANEL"),kre=xw(pz(class{}));let vx=(()=>{class n extends kre{constructor(t,i,r,s,a){super(),this._elementRef=t,this._document=i,this._focusMonitor=r,this._parentMenu=s,this._changeDetectorRef=a,this.role="menuitem",this._hovered=new zt.x,this._focused=new zt.x,this._highlighted=!1,this._triggersSubmenu=!1,s?.addItem?.(this)}focus(t,i){this._focusMonitor&&t?this._focusMonitor.focusVia(this._getHostElement(),t,i):this._getHostElement().focus(i),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(t){this.disabled&&(t.preventDefault(),t.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){const t=this._elementRef.nativeElement.cloneNode(!0),i=t.querySelectorAll("mat-icon, .material-icons");for(let r=0;r<i.length;r++)i[r].remove();return t.textContent?.trim()||""}_setHighlighted(t){this._highlighted=t,this._changeDetectorRef?.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(Ce),c.Y36($d),c.Y36(AF,8),c.Y36(c.sBO))},n.\u0275cmp=c.Xpm({type:n,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:10,hostBindings:function(t,i){1&t&&c.NdJ("click",function(s){return i._checkDisabled(s)})("mouseenter",function(){return i._handleMouseEnter()}),2&t&&(c.uIk("role",i.role)("tabindex",i._getTabIndex())("aria-disabled",i.disabled.toString())("disabled",i.disabled||null),c.ekj("mat-menu-item",!0)("mat-menu-item-highlighted",i._highlighted)("mat-menu-item-submenu-trigger",i._triggersSubmenu))},inputs:{disabled:"disabled",disableRipple:"disableRipple",role:"role"},exportAs:["matMenuItem"],features:[c.qOj],attrs:Dre,ngContentSelectors:oW,decls:3,vars:3,consts:[["matRipple","",1,"mat-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["class","mat-menu-submenu-icon","viewBox","0 0 5 10","focusable","false",4,"ngIf"],["viewBox","0 0 5 10","focusable","false",1,"mat-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(t,i){1&t&&(c.F$t(),c.Hsn(0),c._UZ(1,"div",0),c.YNc(2,Are,2,0,"svg",1)),2&t&&(c.xp6(1),c.Q6J("matRippleDisabled",i.disableRipple||i.disabled)("matRippleTrigger",i._getHostElement()),c.xp6(1),c.Q6J("ngIf",i._triggersSubmenu))},dependencies:[Nn,kw],encapsulation:2,changeDetection:0}),n})();const aW=new c.OlP("mat-menu-default-options",{providedIn:"root",factory:function Rre(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let Ore=0,iC=(()=>{class n{constructor(t,i,r,s){this._elementRef=t,this._ngZone=i,this._defaultOptions=r,this._changeDetectorRef=s,this._xPosition=this._defaultOptions.xPosition,this._yPosition=this._defaultOptions.yPosition,this._directDescendantItems=new c.n_E,this._tabSubscription=Ir.w0.EMPTY,this._classList={},this._panelAnimationState="void",this._animationDone=new zt.x,this.overlayPanelClass=this._defaultOptions.overlayPanelClass||"",this.backdropClass=this._defaultOptions.backdropClass,this._overlapTrigger=this._defaultOptions.overlapTrigger,this._hasBackdrop=this._defaultOptions.hasBackdrop,this.closed=new c.vpe,this.close=this.closed,this.panelId="mat-menu-panel-"+Ore++}get xPosition(){return this._xPosition}set xPosition(t){this._xPosition=t,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(t){this._yPosition=t,this.setPositionClasses()}get overlapTrigger(){return this._overlapTrigger}set overlapTrigger(t){this._overlapTrigger=rr(t)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(t){this._hasBackdrop=rr(t)}set panelClass(t){const i=this._previousPanelClass;i&&i.length&&i.split(" ").forEach(r=>{this._classList[r]=!1}),this._previousPanelClass=t,t&&t.length&&(t.split(" ").forEach(r=>{this._classList[r]=!0}),this._elementRef.nativeElement.className="")}get classList(){return this.panelClass}set classList(t){this.panelClass=t}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new sz(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._tabSubscription=this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(_i(this._directDescendantItems),Un(t=>(0,Pp.T)(...t.map(i=>i._focused)))).subscribe(t=>this._keyManager.updateActiveItem(t)),this._directDescendantItems.changes.subscribe(t=>{const i=this._keyManager;if("enter"===this._panelAnimationState&&i.activeItem?._hasFocus()){const r=t.toArray(),s=Math.max(0,Math.min(r.length-1,i.activeItemIndex||0));r[s]&&!r[s].disabled?i.setActiveItem(s):i.setNextItemActive()}})}ngOnDestroy(){this._directDescendantItems.destroy(),this._tabSubscription.unsubscribe(),this.closed.complete()}_hovered(){return this._directDescendantItems.changes.pipe(_i(this._directDescendantItems),Un(i=>(0,Pp.T)(...i.map(r=>r._hovered))))}addItem(t){}removeItem(t){}_handleKeydown(t){const i=t.keyCode,r=this._keyManager;switch(i){case 27:Uy(t)||(t.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case 39:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:return(38===i||40===i)&&r.setFocusOrigin("keyboard"),void r.onKeydown(t)}t.stopPropagation()}focusFirstItem(t="program"){this._ngZone.onStable.pipe(tn(1)).subscribe(()=>{let i=null;if(this._directDescendantItems.length&&(i=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),!i||!i.contains(document.activeElement)){const r=this._keyManager;r.setFocusOrigin(t).setFirstItemActive(),!r.activeItem&&i&&i.focus()}})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(t){const i=Math.min(this._baseElevation+t,24),r=`${this._elevationPrefix}${i}`,s=Object.keys(this._classList).find(a=>a.startsWith(this._elevationPrefix));(!s||s===this._previousElevation)&&(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[r]=!0,this._previousElevation=r)}setPositionClasses(t=this.xPosition,i=this.yPosition){const r=this._classList;r["mat-menu-before"]="before"===t,r["mat-menu-after"]="after"===t,r["mat-menu-above"]="above"===i,r["mat-menu-below"]="below"===i,this._changeDetectorRef?.markForCheck()}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(t){this._animationDone.next(t),this._isAnimating=!1}_onAnimationStart(t){this._isAnimating=!0,"enter"===t.toState&&0===this._keyManager.activeItemIndex&&(t.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe(_i(this._allItems)).subscribe(t=>{this._directDescendantItems.reset(t.filter(i=>i._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.R0b),c.Y36(aW),c.Y36(c.sBO))},n.\u0275dir=c.lG2({type:n,contentQueries:function(t,i,r){if(1&t&&(c.Suo(r,Mre,5),c.Suo(r,vx,5),c.Suo(r,vx,4)),2&t){let s;c.iGM(s=c.CRH())&&(i.lazyContent=s.first),c.iGM(s=c.CRH())&&(i._allItems=s),c.iGM(s=c.CRH())&&(i.items=s)}},viewQuery:function(t,i){if(1&t&&c.Gf(c.Rgc,5),2&t){let r;c.iGM(r=c.CRH())&&(i.templateRef=r.first)}},inputs:{backdropClass:"backdropClass",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:"overlapTrigger",hasBackdrop:"hasBackdrop",panelClass:["class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"}}),n})(),Pre=(()=>{class n extends iC{constructor(t,i,r,s){super(t,i,r,s),this._elevationPrefix="mat-elevation-z",this._baseElevation=4}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.R0b),c.Y36(aW),c.Y36(c.sBO))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-menu"]],hostVars:3,hostBindings:function(t,i){2&t&&c.uIk("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},exportAs:["matMenu"],features:[c._Bn([{provide:AF,useExisting:n}]),c.qOj],ngContentSelectors:oW,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-menu-panel",3,"id","ngClass","keydown","click"],[1,"mat-menu-content"]],template:function(t,i){1&t&&(c.F$t(),c.YNc(0,xre,3,6,"ng-template"))},dependencies:[_n],styles:['mat-menu{display:none}.mat-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;max-height:calc(100vh - 48px);border-radius:4px;outline:0;min-height:64px;position:relative}.mat-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-menu-panel{outline:solid 1px}.mat-menu-content:not(:empty){padding-top:8px;padding-bottom:8px}.mat-menu-item{-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative}.mat-menu-item::-moz-focus-inner{border:0}.mat-menu-item[disabled]{cursor:default}[dir=rtl] .mat-menu-item{text-align:right}.mat-menu-item .mat-icon{margin-right:16px;vertical-align:middle}.mat-menu-item .mat-icon svg{vertical-align:top}[dir=rtl] .mat-menu-item .mat-icon{margin-left:16px;margin-right:0}.mat-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.cdk-high-contrast-active .mat-menu-item{margin-top:1px}.mat-menu-item-submenu-trigger{padding-right:32px}[dir=rtl] .mat-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}.mat-menu-submenu-icon{position:absolute;top:50%;right:16px;transform:translateY(-50%);width:5px;height:10px;fill:currentColor}[dir=rtl] .mat-menu-submenu-icon{right:auto;left:16px;transform:translateY(-50%) scaleX(-1)}.cdk-high-contrast-active .mat-menu-submenu-icon{fill:CanvasText}button.mat-menu-item{width:100%}.mat-menu-item .mat-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,data:{animation:[yx.transformMenu,yx.fadeInItems]},changeDetection:0}),n})();const lW=new c.OlP("mat-menu-scroll-strategy"),Fre={provide:lW,deps:[jd],useFactory:function Nre(n){return()=>n.scrollStrategies.reposition()}},cW=Tw({passive:!0});let Lre=(()=>{class n{constructor(t,i,r,s,a,d,f,p,_){this._overlay=t,this._element=i,this._viewContainerRef=r,this._menuItemInstance=d,this._dir=f,this._focusMonitor=p,this._ngZone=_,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=Ir.w0.EMPTY,this._hoverSubscription=Ir.w0.EMPTY,this._menuCloseSubscription=Ir.w0.EMPTY,this._handleTouchStart=v=>{iN(v)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new c.vpe,this.onMenuOpen=this.menuOpened,this.menuClosed=new c.vpe,this.onMenuClose=this.menuClosed,this._scrollStrategy=s,this._parentMaterialMenu=a instanceof iC?a:void 0,i.nativeElement.addEventListener("touchstart",this._handleTouchStart,cW),d&&(d._triggersSubmenu=this.triggersSubmenu())}get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(t){this.menu=t}get menu(){return this._menu}set menu(t){t!==this._menu&&(this._menu=t,this._menuCloseSubscription.unsubscribe(),t&&(this._menuCloseSubscription=t.close.subscribe(i=>{this._destroyMenu(i),("click"===i||"tab"===i)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(i)})))}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,cW),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!(!this._menuItemInstance||!this._parentMaterialMenu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){const t=this.menu;if(this._menuOpen||!t)return;const i=this._createOverlay(t),r=i.getConfig(),s=r.positionStrategy;this._setPosition(t,s),r.hasBackdrop=t.hasBackdrop??!this.triggersSubmenu(),i.attach(this._getPortal(t)),t.lazyContent&&t.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(t),t instanceof iC&&(t._startAnimation(),t._directDescendantItems.changes.pipe(oo(t.close)).subscribe(()=>{s.withLockedPosition(!1).reapplyLastPosition(),s.withLockedPosition(!0)}))}closeMenu(){this.menu?.close.emit()}focus(t,i){this._focusMonitor&&t?this._focusMonitor.focusVia(this._element,t,i):this._element.nativeElement.focus(i)}updatePosition(){this._overlayRef?.updatePosition()}_destroyMenu(t){if(!this._overlayRef||!this.menuOpen)return;const i=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===t||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,i instanceof iC?(i._resetAnimation(),i.lazyContent?i._animationDone.pipe(Rn(r=>"void"===r.toState),tn(1),oo(i.lazyContent._attached)).subscribe({next:()=>i.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),i?.lazyContent?.detach())}_initMenu(t){t.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,t.direction=this.dir,this._setMenuElevation(t),t.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(t){if(t.setElevation){let i=0,r=t.parentMenu;for(;r;)i++,r=r.parentMenu;t.setElevation(i)}}_setIsMenuOpen(t){this._menuOpen=t,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(t)}_createOverlay(t){if(!this._overlayRef){const i=this._getOverlayConfig(t);this._subscribeToPositions(t,i.positionStrategy),this._overlayRef=this._overlay.create(i),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(t){return new MN({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:t.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:t.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(t,i){t.setPositionClasses&&i.positionChanges.subscribe(r=>{const s="start"===r.connectionPair.overlayX?"after":"before",a="top"===r.connectionPair.overlayY?"below":"above";this._ngZone?this._ngZone.run(()=>t.setPositionClasses(s,a)):t.setPositionClasses(s,a)})}_setPosition(t,i){let[r,s]="before"===t.xPosition?["end","start"]:["start","end"],[a,d]="above"===t.yPosition?["bottom","top"]:["top","bottom"],[f,p]=[a,d],[_,v]=[r,s],w=0;if(this.triggersSubmenu()){if(v=r="before"===t.xPosition?"start":"end",s=_="end"===r?"start":"end",this._parentMaterialMenu){if(null==this._parentInnerPadding){const D=this._parentMaterialMenu.items.first;this._parentInnerPadding=D?D._getHostElement().offsetTop:0}w="bottom"===a?this._parentInnerPadding:-this._parentInnerPadding}}else t.overlapTrigger||(f="top"===a?"bottom":"top",p="top"===d?"bottom":"top");i.withPositions([{originX:r,originY:f,overlayX:_,overlayY:a,offsetY:w},{originX:s,originY:f,overlayX:v,overlayY:a,offsetY:w},{originX:r,originY:p,overlayX:_,overlayY:d,offsetY:-w},{originX:s,originY:p,overlayX:v,overlayY:d,offsetY:-w}])}_menuClosingActions(){const t=this._overlayRef.backdropClick(),i=this._overlayRef.detachments(),r=this._parentMaterialMenu?this._parentMaterialMenu.closed:tt(),s=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe(Rn(a=>a!==this._menuItemInstance),Rn(()=>this._menuOpen)):tt();return(0,Pp.T)(t,r,s,i)}_handleMousedown(t){nN(t)||(this._openedBy=0===t.button?"mouse":void 0,this.triggersSubmenu()&&t.preventDefault())}_handleKeydown(t){const i=t.keyCode;(13===i||32===i)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(39===i&&"ltr"===this.dir||37===i&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(t){this.triggersSubmenu()?(t.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe(Rn(t=>t===this._menuItemInstance&&!t.disabled),vN(0,EN)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof iC&&this.menu._isAnimating?this.menu._animationDone.pipe(tn(1),vN(0,EN),oo(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(t){return(!this._portal||this._portal.templateRef!==t.templateRef)&&(this._portal=new TN(t.templateRef,this._viewContainerRef)),this._portal}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(jd),c.Y36(c.SBq),c.Y36(c.s_b),c.Y36(lW),c.Y36(AF,8),c.Y36(vx,10),c.Y36(Dw,8),c.Y36($d),c.Y36(c.R0b))},n.\u0275dir=c.lG2({type:n,hostVars:3,hostBindings:function(t,i){1&t&&c.NdJ("click",function(s){return i._handleClick(s)})("mousedown",function(s){return i._handleMousedown(s)})("keydown",function(s){return i._handleKeydown(s)}),2&t&&c.uIk("aria-haspopup",i.menu?"menu":null)("aria-expanded",i.menuOpen||null)("aria-controls",i.menuOpen?i.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"],restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"}}),n})(),Vre=(()=>{class n extends Lre{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=c.n5z(n)))(i||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-menu-trigger"],exportAs:["matMenuTrigger"],features:[c.qOj]}),n})(),uW=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[Fre],imports:[ki,hi,Rw,kN,CN,hi]}),n})();function Bre(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"button",25),c.NdJ("click",function(){c.CHM(t);const r=c.oxw();return c.KtG(r.signIn())}),c._UZ(1,"mat-icon",26),c._uU(2," \u0412\u043e\u0439\u0442\u0438 "),c.qZA()}}function Ure(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"button",25),c.NdJ("click",function(){c.CHM(t);const r=c.oxw();return c.KtG(r.openSignUpModal())}),c._UZ(1,"mat-icon",27),c._uU(2," \u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f "),c.qZA()}}function $re(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"button",25),c.NdJ("click",function(){c.CHM(t);const r=c.oxw();return c.KtG(r.logout())}),c._UZ(1,"mat-icon",28),c._uU(2," \u0412\u044b\u0439\u0442\u0438 "),c.qZA()}}function Hre(n,e){1&n&&(c.TgZ(0,"button",23),c._UZ(1,"mat-icon",29),c._uU(2," \u041c\u043e\u0439 \u0440\u0430\u0437\u0434\u0435\u043b "),c.qZA())}function zre(n,e){1&n&&(c.TgZ(0,"button",23),c._UZ(1,"mat-icon",30),c._uU(2," \u041c\u043e\u0438 \u0437\u0430\u043a\u0430\u0437\u044b "),c.qZA())}function jre(n,e){1&n&&(c.TgZ(0,"button",23),c._UZ(1,"mat-icon",31),c._uU(2," \u0418\u0437\u0431\u0440\u0430\u043d\u043d\u044b\u0435 "),c.qZA())}let Gre=(()=>{class n{constructor(t,i,r,s){this.dialog=t,this.storage=i,this.authService=r,this.userService=s,this.city="\u0410\u043b\u043c\u0430\u0442\u044b"}get userName(){return this.userService.getUser()?.displayName}openCityChangeModal(){this.dialog.open(Ite,{width:"400px",height:"700px",data:{selectedCity:this.city}}).afterClosed().subscribe(i=>{i?.length&&(this.city=i)})}openSignUpModal(){this.dialog.open(Tne,{width:"400px",height:"350px",data:{selectedCity:this.city}}).afterClosed().subscribe(i=>{i?.length&&(this.city=i)})}signIn(){this.dialog.open(Dne,{width:"400px",height:"250px",data:{selectedCity:this.city}}).afterClosed().subscribe(i=>{i?.length&&(this.city=i)})}logout(){this.authService.SignOut().then()}uploadFile(t){console.log(t.name);const i=eW(),r=fre(i,"some-child");pre(r,this.file).then(s=>{console.log("Uploaded a blob or file!")})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(cj),c.Y36(Ire),c.Y36(dF),c.Y36(Tre))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-header"]],decls:41,vars:9,consts:[[1,"wrapper","width","d-flex","align-center"],[1,"container","d-flex","align-center","width"],[1,"text-white","fw600","pointer","fz-8","pr-6","d-flex","align-center"],[1,"d-flex","align-center","pr-1"],["src","https://play-lh.googleusercontent.com/wbqcLeR1gDjooByaxujaEIzMto6dONYxC7VP_o5-04IZbwDm49oiY1gt4cq3nqicF7I","width","32px","height","32px","alt",""],[1,"search","d-flex","border-box","width","pr-6"],["type","text","placeholder","\u0411\u043e\u043b\u0435\u0435 100 \u043a\u043d\u0438\u0433",1,"search-text","pl-4"],["type","button","value","\u041d\u0430\u0439\u0442\u0438",1,"search-button","pointer","border-none","fw600"],[1,"right-content","pl-6","d-flex","justify-between","align-center","spacer"],[1,"location","d-flex","gap-2","align-center","pointer",3,"click"],[1,"icon"],["width","41","height","41","viewBox","0 0 41 41","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M20.5003 3.41675C13.8891 3.41675 8.54199 8.76383 8.54199 15.3751C8.54199 24.3438 20.5003 37.5834 20.5003 37.5834C20.5003 37.5834 32.4587 24.3438 32.4587 15.3751C32.4587 8.76383 27.1116 3.41675 20.5003 3.41675ZM20.5003 19.6459C18.1428 19.6459 16.2295 17.7326 16.2295 15.3751C16.2295 13.0176 18.1428 11.1042 20.5003 11.1042C22.8578 11.1042 24.7712 13.0176 24.7712 15.3751C24.7712 17.7326 22.8578 19.6459 20.5003 19.6459Z","fill","white"],[1,"text-white","fz-4","fw600"],[1,"profile","d-flex","align-center","gap-2","pointer",3,"matMenuTriggerFor"],["src","https://cdn.f.kz/img/no_photo120.jpg","alt","img","width","40px","height","40px",1,"circle-border"],[1,"text-white"],[1,"bucket","d-flex","gap-2","align-center","pointer"],[1,"d-flex","align-center"],["src","https://cdn.f.kz/img/new_header_2015/cart_new.svg","width","40px","height","40px","alt","img"],["menu","matMenu"],["mat-menu-item","","class","menu_btn",3,"click",4,"ngIf"],["mat-menu-item","","class","menu_btn",4,"ngIf"],["mat-menu-item","",1,"menu_btn"],["color","primary","aria-hidden","true","aria-label","Example home icon","fontIcon","contacts"],["mat-menu-item","",1,"menu_btn",3,"click"],["color","primary","aria-hidden","false","aria-label","Example home icon","fontIcon","login"],["color","primary","aria-hidden","false","aria-label","Example home icon","fontIcon","how_to_reg"],["color","primary","aria-hidden","false","aria-label","Example home icon","fontIcon","logout"],["color","primary","aria-hidden","false","aria-label","Example home icon","fontIcon","auto_awesome_mosaic"],["color","primary","aria-hidden","false","aria-label","Example home icon","fontIcon","list_alt"],["color","primary","aria-hidden","false","aria-label","Example home icon","fontIcon","favorite"]],template:function(t,i){if(1&t&&(c.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),c._UZ(4,"img",4),c.qZA(),c.TgZ(5,"div"),c._uU(6,"Aslan_Books"),c.qZA()(),c.TgZ(7,"div",5),c._UZ(8,"input",6)(9,"input",7),c.qZA(),c.TgZ(10,"div",8)(11,"div",9),c.NdJ("click",function(){return i.openCityChangeModal()}),c.TgZ(12,"div",10),c.O4$(),c.TgZ(13,"svg",11),c._UZ(14,"path",12),c.qZA()(),c.kcU(),c.TgZ(15,"div",13),c._uU(16),c.qZA()(),c.TgZ(17,"div",14)(18,"div"),c._UZ(19,"img",15),c.qZA(),c.TgZ(20,"div",16),c._uU(21),c.qZA()(),c.TgZ(22,"div",17)(23,"div",18),c._UZ(24,"img",19),c.qZA(),c.TgZ(25,"div",16)(26,"div"),c._uU(27,"\u041a\u043e\u0440\u0437\u0438\u043d\u0430"),c.qZA(),c.TgZ(28,"div"),c._uU(29,"0 \u0442\u043e\u0432\u0430\u0440\u0430"),c.qZA()()()()()(),c.TgZ(30,"mat-menu",null,20),c.YNc(32,Bre,3,0,"button",21),c.YNc(33,Ure,3,0,"button",21),c.YNc(34,$re,3,0,"button",21),c.YNc(35,Hre,3,0,"button",22),c.YNc(36,zre,3,0,"button",22),c.YNc(37,jre,3,0,"button",22),c.TgZ(38,"button",23),c._UZ(39,"mat-icon",24),c._uU(40," \u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b "),c.qZA()()),2&t){const r=c.MAs(31);c.xp6(16),c.Oqu(i.city),c.xp6(1),c.Q6J("matMenuTriggerFor",r),c.xp6(4),c.hij(" ",i.userName||"\u0412\u043e\u0439\u0442\u0438"," "),c.xp6(11),c.Q6J("ngIf",!i.userName),c.xp6(1),c.Q6J("ngIf",!i.userName),c.xp6(1),c.Q6J("ngIf",i.userName),c.xp6(1),c.Q6J("ngIf",i.userName),c.xp6(1),c.Q6J("ngIf",i.userName),c.xp6(1),c.Q6J("ngIf",i.userName)}},dependencies:[Nn,Pre,vx,Vre,L3],styles:[".wrapper[_ngcontent-%COMP%]{background:#0a78d6;box-shadow:#00000080 0 0 5px;height:75px}.search[_ngcontent-%COMP%]{height:40px;max-width:600px}.search-text[_ngcontent-%COMP%]{width:85%}.search-text[_ngcontent-%COMP%]:focus{background-color:#ffedb6;border:none}.search-button[_ngcontent-%COMP%]{width:15%;background-color:#febd01}.profile[_ngcontent-%COMP%]{height:77px}.menu_btn[_ngcontent-%COMP%]{font-weight:600}.menu_btn[_ngcontent-%COMP%]:hover{background:var(--light_yellow)}"]}),n})(),Wre=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-footer"]],decls:2,vars:0,template:function(t,i){1&t&&(c.TgZ(0,"p"),c._uU(1,"footer works!"),c.qZA())}}),n})(),qre=(()=>{class n{constructor(){this.title="aslanAngularBooks"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-root"]],decls:5,vars:0,consts:[[1,"d-flex","flex-col","height","app"],[1,"spacer","scroll"]],template:function(t,i){1&t&&(c.TgZ(0,"div",0),c._UZ(1,"app-header"),c.TgZ(2,"div",1),c._UZ(3,"router-outlet"),c.qZA(),c._UZ(4,"app-footer"),c.qZA())},dependencies:[Ac,Gre,Wre],styles:[".app[_ngcontent-%COMP%]{background:#F5F5F5}"]}),n})();function dW(n){return new c.vHH(3e3,!1)}function Ase(){return typeof window<"u"&&typeof window.document<"u"}function xF(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Kd(n){switch(n.length){case 0:return new $w;case 1:return n[0];default:return new oj(n)}}function hW(n,e,t,i,r=new Map,s=new Map){const a=[],d=[];let f=-1,p=null;if(i.forEach(_=>{const v=_.get("offset"),w=v==f,D=w&&p||new Map;_.forEach((A,x)=>{let k=x,F=A;if("offset"!==x)switch(k=e.normalizePropertyName(k,a),F){case"!":F=r.get(x);break;case nu:F=s.get(x);break;default:F=e.normalizeStyleValue(x,k,F,a)}D.set(k,F)}),w||d.push(D),p=D,f=v}),a.length)throw function gse(n){return new c.vHH(3502,!1)}();return d}function MF(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&kF(t,"start",n)));break;case"done":n.onDone(()=>i(t&&kF(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&kF(t,"destroy",n)))}}function kF(n,e,t){const s=RF(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),a=n._data;return null!=a&&(s._data=a),s}function RF(n,e,t,i,r="",s=0,a){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:s,disabled:!!a}}function uo(n,e,t){let i=n.get(e);return i||n.set(e,i=t),i}function fW(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let OF=(n,e)=>!1,pW=(n,e,t)=>[],mW=null;function PF(n){const e=n.parentNode||n.host;return e===mW?null:e}(xF()||typeof Element<"u")&&(Ase()?(mW=(()=>document.documentElement)(),OF=(n,e)=>{for(;e;){if(e===n)return!0;e=PF(e)}return!1}):OF=(n,e)=>n.contains(e),pW=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const i=n.querySelector(e);return i?[i]:[]});let jp=null,gW=!1;const _W=OF,yW=pW;let vW=(()=>{class n{validateStyleProperty(t){return function Mse(n){jp||(jp=function kse(){return typeof document<"u"?document.body:null}()||{},gW=!!jp.style&&"WebkitAppearance"in jp.style);let e=!0;return jp.style&&!function xse(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in jp.style,!e&&gW&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in jp.style)),e}(t)}matchesElement(t,i){return!1}containsElement(t,i){return _W(t,i)}getParentElement(t){return PF(t)}query(t,i,r){return yW(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,s,a,d=[],f){return new $w(r,s)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),NF=(()=>{class n{}return n.NOOP=new vW,n})();const FF="ng-enter",bx="ng-leave",Ex="ng-trigger",wx=".ng-trigger",EW="ng-animating",LF=".ng-animating";function au(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:VF(parseFloat(e[1]),e[2])}function VF(n,e){return"s"===e?1e3*n:n}function Cx(n,e,t){return n.hasOwnProperty("duration")?n:function Pse(n,e,t){let r,s=0,a="";if("string"==typeof n){const d=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===d)return e.push(dW()),{duration:0,delay:0,easing:""};r=VF(parseFloat(d[1]),d[2]);const f=d[3];null!=f&&(s=VF(parseFloat(f),d[4]));const p=d[5];p&&(a=p)}else r=n;if(!t){let d=!1,f=e.length;r<0&&(e.push(function Yre(){return new c.vHH(3100,!1)}()),d=!0),s<0&&(e.push(function Zre(){return new c.vHH(3101,!1)}()),d=!0),d&&e.splice(f,0,dW())}return{duration:r,delay:s,easing:a}}(n,e,t)}function rC(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function wW(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function Qd(n,e=new Map,t){if(t)for(let[i,r]of t)e.set(i,r);for(let[i,r]of n)e.set(i,r);return e}function SW(n,e,t){return t?e+":"+t+";":""}function IW(n){let e="";for(let t=0;t<n.style.length;t++){const i=n.style.item(t);e+=SW(0,i,n.style.getPropertyValue(i))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=SW(0,Vse(t),n.style[t]));n.setAttribute("style",e)}function $l(n,e,t){n.style&&(e.forEach((i,r)=>{const s=UF(r);t&&!t.has(r)&&t.set(r,n.style[s]),n.style[s]=i}),xF()&&IW(n))}function Gp(n,e){n.style&&(e.forEach((t,i)=>{const r=UF(i);n.style[r]=""}),xF()&&IW(n))}function sC(n){return Array.isArray(n)?1==n.length?n[0]:nj(n):n}const BF=new RegExp("{{\\s*(.+?)\\s*}}","g");function TW(n){let e=[];if("string"==typeof n){let t;for(;t=BF.exec(n);)e.push(t[1]);BF.lastIndex=0}return e}function oC(n,e,t){const i=n.toString(),r=i.replace(BF,(s,a)=>{let d=e[a];return null==d&&(t.push(function Qre(n){return new c.vHH(3003,!1)}()),d=""),d.toString()});return r==i?n:r}function Sx(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const Lse=/-+([a-z0-9])/g;function UF(n){return n.replace(Lse,(...e)=>e[1].toUpperCase())}function Vse(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function ho(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function Xre(n){return new c.vHH(3004,!1)}()}}function DW(n,e){return window.getComputedStyle(n)[e]}function jse(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function Gse(n,e,t){if(":"==n[0]){const f=function Wse(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(function hse(n){return new c.vHH(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof f)return void e.push(f);n=f}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(function dse(n){return new c.vHH(3015,!1)}()),e;const r=i[1],s=i[2],a=i[3];e.push(AW(r,a));"<"==s[0]&&!("*"==r&&"*"==a)&&e.push(AW(a,r))}(i,t,e)):t.push(n),t}const Ax=new Set(["true","1"]),xx=new Set(["false","0"]);function AW(n,e){const t=Ax.has(n)||xx.has(n),i=Ax.has(e)||xx.has(e);return(r,s)=>{let a="*"==n||n==r,d="*"==e||e==s;return!a&&t&&"boolean"==typeof r&&(a=r?Ax.has(n):xx.has(n)),!d&&i&&"boolean"==typeof s&&(d=s?Ax.has(e):xx.has(e)),a&&d}}const qse=new RegExp("s*:selfs*,?","g");function $F(n,e,t,i){return new Yse(n).build(e,t,i)}class Yse{constructor(e){this._driver=e}build(e,t,i){const r=new Qse(t);return this._resetContextStyleTimingState(r),ho(this,sC(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0;const s=[],a=[];return"@"==e.name.charAt(0)&&t.errors.push(function ese(){return new c.vHH(3006,!1)}()),e.definitions.forEach(d=>{if(this._resetContextStyleTimingState(t),0==d.type){const f=d,p=f.name;p.toString().split(/\s*,\s*/).forEach(_=>{f.name=_,s.push(this.visitState(f,t))}),f.name=p}else if(1==d.type){const f=this.visitTransition(d,t);i+=f.queryCount,r+=f.depCount,a.push(f)}else t.errors.push(function tse(){return new c.vHH(3007,!1)}())}),{type:7,name:e.name,states:s,transitions:a,queryCount:i,depCount:r,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){const s=new Set,a=r||{};i.styles.forEach(d=>{d instanceof Map&&d.forEach(f=>{TW(f).forEach(p=>{a.hasOwnProperty(p)||s.add(p)})})}),s.size&&(Sx(s.values()),t.errors.push(function nse(n,e){return new c.vHH(3008,!1)}()))}return{type:0,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=ho(this,sC(e.animation),t);return{type:1,matchers:jse(e.expr,t.errors),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:Wp(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(i=>ho(this,i,t)),options:Wp(e.options)}}visitGroup(e,t){const i=t.currentTime;let r=0;const s=e.steps.map(a=>{t.currentTime=i;const d=ho(this,a,t);return r=Math.max(r,t.currentTime),d});return t.currentTime=r,{type:3,steps:s,options:Wp(e.options)}}visitAnimate(e,t){const i=function Jse(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return HF(Cx(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=HF(0,0,"");return s.dynamic=!0,s.strValue=t,s}const r=Cx(t,e);return HF(r.duration,r.delay,r.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let r,s=e.styles?e.styles:lo({});if(5==s.type)r=this.visitKeyframes(s,t);else{let a=e.styles,d=!1;if(!a){d=!0;const p={};i.easing&&(p.easing=i.easing),a=lo(p)}t.currentTime+=i.duration+i.delay;const f=this.visitStyle(a,t);f.isEmptyStep=d,r=f}return t.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let d of r)"string"==typeof d?d===nu?i.push(d):t.errors.push(new c.vHH(3002,!1)):i.push(wW(d));let s=!1,a=null;return i.forEach(d=>{if(d instanceof Map&&(d.has("easing")&&(a=d.get("easing"),d.delete("easing")),!s))for(let f of d.values())if(f.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:i,easing:a,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let r=t.currentTime,s=t.currentTime;i&&s>0&&(s-=i.duration+i.delay),e.styles.forEach(a=>{"string"!=typeof a&&a.forEach((d,f)=>{const p=t.collectedStyles.get(t.currentQuerySelector),_=p.get(f);let v=!0;_&&(s!=r&&s>=_.startTime&&r<=_.endTime&&(t.errors.push(function rse(n,e,t,i,r){return new c.vHH(3010,!1)}()),v=!1),s=_.startTime),v&&p.set(f,{startTime:s,endTime:r}),t.options&&function Fse(n,e,t){const i=e.params||{},r=TW(n);r.length&&r.forEach(s=>{i.hasOwnProperty(s)||t.push(function Kre(n){return new c.vHH(3001,!1)}())})}(d,t.options,t.errors)})})}visitKeyframes(e,t){const i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function sse(){return new c.vHH(3011,!1)}()),i;let s=0;const a=[];let d=!1,f=!1,p=0;const _=e.steps.map(F=>{const L=this._makeStyleAst(F,t);let U=null!=L.offset?L.offset:function Xse(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const i=t;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(L.styles),ee=0;return null!=U&&(s++,ee=L.offset=U),f=f||ee<0||ee>1,d=d||ee<p,p=ee,a.push(ee),L});f&&t.errors.push(function ose(){return new c.vHH(3012,!1)}()),d&&t.errors.push(function ase(){return new c.vHH(3200,!1)}());const v=e.steps.length;let w=0;s>0&&s<v?t.errors.push(function lse(){return new c.vHH(3202,!1)}()):0==s&&(w=1/(v-1));const D=v-1,A=t.currentTime,x=t.currentAnimateTimings,k=x.duration;return _.forEach((F,L)=>{const U=w>0?L==D?1:w*L:a[L],ee=U*k;t.currentTime=A+x.delay+ee,x.duration=ee,this._validateStyleAst(F,t),F.offset=U,i.styles.push(F)}),i}visitReference(e,t){return{type:8,animation:ho(this,sC(e.animation),t),options:Wp(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Wp(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Wp(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[s,a]=function Zse(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(qse,"")),n=n.replace(/@\*/g,wx).replace(/@\w+/g,t=>wx+"-"+t.slice(1)).replace(/:animating/g,LF),[n,e]}(e.selector);t.currentQuerySelector=i.length?i+" "+s:s,uo(t.collectedStyles,t.currentQuerySelector,new Map);const d=ho(this,sC(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:a,animation:d,originalSelector:e.selector,options:Wp(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function cse(){return new c.vHH(3013,!1)}());const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:Cx(e.timings,t.errors,!0);return{type:12,animation:ho(this,sC(e.animation),t),timings:i,options:null}}}class Qse{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Wp(n){return n?(n=rC(n)).params&&(n.params=function Kse(n){return n?rC(n):null}(n.params)):n={},n}function HF(n,e,t){return{duration:n,delay:e,easing:t}}function zF(n,e,t,i,r,s,a=null,d=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:a,subTimeline:d}}class Mx{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const noe=new RegExp(":enter","g"),roe=new RegExp(":leave","g");function jF(n,e,t,i,r,s=new Map,a=new Map,d,f,p=[]){return(new soe).buildKeyframes(n,e,t,i,r,s,a,d,f,p)}class soe{buildKeyframes(e,t,i,r,s,a,d,f,p,_=[]){p=p||new Mx;const v=new GF(e,t,p,r,s,_,[]);v.options=f;const w=f.delay?au(f.delay):0;v.currentTimeline.delayNextStep(w),v.currentTimeline.setStyles([a],null,v.errors,f),ho(this,i,v);const D=v.timelines.filter(A=>A.containsAnimation());if(D.length&&d.size){let A;for(let x=D.length-1;x>=0;x--){const k=D[x];if(k.element===t){A=k;break}}A&&!A.allowOnlyTimelineStyles()&&A.setStyles([d],null,v.errors,f)}return D.length?D.map(A=>A.buildKeyframes()):[zF(t,[],[],[],0,w,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.get(t.element);if(i){const r=t.createSubContext(e.options),s=t.currentTimeline.currentTime,a=this._visitSubInstructions(i,r,r.options);s!=a&&t.transformIntoNewTimeline(a)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,i),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,i){for(const r of e){const s=r?.delay;if(s){const a="number"==typeof s?s:au(oC(s,r?.params??{},t.errors));i.delayNextStep(a)}}}_visitSubInstructions(e,t,i){let s=t.currentTimeline.currentTime;const a=null!=i.duration?au(i.duration):null,d=null!=i.delay?au(i.delay):null;return 0!==a&&e.forEach(f=>{const p=t.appendInstructionToTimeline(f,a,d);s=Math.max(s,p.duration+p.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),ho(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let r=t;const s=e.options;if(s&&(s.params||s.delay)&&(r=t.createSubContext(s),r.transformIntoNewTimeline(),null!=s.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=kx);const a=au(s.delay);r.delayNextStep(a)}e.steps.length&&(e.steps.forEach(a=>ho(this,a,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let r=t.currentTimeline.currentTime;const s=e.options&&e.options.delay?au(e.options.delay):0;e.steps.forEach(a=>{const d=t.createSubContext(e.options);s&&d.delayNextStep(s),ho(this,a,d),r=Math.max(r,d.currentTimeline.currentTime),i.push(d.currentTimeline)}),i.forEach(a=>t.currentTimeline.mergeTimelineCollectedStyles(a)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return Cx(t.params?oC(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());const s=e.style;5==s.type?this.visitKeyframes(s,t):(t.incrementTime(i.duration),this.visitStyle(s,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const s=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(s):i.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,r=t.currentTimeline.duration,s=i.duration,d=t.createSubContext().currentTimeline;d.easing=i.easing,e.styles.forEach(f=>{d.forwardTime((f.offset||0)*s),d.setStyles(f.styles,f.easing,t.errors,t.options),d.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(d),t.transformIntoNewTimeline(r+s),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,r=e.options||{},s=r.delay?au(r.delay):0;s&&(6===t.previousNode.type||0==i&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=kx);let a=i;const d=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=d.length;let f=null;d.forEach((p,_)=>{t.currentQueryIndex=_;const v=t.createSubContext(e.options,p);s&&v.delayNextStep(s),p===t.element&&(f=v.currentTimeline),ho(this,e.animation,v),v.currentTimeline.applyStylesToKeyframe(),a=Math.max(a,v.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(a),f&&(t.currentTimeline.mergeTimelineCollectedStyles(f),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,r=t.currentTimeline,s=e.timings,a=Math.abs(s.duration),d=a*(t.currentQueryTotal-1);let f=a*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":f=d-f;break;case"full":f=i.currentStaggerTime}const _=t.currentTimeline;f&&_.delayNextStep(f);const v=_.currentTime;ho(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-v+(r.startTime-i.currentTimeline.startTime)}}const kx={};class GF{constructor(e,t,i,r,s,a,d,f){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=s,this.errors=a,this.timelines=d,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=kx,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=f||new Rx(this._driver,t,0),d.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let r=this.options;null!=i.duration&&(r.duration=au(i.duration)),null!=i.delay&&(r.delay=au(i.delay));const s=i.params;if(s){let a=r.params;a||(a=this.options.params={}),Object.keys(s).forEach(d=>{(!t||!a.hasOwnProperty(d))&&(a[d]=oC(s[d],a,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){const r=t||this.element,s=new GF(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=kx,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const r={duration:t??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},s=new ooe(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,s,a){let d=[];if(r&&d.push(this.element),e.length>0){e=(e=e.replace(noe,"."+this._enterClassName)).replace(roe,"."+this._leaveClassName);let p=this._driver.query(this.element,e,1!=i);0!==i&&(p=i<0?p.slice(p.length+i,p.length):p.slice(0,i)),d.push(...p)}return!s&&0==d.length&&a.push(function use(n){return new c.vHH(3014,!1)}()),d}}class Rx{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new Rx(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,i]of this._globalTimelineStyles)this._backFill.set(t,i||nu),this._currentKeyframe.set(t,nu);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&this._previousKeyframe.set("easing",t);const s=r&&r.params||{},a=function aoe(n,e){const t=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||e.keys();for(let s of i)t.set(s,nu)}else Qd(r,t)}),t}(e,this._globalTimelineStyles);for(let[d,f]of a){const p=oC(f,s,i);this._pendingStyles.set(d,p),this._localTimelineStyles.has(d)||this._backFill.set(d,this._globalTimelineStyles.get(d)??nu),this._updateStyle(d,p)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,i)=>{const r=this._styleSummary.get(i);(!r||t.time>r.time)&&this._updateStyle(i,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((d,f)=>{const p=Qd(d,new Map,this._backFill);p.forEach((_,v)=>{"!"===_?e.add(v):_===nu&&t.add(v)}),i||p.set("offset",f/this.duration),r.push(p)});const s=e.size?Sx(e.values()):[],a=t.size?Sx(t.values()):[];if(i){const d=r[0],f=new Map(d);d.set("offset",0),f.set("offset",1),r=[d,f]}return zF(this.element,r,s,a,this.duration,this.startTime,this.easing,!1)}}class ooe extends Rx{constructor(e,t,i,r,s,a,d=!1){super(e,t,a.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=d,this.timings={duration:a.duration,delay:a.delay,easing:a.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const s=[],a=i+t,d=t/a,f=Qd(e[0]);f.set("offset",0),s.push(f);const p=Qd(e[0]);p.set("offset",kW(d)),s.push(p);const _=e.length-1;for(let v=1;v<=_;v++){let w=Qd(e[v]);const D=w.get("offset");w.set("offset",kW((t+D*i)/a)),s.push(w)}i=a,t=0,r="",e=s}return zF(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}}function kW(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class WF{}const loe=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class coe extends WF{normalizePropertyName(e,t){return UF(e)}normalizeStyleValue(e,t,i,r){let s="";const a=i.toString().trim();if(loe.has(t)&&0!==i&&"0"!==i)if("number"==typeof i)s="px";else{const d=i.match(/^[+-]?[\d\.]+([a-z]*)$/);d&&0==d[1].length&&r.push(function Jre(n,e){return new c.vHH(3005,!1)}())}return a+s}}function RW(n,e,t,i,r,s,a,d,f,p,_,v,w){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:s,toState:i,toStyles:a,timelines:d,queriedElements:f,preStyleProps:p,postStyleProps:_,totalTime:v,errors:w}}const qF={};class OW{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return function uoe(n,e,t,i,r){return n.some(s=>s(e,t,i,r))}(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){let r=this._stateStyles.get("*");return void 0!==e&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(t,i):new Map}build(e,t,i,r,s,a,d,f,p,_){const v=[],w=this.ast.options&&this.ast.options.params||qF,A=this.buildStyles(i,d&&d.params||qF,v),x=f&&f.params||qF,k=this.buildStyles(r,x,v),F=new Set,L=new Map,U=new Map,ee="void"===r,oe={params:doe(x,w),delay:this.ast.options?.delay},ue=_?[]:jF(e,t,this.ast.animation,s,a,A,k,oe,p,v);let ye=0;if(ue.forEach(it=>{ye=Math.max(it.duration+it.delay,ye)}),v.length)return RW(t,this._triggerName,i,r,ee,A,k,[],[],L,U,ye,v);ue.forEach(it=>{const $e=it.element,ge=uo(L,$e,new Set);it.preStyleProps.forEach(Ee=>ge.add(Ee));const ae=uo(U,$e,new Set);it.postStyleProps.forEach(Ee=>ae.add(Ee)),$e!==t&&F.add($e)});const ze=Sx(F.values());return RW(t,this._triggerName,i,r,ee,A,k,ue,ze,L,U,ye)}}function doe(n,e){const t=rC(e);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(t[i]=n[i]);return t}class hoe{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i=new Map,r=rC(this.defaultParams);return Object.keys(e).forEach(s=>{const a=e[s];null!==a&&(r[s]=a)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((a,d)=>{a&&(a=oC(a,r,t));const f=this.normalizer.normalizePropertyName(d,t);a=this.normalizer.normalizeStyleValue(d,f,a,t),i.set(f,a)})}),i}}class poe{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states=new Map,t.states.forEach(r=>{this.states.set(r.name,new hoe(r.style,r.options&&r.options.params||{},i))}),PW(this.states,"true","1"),PW(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new OW(e,r,this.states))}),this.fallbackTransition=function moe(n,e,t){return new OW(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(a,d)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(a=>a.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function PW(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const goe=new Mx;class _oe{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const i=[],s=$F(this._driver,t,i,[]);if(i.length)throw function _se(n){return new c.vHH(3503,!1)}();this._animations.set(e,s)}_buildPlayer(e,t,i){const r=e.element,s=hW(0,this._normalizer,0,e.keyframes,t,i);return this._driver.animate(r,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const r=[],s=this._animations.get(e);let a;const d=new Map;if(s?(a=jF(this._driver,t,s,FF,bx,new Map,new Map,i,goe,r),a.forEach(_=>{const v=uo(d,_.element,new Map);_.postStyleProps.forEach(w=>v.set(w,null))})):(r.push(function yse(){return new c.vHH(3300,!1)}()),a=[]),r.length)throw function vse(n){return new c.vHH(3504,!1)}();d.forEach((_,v)=>{_.forEach((w,D)=>{_.set(D,this._driver.computeStyle(v,D,nu))})});const p=Kd(a.map(_=>{const v=d.get(_.element);return this._buildPlayer(_,new Map,v)}));return this._playersById.set(e,p),p.onDestroy(()=>this.destroy(e)),this.players.push(p),p}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function bse(n){return new c.vHH(3301,!1)}();return t}listen(e,t,i,r){const s=RF(t,"","","");return MF(this._getPlayer(e),i,s,r),()=>{}}command(e,t,i,r){if("register"==i)return void this.register(e,r[0]);if("create"==i)return void this.create(e,t,r[0]||{});const s=this._getPlayer(e);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const NW="ng-animate-queued",YF="ng-animate-disabled",woe=[],FW={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Coe={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Wo="__ng_removed";class ZF{constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function Doe(n){return n??null}(i?e.value:e),i){const s=rC(e);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(r=>{null==i[r]&&(i[r]=t[r])})}}}const aC="void",KF=new ZF(aC);class Soe{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,qo(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.has(t))throw function Ese(n,e){return new c.vHH(3302,!1)}();if(null==i||0==i.length)throw function wse(n){return new c.vHH(3303,!1)}();if(!function Aoe(n){return"start"==n||"done"==n}(i))throw function Cse(n,e){return new c.vHH(3400,!1)}();const s=uo(this._elementListeners,e,[]),a={name:t,phase:i,callback:r};s.push(a);const d=uo(this._engine.statesByElement,e,new Map);return d.has(t)||(qo(e,Ex),qo(e,Ex+"-"+t),d.set(t,KF)),()=>{this._engine.afterFlush(()=>{const f=s.indexOf(a);f>=0&&s.splice(f,1),this._triggers.has(t)||d.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function Sse(n){return new c.vHH(3401,!1)}();return t}trigger(e,t,i,r=!0){const s=this._getTrigger(t),a=new QF(this.id,t,e);let d=this._engine.statesByElement.get(e);d||(qo(e,Ex),qo(e,Ex+"-"+t),this._engine.statesByElement.set(e,d=new Map));let f=d.get(t);const p=new ZF(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&f&&p.absorbOptions(f.options),d.set(t,p),f||(f=KF),p.value!==aC&&f.value===p.value){if(!function koe(n,e){const t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){const s=t[r];if(!e.hasOwnProperty(s)||n[s]!==e[s])return!1}return!0}(f.params,p.params)){const x=[],k=s.matchStyles(f.value,f.params,x),F=s.matchStyles(p.value,p.params,x);x.length?this._engine.reportError(x):this._engine.afterFlush(()=>{Gp(e,k),$l(e,F)})}return}const w=uo(this._engine.playersByElement,e,[]);w.forEach(x=>{x.namespaceId==this.id&&x.triggerName==t&&x.queued&&x.destroy()});let D=s.matchTransition(f.value,p.value,e,p.params),A=!1;if(!D){if(!r)return;D=s.fallbackTransition,A=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:D,fromState:f,toState:p,player:a,isFallbackTransition:A}),A||(qo(e,NW),a.onStart(()=>{nv(e,NW)})),a.onDone(()=>{let x=this.players.indexOf(a);x>=0&&this.players.splice(x,1);const k=this._engine.playersByElement.get(e);if(k){let F=k.indexOf(a);F>=0&&k.splice(F,1)}}),this.players.push(a),w.push(a),a}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,wx,!0);i.forEach(r=>{if(r[Wo])return;const s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(a=>a.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){const s=this._engine.statesByElement.get(e),a=new Map;if(s){const d=[];if(s.forEach((f,p)=>{if(a.set(p,f.value),this._triggers.has(p)){const _=this.trigger(e,p,aC,r);_&&d.push(_)}}),d.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,a),i&&Kd(d).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const r=new Set;t.forEach(s=>{const a=s.name;if(r.has(a))return;r.add(a);const f=this._triggers.get(a).fallbackTransition,p=i.get(a)||KF,_=new ZF(aC),v=new QF(this.id,a,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:a,transition:f,fromState:p,toState:_,player:v,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){const s=i.players.length?i.playersByQueriedElement.get(e):[];if(s&&s.length)r=!0;else{let a=e;for(;a=a.parentNode;)if(i.statesByElement.get(a)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{const s=e[Wo];(!s||s===FW)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){qo(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const s=i.element,a=this._elementListeners.get(s);a&&a.forEach(d=>{if(d.name==i.triggerName){const f=RF(s,i.triggerName,i.fromState.value,i.toState.value);f._data=e,MF(i.player,d.phase,f,d.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{const s=i.transition.ast.depCount,a=r.transition.ast.depCount;return 0==s||0==a?s-a:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(i=>i.element===e)||t,t}}class Ioe{constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,s)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new Soe(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let a=!1,d=this.driver.getParentElement(t);for(;d;){const f=r.get(d);if(f){const p=i.indexOf(f);i.splice(p+1,0,e),a=!0;break}d=this.driver.getParentElement(d)}a||i.unshift(e)}else i.push(e);return r.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){if(!e)return;const i=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[e];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i)for(let r of i.values())if(r.namespaceId){const s=this._fetchNamespace(r.namespaceId);s&&t.add(s)}return t}trigger(e,t,i,r){if(Ox(t)){const s=this._fetchNamespace(e);if(s)return s.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!Ox(t))return;const s=t[Wo];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const a=this.collectedLeaveElements.indexOf(t);a>=0&&this.collectedLeaveElements.splice(a,1)}if(e){const a=this._fetchNamespace(e);a&&a.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),qo(e,YF)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),nv(e,YF))}removeNode(e,t,i,r){if(Ox(t)){const s=e?this._fetchNamespace(e):null;if(s?s.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r),i){const a=this.namespacesByHostElement.get(t);a&&a.id!==e&&a.removeNode(t,r)}}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,i,r,s){this.collectedLeaveElements.push(t),t[Wo]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,t,i,r,s){return Ox(t)?this._fetchNamespace(e).listen(t,i,r,s):()=>{}}_buildInstruction(e,t,i,r,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,wx,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,LF,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Kd(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[Wo];if(t&&t.setForRemoval){if(e[Wo]=FW,t.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(YF)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)qo(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?Kd(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw function Ise(n){return new c.vHH(3402,!1)}()}_flushAnimations(e,t){const i=new Mx,r=[],s=new Map,a=[],d=new Map,f=new Map,p=new Map,_=new Set;this.disabledNodes.forEach(J=>{_.add(J);const Ie=this.driver.query(J,".ng-animate-queued",!0);for(let we=0;we<Ie.length;we++)_.add(Ie[we])});const v=this.bodyNode,w=Array.from(this.statesByElement.keys()),D=BW(w,this.collectedEnterElements),A=new Map;let x=0;D.forEach((J,Ie)=>{const we=FF+x++;A.set(Ie,we),J.forEach(pt=>qo(pt,we))});const k=[],F=new Set,L=new Set;for(let J=0;J<this.collectedLeaveElements.length;J++){const Ie=this.collectedLeaveElements[J],we=Ie[Wo];we&&we.setForRemoval&&(k.push(Ie),F.add(Ie),we.hasAnimation?this.driver.query(Ie,".ng-star-inserted",!0).forEach(pt=>F.add(pt)):L.add(Ie))}const U=new Map,ee=BW(w,Array.from(F));ee.forEach((J,Ie)=>{const we=bx+x++;U.set(Ie,we),J.forEach(pt=>qo(pt,we))}),e.push(()=>{D.forEach((J,Ie)=>{const we=A.get(Ie);J.forEach(pt=>nv(pt,we))}),ee.forEach((J,Ie)=>{const we=U.get(Ie);J.forEach(pt=>nv(pt,we))}),k.forEach(J=>{this.processLeaveNode(J)})});const oe=[],ue=[];for(let J=this._namespaceList.length-1;J>=0;J--)this._namespaceList[J].drainQueuedTransitions(t).forEach(we=>{const pt=we.player,Bt=we.element;if(oe.push(pt),this.collectedEnterElements.length){const or=Bt[Wo];if(or&&or.setForMove){if(or.previousTriggersValues&&or.previousTriggersValues.has(we.triggerName)){const Yl=or.previousTriggersValues.get(we.triggerName),ws=this.statesByElement.get(we.element);if(ws&&ws.has(we.triggerName)){const rm=ws.get(we.triggerName);rm.value=Yl,ws.set(we.triggerName,rm)}}return void pt.destroy()}}const oi=!v||!this.driver.containsElement(v,Bt),Fi=U.get(Bt),go=A.get(Bt),Hn=this._buildInstruction(we,i,go,Fi,oi);if(Hn.errors&&Hn.errors.length)return void ue.push(Hn);if(oi)return pt.onStart(()=>Gp(Bt,Hn.fromStyles)),pt.onDestroy(()=>$l(Bt,Hn.toStyles)),void r.push(pt);if(we.isFallbackTransition)return pt.onStart(()=>Gp(Bt,Hn.fromStyles)),pt.onDestroy(()=>$l(Bt,Hn.toStyles)),void r.push(pt);const Ko=[];Hn.timelines.forEach(or=>{or.stretchStartingKeyframe=!0,this.disabledNodes.has(or.element)||Ko.push(or)}),Hn.timelines=Ko,i.append(Bt,Hn.timelines),a.push({instruction:Hn,player:pt,element:Bt}),Hn.queriedElements.forEach(or=>uo(d,or,[]).push(pt)),Hn.preStyleProps.forEach((or,Yl)=>{if(or.size){let ws=f.get(Yl);ws||f.set(Yl,ws=new Set),or.forEach((rm,ch)=>ws.add(ch))}}),Hn.postStyleProps.forEach((or,Yl)=>{let ws=p.get(Yl);ws||p.set(Yl,ws=new Set),or.forEach((rm,ch)=>ws.add(ch))})});if(ue.length){const J=[];ue.forEach(Ie=>{J.push(function Tse(n,e){return new c.vHH(3505,!1)}())}),oe.forEach(Ie=>Ie.destroy()),this.reportError(J)}const ye=new Map,ze=new Map;a.forEach(J=>{const Ie=J.element;i.has(Ie)&&(ze.set(Ie,Ie),this._beforeAnimationBuild(J.player.namespaceId,J.instruction,ye))}),r.forEach(J=>{const Ie=J.element;this._getPreviousPlayers(Ie,!1,J.namespaceId,J.triggerName,null).forEach(pt=>{uo(ye,Ie,[]).push(pt),pt.destroy()})});const it=k.filter(J=>$W(J,f,p)),$e=new Map;VW($e,this.driver,L,p,nu).forEach(J=>{$W(J,f,p)&&it.push(J)});const ae=new Map;D.forEach((J,Ie)=>{VW(ae,this.driver,new Set(J),f,"!")}),it.forEach(J=>{const Ie=$e.get(J),we=ae.get(J);$e.set(J,new Map([...Array.from(Ie?.entries()??[]),...Array.from(we?.entries()??[])]))});const Ee=[],_t=[],Mt={};a.forEach(J=>{const{element:Ie,player:we,instruction:pt}=J;if(i.has(Ie)){if(_.has(Ie))return we.onDestroy(()=>$l(Ie,pt.toStyles)),we.disabled=!0,we.overrideTotalTime(pt.totalTime),void r.push(we);let Bt=Mt;if(ze.size>1){let Fi=Ie;const go=[];for(;Fi=Fi.parentNode;){const Hn=ze.get(Fi);if(Hn){Bt=Hn;break}go.push(Fi)}go.forEach(Hn=>ze.set(Hn,Bt))}const oi=this._buildAnimation(we.namespaceId,pt,ye,s,ae,$e);if(we.setRealPlayer(oi),Bt===Mt)Ee.push(we);else{const Fi=this.playersByElement.get(Bt);Fi&&Fi.length&&(we.parentPlayer=Kd(Fi)),r.push(we)}}else Gp(Ie,pt.fromStyles),we.onDestroy(()=>$l(Ie,pt.toStyles)),_t.push(we),_.has(Ie)&&r.push(we)}),_t.forEach(J=>{const Ie=s.get(J.element);if(Ie&&Ie.length){const we=Kd(Ie);J.setRealPlayer(we)}}),r.forEach(J=>{J.parentPlayer?J.syncPlayerEvents(J.parentPlayer):J.destroy()});for(let J=0;J<k.length;J++){const Ie=k[J],we=Ie[Wo];if(nv(Ie,bx),we&&we.hasAnimation)continue;let pt=[];if(d.size){let oi=d.get(Ie);oi&&oi.length&&pt.push(...oi);let Fi=this.driver.query(Ie,LF,!0);for(let go=0;go<Fi.length;go++){let Hn=d.get(Fi[go]);Hn&&Hn.length&&pt.push(...Hn)}}const Bt=pt.filter(oi=>!oi.destroyed);Bt.length?xoe(this,Ie,Bt):this.processLeaveNode(Ie)}return k.length=0,Ee.forEach(J=>{this.players.push(J),J.onDone(()=>{J.destroy();const Ie=this.players.indexOf(J);this.players.splice(Ie,1)}),J.play()}),Ee}elementContainsData(e,t){let i=!1;const r=t[Wo];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(t)&&(i=!0),this.playersByQueriedElement.has(t)&&(i=!0),this.statesByElement.has(t)&&(i=!0),this._fetchNamespace(e).elementContainsData(t)||i}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,s){let a=[];if(t){const d=this.playersByQueriedElement.get(e);d&&(a=d)}else{const d=this.playersByElement.get(e);if(d){const f=!s||s==aC;d.forEach(p=>{p.queued||!f&&p.triggerName!=r||a.push(p)})}}return(i||r)&&(a=a.filter(d=>!(i&&i!=d.namespaceId||r&&r!=d.triggerName))),a}_beforeAnimationBuild(e,t,i){const s=t.element,a=t.isRemovalTransition?void 0:e,d=t.isRemovalTransition?void 0:t.triggerName;for(const f of t.timelines){const p=f.element,_=p!==s,v=uo(i,p,[]);this._getPreviousPlayers(p,_,a,d,t.toState).forEach(D=>{const A=D.getRealPlayer();A.beforeDestroy&&A.beforeDestroy(),D.destroy(),v.push(D)})}Gp(s,t.fromStyles)}_buildAnimation(e,t,i,r,s,a){const d=t.triggerName,f=t.element,p=[],_=new Set,v=new Set,w=t.timelines.map(A=>{const x=A.element;_.add(x);const k=x[Wo];if(k&&k.removedBeforeQueried)return new $w(A.duration,A.delay);const F=x!==f,L=function Moe(n){const e=[];return UW(n,e),e}((i.get(x)||woe).map(ye=>ye.getRealPlayer())).filter(ye=>!!ye.element&&ye.element===x),U=s.get(x),ee=a.get(x),oe=hW(0,this._normalizer,0,A.keyframes,U,ee),ue=this._buildPlayer(A,oe,L);if(A.subTimeline&&r&&v.add(x),F){const ye=new QF(e,d,x);ye.setRealPlayer(ue),p.push(ye)}return ue});p.forEach(A=>{uo(this.playersByQueriedElement,A.element,[]).push(A),A.onDone(()=>function Toe(n,e,t){let i=n.get(e);if(i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&n.delete(e)}return i}(this.playersByQueriedElement,A.element,A))}),_.forEach(A=>qo(A,EW));const D=Kd(w);return D.onDestroy(()=>{_.forEach(A=>nv(A,EW)),$l(f,t.toStyles)}),v.forEach(A=>{uo(r,A,[]).push(D)}),D}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new $w(e.duration,e.delay)}}class QF{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new $w,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,i)=>{t.forEach(r=>MF(e,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){uo(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function Ox(n){return n&&1===n.nodeType}function LW(n,e){const t=n.style.display;return n.style.display=e??"none",t}function VW(n,e,t,i,r){const s=[];t.forEach(f=>s.push(LW(f)));const a=[];i.forEach((f,p)=>{const _=new Map;f.forEach(v=>{const w=e.computeStyle(p,v,r);_.set(v,w),(!w||0==w.length)&&(p[Wo]=Coe,a.push(p))}),n.set(p,_)});let d=0;return t.forEach(f=>LW(f,s[d++])),a}function BW(n,e){const t=new Map;if(n.forEach(d=>t.set(d,[])),0==e.length)return t;const r=new Set(e),s=new Map;function a(d){if(!d)return 1;let f=s.get(d);if(f)return f;const p=d.parentNode;return f=t.has(p)?p:r.has(p)?1:a(p),s.set(d,f),f}return e.forEach(d=>{const f=a(d);1!==f&&t.get(f).push(d)}),t}function qo(n,e){n.classList?.add(e)}function nv(n,e){n.classList?.remove(e)}function xoe(n,e,t){Kd(t).onDone(()=>n.processLeaveNode(e))}function UW(n,e){for(let t=0;t<n.length;t++){const i=n[t];i instanceof oj?UW(i.players,e):e.push(i)}}function $W(n,e,t){const i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(s=>r.add(s)):e.set(n,i),t.delete(n),!0}class Px{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,s)=>{},this._transitionEngine=new Ioe(e,t,i),this._timelineEngine=new _oe(e,t,i),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s)}registerTrigger(e,t,i,r,s){const a=e+"-"+r;let d=this._triggerCache[a];if(!d){const f=[],_=$F(this._driver,s,f,[]);if(f.length)throw function mse(n,e){return new c.vHH(3404,!1)}();d=function foe(n,e,t){return new poe(n,e,t)}(r,_,this._normalizer),this._triggerCache[a]=d}this._transitionEngine.registerTrigger(t,r,d)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i,r){this._transitionEngine.removeNode(e,t,r||!1,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if("@"==i.charAt(0)){const[s,a]=fW(i);this._timelineEngine.command(s,t,a,r)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,s){if("@"==i.charAt(0)){const[a,d]=fW(i);return this._timelineEngine.listen(a,t,d,s)}return this._transitionEngine.listen(e,t,i,r,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let Ooe=(()=>{class n{constructor(t,i,r){this._element=t,this._startStyles=i,this._endStyles=r,this._state=0;let s=n.initialStylesByElement.get(t);s||n.initialStylesByElement.set(t,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&$l(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&($l(this._element,this._initialStyles),this._endStyles&&($l(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Gp(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Gp(this._element,this._endStyles),this._endStyles=null),$l(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function XF(n){let e=null;return n.forEach((t,i)=>{(function Poe(n){return"display"===n||"position"===n})(i)&&(e=e||new Map,e.set(i,t))}),e}class HW{constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(i=>{t.push(Object.fromEntries(i))}),t}_triggerWebAnimation(e,t,i){return e.animate(this._convertKeyframesToObject(t),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&e.set(r,this._finished?i:DW(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class Noe{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return _W(e,t)}getParentElement(e){return PF(e)}query(e,t,i){return yW(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}animate(e,t,i,r,s,a=[]){const f={duration:i,delay:r,fill:0==r?"both":"forwards"};s&&(f.easing=s);const p=new Map,_=a.filter(D=>D instanceof HW);(function Bse(n,e){return 0===n||0===e})(i,r)&&_.forEach(D=>{D.currentSnapshot.forEach((A,x)=>p.set(x,A))});let v=function Nse(n){return n.length?n[0]instanceof Map?n:n.map(e=>wW(e)):[]}(t).map(D=>Qd(D));v=function Use(n,e,t){if(t.size&&e.length){let i=e[0],r=[];if(t.forEach((s,a)=>{i.has(a)||r.push(a),i.set(a,s)}),r.length)for(let s=1;s<e.length;s++){let a=e[s];r.forEach(d=>a.set(d,DW(n,d)))}}return e}(e,v,p);const w=function Roe(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=XF(e[0]),e.length>1&&(i=XF(e[e.length-1]))):e instanceof Map&&(t=XF(e)),t||i?new Ooe(n,t,i):null}(e,v);return new HW(e,v,f,w)}}let Foe=(()=>{class n extends ej{constructor(t,i){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(i.body,{id:"0",encapsulation:c.ifc.None,styles:[],data:{animation:[]}})}build(t){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(t)?nj(t):t;return zW(this._renderer,null,i,"register",[r]),new Loe(i,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.FYo),c.LFG(Ce))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class Loe extends class fJ{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new Voe(this._id,e,t||{},this._renderer)}}class Voe{constructor(e,t,i,r){this.id=e,this.element=t,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return zW(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function zW(n,e,t,i,r){return n.setProperty(e,`@@${t}:${i}`,r)}const jW="@.disabled";let Boe=(()=>{class n{constructor(t,i,r){this.delegate=t,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(s,a)=>{const d=a?.parentNode(s);d&&a.removeChild(d,s)}}createRenderer(t,i){const s=this.delegate.createRenderer(t,i);if(!(t&&i&&i.data&&i.data.animation)){let _=this._rendererCache.get(s);return _||(_=new GW("",s,this.engine,()=>this._rendererCache.delete(s)),this._rendererCache.set(s,_)),_}const a=i.id,d=i.id+"-"+this._currentId;this._currentId++,this.engine.register(d,t);const f=_=>{Array.isArray(_)?_.forEach(f):this.engine.registerTrigger(a,d,t,_.name,_)};return i.data.animation.forEach(f),new Uoe(this,d,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,i,r){t>=0&&t<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[a,d]=s;a(d)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.FYo),c.LFG(Px),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class GW{constructor(e,t,i,r){this.namespaceId=e,this.delegate=t,this.engine=i,this._onDestroy=r,this.destroyNode=this.delegate.destroyNode?s=>t.destroyNode(s):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate,i)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==jW?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class Uoe extends GW{constructor(e,t,i,r,s){super(t,i,r,s),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==jW?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.slice(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const r=function $oe(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let s=t.slice(1),a="";return"@"!=s.charAt(0)&&([s,a]=function Hoe(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(s)),this.engine.listen(this.namespaceId,r,s,a,d=>{this.factory.scheduleListenerCallback(d._data||-1,i,d)})}return this.delegate.listen(e,t,i)}}let zoe=(()=>{class n extends Px{constructor(t,i,r,s){super(t.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Ce),c.LFG(NF),c.LFG(WF),c.LFG(c.z2F))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const WW=[{provide:ej,useClass:Foe},{provide:WF,useFactory:function joe(){return new coe}},{provide:Px,useClass:zoe},{provide:c.FYo,useFactory:function Goe(n,e,t){return new Boe(n,e,t)},deps:[kh,Px,c.R0b]}],JF=[{provide:NF,useFactory:()=>new Noe},{provide:c.QbO,useValue:"BrowserAnimations"},...WW],qW=[{provide:NF,useClass:vW},{provide:c.QbO,useValue:"NoopAnimations"},...WW];let Woe=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?qW:JF}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:JF,imports:[fa]}),n})();const eL={firebase:{projectId:"book-store-c7ead",appId:"1:579105885737:web:8988e9ba7fe5ea33ed1638",storageBucket:"book-store-c7ead.appspot.com",apiKey:"AIzaSyCBwHt6AV1erEuh0jW2Wh6lcSYL4__kM7Y",authDomain:"book-store-c7ead.firebaseapp.com",messagingSenderId:"579105885737",measurementId:"G-0G32YBC8E4"},production:!0};var Yoe=z(655);class lC{constructor(e){return e}}const YW="analytics",ZW=c_.async,Koe=Jn(JI,!0),Qoe=Jn(iT,!0),Xoe=Jn(nT,!0);let tL=(()=>{class n{constructor(t,i,r){let s;this.disposables=[],(0,ot.registerVersion)("angularfire",qr.full,"user-tracking"),this.initialized=i.runOutsideAngular(()=>new Promise(a=>{s=a})),ZW().then(()=>{const a=r.get(lC);a?this.disposables=[YT(t).subscribe(d=>{Xoe(a,d?.uid),s()})]:s()})}ngOnDestroy(){this.disposables.forEach(t=>t.unsubscribe())}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(E_),c.LFG(c.R0b),c.LFG(c.zs3))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const KW="firebase_screen_id",nL="outlet",cC="screen_class",QW="screen_name";let uae=Math.floor(Math.random()*(Math.pow(2,32)-1))-Math.pow(2,31);const iL={},dae=n=>{const e=[n[cC],n[nL]].join("#");if(iL.hasOwnProperty(e))return iL[e];{const t=uae++;return iL[e]=t,t}};let XW=(()=>{class n{constructor(t,i,r,s,a,d){(0,ot.registerVersion)("angularfire",qr.full,"screen-tracking"),ZW().then(()=>{const f=d.get(lC);!t||!f||s.runOutsideAngular(()=>{this.disposable=((n,e,t)=>n.events.pipe(Rn(r=>r instanceof rb)).pipe(Un(r=>{var s;const d=(null===(s=n.parseUrl(n.url.replace(/(?:\().+(?:\))/g,D=>D.replace("://",":///"))).root.children[r.snapshot.outlet])||void 0===s?void 0:s.toString())||"",f=n.routerState.root.children.map(D=>D).find(D=>D.outlet===r.snapshot.outlet);if(!f)return tt(null);let p=f;for(;p.firstChild;)p=p.firstChild;const _=p.pathFromRoot.map(D=>{var A;return null===(A=D.routeConfig)||void 0===A?void 0:A.path}).filter(D=>D).join("/")||"/",v={[QW]:_,page_path:`/${d}`,firebase_event_origin:"auto",firebase_screen:_,[nL]:r.snapshot.outlet};e&&(v.page_title=e.getTitle());let w=f.component;if(w){if(w===ll){let D=r.snapshot;for(;D.firstChild;)D=D.firstChild;w=D.component}}else w=r.snapshot.component;if("string"==typeof w)return tt(Object.assign(Object.assign({},v),{[cC]:w}));if(w){const D=t.resolveComponentFactory(w);return tt(Object.assign(Object.assign({},v),{[cC]:D.selector}))}return tt(null)}),Rn(r=>!!r),(0,rt.U)(r=>Object.assign({firebase_screen_class:r[cC],[KW]:dae(r)},r)),function qoe(n,e,t,i){return(0,Wn.e)((r,s)=>{let a;e&&"function"!=typeof e?({duration:t,element:a,connector:i}=e):a=e;const d=new Map,f=A=>{d.forEach(A),A(s)},p=A=>f(x=>x.error(A));let _=0,v=!1;const w=new Bn.Q(s,A=>{try{const x=n(A);let k=d.get(x);if(!k){d.set(x,k=i?i():new zt.x);const F=function D(A,x){const k=new kn.y(F=>{_++;const L=x.subscribe(F);return()=>{L.unsubscribe(),0==--_&&v&&w.unsubscribe()}});return k.key=A,k}(x,k);if(s.next(F),t){const L=(0,Bn.x)(k,()=>{k.complete(),L?.unsubscribe()},void 0,void 0,()=>d.delete(x));w.add((0,is.Xf)(t(F)).subscribe(L))}}k.next(a?a(A):A)}catch(x){p(x)}},()=>f(A=>A.complete()),p,()=>d.clear(),()=>(v=!0,0===_));r.subscribe(w)})}(r=>r[nL]),(0,li.z)(r=>r.pipe(eN((s,a)=>JSON.stringify(s)===JSON.stringify(a)),_i(void 0),ox(),(0,rt.U)(([s,a])=>s?Object.assign({firebase_previous_class:s[cC],firebase_previous_screen:s[QW],firebase_previous_id:s[KW]},a):a)))))(t,i,r).pipe(Un(p=>(0,Yoe.mG)(this,void 0,void 0,function*(){return a&&(yield a.initialized),Qoe(f,"screen_view",p)}))).subscribe()})})}ngOnDestroy(){this.disposable&&this.disposable.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Ri,8),c.LFG(Ks,8),c.LFG(c._Vd),c.LFG(c.R0b),c.LFG(tL,8),c.LFG(c.zs3))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const rL=new c.OlP("angularfire2.analytics-instances");function pae(n){return(e,t)=>{if(!c_.sync())return null;const i=e.runOutsideAngular(()=>n(t));return new lC(i)}}const mae={provide:class Zoe{constructor(){return ka(YW)}},deps:[[new c.FiY,rL]]},gae={provide:lC,useFactory:function fae(n,e){if(!c_.sync())return null;const t=Dr(YW,n,e);return t&&new lC(t)},deps:[[new c.FiY,rL],pn]};let _ae=(()=>{class n{constructor(t,i){(0,ot.registerVersion)("angularfire",qr.full,"analytics")}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(XW,8),c.LFG(tL,8))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[gae,mae,{provide:c.ip1,useValue:c_.async,multi:!0}]}),n})();function yae(n,...e){return{ngModule:_ae,providers:[{provide:rL,useFactory:pae(n),multi:!0,deps:[c.R0b,c.zs3,Yr,Ra,...e]}]}}const JW="@firebase/database",e4="0.13.10";let sL="";class bae{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),(0,q.Wl)(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:(0,q.cI)(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class Eae{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return(0,q.r3)(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const t4=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new bae(e)}}catch{}return new Eae},qp=t4("localStorage"),oL=t4("sessionStorage"),iv=new hr.Yd("@firebase/database"),n4=function(){let n=1;return function(){return n++}}(),i4=function(n){const e=(0,q.dS)(n),t=new q.gQ;t.update(e);const i=t.digest();return q.US.encodeByteArray(i)},uC=function(...n){let e="";for(let t=0;t<n.length;t++){const i=n[t];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?e+=uC.apply(null,i):e+="object"==typeof i?(0,q.Wl)(i):i,e+=" "}return e};let Yp=null,r4=!0;const yr=function(...n){if(!0===r4&&(r4=!1,null===Yp&&!0===oL.get("logging_enabled")&&function(n,e){(0,q.hu)(!e||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(iv.logLevel=hr.in.VERBOSE,Yp=iv.log.bind(iv),e&&oL.set("logging_enabled",!0)):"function"==typeof n?Yp=n:(Yp=null,oL.remove("logging_enabled"))}(!0)),Yp){const e=uC.apply(null,n);Yp(e)}},dC=function(n){return function(...e){yr(n,...e)}},aL=function(...n){const e="FIREBASE INTERNAL ERROR: "+uC(...n);iv.error(e)},Hl=function(...n){const e=`FIREBASE FATAL ERROR: ${uC(...n)}`;throw iv.error(e),new Error(e)},Jr=function(...n){const e="FIREBASE WARNING: "+uC(...n);iv.warn(e)},Fx=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},lu="[MIN_NAME]",zl="[MAX_NAME]",Zp=function(n,e){if(n===e)return 0;if(n===lu||e===zl)return-1;if(e===lu||n===zl)return 1;{const t=Lx(n),i=Lx(e);return null!==t?null!==i?t-i==0?n.length-e.length:t-i:-1:null!==i?1:n<e?-1:1}},Sae=function(n,e){return n===e?0:n<e?-1:1},hC=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+(0,q.Wl)(e))},lL=function(n){if("object"!=typeof n||null===n)return(0,q.Wl)(n);const e=[];for(const i in n)e.push(i);e.sort();let t="{";for(let i=0;i<e.length;i++)0!==i&&(t+=","),t+=(0,q.Wl)(e[i]),t+=":",t+=lL(n[e[i]]);return t+="}",t},o4=function(n,e){const t=n.length;if(t<=e)return[n];const i=[];for(let r=0;r<t;r+=e)i.push(n.substring(r,r+e>t?t:r+e));return i};function vr(n,e){for(const t in n)n.hasOwnProperty(t)&&e(t,n[t])}const a4=function(n){(0,q.hu)(!Fx(n),"Invalid JSON number");const i=1023;let r,s,a,d,f;0===n?(s=0,a=0,r=1/n==-1/0?1:0):(r=n<0,(n=Math.abs(n))>=Math.pow(2,1-i)?(d=Math.min(Math.floor(Math.log(n)/Math.LN2),i),s=d+i,a=Math.round(n*Math.pow(2,52-d)-Math.pow(2,52))):(s=0,a=Math.round(n/Math.pow(2,-1074))));const p=[];for(f=52;f;f-=1)p.push(a%2?1:0),a=Math.floor(a/2);for(f=11;f;f-=1)p.push(s%2?1:0),s=Math.floor(s/2);p.push(r?1:0),p.reverse();const _=p.join("");let v="";for(f=0;f<64;f+=8){let w=parseInt(_.substr(f,8),2).toString(16);1===w.length&&(w="0"+w),v+=w}return v.toLowerCase()},Aae=new RegExp("^-?(0*)\\d{1,10}$"),Lx=function(n){if(Aae.test(n)){const e=Number(n);if(e>=-2147483648&&e<=2147483647)return e}return null},rv=function(n){try{n()}catch(e){setTimeout(()=>{throw Jr("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},fC=function(n,e){const t=setTimeout(n,e);return"number"==typeof t&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(t):"object"==typeof t&&t.unref&&t.unref(),t};class Mae{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=t?.getImmediate({optional:!0}),this.appCheck||t?.get().then(i=>this.appCheck=i)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((t,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){Jr(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class kae{constructor(e,t,i){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&"auth/token-not-initialized"===t.code?(yr("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';e+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Jr(e)}}let pC=(()=>{class n{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const f4=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,g4="websocket",_4="long_polling";class dL{constructor(e,t,i,r,s=!1,a="",d=!1){this.secure=t,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=s,this.persistenceKey=a,this.includeNamespaceInQueryParams=d,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=qp.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&qp.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function y4(n,e,t){let i;if((0,q.hu)("string"==typeof e,"typeof type must == string"),(0,q.hu)("object"==typeof t,"typeof params must == object"),e===g4)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(e!==_4)throw new Error("Unknown connection type: "+e);i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function Rae(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(t.ns=n.namespace);const r=[];return vr(t,(s,a)=>{r.push(s+"="+a)}),i+r.join("&")}class Oae{constructor(){this.counters_={}}incrementCounter(e,t=1){(0,q.r3)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return(0,q.p$)(this.counters_)}}const hL={},fL={};function pL(n){const e=n.toString();return hL[e]||(hL[e]=new Oae),hL[e]}class Nae{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&rv(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Xd{constructor(e,t,i,r,s,a,d){this.connId=e,this.repoInfo=t,this.applicationId=i,this.appCheckToken=r,this.authToken=s,this.transportSessionId=a,this.lastSessionId=d,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=dC(e),this.stats_=pL(t),this.urlFn=f=>(this.appCheckToken&&(f.ac=this.appCheckToken),y4(t,_4,f))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new Nae(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,q.Yr)()||"complete"===document.readyState)n();else{let e=!1;const t=function(){document.body?e||(e=!0,n()):setTimeout(t,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&t()}),window.attachEvent("onload",t))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new mL((...s)=>{const[a,d,f,p,_]=s;if(this.incrementIncomingBytes_(s),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===a)this.id=d,this.password=f;else{if("close"!==a)throw new Error("Unrecognized command received: "+a);d?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(d,()=>{this.onClosed_()})):this.onClosed_()}},(...s)=>{const[a,d]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(a,d)},()=>{this.onClosed_()},this.urlFn);const i={start:"t"};i.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(i.cb=this.scriptTagHolder.uniqueCallbackIdentifier),i.v="5",this.transportSessionId&&(i.s=this.transportSessionId),this.lastSessionId&&(i.ls=this.lastSessionId),this.applicationId&&(i.p=this.applicationId),this.appCheckToken&&(i.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&f4.test(location.hostname)&&(i.r="f");const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Xd.forceAllow_=!0}static forceDisallow(){Xd.forceDisallow_=!0}static isAvailable(){return!((0,q.Yr)()||!Xd.forceAllow_&&(Xd.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=(0,q.Wl)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const i=(0,q.h$)(t),r=o4(i,1840);for(let s=0;s<r.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[s]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if((0,q.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const i={dframe:"t"};i.id=e,i.pw=t,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=(0,q.Wl)(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class mL{constructor(e,t,i,r){if(this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,q.Yr)())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=n4(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=mL.createIFrame_();let s="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(s='<script>document.domain="'+document.domain+'";<\/script>');const a="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(a),this.myIFrame.doc.close()}catch(d){yr("frame writing exception"),d.stack&&yr(d.stack),yr(d)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||yr("No IE domain setting required")}catch{const i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){const a=this.pendingSegs.shift();i=i+"&seg"+r+"="+a.seg+"&ts"+r+"="+a.ts+"&d"+r+"="+a.d,r++}return t+=i,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,i){this.pendingSegs.push({seg:e,ts:t,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const i=()=>{this.outstandingRequests.delete(t),this.newRequest_()},r=setTimeout(i,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(r),i()})}addTag(e,t){(0,q.Yr)()?this.doNodeLongPoll(e,t):setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||"loaded"===r||"complete"===r)&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),t())},i.onerror=()=>{yr("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}let Bx=null;typeof MozWebSocket<"u"?Bx=MozWebSocket:typeof WebSocket<"u"&&(Bx=WebSocket);let sv=(()=>{class n{constructor(t,i,r,s,a,d,f){this.connId=t,this.applicationId=r,this.appCheckToken=s,this.authToken=a,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=dC(this.connId),this.stats_=pL(i),this.connURL=n.connectionURL_(i,d,f,s,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(t,i,r,s,a){const d={v:"5"};return!(0,q.Yr)()&&typeof location<"u"&&location.hostname&&f4.test(location.hostname)&&(d.r="f"),i&&(d.s=i),r&&(d.ls=r),s&&(d.ac=s),a&&(d.p=a),y4(t,g4,d)}open(t,i){this.onDisconnect=i,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,qp.set("previous_websocket_failure",!0);try{let r;if((0,q.Yr)()){r={headers:{"User-Agent":`Firebase/5/${sL}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);const a=process.env,d=0===this.connURL.indexOf("wss://")?a.HTTPS_PROXY||a.https_proxy:a.HTTP_PROXY||a.http_proxy;d&&(r.proxy={origin:d})}this.mySock=new Bx(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const s=r.message||r.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const r=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);r&&r.length>1&&parseFloat(r[1])<4.4&&(t=!0)}return!t&&null!==Bx&&!n.forceDisallow_}static previouslyFailed(){return qp.isInMemoryStorage||!0===qp.get("previous_websocket_failure")}markConnectionHealthy(){qp.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const r=(0,q.cI)(i);this.onMessage(r)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if((0,q.hu)(null===this.frames,"We already have a frame buffer"),t.length<=6){const i=Number(t);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(null===this.mySock)return;const i=t.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(i);else{const r=this.extractFrameCount_(i);null!==r&&this.appendFrame_(r)}}send(t){this.resetKeepAlive();const i=(0,q.Wl)(t);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=o4(i,16384);r.length>1&&this.sendString_(String(r.length));for(let s=0;s<r.length;s++)this.sendString_(r[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(t){try{this.mySock.send(t)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),I4=(()=>{class n{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[Xd,sv]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const i=sv&&sv.isAvailable();let r=i&&!sv.previouslyFailed();if(t.webSocketOnly&&(i||Jr("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[sv];else{const s=this.transports_=[];for(const a of n.ALL_TRANSPORTS)a&&a.isAvailable()&&s.push(a);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class R4{constructor(e,t,i,r,s,a,d,f,p,_){this.id=e,this.repoInfo_=t,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=s,this.onMessage_=a,this.onReady_=d,this.onDisconnect_=f,this.onKill_=p,this.lastSessionId=_,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=dC("c:"+this.id+":"),this.transportManager_=new I4(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,i)},Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=fC(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=hC("t",e),i=hC("d",e);if("c"===t)this.onSecondaryControl_(i);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(i)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=hC("t",e),i=hC("d",e);"c"===t?this.onControl_(i):"d"===t&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=hC("t",e);if("d"in e){const i=e.d;if("h"===t)this.onHandshake_(i);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(i):"r"===t?this.onReset_(i):"e"===t?aL("Server Error: "+i):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):aL("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,i=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==i&&Jr("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,i),fC(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):fC(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(qp.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class O4{put(e,t,i,r){}merge(e,t,i,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,i){}onDisconnectMerge(e,t,i){}onDisconnectCancel(e,t){}reportStats(e){}}class P4{constructor(e){this.allowedEvents_=e,this.listeners_={},(0,q.hu)(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,t)}}on(e,t,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:i});const r=this.getInitialEvent(e);r&&t.apply(i,r)}off(e,t,i){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let s=0;s<r.length;s++)if(r[s].callback===t&&(!i||i===r[s].context))return void r.splice(s,1)}validateEventType_(e){(0,q.hu)(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}class Ux extends P4{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,q.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Ux}getInitialEvent(e){return(0,q.hu)("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class On{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function Tn(){return new On("")}function an(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Jd(n){return n.pieces_.length-n.pieceNum_}function Kn(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new On(n.pieces_,e)}function _L(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function mC(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function L4(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new On(e,0)}function fi(n,e){const t=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)t.push(n.pieces_[i]);if(e instanceof On)for(let i=e.pieceNum_;i<e.pieces_.length;i++)t.push(e.pieces_[i]);else{const i=e.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&t.push(i[r])}return new On(t,0)}function ln(n){return n.pieceNum_>=n.pieces_.length}function Es(n,e){const t=an(n),i=an(e);if(null===t)return e;if(t===i)return Es(Kn(n),Kn(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function yL(n,e){if(Jd(n)!==Jd(e))return!1;for(let t=n.pieceNum_,i=e.pieceNum_;t<=n.pieces_.length;t++,i++)if(n.pieces_[t]!==e.pieces_[i])return!1;return!0}function Yo(n,e){let t=n.pieceNum_,i=e.pieceNum_;if(Jd(n)>Jd(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[i])return!1;++t,++i}return!0}class rle{constructor(e,t){this.errorPrefix_=t,this.parts_=mC(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=(0,q.ug)(this.parts_[i]);V4(this)}}function V4(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Kp(n))}function Kp(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class vL extends P4{constructor(){let e,t;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(t="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(t="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(t="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new vL}getInitialEvent(e){return(0,q.hu)("visible"===e,"Unknown event type: "+e),[this.visible_]}}const gC=1e3;let Hx,Qp=(()=>{class n extends O4{constructor(t,i,r,s,a,d,f,p){if(super(),this.repoInfo_=t,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=s,this.onServerInfoUpdate_=a,this.authTokenProvider_=d,this.appCheckTokenProvider_=f,this.authOverride_=p,this.id=n.nextPersistentConnectionId_++,this.log_=dC("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=gC,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,p&&!(0,q.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");vL.getInstance().on("visible",this.onVisible_,this),-1===t.host.indexOf("fblocal")&&Ux.getInstance().on("online",this.onOnline_,this)}sendRequest(t,i,r){const s=++this.requestNumber_,a={r:s,a:t,b:i};this.log_((0,q.Wl)(a)),(0,q.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(a),r&&(this.requestCBHash_[s]=r)}get(t){this.initConnection_();const i=new q.BH,r={p:t._path.toString(),q:t._queryObject};return this.outstandingGets_.push({action:"g",request:r,onComplete:d=>{const f=d.d;"ok"===d.s?i.resolve(f):i.reject(f)}}),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),i.promise}listen(t,i,r,s){this.initConnection_();const a=t._queryIdentifier,d=t._path.toString();this.log_("Listen called for "+d+" "+a),this.listens.has(d)||this.listens.set(d,new Map),(0,q.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,q.hu)(!this.listens.get(d).has(a),"listen() called twice for same path/queryId.");const f={onComplete:s,hashFn:i,query:t,tag:r};this.listens.get(d).set(a,f),this.connected_&&this.sendListen_(f)}sendGet_(t){const i=this.outstandingGets_[t];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(t){const i=t.query,r=i._path.toString(),s=i._queryIdentifier;this.log_("Listen on "+r+" for "+s);const a={p:r};t.tag&&(a.q=i._queryObject,a.t=t.tag),a.h=t.hashFn(),this.sendRequest("q",a,f=>{const p=f.d,_=f.s;n.warnOnListenWarnings_(p,i),(this.listens.get(r)&&this.listens.get(r).get(s))===t&&(this.log_("listen response",f),"ok"!==_&&this.removeListen_(r,s),t.onComplete&&t.onComplete(_,p))})}static warnOnListenWarnings_(t,i){if(t&&"object"==typeof t&&(0,q.r3)(t,"w")){const r=(0,q.DV)(t,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const s='".indexOn": "'+i._queryParams.getIndex().toString()+'"',a=i._path.toString();Jr(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${a} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&40===t.length||(0,q.GJ)(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,i=(0,q.w9)(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(i,r,s=>{const a=s.s,d=s.d||"error";this.authToken_===t&&("ok"===a?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(a,d))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const i=t.s,r=t.d||"error";"ok"===i?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(t,i){const r=t._path.toString(),s=t._queryIdentifier;this.log_("Unlisten called for "+r+" "+s),(0,q.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,s)&&this.connected_&&this.sendUnlisten_(r,s,t._queryObject,i)}sendUnlisten_(t,i,r,s){this.log_("Unlisten on "+t+" for "+i);const a={p:t};s&&(a.q=r,a.t=s),this.sendRequest("n",a)}onDisconnectPut(t,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,i,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:i,onComplete:r})}onDisconnectMerge(t,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,i,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:i,onComplete:r})}onDisconnectCancel(t,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(t,i,r,s){const a={p:i,d:r};this.log_("onDisconnect "+t,a),this.sendRequest(t,a,d=>{s&&setTimeout(()=>{s(d.s,d.d)},Math.floor(0))})}put(t,i,r,s){this.putInternal("p",t,i,r,s)}merge(t,i,r,s){this.putInternal("m",t,i,r,s)}putInternal(t,i,r,s,a){this.initConnection_();const d={p:i,d:r};void 0!==a&&(d.h=a),this.outstandingPuts_.push({action:t,request:d,onComplete:s}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+i)}sendPut_(t){const i=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,s=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(i,r,a=>{this.log_(i+" response",a),delete this.outstandingPuts_[t],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),s&&s(a.s,a.d)})}reportStats(t){if(this.connected_){const i={c:t};this.log_("reportStats",i),this.sendRequest("s",i,r=>{"ok"!==r.s&&this.log_("reportStats","Error sending stats: "+r.d)})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+(0,q.Wl)(t));const i=t.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,i){this.log_("handleServerMessage",t,i),"d"===t?this.onDataUpdate_(i.p,i.d,!1,i.t):"m"===t?this.onDataUpdate_(i.p,i.d,!0,i.t):"c"===t?this.onListenRevoked_(i.p,i.q):"ac"===t?this.onAuthRevoked_(i.s,i.d):"apc"===t?this.onAppCheckRevoked_(i.s,i.d):"sd"===t?this.onSecurityDebugPacket_(i):aL("Unrecognized action received from server: "+(0,q.Wl)(t)+"\nAre you using the latest client?")}onReady_(t,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){(0,q.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=gC,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=gC,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=gC),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const t=(new Date).getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-t);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var t=this;return(0,te.Z)(function*(){if(t.shouldReconnect_()){t.log_("Making a connection attempt"),t.lastConnectionAttemptTime_=(new Date).getTime(),t.lastConnectionEstablishedTime_=null;const i=t.onDataMessage_.bind(t),r=t.onReady_.bind(t),s=t.onRealtimeDisconnect_.bind(t),a=t.id+":"+n.nextConnectionId_++,d=t.lastSessionId;let f=!1,p=null;const _=function(){p?p.close():(f=!0,s())};t.realtime_={close:_,sendRequest:function(D){(0,q.hu)(p,"sendRequest call when we're not connected not allowed."),p.sendRequest(D)}};const w=t.forceTokenRefresh_;t.forceTokenRefresh_=!1;try{const[D,A]=yield Promise.all([t.authTokenProvider_.getToken(w),t.appCheckTokenProvider_.getToken(w)]);f?yr("getToken() completed but was canceled"):(yr("getToken() completed. Creating connection."),t.authToken_=D&&D.accessToken,t.appCheckToken_=A&&A.token,p=new R4(a,t.repoInfo_,t.applicationId_,t.appCheckToken_,t.authToken_,i,r,s,x=>{Jr(x+" ("+t.repoInfo_.toString()+")"),t.interrupt("server_kill")},d))}catch(D){t.log_("Failed to get token: "+D),f||(t.repoInfo_.nodeAdmin&&Jr(D),_())}}})()}interrupt(t){yr("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){yr("Resuming connection for reason: "+t),delete this.interruptReasons_[t],(0,q.xb)(this.interruptReasons_)&&(this.reconnectDelay_=gC,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const i=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const i=this.outstandingPuts_[t];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(t,i){let r;r=i?i.map(a=>lL(a)).join("$"):"default";const s=this.removeListen_(t,r);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(t,i){const r=new On(t).toString();let s;if(this.listens.has(r)){const a=this.listens.get(r);s=a.get(i),a.delete(i),0===a.size&&this.listens.delete(r)}else s=void 0;return s}onAuthRevoked_(t,i){yr("Auth token revoked: "+t+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===t||"permission_denied"===t)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,i){yr("App check token revoked: "+t+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===t||"permission_denied"===t)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const i of t.values())this.sendListen_(i);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let i="js";(0,q.Yr)()&&(i=this.repoInfo_.nodeAdmin?"admin_node":"node"),t["sdk."+i+"."+sL.replace(/\./g,"-")]=1,(0,q.uI)()?t["framework.cordova"]=1:(0,q.b$)()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=Ux.getInstance().currentlyOnline();return(0,q.xb)(this.interruptReasons_)&&t}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class un{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new un(e,t)}}class $x{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const i=new un(lu,e),r=new un(lu,t);return 0!==this.compare(i,r)}minPost(){return un.MIN}}class $4 extends $x{static get __EMPTY_NODE(){return Hx}static set __EMPTY_NODE(e){Hx=e}compare(e,t){return Zp(e.name,t.name)}isDefinedOn(e){throw(0,q.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return un.MIN}maxPost(){return new un(zl,Hx)}makePost(e,t){return(0,q.hu)("string"==typeof e,"KeyIndex indexValue must always be a string."),new un(e,Hx)}toString(){return".key"}}const jl=new $4;class zx{constructor(e,t,i,r,s=null){this.isReverse_=r,this.resultGenerator_=s,this.nodeStack_=[];let a=1;for(;!e.isEmpty();)if(a=t?i(e.key,t):1,r&&(a*=-1),a<0)e=this.isReverse_?e.left:e.right;else{if(0===a){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}let EL,Ha=(()=>{class n{constructor(t,i,r,s,a){this.key=t,this.value=i,this.color=r??n.RED,this.left=s??js.EMPTY_NODE,this.right=a??js.EMPTY_NODE}copy(t,i,r,s,a){return new n(t??this.key,i??this.value,r??this.color,s??this.left,a??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let s=this;const a=r(t,s.key);return s=a<0?s.copy(null,null,null,s.left.insert(t,i,r),null):0===a?s.copy(null,i,null,null,null):s.copy(null,null,null,null,s.right.insert(t,i,r)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return js.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,i){let r,s;if(r=this,i(t,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(t,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),0===i(t,r.key)){if(r.right.isEmpty())return js.EMPTY_NODE;s=r.right.min_(),r=r.copy(s.key,s.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(t,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class js{constructor(e,t=js.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new js(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,Ha.BLACK,null,null))}remove(e){return new js(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Ha.BLACK,null,null))}get(e){let t,i=this.root_;for(;!i.isEmpty();){if(t=this.comparator_(e,i.key),0===t)return i.value;t<0?i=i.left:t>0&&(i=i.right)}return null}getPredecessorKey(e){let t,i=this.root_,r=null;for(;!i.isEmpty();){if(t=this.comparator_(e,i.key),0===t){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}t<0?i=i.left:t>0&&(r=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new zx(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new zx(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new zx(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new zx(this.root_,null,this.comparator_,!0,e)}}function hle(n,e){return Zp(n.name,e.name)}function bL(n,e){return Zp(n,e)}js.EMPTY_NODE=new class dle{copy(e,t,i,r,s){return this}insert(e,t,i){return new Ha(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const H4=function(n){return"number"==typeof n?"number:"+a4(n):"string:"+n},z4=function(n){if(n.isLeafNode()){const e=n.val();(0,q.hu)("string"==typeof e||"number"==typeof e||"object"==typeof e&&(0,q.r3)(e,".sv"),"Priority must be a string or number.")}else(0,q.hu)(n===EL||n.isEmpty(),"priority of unexpected type.");(0,q.hu)(n===EL||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let j4,G4,W4,ov=(()=>{class n{constructor(t,i=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=i,this.lazyHash_=null,(0,q.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),z4(this.priorityNode_)}static set __childrenNodeConstructor(t){j4=t}static get __childrenNodeConstructor(){return j4}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new n(this.value_,t)}getImmediateChild(t){return".priority"===t?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return ln(t)?this:".priority"===an(t)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,i){return null}updateImmediateChild(t,i){return".priority"===t?this.updatePriority(i):i.isEmpty()&&".priority"!==t?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,i).updatePriority(this.priorityNode_)}updateChild(t,i){const r=an(t);return null===r?i:i.isEmpty()&&".priority"!==r?this:((0,q.hu)(".priority"!==r||1===Jd(t),".priority must be the last token in a path"),this.updateImmediateChild(r,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(Kn(t),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,i){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+H4(this.priorityNode_.val())+":");const i=typeof this.value_;t+=i+":",t+="number"===i?a4(this.value_):this.value_,this.lazyHash_=i4(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===n.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof n.__childrenNodeConstructor?-1:((0,q.hu)(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const i=typeof t.value_,r=typeof this.value_,s=n.VALUE_TYPE_ORDER.indexOf(i),a=n.VALUE_TYPE_ORDER.indexOf(r);return(0,q.hu)(s>=0,"Unknown leaf type: "+i),(0,q.hu)(a>=0,"Unknown leaf type: "+r),s===a?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:a-s}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const i=t;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}return!1}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const ti=new class gle extends $x{compare(e,t){const i=e.node.getPriority(),r=t.node.getPriority(),s=i.compareTo(r);return 0===s?Zp(e.name,t.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return un.MIN}maxPost(){return new un(zl,new ov("[PRIORITY-POST]",W4))}makePost(e,t){const i=G4(e);return new un(t,new ov("[PRIORITY-POST]",i))}toString(){return".priority"}},_le=Math.log(2);class yle{constructor(e){this.count=parseInt(Math.log(e+1)/_le,10),this.current_=this.count-1;const r=(s=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=e+1&r}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const jx=function(n,e,t,i){n.sort(e);const r=function(f,p){const _=p-f;let v,w;if(0===_)return null;if(1===_)return v=n[f],w=t?t(v):v,new Ha(w,v.node,Ha.BLACK,null,null);{const D=parseInt(_/2,10)+f,A=r(f,D),x=r(D+1,p);return v=n[D],w=t?t(v):v,new Ha(w,v.node,Ha.BLACK,A,x)}},d=function(f){let p=null,_=null,v=n.length;const w=function(A,x){const k=v-A,F=v;v-=A;const L=r(k+1,F),U=n[k],ee=t?t(U):U;D(new Ha(ee,U.node,x,null,L))},D=function(A){p?(p.left=A,p=A):(_=A,p=A)};for(let A=0;A<f.count;++A){const x=f.nextBitIsOne(),k=Math.pow(2,f.count-(A+1));x?w(k,Ha.BLACK):(w(k,Ha.BLACK),w(k,Ha.RED))}return _}(new yle(n.length));return new js(i||e,d)};let wL;const av={};class cu{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return(0,q.hu)(av&&ti,"ChildrenNode.ts has not been loaded"),wL=wL||new cu({".priority":av},{".priority":ti}),wL}get(e){const t=(0,q.DV)(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof js?t:null}hasIndex(e){return(0,q.r3)(this.indexSet_,e.toString())}addIndex(e,t){(0,q.hu)(e!==jl,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const s=t.getIterator(un.Wrap);let d,a=s.getNext();for(;a;)r=r||e.isDefinedOn(a.node),i.push(a),a=s.getNext();d=r?jx(i,e.getCompare()):av;const f=e.toString(),p=Object.assign({},this.indexSet_);p[f]=e;const _=Object.assign({},this.indexes_);return _[f]=d,new cu(_,p)}addToIndexes(e,t){const i=(0,q.UI)(this.indexes_,(r,s)=>{const a=(0,q.DV)(this.indexSet_,s);if((0,q.hu)(a,"Missing index implementation for "+s),r===av){if(a.isDefinedOn(e.node)){const d=[],f=t.getIterator(un.Wrap);let p=f.getNext();for(;p;)p.name!==e.name&&d.push(p),p=f.getNext();return d.push(e),jx(d,a.getCompare())}return av}{const d=t.get(e.name);let f=r;return d&&(f=f.remove(new un(e.name,d))),f.insert(e,e.node)}});return new cu(i,this.indexSet_)}removeFromIndexes(e,t){const i=(0,q.UI)(this.indexes_,r=>{if(r===av)return r;{const s=t.get(e.name);return s?r.remove(new un(e.name,s)):r}});return new cu(i,this.indexSet_)}}let _C,Xt=(()=>{class n{constructor(t,i,r){this.children_=t,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&z4(this.priorityNode_),this.children_.isEmpty()&&(0,q.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return _C||(_C=new n(new js(bL),null,cu.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||_C}updatePriority(t){return this.children_.isEmpty()?this:new n(this.children_,t,this.indexMap_)}getImmediateChild(t){if(".priority"===t)return this.getPriority();{const i=this.children_.get(t);return null===i?_C:i}}getChild(t){const i=an(t);return null===i?this:this.getImmediateChild(i).getChild(Kn(t))}hasChild(t){return null!==this.children_.get(t)}updateImmediateChild(t,i){if((0,q.hu)(i,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(i);{const r=new un(t,i);let s,a;i.isEmpty()?(s=this.children_.remove(t),a=this.indexMap_.removeFromIndexes(r,this.children_)):(s=this.children_.insert(t,i),a=this.indexMap_.addToIndexes(r,this.children_));const d=s.isEmpty()?_C:this.priorityNode_;return new n(s,d,a)}}updateChild(t,i){const r=an(t);if(null===r)return i;{(0,q.hu)(".priority"!==an(t)||1===Jd(t),".priority must be the last token in a path");const s=this.getImmediateChild(r).updateChild(Kn(t),i);return this.updateImmediateChild(r,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const i={};let r=0,s=0,a=!0;if(this.forEachChild(ti,(d,f)=>{i[d]=f.val(t),r++,a&&n.INTEGER_REGEXP_.test(d)?s=Math.max(s,Number(d)):a=!1}),!t&&a&&s<2*r){const d=[];for(const f in i)d[f]=i[f];return d}return t&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(null===this.lazyHash_){let t="";this.getPriority().isEmpty()||(t+="priority:"+H4(this.getPriority().val())+":"),this.forEachChild(ti,(i,r)=>{const s=r.hash();""!==s&&(t+=":"+i+":"+s)}),this.lazyHash_=""===t?"":i4(t)}return this.lazyHash_}getPredecessorChildName(t,i,r){const s=this.resolveIndex_(r);if(s){const a=s.getPredecessorKey(new un(t,i));return a?a.name:null}return this.children_.getPredecessorKey(t)}getFirstChildName(t){const i=this.resolveIndex_(t);if(i){const r=i.minKey();return r&&r.name}return this.children_.minKey()}getFirstChild(t){const i=this.getFirstChildName(t);return i?new un(i,this.children_.get(i)):null}getLastChildName(t){const i=this.resolveIndex_(t);if(i){const r=i.maxKey();return r&&r.name}return this.children_.maxKey()}getLastChild(t){const i=this.getLastChildName(t);return i?new un(i,this.children_.get(i)):null}forEachChild(t,i){const r=this.resolveIndex_(t);return r?r.inorderTraversal(s=>i(s.name,s.node)):this.children_.inorderTraversal(i)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,i){const r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(t,s=>s);{const s=this.children_.getIteratorFrom(t.name,un.Wrap);let a=s.peek();for(;null!=a&&i.compare(a,t)<0;)s.getNext(),a=s.peek();return s}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,i){const r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(t,s=>s);{const s=this.children_.getReverseIteratorFrom(t.name,un.Wrap);let a=s.peek();for(;null!=a&&i.compare(a,t)>0;)s.getNext(),a=s.peek();return s}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===yC?-1:0}withIndex(t){if(t===jl||this.indexMap_.hasIndex(t))return this;{const i=this.indexMap_.addIndex(t,this.children_);return new n(this.children_,this.priorityNode_,i)}}isIndexed(t){return t===jl||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const i=t;if(this.getPriority().equals(i.getPriority())){if(this.children_.count()===i.children_.count()){const r=this.getIterator(ti),s=i.getIterator(ti);let a=r.getNext(),d=s.getNext();for(;a&&d;){if(a.name!==d.name||!a.node.equals(d.node))return!1;a=r.getNext(),d=s.getNext()}return null===a&&null===d}return!1}return!1}}resolveIndex_(t){return t===jl?null:this.indexMap_.get(t.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const yC=new class vle extends Xt{constructor(){super(new js(bL),Xt.EMPTY_NODE,cu.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Xt.EMPTY_NODE}isEmpty(){return!1}};function vi(n,e=null){if(null===n)return Xt.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(e=n[".priority"]),(0,q.hu)(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new ov(n,vi(e));if(n instanceof Array){let t=Xt.EMPTY_NODE;return vr(n,(i,r)=>{if((0,q.r3)(n,i)&&"."!==i.substring(0,1)){const s=vi(r);(s.isLeafNode()||!s.isEmpty())&&(t=t.updateImmediateChild(i,s))}}),t.updatePriority(vi(e))}{const t=[];let i=!1;if(vr(n,(a,d)=>{if("."!==a.substring(0,1)){const f=vi(d);f.isEmpty()||(i=i||!f.getPriority().isEmpty(),t.push(new un(a,f)))}}),0===t.length)return Xt.EMPTY_NODE;const s=jx(t,hle,a=>a.name,bL);if(i){const a=jx(t,ti.getCompare());return new Xt(s,vi(e),new cu({".priority":a},{".priority":ti}))}return new Xt(s,vi(e),cu.Default)}}Object.defineProperties(un,{MIN:{value:new un(lu,Xt.EMPTY_NODE)},MAX:{value:new un(zl,yC)}}),$4.__EMPTY_NODE=Xt.EMPTY_NODE,ov.__childrenNodeConstructor=Xt,function fle(n){EL=n}(yC),function mle(n){W4=n}(yC),function ple(n){G4=n}(vi);class CL extends $x{constructor(e){super(),this.indexPath_=e,(0,q.hu)(!ln(e)&&".priority"!==an(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const i=this.extractChild(e.node),r=this.extractChild(t.node),s=i.compareTo(r);return 0===s?Zp(e.name,t.name):s}makePost(e,t){const i=vi(e),r=Xt.EMPTY_NODE.updateChild(this.indexPath_,i);return new un(t,r)}maxPost(){const e=Xt.EMPTY_NODE.updateChild(this.indexPath_,yC);return new un(zl,e)}toString(){return mC(this.indexPath_,0).join("/")}}const SL=new class Ele extends $x{compare(e,t){const i=e.node.compareTo(t.node);return 0===i?Zp(e.name,t.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return un.MIN}maxPost(){return un.MAX}makePost(e,t){const i=vi(e);return new un(t,i)}toString(){return".value"}};function bC(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}class DL{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ti}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,q.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,q.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:lu}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,q.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,q.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:zl}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,q.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ti}copy(){const e=new DL;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function X4(n){const e={};if(n.isDefault())return e;let t;return n.index_===ti?t="$priority":n.index_===SL?t="$value":n.index_===jl?t="$key":((0,q.hu)(n.index_ instanceof CL,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=(0,q.Wl)(t),n.startSet_&&(e.startAt=(0,q.Wl)(n.indexStartValue_),n.startNameSet_&&(e.startAt+=","+(0,q.Wl)(n.indexStartName_))),n.endSet_&&(e.endAt=(0,q.Wl)(n.indexEndValue_),n.endNameSet_&&(e.endAt+=","+(0,q.Wl)(n.indexEndName_))),n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function J4(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_)),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_)),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;""===t&&(t=n.isViewFromLeft()?"l":"r"),e.vf=t}return n.index_!==ti&&(e.i=n.index_.toString()),e}class Wx extends O4{constructor(e,t,i,r){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=dC("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:((0,q.hu)(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,i,r){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const a=Wx.getListenId_(e,i),d={};this.listens_[a]=d;const f=X4(e._queryParams);this.restRequest_(s+".json",f,(p,_)=>{let v=_;if(404===p&&(v=null,p=null),null===p&&this.onDataUpdate_(s,v,!1,i),(0,q.DV)(this.listens_,a)===d){let w;w=p?401===p?"permission_denied":"rest_error:"+p:"ok",r(w,null)}})}unlisten(e,t){const i=Wx.getListenId_(e,t);delete this.listens_[i]}get(e){const t=X4(e._queryParams),i=e._path.toString(),r=new q.BH;return this.restRequest_(i+".json",t,(s,a)=>{let d=a;404===s&&(d=null,s=null),null===s?(this.onDataUpdate_(i,d,!1,null),r.resolve(d)):r.reject(new Error(d))}),r.promise}refreshAuthToken(e){}restRequest_(e,t={},i){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,s])=>{r&&r.accessToken&&(t.auth=r.accessToken),s&&s.token&&(t.ac=s.token);const a=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+(0,q.xO)(t);this.log_("Sending REST request for "+a);const d=new XMLHttpRequest;d.onreadystatechange=()=>{if(i&&4===d.readyState){this.log_("REST Response for "+a+" received. status:",d.status,"response:",d.responseText);let f=null;if(d.status>=200&&d.status<300){try{f=(0,q.cI)(d.responseText)}catch{Jr("Failed to parse JSON response for "+a+": "+d.responseText)}i(null,f)}else 401!==d.status&&404!==d.status&&Jr("Got unsuccessful REST response for "+a+" Status: "+d.status),i(d.status);i=null}},d.open("GET",a,!0),d.send()})}}class Mle{constructor(){this.rootNode_=Xt.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function qx(){return{value:null,children:new Map}}function uv(n,e,t){if(ln(e))n.value=t,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(e,t);else{const i=an(e);n.children.has(i)||n.children.set(i,qx()),uv(n.children.get(i),e=Kn(e),t)}}function kL(n,e,t){null!==n.value?t(e,n.value):function kle(n,e){n.children.forEach((t,i)=>{e(i,t)})}(n,(i,r)=>{kL(r,new On(e.toString()+"/"+i),t)})}class Rle{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&vr(this.last_,(i,r)=>{t[i]=t[i]-r}),this.last_=e,t}}class Nle{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new Rle(e);const i=1e4+2e4*Math.random();fC(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const e=this.statsListener_.get(),t={};let i=!1;vr(e,(r,s)=>{s>0&&(0,q.r3)(this.statsToReport_,r)&&(t[r]=s,i=!0)}),i&&this.server_.reportStats(t),fC(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Zo=(()=>(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Zo||(Zo={})),Zo))();function PL(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class Yx{constructor(e,t,i){this.path=e,this.affectedTree=t,this.revert=i,this.type=Zo.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(ln(this.path)){if(null!=this.affectedTree.value)return(0,q.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new On(e));return new Yx(Tn(),t,this.revert)}}return(0,q.hu)(an(this.path)===e,"operationForChild called for unrelated child."),new Yx(Kn(this.path),this.affectedTree,this.revert)}}class Xp{constructor(e,t,i){this.source=e,this.path=t,this.snap=i,this.type=Zo.OVERWRITE}operationForChild(e){return ln(this.path)?new Xp(this.source,Tn(),this.snap.getImmediateChild(e)):new Xp(this.source,Kn(this.path),this.snap)}}class dv{constructor(e,t,i){this.source=e,this.path=t,this.children=i,this.type=Zo.MERGE}operationForChild(e){if(ln(this.path)){const t=this.children.subtree(new On(e));return t.isEmpty()?null:t.value?new Xp(this.source,Tn(),t.value):new dv(this.source,Tn(),t)}return(0,q.hu)(an(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new dv(this.source,Kn(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class eh{constructor(e,t,i){this.node_=e,this.fullyInitialized_=t,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(ln(e))return this.isFullyInitialized()&&!this.filtered_;const t=an(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function CC(n,e,t,i,r,s){const a=i.filter(d=>d.type===t);a.sort((d,f)=>function Ble(n,e,t){if(null==e.childName||null==t.childName)throw(0,q.g5)("Should only compare child_ events.");const i=new un(e.childName,e.snapshotNode),r=new un(t.childName,t.snapshotNode);return n.index_.compare(i,r)}(n,d,f)),a.forEach(d=>{const f=function Vle(n,e,t){return"value"===e.type||"child_removed"===e.type||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}(n,d,s);r.forEach(p=>{p.respondsTo(d.type)&&e.push(p.createEvent(f,n.query_))})})}function Zx(n,e){return{eventCache:n,serverCache:e}}function SC(n,e,t,i){return Zx(new eh(e,t,i),n.serverCache)}function tq(n,e,t,i){return Zx(n.eventCache,new eh(e,t,i))}function Kx(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Jp(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let NL;class ni{constructor(e,t=(()=>(NL||(NL=new js(Sae)),NL))()){this.value=e,this.children=t}static fromObject(e){let t=new ni(null);return vr(e,(i,r)=>{t=t.set(new On(i),r)}),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:Tn(),value:this.value};if(ln(e))return null;{const i=an(e),r=this.children.get(i);if(null!==r){const s=r.findRootMostMatchingPathAndValue(Kn(e),t);return null!=s?{path:fi(new On(i),s.path),value:s.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(ln(e))return this;{const t=an(e),i=this.children.get(t);return null!==i?i.subtree(Kn(e)):new ni(null)}}set(e,t){if(ln(e))return new ni(t,this.children);{const i=an(e),s=(this.children.get(i)||new ni(null)).set(Kn(e),t),a=this.children.insert(i,s);return new ni(this.value,a)}}remove(e){if(ln(e))return this.children.isEmpty()?new ni(null):new ni(null,this.children);{const t=an(e),i=this.children.get(t);if(i){const r=i.remove(Kn(e));let s;return s=r.isEmpty()?this.children.remove(t):this.children.insert(t,r),null===this.value&&s.isEmpty()?new ni(null):new ni(this.value,s)}return this}}get(e){if(ln(e))return this.value;{const t=an(e),i=this.children.get(t);return i?i.get(Kn(e)):null}}setTree(e,t){if(ln(e))return t;{const i=an(e),s=(this.children.get(i)||new ni(null)).setTree(Kn(e),t);let a;return a=s.isEmpty()?this.children.remove(i):this.children.insert(i,s),new ni(this.value,a)}}fold(e){return this.fold_(Tn(),e)}fold_(e,t){const i={};return this.children.inorderTraversal((r,s)=>{i[r]=s.fold_(fi(e,r),t)}),t(e,this.value,i)}findOnPath(e,t){return this.findOnPath_(e,Tn(),t)}findOnPath_(e,t,i){const r=!!this.value&&i(t,this.value);if(r)return r;if(ln(e))return null;{const s=an(e),a=this.children.get(s);return a?a.findOnPath_(Kn(e),fi(t,s),i):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,Tn(),t)}foreachOnPath_(e,t,i){if(ln(e))return this;{this.value&&i(t,this.value);const r=an(e),s=this.children.get(r);return s?s.foreachOnPath_(Kn(e),fi(t,r),i):new ni(null)}}foreach(e){this.foreach_(Tn(),e)}foreach_(e,t){this.children.inorderTraversal((i,r)=>{r.foreach_(fi(e,i),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,i)=>{i.value&&e(t,i.value)})}}class za{constructor(e){this.writeTree_=e}static empty(){return new za(new ni(null))}}function IC(n,e,t){if(ln(e))return new za(new ni(t));{const i=n.writeTree_.findRootMostValueAndPath(e);if(null!=i){const r=i.path;let s=i.value;const a=Es(r,e);return s=s.updateChild(a,t),new za(n.writeTree_.set(r,s))}{const r=new ni(t),s=n.writeTree_.setTree(e,r);return new za(s)}}}function FL(n,e,t){let i=n;return vr(t,(r,s)=>{i=IC(i,fi(e,r),s)}),i}function nq(n,e){if(ln(e))return za.empty();{const t=n.writeTree_.setTree(e,new ni(null));return new za(t)}}function LL(n,e){return null!=em(n,e)}function em(n,e){const t=n.writeTree_.findRootMostValueAndPath(e);return null!=t?n.writeTree_.get(t.path).getChild(Es(t.path,e)):null}function iq(n){const e=[],t=n.writeTree_.value;return null!=t?t.isLeafNode()||t.forEachChild(ti,(i,r)=>{e.push(new un(i,r))}):n.writeTree_.children.inorderTraversal((i,r)=>{null!=r.value&&e.push(new un(i,r.value))}),e}function th(n,e){if(ln(e))return n;{const t=em(n,e);return new za(null!=t?new ni(t):n.writeTree_.subtree(e))}}function VL(n){return n.writeTree_.isEmpty()}function hv(n,e){return rq(Tn(),n.writeTree_,e)}function rq(n,e,t){if(null!=e.value)return t.updateChild(n,e.value);{let i=null;return e.children.inorderTraversal((r,s)=>{".priority"===r?((0,q.hu)(null!==s.value,"Priority writes must always be leaf nodes"),i=s.value):t=rq(fi(n,r),s,t)}),!t.getChild(n).isEmpty()&&null!==i&&(t=t.updateChild(fi(n,".priority"),i)),t}}function Qx(n,e){return cq(e,n)}function Gle(n,e){if(n.snap)return Yo(n.path,e);for(const t in n.children)if(n.children.hasOwnProperty(t)&&Yo(fi(n.path,t),e))return!0;return!1}function qle(n){return n.visible}function sq(n,e,t){let i=za.empty();for(let r=0;r<n.length;++r){const s=n[r];if(e(s)){const a=s.path;let d;if(s.snap)Yo(t,a)?(d=Es(t,a),i=IC(i,d,s.snap)):Yo(a,t)&&(d=Es(a,t),i=IC(i,Tn(),s.snap.getChild(d)));else{if(!s.children)throw(0,q.g5)("WriteRecord should have .snap or .children");if(Yo(t,a))d=Es(t,a),i=FL(i,d,s.children);else if(Yo(a,t))if(d=Es(a,t),ln(d))i=FL(i,Tn(),s.children);else{const f=(0,q.DV)(s.children,an(d));if(f){const p=f.getChild(Kn(d));i=IC(i,Tn(),p)}}}}}return i}function oq(n,e,t,i,r){if(i||r){const s=th(n.visibleWrites,e);return!r&&VL(s)?t:r||null!=t||LL(s,Tn())?hv(sq(n.allWrites,function(p){return(p.visible||r)&&(!i||!~i.indexOf(p.writeId))&&(Yo(p.path,e)||Yo(e,p.path))},e),t||Xt.EMPTY_NODE):null}{const s=em(n.visibleWrites,e);if(null!=s)return s;{const a=th(n.visibleWrites,e);return VL(a)?t:null!=t||LL(a,Tn())?hv(a,t||Xt.EMPTY_NODE):null}}}function Xx(n,e,t,i){return oq(n.writeTree,n.treePath,e,t,i)}function BL(n,e){return function Yle(n,e,t){let i=Xt.EMPTY_NODE;const r=em(n.visibleWrites,e);if(r)return r.isLeafNode()||r.forEachChild(ti,(s,a)=>{i=i.updateImmediateChild(s,a)}),i;if(t){const s=th(n.visibleWrites,e);return t.forEachChild(ti,(a,d)=>{const f=hv(th(s,new On(a)),d);i=i.updateImmediateChild(a,f)}),iq(s).forEach(a=>{i=i.updateImmediateChild(a.name,a.node)}),i}return iq(th(n.visibleWrites,e)).forEach(a=>{i=i.updateImmediateChild(a.name,a.node)}),i}(n.writeTree,n.treePath,e)}function aq(n,e,t,i){return function Zle(n,e,t,i,r){(0,q.hu)(i||r,"Either existingEventSnap or existingServerSnap must exist");const s=fi(e,t);if(LL(n.visibleWrites,s))return null;{const a=th(n.visibleWrites,s);return VL(a)?r.getChild(t):hv(a,r.getChild(t))}}(n.writeTree,n.treePath,e,t,i)}function Jx(n,e){return function Qle(n,e){return em(n.visibleWrites,e)}(n.writeTree,fi(n.treePath,e))}function UL(n,e,t){return function Kle(n,e,t,i){const r=fi(e,t),s=em(n.visibleWrites,r);return null!=s?s:i.isCompleteForChild(t)?hv(th(n.visibleWrites,r),i.getNode().getImmediateChild(t)):null}(n.writeTree,n.treePath,e,t)}function lq(n,e){return cq(fi(n.treePath,e),n.writeTree)}function cq(n,e){return{treePath:n,writeTree:e}}class tce{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,i=e.childName;(0,q.hu)("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),(0,q.hu)(".priority"!==i,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const s=r.type;if("child_added"===t&&"child_removed"===s)this.changeMap.set(i,bC(i,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===s)this.changeMap.delete(i);else if("child_removed"===t&&"child_changed"===s)this.changeMap.set(i,function vC(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}(i,r.oldSnap));else if("child_changed"===t&&"child_added"===s)this.changeMap.set(i,function cv(n,e){return{type:"child_added",snapshotNode:e,childName:n}}(i,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==s)throw(0,q.g5)("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(i,bC(i,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}}const uq=new class nce{getCompleteChild(e){return null}getChildAfterChild(e,t,i){return null}};class $L{constructor(e,t,i=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=i}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const i=null!=this.optCompleteServerCache_?new eh(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return UL(this.writes_,e,i)}}getChildAfterChild(e,t,i){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Jp(this.viewCache_),s=function ece(n,e,t,i,r,s){return function Xle(n,e,t,i,r,s,a){let d;const f=th(n.visibleWrites,e),p=em(f,Tn());if(null!=p)d=p;else{if(null==t)return[];d=hv(f,t)}if(d=d.withIndex(a),d.isEmpty()||d.isLeafNode())return[];{const _=[],v=a.getCompare(),w=s?d.getReverseIteratorFrom(i,a):d.getIteratorFrom(i,a);let D=w.getNext();for(;D&&_.length<r;)0!==v(D,i)&&_.push(D),D=w.getNext();return _}}(n.writeTree,n.treePath,e,t,i,r,s)}(this.writes_,r,t,1,i,e);return 0===s.length?null:s[0]}}function dq(n,e,t,i,r,s){const a=e.eventCache;if(null!=Jx(i,t))return e;{let d,f;if(ln(t))if((0,q.hu)(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const p=Jp(e),v=BL(i,p instanceof Xt?p:Xt.EMPTY_NODE);d=n.filter.updateFullNode(e.eventCache.getNode(),v,s)}else{const p=Xx(i,Jp(e));d=n.filter.updateFullNode(e.eventCache.getNode(),p,s)}else{const p=an(t);if(".priority"===p){(0,q.hu)(1===Jd(t),"Can't have a priority with additional path components");const _=a.getNode();f=e.serverCache.getNode();const v=aq(i,t,_,f);d=null!=v?n.filter.updatePriority(_,v):a.getNode()}else{const _=Kn(t);let v;if(a.isCompleteForChild(p)){f=e.serverCache.getNode();const w=aq(i,t,a.getNode(),f);v=null!=w?a.getNode().getImmediateChild(p).updateChild(_,w):a.getNode().getImmediateChild(p)}else v=UL(i,p,e.serverCache);d=null!=v?n.filter.updateChild(a.getNode(),p,v,_,r,s):a.getNode()}}return SC(e,d,a.isFullyInitialized()||ln(t),n.filter.filtersNodes())}}function eM(n,e,t,i,r,s,a,d){const f=e.serverCache;let p;const _=a?n.filter:n.filter.getIndexedFilter();if(ln(t))p=_.updateFullNode(f.getNode(),i,null);else if(_.filtersNodes()&&!f.isFiltered()){const D=f.getNode().updateChild(t,i);p=_.updateFullNode(f.getNode(),D,null)}else{const D=an(t);if(!f.isCompleteForPath(t)&&Jd(t)>1)return e;const A=Kn(t),k=f.getNode().getImmediateChild(D).updateChild(A,i);p=".priority"===D?_.updatePriority(f.getNode(),k):_.updateChild(f.getNode(),D,k,A,uq,null)}const v=tq(e,p,f.isFullyInitialized()||ln(t),_.filtersNodes());return dq(n,v,t,r,new $L(r,v,s),d)}function HL(n,e,t,i,r,s,a){const d=e.eventCache;let f,p;const _=new $L(r,e,s);if(ln(t))p=n.filter.updateFullNode(e.eventCache.getNode(),i,a),f=SC(e,p,!0,n.filter.filtersNodes());else{const v=an(t);if(".priority"===v)p=n.filter.updatePriority(e.eventCache.getNode(),i),f=SC(e,p,d.isFullyInitialized(),d.isFiltered());else{const w=Kn(t),D=d.getNode().getImmediateChild(v);let A;if(ln(w))A=i;else{const x=_.getCompleteChild(v);A=null!=x?".priority"===_L(w)&&x.getChild(L4(w)).isEmpty()?x:x.updateChild(w,i):Xt.EMPTY_NODE}f=D.equals(A)?e:SC(e,n.filter.updateChild(d.getNode(),v,A,w,_,a),d.isFullyInitialized(),n.filter.filtersNodes())}}return f}function hq(n,e){return n.eventCache.isCompleteForChild(e)}function fq(n,e,t){return t.foreach((i,r)=>{e=e.updateChild(i,r)}),e}function zL(n,e,t,i,r,s,a,d){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let p,f=e;p=ln(t)?i:new ni(null).setTree(t,i);const _=e.serverCache.getNode();return p.children.inorderTraversal((v,w)=>{if(_.hasChild(v)){const A=fq(0,e.serverCache.getNode().getImmediateChild(v),w);f=eM(n,f,new On(v),A,r,s,a,d)}}),p.children.inorderTraversal((v,w)=>{const D=!e.serverCache.isCompleteForChild(v)&&null===w.value;if(!_.hasChild(v)&&!D){const x=fq(0,e.serverCache.getNode().getImmediateChild(v),w);f=eM(n,f,new On(v),x,r,s,a,d)}}),f}function pce(n,e){const t=Jp(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!ln(e)&&!t.getImmediateChild(an(e)).isEmpty())?t.getChild(e):null}function gq(n,e,t,i){e.type===Zo.MERGE&&null!==e.source.queryId&&((0,q.hu)(Jp(n.viewCache_),"We should always have a full cache before handling merges"),(0,q.hu)(Kx(n.viewCache_),"Missing event cache, even though we have a server cache"));const r=n.viewCache_,s=function sce(n,e,t,i,r){const s=new tce;let a,d;if(t.type===Zo.OVERWRITE){const p=t;p.source.fromUser?a=HL(n,e,p.path,p.snap,i,r,s):((0,q.hu)(p.source.fromServer,"Unknown source."),d=p.source.tagged||e.serverCache.isFiltered()&&!ln(p.path),a=eM(n,e,p.path,p.snap,i,r,d,s))}else if(t.type===Zo.MERGE){const p=t;p.source.fromUser?a=function ace(n,e,t,i,r,s,a){let d=e;return i.foreach((f,p)=>{const _=fi(t,f);hq(e,an(_))&&(d=HL(n,d,_,p,r,s,a))}),i.foreach((f,p)=>{const _=fi(t,f);hq(e,an(_))||(d=HL(n,d,_,p,r,s,a))}),d}(n,e,p.path,p.children,i,r,s):((0,q.hu)(p.source.fromServer,"Unknown source."),d=p.source.tagged||e.serverCache.isFiltered(),a=zL(n,e,p.path,p.children,i,r,d,s))}else if(t.type===Zo.ACK_USER_WRITE){const p=t;a=p.revert?function uce(n,e,t,i,r,s){let a;if(null!=Jx(i,t))return e;{const d=new $L(i,e,r),f=e.eventCache.getNode();let p;if(ln(t)||".priority"===an(t)){let _;if(e.serverCache.isFullyInitialized())_=Xx(i,Jp(e));else{const v=e.serverCache.getNode();(0,q.hu)(v instanceof Xt,"serverChildren would be complete if leaf node"),_=BL(i,v)}p=n.filter.updateFullNode(f,_,s)}else{const _=an(t);let v=UL(i,_,e.serverCache);null==v&&e.serverCache.isCompleteForChild(_)&&(v=f.getImmediateChild(_)),p=null!=v?n.filter.updateChild(f,_,v,Kn(t),d,s):e.eventCache.getNode().hasChild(_)?n.filter.updateChild(f,_,Xt.EMPTY_NODE,Kn(t),d,s):f,p.isEmpty()&&e.serverCache.isFullyInitialized()&&(a=Xx(i,Jp(e)),a.isLeafNode()&&(p=n.filter.updateFullNode(p,a,s)))}return a=e.serverCache.isFullyInitialized()||null!=Jx(i,Tn()),SC(e,p,a,n.filter.filtersNodes())}}(n,e,p.path,i,r,s):function lce(n,e,t,i,r,s,a){if(null!=Jx(r,t))return e;const d=e.serverCache.isFiltered(),f=e.serverCache;if(null!=i.value){if(ln(t)&&f.isFullyInitialized()||f.isCompleteForPath(t))return eM(n,e,t,f.getNode().getChild(t),r,s,d,a);if(ln(t)){let p=new ni(null);return f.getNode().forEachChild(jl,(_,v)=>{p=p.set(new On(_),v)}),zL(n,e,t,p,r,s,d,a)}return e}{let p=new ni(null);return i.foreach((_,v)=>{const w=fi(t,_);f.isCompleteForPath(w)&&(p=p.set(_,f.getNode().getChild(w)))}),zL(n,e,t,p,r,s,d,a)}}(n,e,p.path,p.affectedTree,i,r,s)}else{if(t.type!==Zo.LISTEN_COMPLETE)throw(0,q.g5)("Unknown operation type: "+t.type);a=function cce(n,e,t,i,r){const s=e.serverCache;return dq(n,tq(e,s.getNode(),s.isFullyInitialized()||ln(t),s.isFiltered()),t,i,uq,r)}(n,e,t.path,i,s)}const f=s.getChanges();return function oce(n,e,t){const i=e.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),s=Kx(n);(t.length>0||!n.eventCache.isFullyInitialized()||r&&!i.getNode().equals(s)||!i.getNode().getPriority().equals(s.getPriority()))&&t.push(function Q4(n){return{type:"value",snapshotNode:n}}(Kx(e)))}}(e,a,f),{viewCache:a,changes:f}}(n.processor_,r,e,t,i);return function rce(n,e){(0,q.hu)(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,q.hu)(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,s.viewCache),(0,q.hu)(s.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=s.viewCache,function _q(n,e,t,i){return function Lle(n,e,t,i){const r=[],s=[];return e.forEach(a=>{"child_changed"===a.type&&n.index_.indexedValueChanged(a.oldSnap,a.snapshotNode)&&s.push(function Cle(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}(a.childName,a.snapshotNode))}),CC(n,r,"child_removed",e,i,t),CC(n,r,"child_added",e,i,t),CC(n,r,"child_moved",s,i,t),CC(n,r,"child_changed",e,i,t),CC(n,r,"value",e,i,t),r}(n.eventGenerator_,e,t,i?[i]:n.eventRegistrations_)}(n,s.changes,s.viewCache.eventCache.getNode(),null)}let tM,iM;function jL(n,e,t,i){const r=e.source.queryId;if(null!==r){const s=n.views.get(r);return(0,q.hu)(null!=s,"SyncTree gave us an op for an invalid query."),gq(s,e,t,i)}{let s=[];for(const a of n.views.values())s=s.concat(gq(a,e,t,i));return s}}function nh(n,e){let t=null;for(const i of n.views.values())t=t||pce(i,e);return t}class Cq{constructor(e){this.listenProvider_=e,this.syncPointTree_=new ni(null),this.pendingWriteTree_=function Jle(){return{visibleWrites:za.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function GL(n,e,t,i,r){return function $le(n,e,t,i,r){(0,q.hu)(i>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),n.allWrites.push({path:e,snap:t,writeId:i,visible:r}),r&&(n.visibleWrites=IC(n.visibleWrites,e,t)),n.lastWriteId=i}(n.pendingWriteTree_,e,t,i,r),r?fv(n,new Xp({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,t)):[]}function rh(n,e,t=!1){const i=function zle(n,e){for(let t=0;t<n.allWrites.length;t++){const i=n.allWrites[t];if(i.writeId===e)return i}return null}(n.pendingWriteTree_,e);if(function jle(n,e){const t=n.allWrites.findIndex(d=>d.writeId===e);(0,q.hu)(t>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[t];n.allWrites.splice(t,1);let r=i.visible,s=!1,a=n.allWrites.length-1;for(;r&&a>=0;){const d=n.allWrites[a];d.visible&&(a>=t&&Gle(d,i.path)?r=!1:Yo(i.path,d.path)&&(s=!0)),a--}return!!r&&(s?(function Wle(n){n.visibleWrites=sq(n.allWrites,qle,Tn()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(i.snap?n.visibleWrites=nq(n.visibleWrites,i.path):vr(i.children,f=>{n.visibleWrites=nq(n.visibleWrites,fi(i.path,f))}),!0))}(n.pendingWriteTree_,e)){let s=new ni(null);return null!=i.snap?s=s.set(Tn(),!0):vr(i.children,a=>{s=s.set(new On(a),!0)}),fv(n,new Yx(i.path,s,t))}return[]}function TC(n,e,t){return fv(n,new Xp({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,t))}function sM(n,e,t){const r=n.pendingWriteTree_,s=n.syncPointTree_.findOnPath(e,(a,d)=>{const p=nh(d,Es(a,e));if(p)return p});return oq(r,e,s,t,!0)}function fv(n,e){return Iq(e,n.syncPointTree_,null,Qx(n.pendingWriteTree_,Tn()))}function Iq(n,e,t,i){if(ln(n.path))return Tq(n,e,t,i);{const r=e.get(Tn());null==t&&null!=r&&(t=nh(r,Tn()));let s=[];const a=an(n.path),d=n.operationForChild(a),f=e.children.get(a);if(f&&d){const p=t?t.getImmediateChild(a):null,_=lq(i,a);s=s.concat(Iq(d,f,p,_))}return r&&(s=s.concat(jL(r,n,i,t))),s}}function Tq(n,e,t,i){const r=e.get(Tn());null==t&&null!=r&&(t=nh(r,Tn()));let s=[];return e.children.inorderTraversal((a,d)=>{const f=t?t.getImmediateChild(a):null,p=lq(i,a),_=n.operationForChild(a);_&&(s=s.concat(Tq(_,d,f,p)))}),r&&(s=s.concat(jL(r,n,i,t))),s}function qL(n,e){return n.tagToQueryMap.get(e)}function YL(n){const e=n.indexOf("$");return(0,q.hu)(-1!==e&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new On(n.substr(0,e))}}function ZL(n,e,t){const i=n.syncPointTree_.get(e);return(0,q.hu)(i,"Missing sync point for query tag that we're tracking"),jL(i,t,Qx(n.pendingWriteTree_,e),null)}class KL{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new KL(t)}node(){return this.node_}}class QL{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=fi(this.path_,e);return new QL(this.syncTree_,t)}node(){return sM(this.syncTree_,this.path_)}}const Aq=function(n,e,t){return n&&"object"==typeof n?((0,q.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?Fce(n[".sv"],e,t):"object"==typeof n[".sv"]?Lce(n[".sv"],e):void(0,q.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},Fce=function(n,e,t){if("timestamp"===n)return t.timestamp;(0,q.hu)(!1,"Unexpected server value: "+n)},Lce=function(n,e,t){n.hasOwnProperty("increment")||(0,q.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;"number"!=typeof i&&(0,q.hu)(!1,"Unexpected increment value: "+i);const r=e.node();if((0,q.hu)(null!==r&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const a=r.getValue();return"number"!=typeof a?i:a+i},XL=function(n,e,t){return JL(n,new KL(e),t)};function JL(n,e,t){const i=n.getPriority().val(),r=Aq(i,e.getImmediateChild(".priority"),t);let s;if(n.isLeafNode()){const a=n,d=Aq(a.getValue(),e,t);return d!==a.getValue()||r!==a.getPriority().val()?new ov(d,vi(r)):n}{const a=n;return s=a,r!==a.getPriority().val()&&(s=s.updatePriority(new ov(r))),a.forEachChild(ti,(d,f)=>{const p=JL(f,e.getImmediateChild(d),t);p!==f&&(s=s.updateImmediateChild(d,p))}),s}}class eV{constructor(e="",t=null,i={children:{},childCount:0}){this.name=e,this.parent=t,this.node=i}}function aM(n,e){let t=e instanceof On?e:new On(e),i=n,r=an(t);for(;null!==r;){const s=(0,q.DV)(i.node.children,r)||{children:{},childCount:0};i=new eV(r,i,s),t=Kn(t),r=an(t)}return i}function tm(n){return n.node.value}function tV(n,e){n.node.value=e,nV(n)}function Mq(n){return n.node.childCount>0}function lM(n,e){vr(n.node.children,(t,i)=>{e(new eV(t,n,i))})}function kq(n,e,t,i){t&&!i&&e(n),lM(n,r=>{kq(r,e,!0,i)}),t&&i&&e(n)}function xC(n){return new On(null===n.parent?n.name:xC(n.parent)+"/"+n.name)}function nV(n){null!==n.parent&&function Uce(n,e,t){const i=function Vce(n){return void 0===tm(n)&&!Mq(n)}(t),r=(0,q.r3)(n.node.children,e);i&&r?(delete n.node.children[e],n.node.childCount--,nV(n)):!i&&!r&&(n.node.children[e]=t.node,n.node.childCount++,nV(n))}(n.parent,n.name,n)}const $ce=/[\[\].#$\/\u0000-\u001F\u007F]/,Hce=/[\[\].#$\u0000-\u001F\u007F]/,iV=10485760,cM=function(n){return"string"==typeof n&&0!==n.length&&!$ce.test(n)},kC=function(n,e,t){const i=t instanceof On?new rle(t,n):t;if(void 0===e)throw new Error(n+"contains undefined "+Kp(i));if("function"==typeof e)throw new Error(n+"contains a function "+Kp(i)+" with contents = "+e.toString());if(Fx(e))throw new Error(n+"contains "+e.toString()+" "+Kp(i));if("string"==typeof e&&e.length>iV/3&&(0,q.ug)(e)>iV)throw new Error(n+"contains a string greater than "+iV+" utf8 bytes "+Kp(i)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){let r=!1,s=!1;if(vr(e,(a,d)=>{if(".value"===a)r=!0;else if(".priority"!==a&&".sv"!==a&&(s=!0,!cM(a)))throw new Error(n+" contains an invalid key ("+a+") "+Kp(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function sle(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=(0,q.ug)(e),V4(n)})(i,a),kC(n,d,i),function ole(n){const e=n.parts_.pop();n.byteLength_-=(0,q.ug)(e),n.parts_.length>0&&(n.byteLength_-=1)}(i)}),r&&s)throw new Error(n+' contains ".value" child '+Kp(i)+" in addition to actual children.")}},Pq=function(n,e){const t=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!cM(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==t.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),function(n){return"string"==typeof n&&0!==n.length&&!Hce.test(n)}(n)}(t))throw new Error((0,q.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class Wce{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function fo(n,e,t){(function uM(n,e){let t=null;for(let i=0;i<e.length;i++){const r=e[i],s=r.getPath();null!==t&&!yL(s,t.path)&&(n.eventLists_.push(t),t=null),null===t&&(t={events:[],path:s}),t.events.push(r)}t&&n.eventLists_.push(t)})(n,t),function Fq(n,e){n.recursionDepth_++;let t=!0;for(let i=0;i<n.eventLists_.length;i++){const r=n.eventLists_[i];r&&(e(r.path)?(qce(n.eventLists_[i]),n.eventLists_[i]=null):t=!1)}t&&(n.eventLists_=[]),n.recursionDepth_--}(n,i=>Yo(i,e)||Yo(e,i))}function qce(n){for(let e=0;e<n.events.length;e++){const t=n.events[e];if(null!==t){n.events[e]=null;const i=t.getEventRunner();Yp&&yr("event: "+t.toString()),rv(i)}}}class Zce{constructor(e,t,i,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Wce,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=qx(),this.transactionQueueTree_=new eV,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Vq(n){const t=n.infoData_.getNode(new On(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function OC(n){return function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n}({timestamp:Vq(n)})}function Bq(n,e,t,i,r){n.dataUpdateCount++;const s=new On(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let a=[];if(r)if(i){const f=(0,q.UI)(t,p=>vi(p));a=function xce(n,e,t,i){const r=qL(n,i);if(r){const s=YL(r),a=s.path,d=s.queryId,f=Es(a,e),p=ni.fromObject(t);return ZL(n,a,new dv(PL(d),f,p))}return[]}(n.serverSyncTree_,s,f,r)}else{const f=vi(t);a=function Sq(n,e,t,i){const r=qL(n,i);if(null!=r){const s=YL(r),a=s.path,d=s.queryId,f=Es(a,e);return ZL(n,a,new Xp(PL(d),f,t))}return[]}(n.serverSyncTree_,s,f,r)}else if(i){const f=(0,q.UI)(t,p=>vi(p));a=function Tce(n,e,t){const i=ni.fromObject(t);return fv(n,new dv({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,i))}(n.serverSyncTree_,s,f)}else{const f=vi(t);a=TC(n.serverSyncTree_,s,f)}let d=s;a.length>0&&(d=mv(n,s)),fo(n.eventQueue_,d,a)}function Uq(n,e){oV(n,"connected",e),!1===e&&function eue(n){pv(n,"onDisconnectEvents");const e=OC(n),t=qx();kL(n.onDisconnect_,Tn(),(r,s)=>{const a=function(n,e,t,i){return JL(e,new QL(t,n),i)}(r,s,n.serverSyncTree_,e);uv(t,r,a)});let i=[];kL(t,Tn(),(r,s)=>{i=i.concat(TC(n.serverSyncTree_,r,s));const a=function uV(n,e){const t=xC(zq(n,e)),i=aM(n.transactionQueueTree_,e);return function Bce(n,e,t){let i=t?n:n.parent;for(;null!==i;){if(e(i))return!0;i=i.parent}}(i,r=>{dV(n,r)}),dV(n,i),kq(i,r=>{dV(n,r)}),t}(n,r);mv(n,a)}),n.onDisconnect_=qx(),fo(n.eventQueue_,Tn(),i)}(n)}function oV(n,e,t){const i=new On("/.info/"+e),r=vi(t);n.infoData_.updateSnapshot(i,r);const s=TC(n.infoSyncTree_,i,r);fo(n.eventQueue_,i,s)}function dM(n){return n.nextWriteId_++}function pv(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),yr(t,...e)}function cV(n,e,t){return sM(n.serverSyncTree_,e,t)||Xt.EMPTY_NODE}function hM(n,e=n.transactionQueueTree_){if(e||fM(n,e),tm(e)){const t=jq(n,e);(0,q.hu)(t.length>0,"Sending zero length transaction queue"),t.every(r=>0===r.status)&&function aue(n,e,t){const i=t.map(p=>p.currentWriteId),r=cV(n,e,i);let s=r;const a=r.hash();for(let p=0;p<t.length;p++){const _=t[p];(0,q.hu)(0===_.status,"tryToSendTransactionQueue_: items in queue should all be run."),_.status=1,_.retryCount++;const v=Es(e,_.path);s=s.updateChild(v,_.currentOutputSnapshotRaw)}const d=s.val(!0),f=e;n.server_.put(f.toString(),d,p=>{pv(n,"transaction put response",{path:f.toString(),status:p});let _=[];if("ok"===p){const v=[];for(let w=0;w<t.length;w++)t[w].status=2,_=_.concat(rh(n.serverSyncTree_,t[w].currentWriteId)),t[w].onComplete&&v.push(()=>t[w].onComplete(null,!0,t[w].currentOutputSnapshotResolved)),t[w].unwatcher();fM(n,aM(n.transactionQueueTree_,e)),hM(n,n.transactionQueueTree_),fo(n.eventQueue_,e,_);for(let w=0;w<v.length;w++)rv(v[w])}else{if("datastale"===p)for(let v=0;v<t.length;v++)t[v].status=3===t[v].status?4:0;else{Jr("transaction at "+f.toString()+" failed: "+p);for(let v=0;v<t.length;v++)t[v].status=4,t[v].abortReason=p}mv(n,e)}},a)}(n,xC(e),t)}else Mq(e)&&lM(e,t=>{hM(n,t)})}function mv(n,e){const t=zq(n,e),i=xC(t);return function lue(n,e,t){if(0===e.length)return;const i=[];let r=[];const a=e.filter(d=>0===d.status).map(d=>d.currentWriteId);for(let d=0;d<e.length;d++){const f=e[d],p=Es(t,f.path);let v,_=!1;if((0,q.hu)(null!==p,"rerunTransactionsUnderNode_: relativePath should not be null."),4===f.status)_=!0,v=f.abortReason,r=r.concat(rh(n.serverSyncTree_,f.currentWriteId,!0));else if(0===f.status)if(f.retryCount>=25)_=!0,v="maxretry",r=r.concat(rh(n.serverSyncTree_,f.currentWriteId,!0));else{const w=cV(n,f.path,a);f.currentInputSnapshot=w;const D=e[d].update(w.val());if(void 0!==D){kC("transaction failed: Data returned ",D,f.path);let A=vi(D);"object"==typeof D&&null!=D&&(0,q.r3)(D,".priority")||(A=A.updatePriority(w.getPriority()));const k=f.currentWriteId,F=OC(n),L=XL(A,w,F);f.currentOutputSnapshotRaw=A,f.currentOutputSnapshotResolved=L,f.currentWriteId=dM(n),a.splice(a.indexOf(k),1),r=r.concat(GL(n.serverSyncTree_,f.path,L,f.currentWriteId,f.applyLocally)),r=r.concat(rh(n.serverSyncTree_,k,!0))}else _=!0,v="nodata",r=r.concat(rh(n.serverSyncTree_,f.currentWriteId,!0))}fo(n.eventQueue_,t,r),r=[],_&&(e[d].status=2,setTimeout(e[d].unwatcher,Math.floor(0)),e[d].onComplete&&i.push("nodata"===v?()=>e[d].onComplete(null,!1,e[d].currentInputSnapshot):()=>e[d].onComplete(new Error(v),!1,null)))}fM(n,n.transactionQueueTree_);for(let d=0;d<i.length;d++)rv(i[d]);hM(n,n.transactionQueueTree_)}(n,jq(n,t),i),i}function zq(n,e){let t,i=n.transactionQueueTree_;for(t=an(e);null!==t&&void 0===tm(i);)i=aM(i,t),t=an(e=Kn(e));return i}function jq(n,e){const t=[];return Gq(n,e,t),t.sort((i,r)=>i.order-r.order),t}function Gq(n,e,t){const i=tm(e);if(i)for(let r=0;r<i.length;r++)t.push(i[r]);lM(e,r=>{Gq(n,r,t)})}function fM(n,e){const t=tm(e);if(t){let i=0;for(let r=0;r<t.length;r++)2!==t[r].status&&(t[i]=t[r],i++);t.length=i,tV(e,t.length>0?t:void 0)}lM(e,i=>{fM(n,i)})}function dV(n,e){const t=tm(e);if(t){const i=[];let r=[],s=-1;for(let a=0;a<t.length;a++)3===t[a].status||(1===t[a].status?((0,q.hu)(s===a-1,"All SENT items should be at beginning of queue."),s=a,t[a].status=3,t[a].abortReason="set"):((0,q.hu)(0===t[a].status,"Unexpected transaction status in abort"),t[a].unwatcher(),r=r.concat(rh(n.serverSyncTree_,t[a].currentWriteId,!0)),t[a].onComplete&&i.push(t[a].onComplete.bind(null,new Error("set"),!1,null))));-1===s?tV(e,void 0):t.length=s+1,fo(n.eventQueue_,xC(e),r);for(let a=0;a<i.length;a++)rv(i[a])}}const hV=function(n,e){const t=due(n),i=t.namespace;return"firebase.com"===t.domain&&Hl(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||"undefined"===i)&&"localhost"!==t.domain&&Hl("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Jr("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new dL(t.host,t.secure,i,"ws"===t.scheme||"wss"===t.scheme,e,"",i!==t.subdomain),path:new On(t.pathString)}},due=function(n){let e="",t="",i="",r="",s="",a=!0,d="https",f=443;if("string"==typeof n){let p=n.indexOf("//");p>=0&&(d=n.substring(0,p-1),n=n.substring(p+2));let _=n.indexOf("/");-1===_&&(_=n.length);let v=n.indexOf("?");-1===v&&(v=n.length),e=n.substring(0,Math.min(_,v)),_<v&&(r=function cue(n){let e="";const t=n.split("/");for(let i=0;i<t.length;i++)if(t[i].length>0){let r=t[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}e+="/"+r}return e}(n.substring(_,v)));const w=function uue(n){const e={};"?"===n.charAt(0)&&(n=n.substring(1));for(const t of n.split("&")){if(0===t.length)continue;const i=t.split("=");2===i.length?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):Jr(`Invalid query segment '${t}' in query '${n}'`)}return e}(n.substring(Math.min(n.length,v)));p=e.indexOf(":"),p>=0?(a="https"===d||"wss"===d,f=parseInt(e.substring(p+1),10)):p=e.length;const D=e.slice(0,p);if("localhost"===D.toLowerCase())t="localhost";else if(D.split(".").length<=2)t=D;else{const A=e.indexOf(".");i=e.substring(0,A).toLowerCase(),t=e.substring(A+1),s=i}"ns"in w&&(s=w.ns)}return{host:e,port:f,domain:t,subdomain:i,secure:a,scheme:d,pathString:r,namespace:s}};class po{constructor(e,t,i,r){this._repo=e,this._path=t,this._queryParams=i,this._orderByCalled=r}get key(){return ln(this._path)?null:_L(this._path)}get ref(){return new ja(this._repo,this._path)}get _queryIdentifier(){const e=J4(this._queryParams),t=lL(e);return"{}"===t?"default":t}get _queryObject(){return J4(this._queryParams)}isEqual(e){if(!((e=(0,q.m9)(e))instanceof po))return!1;const t=this._repo===e._repo,i=yL(this._path,e._path);return t&&i&&this._queryIdentifier===e._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function nle(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)""!==n.pieces_[t]&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}(this._path)}}class ja extends po{constructor(e,t){super(e,t,new DL,!1)}get parent(){const e=L4(this._path);return null===e?null:new ja(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}(function _ce(n){(0,q.hu)(!tM,"__referenceConstructor has already been defined"),tM=n})(ja),function wce(n){(0,q.hu)(!iM,"__referenceConstructor has already been defined"),iM=n}(ja);const pV={};class Mue{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function Kce(n,e,t){if(n.stats_=pL(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new Wx(n.repoInfo_,(i,r,s,a)=>{Bq(n,i,r,s,a)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>Uq(n,!0),0);else{if(typeof t<"u"&&null!==t){if("object"!=typeof t)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,q.Wl)(t)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new Qp(n.repoInfo_,e,(i,r,s,a)=>{Bq(n,i,r,s,a)},i=>{Uq(n,i)},i=>{!function Qce(n,e){vr(e,(t,i)=>{oV(n,t,i)})}(n,i)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=function Pae(n,e){const t=n.toString();return fL[t]||(fL[t]=e()),fL[t]}(n.repoInfo_,()=>new Nle(n.stats_,n.server_)),n.infoData_=new Mle,n.infoSyncTree_=new Cq({startListening:(i,r,s,a)=>{let d=[];const f=n.infoData_.getNode(i._path);return f.isEmpty()||(d=TC(n.infoSyncTree_,i._path,f),setTimeout(()=>{a("ok")},0)),d},stopListening:()=>{}}),oV(n,"connected",!1),n.serverSyncTree_=new Cq({startListening:(i,r,s,a)=>(n.server_.listen(i,s,r,(d,f)=>{const p=a(d,f);fo(n.eventQueue_,i._path,p)}),[]),stopListening:(i,r)=>{n.server_.unlisten(i,r)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new ja(this._repo,Tn())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function Due(n,e){const t=pV[e];(!t||t[n.key]!==n)&&Hl(`Database ${e}(${n.repoInfo_}) has already been deleted.`),function Hq(n){n.persistentConnection_&&n.persistentConnection_.interrupt("repo_interrupt")}(n),delete t[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&Hl("Cannot call "+e+" on a deleted database.")}}function kue(n=(0,ot.getApp)(),e){const t=(0,ot._getProvider)(n,"database").getImmediate({identifier:e}),i=(0,q.P0)("database");return i&&function Rue(n,e,t,i={}){(n=(0,q.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&Hl("Cannot call useEmulator() after instance has already been initialized.");const r=n._repoInternal;let s;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&Hl('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new pC(pC.OWNER);else if(i.mockUserToken){const a="string"==typeof i.mockUserToken?i.mockUserToken:(0,q.Sg)(i.mockUserToken,n.app.options.projectId);s=new pC(a)}!function Iue(n,e,t,i){n.repoInfo_=new dL(`${e}:${t}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams),i&&(n.authTokenProvider_=i)}(r,e,t,s)}(t,...i),t}Qp.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)},Qp.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)},function Oue(n){(function vae(n){sL=n})(ot.SDK_VERSION),(0,ot._registerComponent)(new Tr.wA("database",(e,{instanceIdentifier:t})=>function Tue(n,e,t,i,r){let s=i||n.options.databaseURL;void 0===s&&(n.options.projectId||Hl("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),yr("Using default host for project ",n.options.projectId),s=`${n.options.projectId}-default-rtdb.firebaseio.com`);let f,p,a=hV(s,r),d=a.repoInfo;typeof process<"u"&&process.env&&(p=process.env.FIREBASE_DATABASE_EMULATOR_HOST),p?(f=!0,s=`http://${p}?ns=${d.namespace}`,a=hV(s,r),d=a.repoInfo):f=!a.repoInfo.secure;const _=r&&f?new pC(pC.OWNER):new kae(n.name,n.options,e);Pq("Invalid Firebase Database URL",a),ln(a.path)||Hl("Database URL must point to the root of a Firebase Database (not including a child path).");const v=function Aue(n,e,t,i){let r=pV[e.name];r||(r={},pV[e.name]=r);let s=r[n.toURLString()];return s&&Hl("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new Zce(n,!1,t,i),r[n.toURLString()]=s,s}(d,n,_,new Mae(n.name,t));return new Mue(v,n)}(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),t),"PUBLIC").setMultipleInstances(!0)),(0,ot.registerVersion)(JW,e4,n),(0,ot.registerVersion)(JW,e4,"esm2017")}();class mV{constructor(e){return e}}const Jq="database",gV=new c.OlP("angularfire2.database-instances");function Vue(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new mV(i)}}const Bue={provide:class Fue{constructor(){return ka(Jq)}},deps:[[new c.FiY,gV]]},Uue={provide:mV,useFactory:function Lue(n,e){const t=Dr(Jq,n,e);return t&&new mV(t)},deps:[[new c.FiY,gV],pn]};let $ue=(()=>{class n{constructor(){(0,ot.registerVersion)("angularfire",qr.full,"rtdb")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[Uue,Bue]}),n})();function Hue(n,...e){return{ngModule:$ue,providers:[{provide:gV,useFactory:Vue(n),multi:!0,deps:[c.R0b,c.zs3,Yr,Ra,[new c.FiY,Pa],[new c.FiY,Oa],...e]}]}}const zue=Jn(kue,!0),yV="functions";class Yue{constructor(e,t,i){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=e.getImmediate({optional:!0}),this.messaging=t.getImmediate({optional:!0}),this.auth||e.get().then(r=>this.auth=r,()=>{}),this.messaging||t.get().then(r=>this.messaging=r,()=>{}),this.appCheck||i.get().then(r=>this.appCheck=r,()=>{})}getAuthToken(){var e=this;return(0,te.Z)(function*(){if(e.auth)try{return(yield e.auth.getToken())?.accessToken}catch{return}})()}getMessagingToken(){var e=this;return(0,te.Z)(function*(){if(e.messaging&&"Notification"in self&&"granted"===Notification.permission)try{return yield e.messaging.getToken()}catch{return}})()}getAppCheckToken(){var e=this;return(0,te.Z)(function*(){if(e.appCheck){const t=yield e.appCheck.getToken();return t.error?null:t.token}return null})()}getContext(){var e=this;return(0,te.Z)(function*(){return{authToken:yield e.getAuthToken(),messagingToken:yield e.getMessagingToken(),appCheckToken:yield e.getAppCheckToken()}})()}}const vV="us-central1";class Kue{constructor(e,t,i,r,s=vV,a){this.app=e,this.fetchImpl=a,this.emulatorOrigin=null,this.contextProvider=new Yue(t,i,r),this.cancelAllRequests=new Promise(d=>{this.deleteService=()=>Promise.resolve(d())});try{const d=new URL(s);this.customDomain=d.origin,this.region=vV}catch{this.customDomain=null,this.region=s}}_delete(){return this.deleteService()}_url(e){const t=this.app.options.projectId;return null!==this.emulatorOrigin?`${this.emulatorOrigin}/${t}/${this.region}/${e}`:null!==this.customDomain?`${this.customDomain}/${e}`:`https://${this.region}-${t}.cloudfunctions.net/${e}`}}const i6="@firebase/functions";function ode(n=(0,ot.getApp)(),e=vV){const i=(0,ot._getProvider)((0,q.m9)(n),yV).getImmediate({identifier:e}),r=(0,q.P0)("functions");return r&&function ade(n,e,t){!function Que(n,e,t){n.emulatorOrigin=`http://${e}:${t}`}((0,q.m9)(n),e,t)}(i,...r),i}!function sde(n,e){(0,ot._registerComponent)(new Tr.wA(yV,(i,{instanceIdentifier:r})=>{const s=i.getProvider("app").getImmediate(),a=i.getProvider("auth-internal"),d=i.getProvider("messaging-internal"),f=i.getProvider("app-check-internal");return new Kue(s,a,d,f,r,n)},"PUBLIC").setMultipleInstances(!0)),(0,ot.registerVersion)(i6,"0.8.8",e),(0,ot.registerVersion)(i6,"0.8.8","esm2017")}(fetch.bind(self));class wV{constructor(e){return e}}const s6="functions",CV=new c.OlP("angularfire2.functions-instances");function ude(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new wV(i)}}const dde={provide:class lde{constructor(){return ka(s6)}},deps:[[new c.FiY,CV]]},hde={provide:wV,useFactory:function cde(n,e){const t=Dr(s6,n,e);return t&&new wV(t)},deps:[[new c.FiY,CV],pn]};let fde=(()=>{class n{constructor(){(0,ot.registerVersion)("angularfire",qr.full,"fn")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[hde,dde]}),n})();function pde(n,...e){return{ngModule:fde,providers:[{provide:CV,useFactory:ude(n),multi:!0,deps:[c.R0b,c.zs3,Yr,Ra,[new c.FiY,Pa],[new c.FiY,Oa],...e]}]}}const mde=Jn(ode,!0);class SV{constructor(e){return e}}const o6="messaging",IV=new c.OlP("angularfire2.messaging-instances");function yde(n){return(e,t)=>{if(!Bo.sync())return null;const i=e.runOutsideAngular(()=>n(t));return new SV(i)}}const vde={provide:class gde{constructor(){return ka(o6)}},deps:[[new c.FiY,IV]]},bde={provide:SV,useFactory:function _de(n,e){if(!Bo.sync())return null;const t=Dr(o6,n,e);return t&&new SV(t)},deps:[[new c.FiY,IV],pn]};let Ede=(()=>{class n{constructor(){(0,ot.registerVersion)("angularfire",qr.full,"fcm")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[bde,vde,{provide:c.ip1,useValue:Bo.async,multi:!0}]}),n})();function wde(n,...e){return{ngModule:Ede,providers:[{provide:IV,useFactory:yde(n),multi:!0,deps:[c.R0b,c.zs3,Yr,Ra,...e]}]}}const Cde=Jn(NI,!0),a6="@firebase/performance",TV="0.5.17",DV="FB-PERF-TRACE-MEASURE",f6="@firebase/performance/config",p6="@firebase/performance/configexpire",m6="Performance",Nr=new q.LL("performance",m6,{"trace started":"Trace {$traceName} was started before.","trace stopped":"Trace {$traceName} is not running.","nonpositive trace startTime":"Trace {$traceName} startTime should be positive.","nonpositive trace duration":"Trace {$traceName} duration should be positive.","no window":"Window is not available.","no app id":"App id is not available.","no project id":"Project id is not available.","no api key":"Api key is not available.","invalid cc log":"Attempted to queue invalid cc event","FB not default":"Performance can only start when Firebase app instance is the default one.","RC response not ok":"RC response is not ok","invalid attribute name":"Attribute name {$attributeName} is invalid.","invalid attribute value":"Attribute value {$attributeValue} is invalid.","invalid custom metric name":"Custom metric name {$customMetricName} is invalid","invalid String merger input":"Input for String merger is invalid, contact support team to resolve.","already initialized":"initializePerformance() has already been called with different options. To avoid this error, call initializePerformance() with the same options as when it was originally called, or call getPerformance() to return the already initialized instance."}),ql=new hr.Yd(m6);let AV,g6,_6,MV;ql.logLevel=hr.in.INFO;class br{constructor(e){if(this.window=e,!e)throw Nr.create("no window");this.performance=e.performance,this.PerformanceObserver=e.PerformanceObserver,this.windowLocation=e.location,this.navigator=e.navigator,this.document=e.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=e.localStorage),e.perfMetrics&&e.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=e.perfMetrics.onFirstInputDelay)}getUrl(){return this.windowLocation.href.split("?")[0]}mark(e){!this.performance||!this.performance.mark||this.performance.mark(e)}measure(e,t,i){!this.performance||!this.performance.measure||this.performance.measure(e,t,i)}getEntriesByType(e){return this.performance&&this.performance.getEntriesByType?this.performance.getEntriesByType(e):[]}getEntriesByName(e){return this.performance&&this.performance.getEntriesByName?this.performance.getEntriesByName(e):[]}getTimeOrigin(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)}requiredApisAvailable(){return fetch&&Promise&&(0,q.zI)()?!!(0,q.hl)()||(ql.info("IndexedDB is not supported by current browswer"),!1):(ql.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1)}setupObserver(e,t){this.PerformanceObserver&&new this.PerformanceObserver(r=>{for(const s of r.getEntries())t(s)}).observe({entryTypes:[e]})}static getInstance(){return void 0===AV&&(AV=new br(g6)),AV}}function xV(){return _6}function y6(n,e){const t=n.length-e.length;if(t<0||t>1)throw Nr.create("invalid String merger input");const i=[];for(let r=0;r<n.length;r++)i.push(n.charAt(r)),e.length>r&&i.push(e.charAt(r));return i.join("")}class mo{constructor(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=y6("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=y6("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}getFlTransportFullUrl(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)}static getInstance(){return void 0===MV&&(MV=new mo),MV}}var im=(()=>(function(n){n[n.UNKNOWN=0]="UNKNOWN",n[n.VISIBLE=1]="VISIBLE",n[n.HIDDEN=2]="HIDDEN"}(im||(im={})),im))();const kde=["firebase_","google_","ga_"],Rde=new RegExp("^[a-zA-Z]\\w*$");function Nde(){const n=br.getInstance().navigator;return n?.serviceWorker?n.serviceWorker.controller?2:3:1}function v6(){switch(br.getInstance().document.visibilityState){case"visible":return im.VISIBLE;case"hidden":return im.HIDDEN;default:return im.UNKNOWN}}function Fde(){const e=br.getInstance().navigator.connection;switch(e&&e.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}function b6(n){var e;const t=null===(e=n.options)||void 0===e?void 0:e.appId;if(!t)throw Nr.create("no app id");return t}const Ga={loggingEnabled:!0};const Wde="Could not fetch config, will use default configs";function E6(n){if(!n)return n;const e=mo.getInstance(),t=n.entries||{};return e.loggingEnabled=void 0!==t.fpr_enabled?"true"===String(t.fpr_enabled):Ga.loggingEnabled,t.fpr_log_source?e.logSource=Number(t.fpr_log_source):Ga.logSource&&(e.logSource=Ga.logSource),t.fpr_log_endpoint_url?e.logEndPointUrl=t.fpr_log_endpoint_url:Ga.logEndPointUrl&&(e.logEndPointUrl=Ga.logEndPointUrl),t.fpr_log_transport_key?e.transportKey=t.fpr_log_transport_key:Ga.transportKey&&(e.transportKey=Ga.transportKey),void 0!==t.fpr_vc_network_request_sampling_rate?e.networkRequestsSamplingRate=Number(t.fpr_vc_network_request_sampling_rate):void 0!==Ga.networkRequestsSamplingRate&&(e.networkRequestsSamplingRate=Ga.networkRequestsSamplingRate),void 0!==t.fpr_vc_trace_sampling_rate?e.tracesSamplingRate=Number(t.fpr_vc_trace_sampling_rate):void 0!==Ga.tracesSamplingRate&&(e.tracesSamplingRate=Ga.tracesSamplingRate),e.logTraceAfterSampling=w6(e.tracesSamplingRate),e.logNetworkAfterSampling=w6(e.networkRequestsSamplingRate),n}function w6(n){return Math.random()<=n}let RV,kV=1;function C6(n){return kV=2,RV=RV||function Kde(n){return function Qde(){const n=br.getInstance().document;return new Promise(e=>{if(n&&"complete"!==n.readyState){const t=()=>{"complete"===n.readyState&&(n.removeEventListener("readystatechange",t),e())};n.addEventListener("readystatechange",t)}else e()})}().then(()=>function xde(n){const e=n.getId();return e.then(t=>{_6=t}),e}(n.installations)).then(e=>function zde(n,e){const t=function jde(){const n=br.getInstance().localStorage;if(!n)return;const e=n.getItem(p6);if(!e||!function Yde(n){return Number(n)>Date.now()}(e))return;const t=n.getItem(f6);if(t)try{return JSON.parse(t)}catch{return}}();return t?(E6(t),Promise.resolve()):function qde(n,e){return function Mde(n){const e=n.getToken();return e.then(t=>{}),e}(n.installations).then(t=>{const i=function Bde(n){var e;const t=null===(e=n.options)||void 0===e?void 0:e.projectId;if(!t)throw Nr.create("no project id");return t}(n.app),r=function Ude(n){var e;const t=null===(e=n.options)||void 0===e?void 0:e.apiKey;if(!t)throw Nr.create("no api key");return t}(n.app),a=new Request(`https://firebaseremoteconfig.googleapis.com/v1/projects/${i}/namespaces/fireperf:fetch?key=${r}`,{method:"POST",headers:{Authorization:`FIREBASE_INSTALLATIONS_AUTH ${t}`},body:JSON.stringify({app_instance_id:e,app_instance_id_token:t,app_id:b6(n.app),app_version:"0.5.17",sdk_version:"0.0.1"})});return fetch(a).then(d=>{if(d.ok)return d.json();throw Nr.create("RC response not ok")})}).catch(()=>{ql.info(Wde)})}(n,e).then(E6).then(i=>function Gde(n){const e=br.getInstance().localStorage;!n||!e||(e.setItem(f6,JSON.stringify(n)),e.setItem(p6,String(Date.now()+60*mo.getInstance().configTimeToLive*60*1e3)))}(i),()=>{})}(n,e)).then(()=>S6(),()=>S6())}(n),RV}function S6(){kV=3}let PV,yM=3,ah=[],T6=!1;function vM(n){setTimeout(()=>{if(0!==yM){if(!ah.length)return vM(1e4);!function the(){const n=ah.splice(0,1e3),e=n.map(i=>({source_extension_json_proto3:i.message,event_time_ms:String(i.eventTime)}));(function nhe(n,e){return function ihe(n){const e=mo.getInstance().getFlTransportFullUrl();return fetch(e,{method:"POST",body:JSON.stringify(n)})}(n).then(t=>(t.ok||ql.info("Call to Firebase backend failed."),t.json())).then(t=>{const i=Number(t.nextRequestWaitMillis);let r=1e4;isNaN(i)||(r=Math.max(i,r));const s=t.logResponseDetails;Array.isArray(s)&&s.length>0&&"RETRY_REQUEST_LATER"===s[0].responseAction&&(ah=[...e,...ah],ql.info("Retry transport request later.")),yM=3,vM(r)})})({request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:mo.getInstance().logSource,log_event:e},n).catch(()=>{ah=[...n,...ah],yM--,ql.info(`Tries left: ${yM}.`),vM(1e4)})}()}},n)}function D6(n,e){PV||(PV=function she(n){return(...e)=>{!function rhe(n){if(!n.eventTime||!n.message)throw Nr.create("invalid cc log");ah=[...ah,n]}({message:n(...e),eventTime:Date.now()})}}(ahe)),PV(n,e)}function bM(n){const e=mo.getInstance();!e.instrumentationEnabled&&n.isAuto||!e.dataCollectionEnabled&&!n.isAuto||!br.getInstance().requiredApisAvailable()||n.isAuto&&v6()!==im.VISIBLE||(function Zde(){return 3===kV}()?NV(n):C6(n.performanceController).then(()=>NV(n),()=>NV(n)))}function NV(n){if(!xV())return;const e=mo.getInstance();!e.loggingEnabled||!e.logTraceAfterSampling||setTimeout(()=>D6(n,1),0)}function ahe(n,e){return 0===e?function lhe(n){const e={url:n.url,http_method:n.httpMethod||0,http_response_code:200,response_payload_bytes:n.responsePayloadBytes,client_start_time_us:n.startTimeUs,time_to_response_initiated_us:n.timeToResponseInitiatedUs,time_to_response_completed_us:n.timeToResponseCompletedUs},t={application_info:A6(n.performanceController.app),network_request_metric:e};return JSON.stringify(t)}(n):function che(n){const e={name:n.name,is_auto:n.isAuto,client_start_time_us:n.startTimeUs,duration_us:n.durationUs};0!==Object.keys(n.counters).length&&(e.counters=n.counters);const t=n.getAttributes();0!==Object.keys(t).length&&(e.custom_attributes=t);const i={application_info:A6(n.performanceController.app),trace_metric:e};return JSON.stringify(i)}(n)}function A6(n){return{google_app_id:b6(n),app_instance_id:xV(),web_app_info:{sdk_version:"0.5.17",page_url:br.getInstance().getUrl(),service_worker_status:Nde(),visibility_state:v6(),effective_connection_type:Fde()},application_process_state:0}}const hhe=["_fp","_fcp","_fid"];class lh{constructor(e,t,i=!1,r){this.performanceController=e,this.name=t,this.isAuto=i,this.state=1,this.customAttributes={},this.counters={},this.api=br.getInstance(),this.randomId=Math.floor(1e6*Math.random()),this.isAuto||(this.traceStartMark=`FB-PERF-TRACE-START-${this.randomId}-${this.name}`,this.traceStopMark=`FB-PERF-TRACE-STOP-${this.randomId}-${this.name}`,this.traceMeasure=r||`${DV}-${this.randomId}-${this.name}`,r&&this.calculateTraceMetrics())}start(){if(1!==this.state)throw Nr.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2}stop(){if(2!==this.state)throw Nr.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),bM(this)}record(e,t,i){if(e<=0)throw Nr.create("nonpositive trace startTime",{traceName:this.name});if(t<=0)throw Nr.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(1e3*t),this.startTimeUs=Math.floor(1e3*e),i&&i.attributes&&(this.customAttributes=Object.assign({},i.attributes)),i&&i.metrics)for(const r of Object.keys(i.metrics))isNaN(Number(i.metrics[r]))||(this.counters[r]=Math.floor(Number(i.metrics[r])));bM(this)}incrementMetric(e,t=1){this.putMetric(e,void 0===this.counters[e]?t:this.counters[e]+t)}putMetric(e,t){if(!function fhe(n,e){return!(0===n.length||n.length>100)&&(e&&e.startsWith("_wt_")&&hhe.indexOf(n)>-1||!n.startsWith("_"))}(e,this.name))throw Nr.create("invalid custom metric name",{customMetricName:e});this.counters[e]=function phe(n){const e=Math.floor(n);return e<n&&ql.info(`Metric value should be an Integer, setting the value as : ${e}.`),e}(t??0)}getMetric(e){return this.counters[e]||0}putAttribute(e,t){const i=function Lde(n){return!(0===n.length||n.length>40||kde.some(t=>n.startsWith(t))||!n.match(Rde))}(e),r=function Vde(n){return 0!==n.length&&n.length<=100}(t);if(i&&r)this.customAttributes[e]=t;else{if(!i)throw Nr.create("invalid attribute name",{attributeName:e});if(!r)throw Nr.create("invalid attribute value",{attributeValue:t})}}getAttribute(e){return this.customAttributes[e]}removeAttribute(e){void 0!==this.customAttributes[e]&&delete this.customAttributes[e]}getAttributes(){return Object.assign({},this.customAttributes)}setStartTime(e){this.startTimeUs=e}setDuration(e){this.durationUs=e}calculateTraceMetrics(){const e=this.api.getEntriesByName(this.traceMeasure),t=e&&e[0];t&&(this.durationUs=Math.floor(1e3*t.duration),this.startTimeUs=Math.floor(1e3*(t.startTime+this.api.getTimeOrigin())))}static createOobTrace(e,t,i,r){const s=br.getInstance().getUrl();if(!s)return;const a=new lh(e,"_wt_"+s,!0),d=Math.floor(1e3*br.getInstance().getTimeOrigin());if(a.setStartTime(d),t&&t[0]&&(a.setDuration(Math.floor(1e3*t[0].duration)),a.putMetric("domInteractive",Math.floor(1e3*t[0].domInteractive)),a.putMetric("domContentLoadedEventEnd",Math.floor(1e3*t[0].domContentLoadedEventEnd)),a.putMetric("loadEventEnd",Math.floor(1e3*t[0].loadEventEnd))),i){const _=i.find(w=>"first-paint"===w.name);_&&_.startTime&&a.putMetric("_fp",Math.floor(1e3*_.startTime));const v=i.find(w=>"first-contentful-paint"===w.name);v&&v.startTime&&a.putMetric("_fcp",Math.floor(1e3*v.startTime)),r&&a.putMetric("_fid",Math.floor(1e3*r))}bM(a)}static createUserTimingTrace(e,t){bM(new lh(e,t,!1,t))}}function x6(n,e){const t=e;if(!t||void 0===t.responseStart)return;const i=br.getInstance().getTimeOrigin(),r=Math.floor(1e3*(t.startTime+i)),s=t.responseStart?Math.floor(1e3*(t.responseStart-t.startTime)):void 0,a=Math.floor(1e3*(t.responseEnd-t.startTime));!function ohe(n){const e=mo.getInstance();if(!e.instrumentationEnabled)return;const t=n.url,i=e.logEndPointUrl.split("?")[0],r=e.flTransportEndpointUrl.split("?")[0];t===i||t===r||!e.loggingEnabled||!e.logNetworkAfterSampling||setTimeout(()=>D6(n,0),0)}({performanceController:n,url:t.name&&t.name.split("?")[0],responsePayloadBytes:t.transferSize,startTimeUs:r,timeToResponseInitiatedUs:s,timeToResponseCompletedUs:a})}function M6(n){!xV()||(setTimeout(()=>function _he(n){const e=br.getInstance(),t=e.getEntriesByType("navigation"),i=e.getEntriesByType("paint");if(e.onFirstInputDelay){let r=setTimeout(()=>{lh.createOobTrace(n,t,i),r=void 0},5e3);e.onFirstInputDelay(s=>{r&&(clearTimeout(r),lh.createOobTrace(n,t,i,s))})}else lh.createOobTrace(n,t,i)}(n),0),setTimeout(()=>function ghe(n){const e=br.getInstance(),t=e.getEntriesByType("resource");for(const i of t)x6(n,i);e.setupObserver("resource",i=>x6(n,i))}(n),0),setTimeout(()=>function yhe(n){const e=br.getInstance(),t=e.getEntriesByType("measure");for(const i of t)k6(n,i);e.setupObserver("measure",i=>k6(n,i))}(n),0))}function k6(n,e){const t=e.name;t.substring(0,DV.length)!==DV&&lh.createUserTimingTrace(n,t)}class vhe{constructor(e,t){this.app=e,this.installations=t,this.initialized=!1}_init(e){this.initialized||(void 0!==e?.dataCollectionEnabled&&(this.dataCollectionEnabled=e.dataCollectionEnabled),void 0!==e?.instrumentationEnabled&&(this.instrumentationEnabled=e.instrumentationEnabled),br.getInstance().requiredApisAvailable()?(0,q.eu)().then(t=>{t&&(function ehe(){T6||(vM(5500),T6=!0)}(),C6(this).then(()=>M6(this),()=>M6(this)),this.initialized=!0)}).catch(t=>{ql.info(`Environment doesn't support IndexedDB: ${t}`)}):ql.info('Firebase Performance cannot start if the browser does not support "Fetch" and "Promise", or cookies are disabled.'))}set instrumentationEnabled(e){mo.getInstance().instrumentationEnabled=e}get instrumentationEnabled(){return mo.getInstance().instrumentationEnabled}set dataCollectionEnabled(e){mo.getInstance().dataCollectionEnabled=e}get dataCollectionEnabled(){return mo.getInstance().dataCollectionEnabled}}function Ehe(n=(0,ot.getApp)()){return n=(0,q.m9)(n),(0,ot._getProvider)(n,"performance").getImmediate()}const whe=(n,{options:e})=>{const t=n.getProvider("app").getImmediate(),i=n.getProvider("installations-internal").getImmediate();if("[DEFAULT]"!==t.name)throw Nr.create("FB not default");if(typeof window>"u")throw Nr.create("no window");!function Ade(n){g6=n}(window);const r=new vhe(t,i);return r._init(e),r};!function Che(){(0,ot._registerComponent)(new Tr.wA("performance",whe,"PUBLIC")),(0,ot.registerVersion)(a6,TV),(0,ot.registerVersion)(a6,TV,"esm2017")}();class FV{constructor(e){return e}}const R6="performance",LV=new c.OlP("angularfire2.performance-instances");function The(n){return(e,t,i)=>{if(!Ki(t))return null;const r=e.runOutsideAngular(()=>n(i));return new FV(r)}}const Dhe={provide:class She{constructor(){return ka(R6)}},deps:[[new c.FiY,LV]]},Ahe={provide:FV,useFactory:function Ihe(n,e,t){if(!Ki(t))return null;const i=Dr(R6,n,e);return i&&new FV(i)},deps:[[new c.FiY,LV],pn,c.Lbi]};let xhe=(()=>{class n{constructor(){(0,ot.registerVersion)("angularfire",qr.full,"perf")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[Ahe,Dhe]}),n})();function Mhe(n,...e){return{ngModule:xhe,providers:[{provide:LV,useFactory:The(n),multi:!0,deps:[c.R0b,c.Lbi,c.zs3,Yr,Ra,...e]}]}}const khe=Jn(Ehe,!0);class VV{constructor(e){return e}}const O6="remote-config",BV=new c.OlP("angularfire2.remote-config-instances");function Phe(n){return(e,t)=>{if(!l_.sync())return null;const i=e.runOutsideAngular(()=>n(t));return new VV(i)}}const Nhe={provide:class Rhe{constructor(){return ka(O6)}},deps:[[new c.FiY,BV]]},Fhe={provide:VV,useFactory:function Ohe(n,e){if(!l_.sync())return null;const t=Dr(O6,n,e);return t&&new VV(t)},deps:[[new c.FiY,BV],pn]};let Lhe=(()=>{class n{constructor(){(0,ot.registerVersion)("angularfire",qr.full,"rc")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[Fhe,Nhe,{provide:c.ip1,useValue:l_.async,multi:!0}]}),n})();function Vhe(n,...e){return{ngModule:Lhe,providers:[{provide:BV,useFactory:Phe(n),multi:!0,deps:[c.R0b,c.zs3,Yr,Ra,...e]}]}}const Bhe=Jn(Dk,!0);let Uhe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[ki,Ree,Wee,Rw,_3,V3,Op,sx]}),n})(),P6=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[ki,Op,sx]}),n})(),$he=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[ki,ux,_G,y3,Op,sx,P6]}),n})(),Hhe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[ki,sx,Op,ux,y3,_G,P6]}),n})(),zhe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[ki,SJ,uW,Op,Uhe,V3,$he,Hhe,_3]}),n})(),jhe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[ki]}),n})(),Ghe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[ki]}),n})(),Whe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[ki,Op,Pb]}),n})(),qhe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[ki,Whe,Lz]}),n})(),Yhe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[ki,Lz]}),n})(),Zhe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[ki,Ghe,qhe,Yhe]}),n})(),Khe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n,bootstrap:[qre]}),n.\u0275inj=c.cJS({providers:[XW,tL,{provide:gs.Dh,useValue:eL.firebase}],imports:[fa,yX,Woe,uW,Op,bR(()=>ER(eL.firebase)),yae(()=>Koe()),HB(()=>tO()),Hue(()=>zue()),aK(()=>cK()),pde(()=>mde()),wde(()=>Cde()),Mhe(()=>khe()),Vhe(()=>Bhe()),hre(()=>eW()),zhe,jhe,Zhe]}),n})();eL.production&&(0,c.G48)(),fc().bootstrapModule(Khe).catch(n=>console.error(n))},127:(Dt,He,z)=>{z.d(He,{Z:()=>c.Z});var c=z(3942);c.Z.registerVersion("firebase","9.14.0","app-compat")},5881:(Dt,He,z)=>{z.r(He);var c=z(5861),W=z(3942),H=z(8247),ve=z(2090),Ce=(z(9681),z(1877),z(4859));function ke(){return window}function Q(){return(Q=(0,c.Z)(function*(j,P,B){var ce;const{BuildInfo:Be}=ke();(0,H.ap)(P.sessionId,"AuthEvent did not contain a session ID");const ft=yield Se(P.sessionId),yt={};return(0,H.aq)()?yt.ibi=Be.packageName:(0,H.ar)()?yt.apn=Be.packageName:(0,H.as)(j,"operation-not-supported-in-this-environment"),Be.displayName&&(yt.appDisplayName=Be.displayName),yt.sessionId=ft,(0,H.at)(j,B,P.type,void 0,null!==(ce=P.eventId)&&void 0!==ce?ce:void 0,yt)})).apply(this,arguments)}function Xe(){return(Xe=(0,c.Z)(function*(j){const{BuildInfo:P}=ke(),B={};(0,H.aq)()?B.iosBundleId=P.packageName:(0,H.ar)()?B.androidPackageName=P.packageName:(0,H.as)(j,"operation-not-supported-in-this-environment"),yield(0,H.au)(j,B)})).apply(this,arguments)}function ut(){return(ut=(0,c.Z)(function*(j,P,B){const{cordova:ce}=ke();let Be=()=>{};try{yield new Promise((ft,yt)=>{let Me=null;function je(){var Gt;ft();const Cn=null===(Gt=ce.plugins.browsertab)||void 0===Gt?void 0:Gt.close;"function"==typeof Cn&&Cn(),"function"==typeof B?.close&&B.close()}function Nt(){Me||(Me=window.setTimeout(()=>{yt((0,H.aw)(j,"redirect-cancelled-by-user"))},2e3))}function wn(){"visible"===document?.visibilityState&&Nt()}P.addPassiveListener(je),document.addEventListener("resume",Nt,!1),(0,H.ar)()&&document.addEventListener("visibilitychange",wn,!1),Be=()=>{P.removePassiveListener(je),document.removeEventListener("resume",Nt,!1),document.removeEventListener("visibilitychange",wn,!1),Me&&window.clearTimeout(Me)}})}finally{Be()}})).apply(this,arguments)}function Se(j){return mt.apply(this,arguments)}function mt(){return(mt=(0,c.Z)(function*(j){const P=gt(j),B=yield crypto.subtle.digest("SHA-256",P);return Array.from(new Uint8Array(B)).map(Be=>Be.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function gt(j){if((0,H.ap)(/[0-9a-zA-Z]+/.test(j),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(j);const P=new ArrayBuffer(j.length),B=new Uint8Array(P);for(let ce=0;ce<j.length;ce++)B[ce]=j.charCodeAt(ce);return B}class Pe extends H.ay{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(P=>{this.resolveInialized=P})}addPassiveListener(P){this.passiveListeners.add(P)}removePassiveListener(P){this.passiveListeners.delete(P)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(P){return this.resolveInialized(),this.passiveListeners.forEach(B=>B(P)),super.onEvent(P)}initialized(){var P=this;return(0,c.Z)(function*(){yield P.initPromise})()}}function de(j){return fe.apply(this,arguments)}function fe(){return(fe=(0,c.Z)(function*(j){const P=yield ie()._get(_e(j));return P&&(yield ie()._remove(_e(j))),P})).apply(this,arguments)}function ne(){const j=[],P="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let B=0;B<20;B++){const ce=Math.floor(Math.random()*P.length);j.push(P.charAt(ce))}return j.join("")}function ie(){return(0,H.az)(H.b)}function _e(j){return(0,H.aA)("authEvent",j.config.apiKey,j.name)}function qe(j){if(!j?.includes("?"))return{};const[P,...B]=j.split("?");return(0,ve.zd)(B.join("?"))}function et(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,H.aw)("no-auth-event")}}function en(){var j;return(null===(j=self?.location)||void 0===j?void 0:j.protocol)||null}function Yi(j=(0,ve.z$)()){return!("file:"!==en()&&"ionic:"!==en()&&"capacitor:"!==en()||!j.toLowerCase().match(/iphone|ipad|ipod|android/))}function Ss(){try{const j=self.localStorage,P=H.aI();if(j)return j.setItem(P,"1"),j.removeItem(P),!function Gs(j=(0,ve.z$)()){return function _o(){return(0,ve.w1)()&&11===document?.documentMode}()||function ii(j=(0,ve.z$)()){return/Edge\/\d+/.test(j)}(j)}()||(0,ve.hl)()}catch{return ar()&&(0,ve.hl)()}return!1}function ar(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Zi(){return(function Ht(){return"http:"===en()||"https:"===en()}()||(0,ve.ru)()||Yi())&&!function Cs(){return(0,ve.b$)()||(0,ve.UG)()}()&&Ss()&&!ar()}function Ws(){return Yi()&&typeof document<"u"}function dt(){return(dt=(0,c.Z)(function*(){return!!Ws()&&new Promise(j=>{const P=setTimeout(()=>{j(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(P),j(!0)})})})).apply(this,arguments)}const bi={LOCAL:"local",NONE:"none",SESSION:"session"},Ln=H.ax,Er="persistence";function Vn(j){return zn.apply(this,arguments)}function zn(){return(zn=(0,c.Z)(function*(j){yield j._initializationPromise;const P=Ct(),B=H.aA(Er,j.config.apiKey,j.name);P&&P.setItem(B,j._getPersistence())})).apply(this,arguments)}function Ct(){var j;try{return(null===(j=function xi(){return typeof window<"u"?window:null}())||void 0===j?void 0:j.sessionStorage)||null}catch{return null}}const St=H.ax;class Ut{constructor(){this.browserResolver=H.az(H.k),this.cordovaResolver=H.az(class hn{constructor(){this._redirectPersistence=H.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=H.aB,this._overrideRedirectResult=H.aC}_initialize(P){var B=this;return(0,c.Z)(function*(){const ce=P._key();let Be=B.eventManagers.get(ce);return Be||(Be=new Pe(P),B.eventManagers.set(ce,Be),B.attachCallbackListeners(P,Be)),Be})()}_openPopup(P){(0,H.as)(P,"operation-not-supported-in-this-environment")}_openRedirect(P,B,ce,Be){var ft=this;return(0,c.Z)(function*(){!function me(j){var P,B,ce,Be,ft,yt,Me,je,Nt,wn;const Gt=ke();(0,H.ax)("function"==typeof(null===(P=Gt?.universalLinks)||void 0===P?void 0:P.subscribe),j,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,H.ax)(typeof(null===(B=Gt?.BuildInfo)||void 0===B?void 0:B.packageName)<"u",j,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,H.ax)("function"==typeof(null===(ft=null===(Be=null===(ce=Gt?.cordova)||void 0===ce?void 0:ce.plugins)||void 0===Be?void 0:Be.browsertab)||void 0===ft?void 0:ft.openUrl),j,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,H.ax)("function"==typeof(null===(je=null===(Me=null===(yt=Gt?.cordova)||void 0===yt?void 0:yt.plugins)||void 0===Me?void 0:Me.browsertab)||void 0===je?void 0:je.isAvailable),j,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,H.ax)("function"==typeof(null===(wn=null===(Nt=Gt?.cordova)||void 0===Nt?void 0:Nt.InAppBrowser)||void 0===wn?void 0:wn.open),j,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(P);const yt=yield ft._initialize(P);yield yt.initialized(),yt.resetRedirect(),(0,H.aD)(),yield ft._originValidation(P);const Me=function Ae(j,P,B=null){return{type:P,eventId:B,urlResponse:null,sessionId:ne(),postBody:null,tenantId:j.tenantId,error:(0,H.aw)(j,"no-auth-event")}}(P,ce,Be);yield function Je(j,P){return ie()._set(_e(j),P)}(P,Me);const je=yield function K(j,P,B){return Q.apply(this,arguments)}(P,Me,B),Nt=yield function Qe(j){const{cordova:P}=ke();return new Promise(B=>{P.plugins.browsertab.isAvailable(ce=>{let Be=null;ce?P.plugins.browsertab.openUrl(j):Be=P.InAppBrowser.open(j,(0,H.av)()?"_blank":"_system","location=yes"),B(Be)})})}(je);return function Le(j,P,B){return ut.apply(this,arguments)}(P,yt,Nt)})()}_isIframeWebStorageSupported(P,B){throw new Error("Method not implemented.")}_originValidation(P){const B=P._key();return this.originValidationPromises[B]||(this.originValidationPromises[B]=function re(j){return Xe.apply(this,arguments)}(P)),this.originValidationPromises[B]}attachCallbackListeners(P,B){const{universalLinks:ce,handleOpenURL:Be,BuildInfo:ft}=ke(),yt=setTimeout((0,c.Z)(function*(){yield de(P),B.onEvent(et())}),500),Me=function(){var wn=(0,c.Z)(function*(Gt){clearTimeout(yt);const Cn=yield de(P);let Is=null;Cn&&Gt?.url&&(Is=function Te(j,P){var B,ce;const Be=function We(j){const P=qe(j),B=P.link?decodeURIComponent(P.link):void 0,ce=qe(B).link,Be=P.deep_link_id?decodeURIComponent(P.deep_link_id):void 0;return qe(Be).link||Be||ce||B||j}(P);if(Be.includes("/__/auth/callback")){const ft=qe(Be),yt=ft.firebaseError?function he(j){try{return JSON.parse(j)}catch{return null}}(decodeURIComponent(ft.firebaseError)):null,Me=null===(ce=null===(B=yt?.code)||void 0===B?void 0:B.split("auth/"))||void 0===ce?void 0:ce[1],je=Me?(0,H.aw)(Me):null;return je?{type:j.type,eventId:j.eventId,tenantId:j.tenantId,error:je,urlResponse:null,sessionId:null,postBody:null}:{type:j.type,eventId:j.eventId,tenantId:j.tenantId,sessionId:j.sessionId,urlResponse:Be,postBody:null}}return null}(Cn,Gt.url)),B.onEvent(Is||et())});return function(Cn){return wn.apply(this,arguments)}}();typeof ce<"u"&&"function"==typeof ce.subscribe&&ce.subscribe(null,Me);const je=Be,Nt=`${ft.packageName.toLowerCase()}://`;ke().handleOpenURL=function(){var wn=(0,c.Z)(function*(Gt){if(Gt.toLowerCase().startsWith(Nt)&&Me({url:Gt}),"function"==typeof je)try{je(Gt)}catch(Cn){console.error(Cn)}});return function(Gt){return wn.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=H.a,this._completeRedirectFn=H.aB,this._overrideRedirectResult=H.aC}_initialize(P){var B=this;return(0,c.Z)(function*(){return yield B.selectUnderlyingResolver(),B.assertedUnderlyingResolver._initialize(P)})()}_openPopup(P,B,ce,Be){var ft=this;return(0,c.Z)(function*(){return yield ft.selectUnderlyingResolver(),ft.assertedUnderlyingResolver._openPopup(P,B,ce,Be)})()}_openRedirect(P,B,ce,Be){var ft=this;return(0,c.Z)(function*(){return yield ft.selectUnderlyingResolver(),ft.assertedUnderlyingResolver._openRedirect(P,B,ce,Be)})()}_isIframeWebStorageSupported(P,B){this.assertedUnderlyingResolver._isIframeWebStorageSupported(P,B)}_originValidation(P){return this.assertedUnderlyingResolver._originValidation(P)}get _shouldInitProactively(){return Ws()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return St(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var P=this;return(0,c.Z)(function*(){if(P.underlyingResolver)return;const B=yield function yo(){return dt.apply(this,arguments)}();P.underlyingResolver=B?P.cordovaResolver:P.browserResolver})()}}function wr(j){return j.unwrap()}function lr(j){return cr(j)}function cr(j){const{_tokenResponse:P}=j instanceof ve.ZR?j.customData:j;if(!P)return null;if(!(j instanceof ve.ZR)&&"temporaryProof"in P&&"phoneNumber"in P)return H.P.credentialFromResult(j);const B=P.providerId;if(!B||B===H.o.PASSWORD)return null;let ce;switch(B){case H.o.GOOGLE:ce=H.Q;break;case H.o.FACEBOOK:ce=H.N;break;case H.o.GITHUB:ce=H.T;break;case H.o.TWITTER:ce=H.W;break;default:const{oauthIdToken:Be,oauthAccessToken:ft,oauthTokenSecret:yt,pendingToken:Me,nonce:je}=P;return ft||yt||Be||Me?Me?B.startsWith("saml.")?H.aL._create(B,Me):H.J._fromParams({providerId:B,signInMethod:B,pendingToken:Me,idToken:Be,accessToken:ft}):new H.U(B).credential({idToken:Be,accessToken:ft,rawNonce:je}):null}return j instanceof ve.ZR?ce.credentialFromError(j):ce.credentialFromResult(j)}function $t(j,P){return P.catch(B=>{throw B instanceof ve.ZR&&function Pt(j,P){var B,ce;const Be=null===(B=P.customData)||void 0===B?void 0:B._tokenResponse;if("auth/multi-factor-auth-required"===(null===(ce=P)||void 0===ce?void 0:ce.code))P.resolver=new Li(j,H.an(j,P));else if(Be){const ft=cr(P),yt=P;ft&&(yt.credential=ft,yt.tenantId=Be.tenantId||void 0,yt.email=Be.email||void 0,yt.phoneNumber=Be.phoneNumber||void 0)}}(j,B),B}).then(B=>{const Be=B.user;return{operationType:B.operationType,credential:lr(B),additionalUserInfo:H.al(B),user:Qn.getOrCreate(Be)}})}function es(j,P){return on.apply(this,arguments)}function on(){return(on=(0,c.Z)(function*(j,P){const B=yield P;return{verificationId:B.verificationId,confirm:ce=>$t(j,B.confirm(ce))}})).apply(this,arguments)}class Li{constructor(P,B){this.resolver=B,this.auth=function Ei(j){return j.wrapped()}(P)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(P){return $t(wr(this.auth),this.resolver.resolveSignIn(P))}}class Qn{constructor(P){this._delegate=P,this.multiFactor=H.ao(P)}static getOrCreate(P){return Qn.USER_MAP.has(P)||Qn.USER_MAP.set(P,new Qn(P)),Qn.USER_MAP.get(P)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(P){return this._delegate.getIdTokenResult(P)}getIdToken(P){return this._delegate.getIdToken(P)}linkAndRetrieveDataWithCredential(P){return this.linkWithCredential(P)}linkWithCredential(P){var B=this;return(0,c.Z)(function*(){return $t(B.auth,H.Z(B._delegate,P))})()}linkWithPhoneNumber(P,B){var ce=this;return(0,c.Z)(function*(){return es(ce.auth,H.l(ce._delegate,P,B))})()}linkWithPopup(P){var B=this;return(0,c.Z)(function*(){return $t(B.auth,H.d(B._delegate,P,Ut))})()}linkWithRedirect(P){var B=this;return(0,c.Z)(function*(){return yield Vn(H.aE(B.auth)),H.g(B._delegate,P,Ut)})()}reauthenticateAndRetrieveDataWithCredential(P){return this.reauthenticateWithCredential(P)}reauthenticateWithCredential(P){var B=this;return(0,c.Z)(function*(){return $t(B.auth,H._(B._delegate,P))})()}reauthenticateWithPhoneNumber(P,B){return es(this.auth,H.r(this._delegate,P,B))}reauthenticateWithPopup(P){return $t(this.auth,H.e(this._delegate,P,Ut))}reauthenticateWithRedirect(P){var B=this;return(0,c.Z)(function*(){return yield Vn(H.aE(B.auth)),H.h(B._delegate,P,Ut)})()}sendEmailVerification(P){return H.ab(this._delegate,P)}unlink(P){var B=this;return(0,c.Z)(function*(){return yield H.ak(B._delegate,P),B})()}updateEmail(P){return H.ag(this._delegate,P)}updatePassword(P){return H.ah(this._delegate,P)}updatePhoneNumber(P){return H.u(this._delegate,P)}updateProfile(P){return H.af(this._delegate,P)}verifyBeforeUpdateEmail(P,B){return H.ac(this._delegate,P,B)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Qn.USER_MAP=new WeakMap;const lt=H.ax;let Re=(()=>{class j{constructor(B,ce){if(this.app=B,ce.isInitialized())return this._delegate=ce.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Be}=B.options;lt(Be,"invalid-api-key",{appName:B.name}),lt(Be,"invalid-api-key",{appName:B.name});const ft=typeof window<"u"?Ut:void 0;this._delegate=ce.initialize({options:{persistence:xt(Be,B.name),popupRedirectResolver:ft}}),this._delegate._updateErrorMap(H.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Qn.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(B){this._delegate.languageCode=B}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(B){this._delegate.tenantId=B}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(B,ce){H.G(this._delegate,B,ce)}applyActionCode(B){return H.a2(this._delegate,B)}checkActionCode(B){return H.a3(this._delegate,B)}confirmPasswordReset(B,ce){return H.a1(this._delegate,B,ce)}createUserWithEmailAndPassword(B,ce){var Be=this;return(0,c.Z)(function*(){return $t(Be._delegate,H.a5(Be._delegate,B,ce))})()}fetchProvidersForEmail(B){return this.fetchSignInMethodsForEmail(B)}fetchSignInMethodsForEmail(B){return H.aa(this._delegate,B)}isSignInWithEmailLink(B){return H.a8(this._delegate,B)}getRedirectResult(){var B=this;return(0,c.Z)(function*(){lt(Zi(),B._delegate,"operation-not-supported-in-this-environment");const ce=yield H.j(B._delegate,Ut);return ce?$t(B._delegate,Promise.resolve(ce)):{credential:null,user:null}})()}addFrameworkForLogging(B){!function Sn(j,P){(0,H.aE)(j)._logFramework(P)}(this._delegate,B)}onAuthStateChanged(B,ce,Be){const{next:ft,error:yt,complete:Me}=ht(B,ce,Be);return this._delegate.onAuthStateChanged(ft,yt,Me)}onIdTokenChanged(B,ce,Be){const{next:ft,error:yt,complete:Me}=ht(B,ce,Be);return this._delegate.onIdTokenChanged(ft,yt,Me)}sendSignInLinkToEmail(B,ce){return H.a7(this._delegate,B,ce)}sendPasswordResetEmail(B,ce){return H.a0(this._delegate,B,ce||void 0)}setPersistence(B){var ce=this;return(0,c.Z)(function*(){let Be;switch(function Zl(j,P){Ln(Object.values(bi).includes(P),j,"invalid-persistence-type"),(0,ve.b$)()?Ln(P!==bi.SESSION,j,"unsupported-persistence-type"):(0,ve.UG)()?Ln(P===bi.NONE,j,"unsupported-persistence-type"):ar()?Ln(P===bi.NONE||P===bi.LOCAL&&(0,ve.hl)(),j,"unsupported-persistence-type"):Ln(P===bi.NONE||Ss(),j,"unsupported-persistence-type")}(ce._delegate,B),B){case bi.SESSION:Be=H.a;break;case bi.LOCAL:Be=(yield H.az(H.i)._isAvailable())?H.i:H.b;break;case bi.NONE:Be=H.L;break;default:return H.as("argument-error",{appName:ce._delegate.name})}return ce._delegate.setPersistence(Be)})()}signInAndRetrieveDataWithCredential(B){return this.signInWithCredential(B)}signInAnonymously(){return $t(this._delegate,H.X(this._delegate))}signInWithCredential(B){return $t(this._delegate,H.Y(this._delegate,B))}signInWithCustomToken(B){return $t(this._delegate,H.$(this._delegate,B))}signInWithEmailAndPassword(B,ce){return $t(this._delegate,H.a6(this._delegate,B,ce))}signInWithEmailLink(B,ce){return $t(this._delegate,H.a9(this._delegate,B,ce))}signInWithPhoneNumber(B,ce){return es(this._delegate,H.s(this._delegate,B,ce))}signInWithPopup(B){var ce=this;return(0,c.Z)(function*(){return lt(Zi(),ce._delegate,"operation-not-supported-in-this-environment"),$t(ce._delegate,H.c(ce._delegate,B,Ut))})()}signInWithRedirect(B){var ce=this;return(0,c.Z)(function*(){return lt(Zi(),ce._delegate,"operation-not-supported-in-this-environment"),yield Vn(ce._delegate),H.f(ce._delegate,B,Ut)})()}updateCurrentUser(B){return this._delegate.updateCurrentUser(B)}verifyPasswordResetCode(B){return H.a4(this._delegate,B)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return j.Persistence=bi,j})();function ht(j,P,B){let ce=j;"function"!=typeof j&&({next:ce,error:P,complete:B}=j);const Be=ce;return{next:yt=>Be(yt&&Qn.getOrCreate(yt)),error:P,complete:B}}function xt(j,P){const B=function Dn(j,P){const B=Ct();if(!B)return[];const ce=H.aA(Er,j,P);switch(B.getItem(ce)){case bi.NONE:return[H.L];case bi.LOCAL:return[H.i,H.a];case bi.SESSION:return[H.a];default:return[]}}(j,P);if(typeof self<"u"&&!B.includes(H.i)&&B.push(H.i),typeof window<"u")for(const ce of[H.b,H.a])B.includes(ce)||B.push(ce);return B.includes(H.L)||B.push(H.L),B}class kt{constructor(){this.providerId="phone",this._delegate=new H.P(wr(W.Z.auth()))}static credential(P,B){return H.P.credential(P,B)}verifyPhoneNumber(P,B){return this._delegate.verifyPhoneNumber(P,B)}unwrap(){return this._delegate}}kt.PHONE_SIGN_IN_METHOD=H.P.PHONE_SIGN_IN_METHOD,kt.PROVIDER_ID=H.P.PROVIDER_ID;const cn=H.ax;class Y{constructor(P,B,ce=W.Z.app()){var Be;cn(null===(Be=ce.options)||void 0===Be?void 0:Be.apiKey,"invalid-api-key",{appName:ce.name}),this._delegate=new H.R(P,B,ce.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function X(j){j.INTERNAL.registerComponent(new Ce.wA("auth-compat",P=>{const B=P.getProvider("app-compat").getImmediate(),ce=P.getProvider("auth");return new Re(B,ce)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:H.A.EMAIL_SIGNIN,PASSWORD_RESET:H.A.PASSWORD_RESET,RECOVER_EMAIL:H.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:H.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:H.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:H.A.VERIFY_EMAIL}},EmailAuthProvider:H.M,FacebookAuthProvider:H.N,GithubAuthProvider:H.T,GoogleAuthProvider:H.Q,OAuthProvider:H.U,SAMLAuthProvider:H.V,PhoneAuthProvider:kt,PhoneMultiFactorGenerator:H.m,RecaptchaVerifier:Y,TwitterAuthProvider:H.W,Auth:Re,AuthCredential:H.H,Error:ve.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),j.registerVersion("@firebase/auth-compat","0.2.24")}(W.Z)},9751:(Dt,He,z)=>{z.d(He,{y:()=>ke});var c=z(930),W=z(727),H=z(8822),ve=z(9635),Fe=z(2416),Oe=z(576),Ce=z(2806);let ke=(()=>{class re{constructor(Qe){Qe&&(this._subscribe=Qe)}lift(Qe){const Le=new re;return Le.source=this,Le.operator=Qe,Le}subscribe(Qe,Le,ut){const me=function Q(re){return re&&re instanceof c.Lv||function K(re){return re&&(0,Oe.m)(re.next)&&(0,Oe.m)(re.error)&&(0,Oe.m)(re.complete)}(re)&&(0,W.Nn)(re)}(Qe)?Qe:new c.Hp(Qe,Le,ut);return(0,Ce.x)(()=>{const{operator:Se,source:mt}=this;me.add(Se?Se.call(me,mt):mt?this._subscribe(me):this._trySubscribe(me))}),me}_trySubscribe(Qe){try{return this._subscribe(Qe)}catch(Le){Qe.error(Le)}}forEach(Qe,Le){return new(Le=Ze(Le))((ut,me)=>{const Se=new c.Hp({next:mt=>{try{Qe(mt)}catch(gt){me(gt),Se.unsubscribe()}},error:me,complete:ut});this.subscribe(Se)})}_subscribe(Qe){var Le;return null===(Le=this.source)||void 0===Le?void 0:Le.subscribe(Qe)}[H.L](){return this}pipe(...Qe){return(0,ve.U)(Qe)(this)}toPromise(Qe){return new(Qe=Ze(Qe))((Le,ut)=>{let me;this.subscribe(Se=>me=Se,Se=>ut(Se),()=>Le(me))})}}return re.create=Xe=>new re(Xe),re})();function Ze(re){var Xe;return null!==(Xe=re??Fe.v.Promise)&&void 0!==Xe?Xe:Promise}},7579:(Dt,He,z)=>{z.d(He,{x:()=>Ce});var c=z(9751),W=z(727);const ve=(0,z(3888).d)(Ze=>function(){Ze(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Fe=z(8737),Oe=z(2806);let Ce=(()=>{class Ze extends c.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(Q){const re=new ke(this,this);return re.operator=Q,re}_throwIfClosed(){if(this.closed)throw new ve}next(Q){(0,Oe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const re of this.currentObservers)re.next(Q)}})}error(Q){(0,Oe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=Q;const{observers:re}=this;for(;re.length;)re.shift().error(Q)}})}complete(){(0,Oe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:Q}=this;for(;Q.length;)Q.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var Q;return(null===(Q=this.observers)||void 0===Q?void 0:Q.length)>0}_trySubscribe(Q){return this._throwIfClosed(),super._trySubscribe(Q)}_subscribe(Q){return this._throwIfClosed(),this._checkFinalizedStatuses(Q),this._innerSubscribe(Q)}_innerSubscribe(Q){const{hasError:re,isStopped:Xe,observers:Qe}=this;return re||Xe?W.Lc:(this.currentObservers=null,Qe.push(Q),new W.w0(()=>{this.currentObservers=null,(0,Fe.P)(Qe,Q)}))}_checkFinalizedStatuses(Q){const{hasError:re,thrownError:Xe,isStopped:Qe}=this;re?Q.error(Xe):Qe&&Q.complete()}asObservable(){const Q=new c.y;return Q.source=this,Q}}return Ze.create=(K,Q)=>new ke(K,Q),Ze})();class ke extends Ce{constructor(K,Q){super(),this.destination=K,this.source=Q}next(K){var Q,re;null===(re=null===(Q=this.destination)||void 0===Q?void 0:Q.next)||void 0===re||re.call(Q,K)}error(K){var Q,re;null===(re=null===(Q=this.destination)||void 0===Q?void 0:Q.error)||void 0===re||re.call(Q,K)}complete(){var K,Q;null===(Q=null===(K=this.destination)||void 0===K?void 0:K.complete)||void 0===Q||Q.call(K)}_subscribe(K){var Q,re;return null!==(re=null===(Q=this.source)||void 0===Q?void 0:Q.subscribe(K))&&void 0!==re?re:W.Lc}}},930:(Dt,He,z)=>{z.d(He,{Hp:()=>ut,Lv:()=>re});var c=z(576),W=z(727),H=z(2416),ve=z(7849),Fe=z(5032);const Oe=Ze("C",void 0,void 0);function Ze(Ge,Pe,Ae){return{kind:Ge,value:Pe,error:Ae}}var K=z(3410),Q=z(2806);class re extends W.w0{constructor(Pe){super(),this.isStopped=!1,Pe?(this.destination=Pe,(0,W.Nn)(Pe)&&Pe.add(this)):this.destination=gt}static create(Pe,Ae,Je){return new ut(Pe,Ae,Je)}next(Pe){this.isStopped?mt(function ke(Ge){return Ze("N",Ge,void 0)}(Pe),this):this._next(Pe)}error(Pe){this.isStopped?mt(function Ce(Ge){return Ze("E",void 0,Ge)}(Pe),this):(this.isStopped=!0,this._error(Pe))}complete(){this.isStopped?mt(Oe,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Pe){this.destination.next(Pe)}_error(Pe){try{this.destination.error(Pe)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Xe=Function.prototype.bind;function Qe(Ge,Pe){return Xe.call(Ge,Pe)}class Le{constructor(Pe){this.partialObserver=Pe}next(Pe){const{partialObserver:Ae}=this;if(Ae.next)try{Ae.next(Pe)}catch(Je){me(Je)}}error(Pe){const{partialObserver:Ae}=this;if(Ae.error)try{Ae.error(Pe)}catch(Je){me(Je)}else me(Pe)}complete(){const{partialObserver:Pe}=this;if(Pe.complete)try{Pe.complete()}catch(Ae){me(Ae)}}}class ut extends re{constructor(Pe,Ae,Je){let de;if(super(),(0,c.m)(Pe)||!Pe)de={next:Pe??void 0,error:Ae??void 0,complete:Je??void 0};else{let fe;this&&H.v.useDeprecatedNextContext?(fe=Object.create(Pe),fe.unsubscribe=()=>this.unsubscribe(),de={next:Pe.next&&Qe(Pe.next,fe),error:Pe.error&&Qe(Pe.error,fe),complete:Pe.complete&&Qe(Pe.complete,fe)}):de=Pe}this.destination=new Le(de)}}function me(Ge){H.v.useDeprecatedSynchronousErrorHandling?(0,Q.O)(Ge):(0,ve.h)(Ge)}function mt(Ge,Pe){const{onStoppedNotification:Ae}=H.v;Ae&&K.z.setTimeout(()=>Ae(Ge,Pe))}const gt={closed:!0,next:Fe.Z,error:function Se(Ge){throw Ge},complete:Fe.Z}},727:(Dt,He,z)=>{z.d(He,{Lc:()=>Oe,w0:()=>Fe,Nn:()=>Ce});var c=z(576);const H=(0,z(3888).d)(Ze=>function(Q){Ze(this),this.message=Q?`${Q.length} errors occurred during unsubscription:\n${Q.map((re,Xe)=>`${Xe+1}) ${re.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Q});var ve=z(8737);class Fe{constructor(K){this.initialTeardown=K,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let K;if(!this.closed){this.closed=!0;const{_parentage:Q}=this;if(Q)if(this._parentage=null,Array.isArray(Q))for(const Qe of Q)Qe.remove(this);else Q.remove(this);const{initialTeardown:re}=this;if((0,c.m)(re))try{re()}catch(Qe){K=Qe instanceof H?Qe.errors:[Qe]}const{_finalizers:Xe}=this;if(Xe){this._finalizers=null;for(const Qe of Xe)try{ke(Qe)}catch(Le){K=K??[],Le instanceof H?K=[...K,...Le.errors]:K.push(Le)}}if(K)throw new H(K)}}add(K){var Q;if(K&&K!==this)if(this.closed)ke(K);else{if(K instanceof Fe){if(K.closed||K._hasParent(this))return;K._addParent(this)}(this._finalizers=null!==(Q=this._finalizers)&&void 0!==Q?Q:[]).push(K)}}_hasParent(K){const{_parentage:Q}=this;return Q===K||Array.isArray(Q)&&Q.includes(K)}_addParent(K){const{_parentage:Q}=this;this._parentage=Array.isArray(Q)?(Q.push(K),Q):Q?[Q,K]:K}_removeParent(K){const{_parentage:Q}=this;Q===K?this._parentage=null:Array.isArray(Q)&&(0,ve.P)(Q,K)}remove(K){const{_finalizers:Q}=this;Q&&(0,ve.P)(Q,K),K instanceof Fe&&K._removeParent(this)}}Fe.EMPTY=(()=>{const Ze=new Fe;return Ze.closed=!0,Ze})();const Oe=Fe.EMPTY;function Ce(Ze){return Ze instanceof Fe||Ze&&"closed"in Ze&&(0,c.m)(Ze.remove)&&(0,c.m)(Ze.add)&&(0,c.m)(Ze.unsubscribe)}function ke(Ze){(0,c.m)(Ze)?Ze():Ze.unsubscribe()}},2416:(Dt,He,z)=>{z.d(He,{v:()=>c});const c={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(Dt,He,z)=>{z.d(He,{E:()=>W});const W=new(z(9751).y)(Fe=>Fe.complete())},8996:(Dt,He,z)=>{z.d(He,{D:()=>Pe});var c=z(8421),W=z(5363),H=z(9468),Oe=z(9751),ke=z(2202),Ze=z(576),K=z(9672);function re(Ae,Je){if(!Ae)throw new Error("Iterable cannot be null");return new Oe.y(de=>{(0,K.f)(de,Je,()=>{const fe=Ae[Symbol.asyncIterator]();(0,K.f)(de,Je,()=>{fe.next().then(Te=>{Te.done?de.complete():de.next(Te.value)})},0,!0)})})}var Xe=z(3670),Qe=z(8239),Le=z(1144),ut=z(6495),me=z(2206),Se=z(4532),mt=z(3260);function Pe(Ae,Je){return Je?function Ge(Ae,Je){if(null!=Ae){if((0,Xe.c)(Ae))return function ve(Ae,Je){return(0,c.Xf)(Ae).pipe((0,H.R)(Je),(0,W.Q)(Je))}(Ae,Je);if((0,Le.z)(Ae))return function Ce(Ae,Je){return new Oe.y(de=>{let fe=0;return Je.schedule(function(){fe===Ae.length?de.complete():(de.next(Ae[fe++]),de.closed||this.schedule())})})}(Ae,Je);if((0,Qe.t)(Ae))return function Fe(Ae,Je){return(0,c.Xf)(Ae).pipe((0,H.R)(Je),(0,W.Q)(Je))}(Ae,Je);if((0,me.D)(Ae))return re(Ae,Je);if((0,ut.T)(Ae))return function Q(Ae,Je){return new Oe.y(de=>{let fe;return(0,K.f)(de,Je,()=>{fe=Ae[ke.h](),(0,K.f)(de,Je,()=>{let Te,ne;try{({value:Te,done:ne}=fe.next())}catch(ie){return void de.error(ie)}ne?de.complete():de.next(Te)},0,!0)}),()=>(0,Ze.m)(fe?.return)&&fe.return()})}(Ae,Je);if((0,mt.L)(Ae))return function gt(Ae,Je){return re((0,mt.Q)(Ae),Je)}(Ae,Je)}throw(0,Se.z)(Ae)}(Ae,Je):(0,c.Xf)(Ae)}},8421:(Dt,He,z)=>{z.d(He,{Xf:()=>Xe});var c=z(655),W=z(1144),H=z(8239),ve=z(9751),Fe=z(3670),Oe=z(2206),Ce=z(4532),ke=z(6495),Ze=z(3260),K=z(576),Q=z(7849),re=z(8822);function Xe(Ge){if(Ge instanceof ve.y)return Ge;if(null!=Ge){if((0,Fe.c)(Ge))return function Qe(Ge){return new ve.y(Pe=>{const Ae=Ge[re.L]();if((0,K.m)(Ae.subscribe))return Ae.subscribe(Pe);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ge);if((0,W.z)(Ge))return function Le(Ge){return new ve.y(Pe=>{for(let Ae=0;Ae<Ge.length&&!Pe.closed;Ae++)Pe.next(Ge[Ae]);Pe.complete()})}(Ge);if((0,H.t)(Ge))return function ut(Ge){return new ve.y(Pe=>{Ge.then(Ae=>{Pe.closed||(Pe.next(Ae),Pe.complete())},Ae=>Pe.error(Ae)).then(null,Q.h)})}(Ge);if((0,Oe.D)(Ge))return Se(Ge);if((0,ke.T)(Ge))return function me(Ge){return new ve.y(Pe=>{for(const Ae of Ge)if(Pe.next(Ae),Pe.closed)return;Pe.complete()})}(Ge);if((0,Ze.L)(Ge))return function mt(Ge){return Se((0,Ze.Q)(Ge))}(Ge)}throw(0,Ce.z)(Ge)}function Se(Ge){return new ve.y(Pe=>{(function gt(Ge,Pe){var Ae,Je,de,fe;return(0,c.mG)(this,void 0,void 0,function*(){try{for(Ae=(0,c.KL)(Ge);!(Je=yield Ae.next()).done;)if(Pe.next(Je.value),Pe.closed)return}catch(Te){de={error:Te}}finally{try{Je&&!Je.done&&(fe=Ae.return)&&(yield fe.call(Ae))}finally{if(de)throw de.error}}Pe.complete()})})(Ge,Pe).catch(Ae=>Pe.error(Ae))})}},6451:(Dt,He,z)=>{z.d(He,{T:()=>Oe});var c=z(8189),W=z(8421),H=z(515),ve=z(3269),Fe=z(8996);function Oe(...Ce){const ke=(0,ve.yG)(Ce),Ze=(0,ve._6)(Ce,1/0),K=Ce;return K.length?1===K.length?(0,W.Xf)(K[0]):(0,c.J)(Ze)((0,Fe.D)(K,ke)):H.E}},5403:(Dt,He,z)=>{z.d(He,{Q:()=>H,x:()=>W});var c=z(930);function W(ve,Fe,Oe,Ce,ke){return new H(ve,Fe,Oe,Ce,ke)}class H extends c.Lv{constructor(Fe,Oe,Ce,ke,Ze,K){super(Fe),this.onFinalize=Ze,this.shouldUnsubscribe=K,this._next=Oe?function(Q){try{Oe(Q)}catch(re){Fe.error(re)}}:super._next,this._error=ke?function(Q){try{ke(Q)}catch(re){Fe.error(re)}finally{this.unsubscribe()}}:super._error,this._complete=Ce?function(){try{Ce()}catch(Q){Fe.error(Q)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Fe;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Oe}=this;super.unsubscribe(),!Oe&&(null===(Fe=this.onFinalize)||void 0===Fe||Fe.call(this))}}}},4004:(Dt,He,z)=>{z.d(He,{U:()=>H});var c=z(4482),W=z(5403);function H(ve,Fe){return(0,c.e)((Oe,Ce)=>{let ke=0;Oe.subscribe((0,W.x)(Ce,Ze=>{Ce.next(ve.call(Fe,Ze,ke++))}))})}},8189:(Dt,He,z)=>{z.d(He,{J:()=>H});var c=z(5577),W=z(4671);function H(ve=1/0){return(0,c.z)(W.y,ve)}},5577:(Dt,He,z)=>{z.d(He,{z:()=>ke});var c=z(4004),W=z(8421),H=z(4482),ve=z(9672),Fe=z(5403),Ce=z(576);function ke(Ze,K,Q=1/0){return(0,Ce.m)(K)?ke((re,Xe)=>(0,c.U)((Qe,Le)=>K(re,Qe,Xe,Le))((0,W.Xf)(Ze(re,Xe))),Q):("number"==typeof K&&(Q=K),(0,H.e)((re,Xe)=>function Oe(Ze,K,Q,re,Xe,Qe,Le,ut){const me=[];let Se=0,mt=0,gt=!1;const Ge=()=>{gt&&!me.length&&!Se&&K.complete()},Pe=Je=>Se<re?Ae(Je):me.push(Je),Ae=Je=>{Qe&&K.next(Je),Se++;let de=!1;(0,W.Xf)(Q(Je,mt++)).subscribe((0,Fe.x)(K,fe=>{Xe?.(fe),Qe?Pe(fe):K.next(fe)},()=>{de=!0},void 0,()=>{if(de)try{for(Se--;me.length&&Se<re;){const fe=me.shift();Le?(0,ve.f)(K,Le,()=>Ae(fe)):Ae(fe)}Ge()}catch(fe){K.error(fe)}}))};return Ze.subscribe((0,Fe.x)(K,Pe,()=>{gt=!0,Ge()})),()=>{ut?.()}}(re,Xe,Ze,Q)))}},5363:(Dt,He,z)=>{z.d(He,{Q:()=>ve});var c=z(9672),W=z(4482),H=z(5403);function ve(Fe,Oe=0){return(0,W.e)((Ce,ke)=>{Ce.subscribe((0,H.x)(ke,Ze=>(0,c.f)(ke,Fe,()=>ke.next(Ze),Oe),()=>(0,c.f)(ke,Fe,()=>ke.complete(),Oe),Ze=>(0,c.f)(ke,Fe,()=>ke.error(Ze),Oe)))})}},3099:(Dt,He,z)=>{z.d(He,{B:()=>Fe});var c=z(8421),W=z(7579),H=z(930),ve=z(4482);function Fe(Ce={}){const{connector:ke=(()=>new W.x),resetOnError:Ze=!0,resetOnComplete:K=!0,resetOnRefCountZero:Q=!0}=Ce;return re=>{let Xe,Qe,Le,ut=0,me=!1,Se=!1;const mt=()=>{Qe?.unsubscribe(),Qe=void 0},gt=()=>{mt(),Xe=Le=void 0,me=Se=!1},Ge=()=>{const Pe=Xe;gt(),Pe?.unsubscribe()};return(0,ve.e)((Pe,Ae)=>{ut++,!Se&&!me&&mt();const Je=Le=Le??ke();Ae.add(()=>{ut--,0===ut&&!Se&&!me&&(Qe=Oe(Ge,Q))}),Je.subscribe(Ae),!Xe&&ut>0&&(Xe=new H.Hp({next:de=>Je.next(de),error:de=>{Se=!0,mt(),Qe=Oe(gt,Ze,de),Je.error(de)},complete:()=>{me=!0,mt(),Qe=Oe(gt,K),Je.complete()}}),(0,c.Xf)(Pe).subscribe(Xe))})(re)}}function Oe(Ce,ke,...Ze){if(!0===ke)return void Ce();if(!1===ke)return;const K=new H.Hp({next:()=>{K.unsubscribe(),Ce()}});return ke(...Ze).subscribe(K)}},9468:(Dt,He,z)=>{z.d(He,{R:()=>W});var c=z(4482);function W(H,ve=0){return(0,c.e)((Fe,Oe)=>{Oe.add(H.schedule(()=>Fe.subscribe(Oe),ve))})}},3410:(Dt,He,z)=>{z.d(He,{z:()=>c});const c={setTimeout(W,H,...ve){const{delegate:Fe}=c;return Fe?.setTimeout?Fe.setTimeout(W,H,...ve):setTimeout(W,H,...ve)},clearTimeout(W){const{delegate:H}=c;return(H?.clearTimeout||clearTimeout)(W)},delegate:void 0}},2202:(Dt,He,z)=>{z.d(He,{h:()=>W});const W=function c(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Dt,He,z)=>{z.d(He,{L:()=>c});const c="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(Dt,He,z)=>{z.d(He,{_6:()=>Oe,jO:()=>ve,yG:()=>Fe});var c=z(576),W=z(3532);function H(Ce){return Ce[Ce.length-1]}function ve(Ce){return(0,c.m)(H(Ce))?Ce.pop():void 0}function Fe(Ce){return(0,W.K)(H(Ce))?Ce.pop():void 0}function Oe(Ce,ke){return"number"==typeof H(Ce)?Ce.pop():ke}},8737:(Dt,He,z)=>{function c(W,H){if(W){const ve=W.indexOf(H);0<=ve&&W.splice(ve,1)}}z.d(He,{P:()=>c})},3888:(Dt,He,z)=>{function c(W){const ve=W(Fe=>{Error.call(Fe),Fe.stack=(new Error).stack});return ve.prototype=Object.create(Error.prototype),ve.prototype.constructor=ve,ve}z.d(He,{d:()=>c})},2806:(Dt,He,z)=>{z.d(He,{O:()=>ve,x:()=>H});var c=z(2416);let W=null;function H(Fe){if(c.v.useDeprecatedSynchronousErrorHandling){const Oe=!W;if(Oe&&(W={errorThrown:!1,error:null}),Fe(),Oe){const{errorThrown:Ce,error:ke}=W;if(W=null,Ce)throw ke}}else Fe()}function ve(Fe){c.v.useDeprecatedSynchronousErrorHandling&&W&&(W.errorThrown=!0,W.error=Fe)}},9672:(Dt,He,z)=>{function c(W,H,ve,Fe=0,Oe=!1){const Ce=H.schedule(function(){ve(),Oe?W.add(this.schedule(null,Fe)):this.unsubscribe()},Fe);if(W.add(Ce),!Oe)return Ce}z.d(He,{f:()=>c})},4671:(Dt,He,z)=>{function c(W){return W}z.d(He,{y:()=>c})},1144:(Dt,He,z)=>{z.d(He,{z:()=>c});const c=W=>W&&"number"==typeof W.length&&"function"!=typeof W},2206:(Dt,He,z)=>{z.d(He,{D:()=>W});var c=z(576);function W(H){return Symbol.asyncIterator&&(0,c.m)(H?.[Symbol.asyncIterator])}},576:(Dt,He,z)=>{function c(W){return"function"==typeof W}z.d(He,{m:()=>c})},3670:(Dt,He,z)=>{z.d(He,{c:()=>H});var c=z(8822),W=z(576);function H(ve){return(0,W.m)(ve[c.L])}},6495:(Dt,He,z)=>{z.d(He,{T:()=>H});var c=z(2202),W=z(576);function H(ve){return(0,W.m)(ve?.[c.h])}},8239:(Dt,He,z)=>{z.d(He,{t:()=>W});var c=z(576);function W(H){return(0,c.m)(H?.then)}},3260:(Dt,He,z)=>{z.d(He,{L:()=>ve,Q:()=>H});var c=z(655),W=z(576);function H(Fe){return(0,c.FC)(this,arguments,function*(){const Ce=Fe.getReader();try{for(;;){const{value:ke,done:Ze}=yield(0,c.qq)(Ce.read());if(Ze)return yield(0,c.qq)(void 0);yield yield(0,c.qq)(ke)}}finally{Ce.releaseLock()}})}function ve(Fe){return(0,W.m)(Fe?.getReader)}},3532:(Dt,He,z)=>{z.d(He,{K:()=>W});var c=z(576);function W(H){return H&&(0,c.m)(H.schedule)}},4482:(Dt,He,z)=>{z.d(He,{A:()=>W,e:()=>H});var c=z(576);function W(ve){return(0,c.m)(ve?.lift)}function H(ve){return Fe=>{if(W(Fe))return Fe.lift(function(Oe){try{return ve(Oe,this)}catch(Ce){this.error(Ce)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(Dt,He,z)=>{function c(){}z.d(He,{Z:()=>c})},9635:(Dt,He,z)=>{z.d(He,{U:()=>H,z:()=>W});var c=z(4671);function W(...ve){return H(ve)}function H(ve){return 0===ve.length?c.y:1===ve.length?ve[0]:function(Oe){return ve.reduce((Ce,ke)=>ke(Ce),Oe)}}},7849:(Dt,He,z)=>{z.d(He,{h:()=>H});var c=z(2416),W=z(3410);function H(ve){W.z.setTimeout(()=>{const{onUnhandledError:Fe}=c.v;if(!Fe)throw ve;Fe(ve)})}},4532:(Dt,He,z)=>{function c(W){return new TypeError(`You provided ${null!==W&&"object"==typeof W?"an invalid object":`'${W}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}z.d(He,{z:()=>c})},655:(Dt,He,z)=>{function ve(ne,ie){var _e={};for(var he in ne)Object.prototype.hasOwnProperty.call(ne,he)&&ie.indexOf(he)<0&&(_e[he]=ne[he]);if(null!=ne&&"function"==typeof Object.getOwnPropertySymbols){var We=0;for(he=Object.getOwnPropertySymbols(ne);We<he.length;We++)ie.indexOf(he[We])<0&&Object.prototype.propertyIsEnumerable.call(ne,he[We])&&(_e[he[We]]=ne[he[We]])}return _e}function ke(ne,ie,_e,he){return new(_e||(_e=Promise))(function(qe,wt){function hn(Sn){try{et(he.next(Sn))}catch(ai){wt(ai)}}function Jt(Sn){try{et(he.throw(Sn))}catch(ai){wt(ai)}}function et(Sn){Sn.done?qe(Sn.value):function We(qe){return qe instanceof _e?qe:new _e(function(wt){wt(qe)})}(Sn.value).then(hn,Jt)}et((he=he.apply(ne,ie||[])).next())})}function me(ne){return this instanceof me?(this.v=ne,this):new me(ne)}function Se(ne,ie,_e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var We,he=_e.apply(ne,ie||[]),qe=[];return We={},wt("next"),wt("throw"),wt("return"),We[Symbol.asyncIterator]=function(){return this},We;function wt(In){he[In]&&(We[In]=function(fn){return new Promise(function(en,Ht){qe.push([In,fn,en,Ht])>1||hn(In,fn)})})}function hn(In,fn){try{!function Jt(In){In.value instanceof me?Promise.resolve(In.value.v).then(et,Sn):ai(qe[0][2],In)}(he[In](fn))}catch(en){ai(qe[0][3],en)}}function et(In){hn("next",In)}function Sn(In){hn("throw",In)}function ai(In,fn){In(fn),qe.shift(),qe.length&&hn(qe[0][0],qe[0][1])}}function gt(ne){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var _e,ie=ne[Symbol.asyncIterator];return ie?ie.call(ne):(ne=function re(ne){var ie="function"==typeof Symbol&&Symbol.iterator,_e=ie&&ne[ie],he=0;if(_e)return _e.call(ne);if(ne&&"number"==typeof ne.length)return{next:function(){return ne&&he>=ne.length&&(ne=void 0),{value:ne&&ne[he++],done:!ne}}};throw new TypeError(ie?"Object is not iterable.":"Symbol.iterator is not defined.")}(ne),_e={},he("next"),he("throw"),he("return"),_e[Symbol.asyncIterator]=function(){return this},_e);function he(qe){_e[qe]=ne[qe]&&function(wt){return new Promise(function(hn,Jt){!function We(qe,wt,hn,Jt){Promise.resolve(Jt).then(function(et){qe({value:et,done:hn})},wt)}(hn,Jt,(wt=ne[qe](wt)).done,wt.value)})}}}z.d(He,{FC:()=>Se,KL:()=>gt,_T:()=>ve,mG:()=>ke,qq:()=>me})},4650:(Dt,He,z)=>{z.d(He,{$8M:()=>Ru,$Z:()=>XS,AFp:()=>N_,ALo:()=>qT,AaK:()=>ke,Akn:()=>no,BQk:()=>Af,CHM:()=>Tv,CRH:()=>uO,CZH:()=>zc,CqO:()=>NI,D6c:()=>iy,DdM:()=>YR,EJc:()=>bE,EiD:()=>ol,EpF:()=>OI,F$t:()=>BI,F4k:()=>PI,FYo:()=>OM,FiY:()=>An,G48:()=>DD,Gf:()=>lO,GfV:()=>dS,Gpc:()=>Q,Hsn:()=>S0,Ikx:()=>Vf,JOm:()=>No,JVY:()=>Bm,KtG:()=>gu,L6k:()=>Zv,LAX:()=>Qv,LFG:()=>tn,LSH:()=>$m,Lbi:()=>fD,Lck:()=>FT,MAs:()=>Hg,MMx:()=>VT,NdJ:()=>FI,O4$:()=>vm,OlP:()=>xn,Oqu:()=>P0,PXZ:()=>SD,Q6J:()=>b0,QGY:()=>xf,QP$:()=>Be,QbO:()=>mD,Qsj:()=>qV,R0b:()=>ds,RDi:()=>Lm,Rgc:()=>S_,SBq:()=>ll,Sil:()=>V_,Suo:()=>cO,TTD:()=>aa,TgZ:()=>Tf,Tol:()=>KI,Udp:()=>A0,VKq:()=>ZR,W1O:()=>pO,WFA:()=>Mf,X6Q:()=>TD,XFs:()=>dt,Xpm:()=>Re,Xts:()=>ib,Y36:()=>Rc,YKP:()=>eE,YNc:()=>$g,Yjl:()=>j,Yz7:()=>fn,Z0I:()=>Cs,ZZ4:()=>op,_Bn:()=>NT,_UZ:()=>C0,_Vd:()=>Ac,_c5:()=>ny,_uU:()=>aR,aQg:()=>ty,c2e:()=>vE,cJS:()=>Ht,cg1:()=>Sl,d8E:()=>Bf,dDg:()=>U_,dqk:()=>Ut,eBb:()=>Kv,eFA:()=>kE,ekj:()=>Rf,eoX:()=>wD,f3M:()=>Rn,g9A:()=>yE,h0i:()=>Uc,hGG:()=>ap,hij:()=>Xg,iGM:()=>aO,ifc:()=>St,ip1:()=>_E,jDz:()=>b_,kL8:()=>aT,kcU:()=>bm,lG2:()=>X,lcZ:()=>YT,lqb:()=>Po,lri:()=>AE,mCW:()=>b,n5z:()=>Co,n_E:()=>oE,oAB:()=>cn,oxw:()=>VI,pB0:()=>Vu,q3G:()=>Fn,q4F:()=>hS,qLn:()=>cf,qOj:()=>Sf,qZA:()=>Df,qzn:()=>Ps,rWj:()=>xE,sBO:()=>K_,sIi:()=>Nc,s_b:()=>lE,soG:()=>L_,tb:()=>pD,tp0:()=>ba,uIk:()=>Lg,vHH:()=>Le,vpe:()=>Na,wAp:()=>Rt,xi3:()=>eO,xp6:()=>$S,ynx:()=>zg,z2F:()=>np,z3N:()=>os,zSh:()=>Gm,zs3:()=>ul});var c=z(7579),W=z(727),H=z(9751),ve=z(6451),Fe=z(3099);function Oe(o){for(let l in o)if(o[l]===Oe)return l;throw Error("Could not find renamed property on target object.")}function Ce(o,l){for(const u in l)l.hasOwnProperty(u)&&!o.hasOwnProperty(u)&&(o[u]=l[u])}function ke(o){if("string"==typeof o)return o;if(Array.isArray(o))return"["+o.map(ke).join(", ")+"]";if(null==o)return""+o;if(o.overriddenName)return`${o.overriddenName}`;if(o.name)return`${o.name}`;const l=o.toString();if(null==l)return""+l;const u=l.indexOf("\n");return-1===u?l:l.substring(0,u)}function Ze(o,l){return null==o||""===o?null===l?"":l:null==l||""===l?o:o+" "+l}const K=Oe({__forward_ref__:Oe});function Q(o){return o.__forward_ref__=Q,o.toString=function(){return ke(this())},o}function re(o){return Xe(o)?o():o}function Xe(o){return"function"==typeof o&&o.hasOwnProperty(K)&&o.__forward_ref__===Q}class Le extends Error{constructor(l,u){super(function ut(o,l){return`NG0${Math.abs(o)}${l?": "+l.trim():""}`}(l,u)),this.code=l}}function me(o){return"string"==typeof o?o:null==o?"":String(o)}function Pe(o,l){throw new Le(-201,!1)}function Jt(o,l){null==o&&function et(o,l,u,h){throw new Error(`ASSERTION ERROR: ${o}`+(null==h?"":` [Expected=> ${u} ${h} ${l} <=Actual]`))}(l,o,null,"!=")}function fn(o){return{token:o.token,providedIn:o.providedIn||null,factory:o.factory,value:void 0}}function Ht(o){return{providers:o.providers||[],imports:o.imports||[]}}function Yi(o){return _o(o,ar)||_o(o,Ws)}function Cs(o){return null!==Yi(o)}function _o(o,l){return o.hasOwnProperty(l)?o[l]:null}function Ss(o){return o&&(o.hasOwnProperty(Zi)||o.hasOwnProperty(yo))?o[Zi]:null}const ar=Oe({\u0275prov:Oe}),Zi=Oe({\u0275inj:Oe}),Ws=Oe({ngInjectableDef:Oe}),yo=Oe({ngInjectorDef:Oe});var dt=(()=>((dt=dt||{})[dt.Default=0]="Default",dt[dt.Host=1]="Host",dt[dt.Self=2]="Self",dt[dt.SkipSelf=4]="SkipSelf",dt[dt.Optional=8]="Optional",dt))();let xi;function Ln(o){const l=xi;return xi=o,l}function Er(o,l,u){const h=Yi(o);return h&&"root"==h.providedIn?void 0===h.value?h.value=h.factory():h.value:u&dt.Optional?null:void 0!==l?l:void Pe(ke(o))}function Vn(o){return{toString:o}.toString()}var zn=(()=>((zn=zn||{})[zn.OnPush=0]="OnPush",zn[zn.Default=1]="Default",zn))(),St=(()=>{return(o=St||(St={}))[o.Emulated=0]="Emulated",o[o.None=2]="None",o[o.ShadowDom=3]="ShadowDom",St;var o})();const Ut=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),lr={},Pt=[],cr=Oe({\u0275cmp:Oe}),$t=Oe({\u0275dir:Oe}),es=Oe({\u0275pipe:Oe}),on=Oe({\u0275mod:Oe}),Li=Oe({\u0275fac:Oe}),Qn=Oe({__NG_ELEMENT_ID__:Oe});let lt=0;function Re(o){return Vn(()=>{const u=!0===o.standalone,h={},m={type:o.type,providersResolver:null,decls:o.decls,vars:o.vars,factory:null,template:o.template||null,consts:o.consts||null,ngContentSelectors:o.ngContentSelectors,hostBindings:o.hostBindings||null,hostVars:o.hostVars||0,hostAttrs:o.hostAttrs||null,contentQueries:o.contentQueries||null,declaredInputs:h,inputs:null,outputs:null,exportAs:o.exportAs||null,onPush:o.changeDetection===zn.OnPush,directiveDefs:null,pipeDefs:null,standalone:u,dependencies:u&&o.dependencies||null,getStandaloneInjector:null,selectors:o.selectors||Pt,viewQuery:o.viewQuery||null,features:o.features||null,data:o.data||{},encapsulation:o.encapsulation||St.Emulated,id:"c"+lt++,styles:o.styles||Pt,_:null,setInput:null,schemas:o.schemas||null,tView:null},g=o.dependencies,E=o.features;return m.inputs=G(o.inputs,h),m.outputs=G(o.outputs),E&&E.forEach(S=>S(m)),m.directiveDefs=g?()=>("function"==typeof g?g():g).map(xt).filter(kt):null,m.pipeDefs=g?()=>("function"==typeof g?g():g).map(ce).filter(kt):null,m})}function xt(o){return P(o)||B(o)}function kt(o){return null!==o}function cn(o){return Vn(()=>({type:o.type,bootstrap:o.bootstrap||Pt,declarations:o.declarations||Pt,imports:o.imports||Pt,exports:o.exports||Pt,transitiveCompileScopes:null,schemas:o.schemas||null,id:o.id||null}))}function G(o,l){if(null==o)return lr;const u={};for(const h in o)if(o.hasOwnProperty(h)){let m=o[h],g=m;Array.isArray(m)&&(g=m[1],m=m[0]),u[m]=h,l&&(l[m]=g)}return u}const X=Re;function j(o){return{type:o.type,name:o.name,factory:null,pure:!1!==o.pure,standalone:!0===o.standalone,onDestroy:o.type.prototype.ngOnDestroy||null}}function P(o){return o[cr]||null}function B(o){return o[$t]||null}function ce(o){return o[es]||null}function Be(o){const l=P(o)||B(o)||ce(o);return null!==l&&l.standalone}function ft(o,l){const u=o[on]||null;if(!u&&!0===l)throw new Error(`Type ${ke(o)} does not have '\u0275mod' property.`);return u}function Mi(o){return Array.isArray(o)&&"object"==typeof o[1]}function Cr(o){return Array.isArray(o)&&!0===o[1]}function Ts(o){return 0!=(8&o.flags)}function ra(o){return 2==(2&o.flags)}function sa(o){return 1==(1&o.flags)}function Ds(o){return null!==o.template}function fu(o){return 0!=(256&o[2])}function Vi(o,l){return o.hasOwnProperty(Li)?o[Li]:null}class Ya{constructor(l,u,h){this.previousValue=l,this.currentValue=u,this.firstChange=h}isFirstChange(){return this.firstChange}}function aa(){return hm}function hm(o){return o.type.prototype.ngOnChanges&&(o.setInput=ph),fh}function fh(){const o=Za(this),l=o?.current;if(l){const u=o.previous;if(u===lr)o.previous=l;else for(let h in l)u[h]=l[h];o.current=null,this.ngOnChanges(l)}}function ph(o,l,u,h){const m=Za(o)||function ki(o,l){return o[fm]=l}(o,{previous:lr,current:null}),g=m.current||(m.current={}),E=m.previous,S=this.declaredInputs[u],T=E[S];g[S]=new Ya(T&&T.currentValue,l,E===lr),o[h]=l}aa.ngInherit=!0;const fm="__ngSimpleChanges__";function Za(o){return o[fm]||null}function Xn(o){for(;Array.isArray(o);)o=o[0];return o}function nc(o,l){return Xn(l[o])}function ur(o,l){return Xn(l[o.index])}function ic(o,l){return o.data[l]}function vo(o,l){return o[l]}function yn(o,l){const u=l[o];return Mi(u)?u:u[0]}function bo(o){return 64==(64&o[2])}function As(o,l){return null==l?null:o[l]}function rc(o){o[18]=0}function sc(o,l){o[5]+=l;let u=o,h=o[3];for(;null!==h&&(1===l&&1===u[5]||-1===l&&0===u[5]);)h[5]+=l,u=h,h=h[3]}const Vt={lFrame:Ih(null),bindingsEnabled:!0};function oc(){return Vt.bindingsEnabled}function Ve(){return Vt.lFrame.lView}function sn(){return Vt.lFrame.tView}function Tv(o){return Vt.lFrame.contextLView=o,o[8]}function gu(o){return Vt.lFrame.contextLView=null,o}function wi(){let o=_u();for(;null!==o&&64===o.type;)o=o.parent;return o}function _u(){return Vt.lFrame.currentTNode}function Ur(o,l){const u=Vt.lFrame;u.currentTNode=o,u.isParent=l}function vh(){return Vt.lFrame.isParent}function vu(){Vt.lFrame.isParent=!1}function mi(){const o=Vt.lFrame;let l=o.bindingRootIndex;return-1===l&&(l=o.bindingRootIndex=o.tView.bindingStartIndex),l}function lc(){return Vt.lFrame.bindingIndex++}function Eo(o){const l=Vt.lFrame,u=l.bindingIndex;return l.bindingIndex=l.bindingIndex+o,u}function _m(o,l){const u=Vt.lFrame;u.bindingIndex=u.bindingRootIndex=o,bu(l)}function bu(o){Vt.lFrame.currentDirectiveIndex=o}function Eh(o){const l=Vt.lFrame.currentDirectiveIndex;return-1===l?null:o[l]}function wh(){return Vt.lFrame.currentQueryIndex}function Ch(o){Vt.lFrame.currentQueryIndex=o}function Sh(o){const l=o[1];return 2===l.type?l.declTNode:1===l.type?o[6]:null}function xv(o,l,u){if(u&dt.SkipSelf){let m=l,g=o;for(;!(m=m.parent,null!==m||u&dt.Host||(m=Sh(g),null===m||(g=g[15],10&m.type))););if(null===m)return!1;l=m,o=g}const h=Vt.lFrame=Mv();return h.currentTNode=l,h.lView=o,!0}function Eu(o){const l=Mv(),u=o[1];Vt.lFrame=l,l.currentTNode=u.firstChild,l.lView=o,l.tView=u,l.contextLView=o,l.bindingIndex=u.bindingStartIndex,l.inI18n=!1}function Mv(){const o=Vt.lFrame,l=null===o?null:o.child;return null===l?Ih(o):l}function Ih(o){const l={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:o,child:null,inI18n:!1};return null!==o&&(o.child=l),l}function kv(){const o=Vt.lFrame;return Vt.lFrame=o.parent,o.currentTNode=null,o.lView=null,o}const ym=kv;function Qa(){const o=kv();o.isParent=!0,o.tView=null,o.selectedIndex=-1,o.contextLView=null,o.elementDepthCount=0,o.currentDirectiveIndex=-1,o.currentNamespace=null,o.bindingRootIndex=-1,o.bindingIndex=-1,o.currentQueryIndex=0}function jn(){return Vt.lFrame.selectedIndex}function Ys(o){Vt.lFrame.selectedIndex=o}function Gn(){const o=Vt.lFrame;return ic(o.tView,o.selectedIndex)}function vm(){Vt.lFrame.currentNamespace="svg"}function bm(){!function Pv(){Vt.lFrame.currentNamespace=null}()}function cc(o,l){for(let u=l.directiveStart,h=l.directiveEnd;u<h;u++){const g=o.data[u].type.prototype,{ngAfterContentInit:E,ngAfterContentChecked:S,ngAfterViewInit:T,ngAfterViewChecked:M,ngOnDestroy:O}=g;E&&(o.contentHooks||(o.contentHooks=[])).push(-u,E),S&&((o.contentHooks||(o.contentHooks=[])).push(u,S),(o.contentCheckHooks||(o.contentCheckHooks=[])).push(u,S)),T&&(o.viewHooks||(o.viewHooks=[])).push(-u,T),M&&((o.viewHooks||(o.viewHooks=[])).push(u,M),(o.viewCheckHooks||(o.viewCheckHooks=[])).push(u,M)),null!=O&&(o.destroyHooks||(o.destroyHooks=[])).push(u,O)}}function uc(o,l,u){Ah(o,l,3,u)}function ua(o,l,u,h){(3&o[2])===u&&Ah(o,l,u,h)}function Dh(o,l){let u=o[2];(3&u)===l&&(u&=2047,u+=1,o[2]=u)}function Ah(o,l,u,h){const g=h??-1,E=l.length-1;let S=0;for(let T=void 0!==h?65535&o[18]:0;T<E;T++)if("number"==typeof l[T+1]){if(S=l[T],null!=h&&S>=h)break}else l[T]<0&&(o[18]+=65536),(S<g||-1==g)&&(Em(o,u,l,T),o[18]=(4294901760&o[18])+T+2),T++}function Em(o,l,u,h){const m=u[h]<0,g=u[h+1],S=o[m?-u[h]:u[h]];if(m){if(o[2]>>11<o[18]>>16&&(3&o[2])===l){o[2]+=2048;try{g.call(S)}finally{}}}else try{g.call(S)}finally{}}class $r{constructor(l,u,h){this.factory=l,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=h}}function Zs(o,l,u){let h=0;for(;h<u.length;){const m=u[h];if("number"==typeof m){if(0!==m)break;h++;const g=u[h++],E=u[h++],S=u[h++];o.setAttribute(l,E,S,g)}else{const g=m,E=u[++h];Oh(g)?o.setProperty(l,g,E):o.setAttribute(l,g,E),h++}}return h}function Rh(o){return 3===o||4===o||6===o}function Oh(o){return 64===o.charCodeAt(0)}function hc(o,l){if(null!==l&&0!==l.length)if(null===o||0===o.length)o=l.slice();else{let u=-1;for(let h=0;h<l.length;h++){const m=l[h];"number"==typeof m?u=m:0===u||wm(o,u,m,null,-1===u||2===u?l[++h]:null)}}return o}function wm(o,l,u,h,m){let g=0,E=o.length;if(-1===l)E=-1;else for(;g<o.length;){const S=o[g++];if("number"==typeof S){if(S===l){E=-1;break}if(S>l){E=g-1;break}}}for(;g<o.length;){const S=o[g];if("number"==typeof S)break;if(S===u){if(null===h)return void(null!==m&&(o[g+1]=m));if(h===o[g+1])return void(o[g+2]=m)}g++,null!==h&&g++,null!==m&&g++}-1!==E&&(o.splice(E,0,l),g=E+1),o.splice(g++,0,u),null!==h&&o.splice(g++,0,h),null!==m&&o.splice(g++,0,m)}function Lv(o){return-1!==o}function da(o){return 32767&o}function wo(o,l){let u=function Vv(o){return o>>16}(o),h=l;for(;u>0;)h=h[15],u--;return h}let Ph=!0;function Iu(o){const l=Ph;return Ph=o,l}let Cm=0;const ns={};function ha(o,l){const u=Tu(o,l);if(-1!==u)return u;const h=l[1];h.firstCreatePass&&(o.injectorIndex=l.length,Nh(h.data,o),Nh(l,null),Nh(h.blueprint,null));const m=fc(o,l),g=o.injectorIndex;if(Lv(m)){const E=da(m),S=wo(m,l),T=S[1].data;for(let M=0;M<8;M++)l[g+M]=S[E+M]|T[E+M]}return l[g+8]=m,g}function Nh(o,l){o.push(0,0,0,0,0,0,0,0,l)}function Tu(o,l){return-1===o.injectorIndex||o.parent&&o.parent.injectorIndex===o.injectorIndex||null===l[o.injectorIndex+8]?-1:o.injectorIndex}function fc(o,l){if(o.parent&&-1!==o.parent.injectorIndex)return o.parent.injectorIndex;let u=0,h=null,m=l;for(;null!==m;){if(h=ku(m),null===h)return-1;if(u++,m=m[15],-1!==h.injectorIndex)return h.injectorIndex|u<<16}return-1}function pc(o,l,u){!function Uv(o,l,u){let h;"string"==typeof u?h=u.charCodeAt(0)||0:u.hasOwnProperty(Qn)&&(h=u[Qn]),null==h&&(h=u[Qn]=Cm++);const m=255&h;l.data[o+(m>>5)]|=1<<m}(o,l,u)}function Du(o,l,u){if(u&dt.Optional||void 0!==o)return o;Pe()}function fa(o,l,u,h){if(u&dt.Optional&&void 0===h&&(h=null),0==(u&(dt.Self|dt.Host))){const m=o[9],g=Ln(void 0);try{return m?m.get(l,h,u&dt.Optional):Er(l,h,u&dt.Optional)}finally{Ln(g)}}return Du(h,0,u)}function Au(o,l,u,h=dt.Default,m){if(null!==o){if(1024&l[2]){const E=function Hv(o,l,u,h,m){let g=o,E=l;for(;null!==g&&null!==E&&1024&E[2]&&!(256&E[2]);){const S=Sm(g,E,u,h|dt.Self,ns);if(S!==ns)return S;let T=g.parent;if(!T){const M=E[21];if(M){const O=M.get(u,ns,h);if(O!==ns)return O}T=ku(E),E=E[15]}g=T}return m}(o,l,u,h,ns);if(E!==ns)return E}const g=Sm(o,l,u,h,ns);if(g!==ns)return g}return fa(l,u,h,m)}function Sm(o,l,u,h,m){const g=function $v(o){if("string"==typeof o)return o.charCodeAt(0)||0;const l=o.hasOwnProperty(Qn)?o[Qn]:void 0;return"number"==typeof l?l>=0?255&l:Dm:l}(u);if("function"==typeof g){if(!xv(l,o,h))return h&dt.Host?Du(m,0,h):fa(l,u,h,m);try{const E=g(h);if(null!=E||h&dt.Optional)return E;Pe()}finally{ym()}}else if("number"==typeof g){let E=null,S=Tu(o,l),T=-1,M=h&dt.Host?l[16][6]:null;for((-1===S||h&dt.SkipSelf)&&(T=-1===S?fc(o,l):l[S+8],-1!==T&&Tm(h,!1)?(E=l[1],S=da(T),l=wo(T,l)):S=-1);-1!==S;){const O=l[1];if(xu(g,S,O.data)){const V=Im(S,l,u,E,h,M);if(V!==ns)return V}T=l[S+8],-1!==T&&Tm(h,l[1].data[S+8]===M)&&xu(g,S,l)?(E=O,S=da(T),l=wo(T,l)):S=-1}}return m}function Im(o,l,u,h,m,g){const E=l[1],S=E.data[o+8],O=gc(S,E,u,null==h?ra(S)&&Ph:h!=E&&0!=(3&S.type),m&dt.Host&&g===S);return null!==O?Ks(l,E,O,S):ns}function gc(o,l,u,h,m){const g=o.providerIndexes,E=l.data,S=1048575&g,T=o.directiveStart,O=g>>20,Z=m?S+O:o.directiveEnd;for(let le=h?S:S+O;le<Z;le++){const De=E[le];if(le<T&&u===De||le>=T&&De.type===u)return le}if(m){const le=E[T];if(le&&Ds(le)&&le.type===u)return T}return null}function Ks(o,l,u,h){let m=o[u];const g=l.data;if(function xh(o){return o instanceof $r}(m)){const E=m;E.resolving&&function mt(o,l){const u=l?`. Dependency path: ${l.join(" > ")} > ${o}`:"";throw new Le(-200,`Circular dependency in DI detected for ${o}${u}`)}(function Se(o){return"function"==typeof o?o.name||o.toString():"object"==typeof o&&null!=o&&"function"==typeof o.type?o.type.name||o.type.toString():me(o)}(g[u]));const S=Iu(E.canSeeViewProviders);E.resolving=!0;const T=E.injectImpl?Ln(E.injectImpl):null;xv(o,h,dt.Default);try{m=o[u]=E.factory(void 0,g,o,h),l.firstCreatePass&&u>=h.directiveStart&&function wu(o,l,u){const{ngOnChanges:h,ngOnInit:m,ngDoCheck:g}=l.type.prototype;if(h){const E=hm(l);(u.preOrderHooks||(u.preOrderHooks=[])).push(o,E),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(o,E)}m&&(u.preOrderHooks||(u.preOrderHooks=[])).push(0-o,m),g&&((u.preOrderHooks||(u.preOrderHooks=[])).push(o,g),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(o,g))}(u,g[u],l)}finally{null!==T&&Ln(T),Iu(S),E.resolving=!1,ym()}}return m}function xu(o,l,u){return!!(u[l+(o>>5)]&1<<o)}function Tm(o,l){return!(o&dt.Self||o&dt.Host&&l)}class _c{constructor(l,u){this._tNode=l,this._lView=u}get(l,u,h){return Au(this._tNode,this._lView,l,h,u)}}function Dm(){return new _c(wi(),Ve())}function Co(o){return Vn(()=>{const l=o.prototype.constructor,u=l[Li]||Mu(l),h=Object.prototype;let m=Object.getPrototypeOf(o.prototype).constructor;for(;m&&m!==h;){const g=m[Li]||Mu(m);if(g&&g!==u)return g;m=Object.getPrototypeOf(m)}return g=>new g})}function Mu(o){return Xe(o)?()=>{const l=Mu(re(o));return l&&l()}:Vi(o)}function ku(o){const l=o[1],u=l.type;return 2===u?l.declTNode:1===u?o[6]:null}function Ru(o){return function mc(o,l){if("class"===l)return o.classes;if("style"===l)return o.styles;const u=o.attrs;if(u){const h=u.length;let m=0;for(;m<h;){const g=u[m];if(Rh(g))break;if(0===g)m+=2;else if("number"==typeof g)for(m++;m<h&&"string"==typeof u[m];)m++;else{if(g===l)return u[m+1];m+=2}}}return null}(wi(),o)}const yc="__parameters__";function vc(o,l,u){return Vn(()=>{const h=function Am(o){return function(...u){if(o){const h=o(...u);for(const m in h)this[m]=h[m]}}}(l);function m(...g){if(this instanceof m)return h.apply(this,g),this;const E=new m(...g);return S.annotation=E,S;function S(T,M,O){const V=T.hasOwnProperty(yc)?T[yc]:Object.defineProperty(T,yc,{value:[]})[yc];for(;V.length<=O;)V.push(null);return(V[O]=V[O]||[]).push(E),T}}return u&&(m.prototype=Object.create(u.prototype)),m.prototype.ngMetadataName=o,m.annotationCls=m,m})}class xn{constructor(l,u){this._desc=l,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=fn({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Mn(o,l){void 0===l&&(l=o);for(let u=0;u<o.length;u++){let h=o[u];Array.isArray(h)?(l===o&&(l=o.slice(0,u)),Mn(h,l)):l!==o&&l.push(h)}return l}function Qs(o,l){o.forEach(u=>Array.isArray(u)?Qs(u,l):l(u))}function ma(o,l,u){l>=o.length?o.push(u):o.splice(l,0,u)}function kn(o,l){return l>=o.length-1?o.pop():o.splice(l,1)[0]}function ga(o,l){const u=[];for(let h=0;h<o;h++)u.push(l);return u}function rt(o,l,u){let h=Io(o,l);return h>=0?o[1|h]=u:(h=~h,function Gv(o,l,u,h){let m=o.length;if(m==l)o.push(u,h);else if(1===m)o.push(h,o[0]),o[0]=u;else{for(m--,o.push(o[m-1],o[m]);m>l;)o[m]=o[m-2],m--;o[l]=u,o[l+1]=h}}(o,h,l,u)),h}function Vh(o,l){const u=Io(o,l);if(u>=0)return o[1|u]}function Io(o,l){return function Uh(o,l,u){let h=0,m=o.length>>u;for(;m!==h;){const g=h+(m-h>>1),E=o[g<<u];if(l===E)return g<<u;E>l?m=g:h=g+1}return~(m<<u)}(o,l,1)}const Do={},jh="__NG_DI_FLAG__",Bi="ngTempTokenPath",ks=/\n/gm,Wn="__source";let xo;function Mo(o){const l=xo;return xo=o,l}function Un(o,l=dt.Default){if(void 0===xo)throw new Le(-203,!1);return null===xo?Er(o,void 0,l):xo.get(o,l&dt.Optional?null:void 0,l)}function tn(o,l=dt.Default){return(function bi(){return xi}()||Un)(re(o),l)}function Rn(o,l=dt.Default){return"number"!=typeof l&&(l=0|(l.optional&&8)|(l.host&&1)|(l.self&&2)|(l.skipSelf&&4)),tn(o,l)}function li(o){const l=[];for(let u=0;u<o.length;u++){const h=re(o[u]);if(Array.isArray(h)){if(0===h.length)throw new Le(900,!1);let m,g=dt.Default;for(let E=0;E<h.length;E++){const S=h[E],T=Om(S);"number"==typeof T?-1===T?m=S.token:g|=T:m=S}l.push(tn(m,g))}else l.push(tn(h))}return l}function Rs(o,l){return o[jh]=l,o.prototype[jh]=l,o}function Om(o){return o[jh]}const An=Rs(vc("Optional"),8),ba=Rs(vc("SkipSelf"),4);let Yh,Cc;function Lm(o){Yh=o}function Js(o){return function Nu(){if(void 0===Cc&&(Cc=null,Ut.trustedTypes))try{Cc=Ut.trustedTypes.createPolicy("angular",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return Cc}()?.createHTML(o)||o}class Ca{constructor(l){this.changingThisBreaksApplicationSecurity=l}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class sl extends Ca{getTypeName(){return"HTML"}}class Ic extends Ca{getTypeName(){return"Style"}}class Kh extends Ca{getTypeName(){return"Script"}}class Lu extends Ca{getTypeName(){return"URL"}}class Qh extends Ca{getTypeName(){return"ResourceURL"}}function os(o){return o instanceof Ca?o.changingThisBreaksApplicationSecurity:o}function Ps(o,l){const u=function Xh(o){return o instanceof Ca&&o.getTypeName()||null}(o);if(null!=u&&u!==l){if("ResourceURL"===u&&"URL"===l)return!0;throw new Error(`Required a safe ${l}, got a ${u} (see https://g.co/ng/security#xss)`)}return u===l}function Bm(o){return new sl(o)}function Zv(o){return new Ic(o)}function Kv(o){return new Kh(o)}function Qv(o){return new Lu(o)}function Vu(o){return new Qh(o)}class Xv{constructor(l){this.inertDocumentHelper=l}getInertBodyElement(l){l="<body><remove></remove>"+l;try{const u=(new window.DOMParser).parseFromString(Js(l),"text/html").body;return null===u?this.inertDocumentHelper.getInertBodyElement(l):(u.removeChild(u.firstChild),u)}catch{return null}}}class Jv{constructor(l){if(this.defaultDoc=l,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const u=this.inertDocument.createElement("html");this.inertDocument.appendChild(u);const h=this.inertDocument.createElement("body");u.appendChild(h)}}getInertBodyElement(l){const u=this.inertDocument.createElement("template");if("content"in u)return u.innerHTML=Js(l),u;const h=this.inertDocument.createElement("body");return h.innerHTML=Js(l),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(h),h}stripCustomNsAttrs(l){const u=l.attributes;for(let m=u.length-1;0<m;m--){const E=u.item(m).name;("xmlns:ns1"===E||0===E.indexOf("ns1:"))&&l.removeAttribute(E)}let h=l.firstChild;for(;h;)h.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(h),h=h.nextSibling}}const y=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function b(o){return(o=String(o)).match(y)?o:"unsafe:"+o}function I(o){const l={};for(const u of o.split(","))l[u]=!0;return l}function R(...o){const l={};for(const u of o)for(const h in u)u.hasOwnProperty(h)&&(l[h]=!0);return l}const N=I("area,br,col,hr,img,wbr"),se=I("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),xe=I("rp,rt"),vn=R(N,R(se,I("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),R(xe,I("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),R(xe,se)),Ui=I("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Uu=R(Ui,I("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),I("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),$u=I("script,style,template");class Sa{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(l){let u=l.firstChild,h=!0;for(;u;)if(u.nodeType===Node.ELEMENT_NODE?h=this.startElement(u):u.nodeType===Node.TEXT_NODE?this.chars(u.nodeValue):this.sanitizedSomething=!0,h&&u.firstChild)u=u.firstChild;else for(;u;){u.nodeType===Node.ELEMENT_NODE&&this.endElement(u);let m=this.checkClobberedElement(u,u.nextSibling);if(m){u=m;break}u=this.checkClobberedElement(u,u.parentNode)}return this.buf.join("")}startElement(l){const u=l.nodeName.toLowerCase();if(!vn.hasOwnProperty(u))return this.sanitizedSomething=!0,!$u.hasOwnProperty(u);this.buf.push("<"),this.buf.push(u);const h=l.attributes;for(let m=0;m<h.length;m++){const g=h.item(m),E=g.name,S=E.toLowerCase();if(!Uu.hasOwnProperty(S)){this.sanitizedSomething=!0;continue}let T=g.value;Ui[S]&&(T=b(T)),this.buf.push(" ",E,'="',Hu(T),'"')}return this.buf.push(">"),!0}endElement(l){const u=l.nodeName.toLowerCase();vn.hasOwnProperty(u)&&!N.hasOwnProperty(u)&&(this.buf.push("</"),this.buf.push(u),this.buf.push(">"))}chars(l){this.buf.push(Hu(l))}checkClobberedElement(l,u){if(u&&(l.compareDocumentPosition(u)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${l.outerHTML}`);return u}}const Um=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ef=/([^\#-~ |!])/g;function Hu(o){return o.replace(/&/g,"&amp;").replace(Um,function(l){return"&#"+(1024*(l.charCodeAt(0)-55296)+(l.charCodeAt(1)-56320)+65536)+";"}).replace(ef,function(l){return"&#"+l.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Tc;function ol(o,l){let u=null;try{Tc=Tc||function Jh(o){const l=new Jv(o);return function C(){try{return!!(new window.DOMParser).parseFromString(Js(""),"text/html")}catch{return!1}}()?new Xv(l):l}(o);let h=l?String(l):"";u=Tc.getInertBodyElement(h);let m=5,g=h;do{if(0===m)throw new Error("Failed to sanitize html because the input is unstable");m--,h=g,g=u.innerHTML,u=Tc.getInertBodyElement(h)}while(h!==g);return Js((new Sa).sanitizeChildren(ko(u)||u))}finally{if(u){const h=ko(u)||u;for(;h.firstChild;)h.removeChild(h.firstChild)}}}function ko(o){return"content"in o&&function eb(o){return o.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===o.nodeName}(o)?o.content:null}var Fn=(()=>((Fn=Fn||{})[Fn.NONE=0]="NONE",Fn[Fn.HTML=1]="HTML",Fn[Fn.STYLE=2]="STYLE",Fn[Fn.SCRIPT=3]="SCRIPT",Fn[Fn.URL=4]="URL",Fn[Fn.RESOURCE_URL=5]="RESOURCE_URL",Fn))();function $m(o){const l=function tf(){const o=Ve();return o&&o[12]}();return l?l.sanitize(Fn.URL,o)||"":Ps(o,"URL")?os(o):b(me(o))}const ib=new xn("ENVIRONMENT_INITIALIZER"),eS=new xn("INJECTOR",-1),tS=new xn("INJECTOR_DEF_TYPES");class nS{get(l,u=Do){if(u===Do){const h=new Error(`NullInjectorError: No provider for ${ke(l)}!`);throw h.name="NullInjectorError",h}return u}}function xM(...o){return{\u0275providers:iS(0,o)}}function iS(o,...l){const u=[],h=new Set;let m;return Qs(l,g=>{const E=g;zm(E,u,[],h)&&(m||(m=[]),m.push(E))}),void 0!==m&&rb(m,u),u}function rb(o,l){for(let u=0;u<o.length;u++){const{providers:m}=o[u];Qs(m,g=>{l.push(g)})}}function zm(o,l,u,h){if(!(o=re(o)))return!1;let m=null,g=Ss(o);const E=!g&&P(o);if(g||E){if(E&&!E.standalone)return!1;m=o}else{const T=o.ngModule;if(g=Ss(T),!g)return!1;m=T}const S=h.has(m);if(E){if(S)return!1;if(h.add(m),E.dependencies){const T="function"==typeof E.dependencies?E.dependencies():E.dependencies;for(const M of T)zm(M,l,u,h)}}else{if(!g)return!1;{if(null!=g.imports&&!S){let M;h.add(m);try{Qs(g.imports,O=>{zm(O,l,u,h)&&(M||(M=[]),M.push(O))})}finally{}void 0!==M&&rb(M,l)}if(!S){const M=Vi(m)||(()=>new m);l.push({provide:m,useFactory:M,deps:Pt},{provide:tS,useValue:m,multi:!0},{provide:ib,useValue:()=>tn(m),multi:!0})}const T=g.providers;null==T||S||Qs(T,O=>{l.push(O)})}}return m!==o&&void 0!==o.providers}const rS=Oe({provide:String,useValue:Oe});function nf(o){return null!==o&&"object"==typeof o&&rS in o}function Ns(o){return"function"==typeof o}const Gm=new xn("Set Injector scope."),Wm={},al={};let qm;function Ym(){return void 0===qm&&(qm=new nS),qm}class Po{}class sb extends Po{constructor(l,u,h,m){super(),this.parent=u,this.source=h,this.scopes=m,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Km(l,E=>this.processProvider(E)),this.records.set(eS,zu(void 0,this)),m.has("environment")&&this.records.set(Po,zu(void 0,this));const g=this.records.get(Gm);null!=g&&"string"==typeof g.value&&this.scopes.add(g.value),this.injectorDefTypes=new Set(this.get(tS.multi,Pt,dt.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const l of this._ngOnDestroyHooks)l.ngOnDestroy();for(const l of this._onDestroyHooks)l()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(l){this._onDestroyHooks.push(l)}runInContext(l){this.assertNotDestroyed();const u=Mo(this),h=Ln(void 0);try{return l()}finally{Mo(u),Ln(h)}}get(l,u=Do,h=dt.Default){this.assertNotDestroyed();const m=Mo(this),g=Ln(void 0);try{if(!(h&dt.SkipSelf)){let S=this.records.get(l);if(void 0===S){const T=function kM(o){return"function"==typeof o||"object"==typeof o&&o instanceof xn}(l)&&Yi(l);S=T&&this.injectableDefInScope(T)?zu(rf(l),Wm):null,this.records.set(l,S)}if(null!=S)return this.hydrate(l,S)}return(h&dt.Self?Ym():this.parent).get(l,u=h&dt.Optional&&u===Do?null:u)}catch(E){if("NullInjectorError"===E.name){if((E[Bi]=E[Bi]||[]).unshift(ke(l)),m)throw E;return function Wv(o,l,u,h){const m=o[Bi];throw l[Wn]&&m.unshift(l[Wn]),o.message=function rs(o,l,u,h=null){o=o&&"\n"===o.charAt(0)&&"\u0275"==o.charAt(1)?o.slice(2):o;let m=ke(l);if(Array.isArray(l))m=l.map(ke).join(" -> ");else if("object"==typeof l){let g=[];for(let E in l)if(l.hasOwnProperty(E)){let S=l[E];g.push(E+":"+("string"==typeof S?JSON.stringify(S):ke(S)))}m=`{${g.join(", ")}}`}return`${u}${h?"("+h+")":""}[${m}]: ${o.replace(ks,"\n  ")}`}("\n"+o.message,m,u,h),o.ngTokenPath=m,o[Bi]=null,o}(E,l,"R3InjectorError",this.source)}throw E}finally{Ln(g),Mo(m)}}resolveInjectorInitializers(){const l=Mo(this),u=Ln(void 0);try{const h=this.get(ib.multi,Pt,dt.Self);for(const m of h)m()}finally{Mo(l),Ln(u)}}toString(){const l=[],u=this.records;for(const h of u.keys())l.push(ke(h));return`R3Injector[${l.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Le(205,!1)}processProvider(l){let u=Ns(l=re(l))?l:re(l&&l.provide);const h=function ob(o){return nf(o)?zu(void 0,o.useValue):zu(Zm(o),Wm)}(l);if(Ns(l)||!0!==l.multi)this.records.get(u);else{let m=this.records.get(u);m||(m=zu(void 0,Wm,!0),m.factory=()=>li(m.multi),this.records.set(u,m)),u=l,m.multi.push(l)}this.records.set(u,h)}hydrate(l,u){return u.value===Wm&&(u.value=al,u.value=u.factory()),"object"==typeof u.value&&u.value&&function MM(o){return null!==o&&"object"==typeof o&&"function"==typeof o.ngOnDestroy}(u.value)&&this._ngOnDestroyHooks.add(u.value),u.value}injectableDefInScope(l){if(!l.providedIn)return!1;const u=re(l.providedIn);return"string"==typeof u?"any"===u||this.scopes.has(u):this.injectorDefTypes.has(u)}}function rf(o){const l=Yi(o),u=null!==l?l.factory:Vi(o);if(null!==u)return u;if(o instanceof xn)throw new Le(204,!1);if(o instanceof Function)return function oS(o){const l=o.length;if(l>0)throw ga(l,"?"),new Le(204,!1);const u=function ii(o){const l=o&&(o[ar]||o[Ws]);if(l){const u=function Gs(o){if(o.hasOwnProperty("name"))return o.name;const l=(""+o).match(/^function\s*([^\s(]+)/);return null===l?"":l[1]}(o);return console.warn(`DEPRECATED: DI is instantiating a token "${u}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${u}" class.`),l}return null}(o);return null!==u?()=>u.factory(o):()=>new o}(o);throw new Le(204,!1)}function Zm(o,l,u){let h;if(Ns(o)){const m=re(o);return Vi(m)||rf(m)}if(nf(o))h=()=>re(o.useValue);else if(function Oo(o){return!(!o||!o.useFactory)}(o))h=()=>o.useFactory(...li(o.deps||[]));else if(function jm(o){return!(!o||!o.useExisting)}(o))h=()=>tn(re(o.useExisting));else{const m=re(o&&(o.useClass||o.provide));if(!function sf(o){return!!o.deps}(o))return Vi(m)||rf(m);h=()=>new m(...li(o.deps))}return h}function zu(o,l,u=!1){return{factory:o,value:l,multi:u?[]:void 0}}function ab(o){return!!o.\u0275providers}function Km(o,l){for(const u of o)Array.isArray(u)?Km(u,l):ab(u)?Km(u.\u0275providers,l):l(u)}class lb{}class Xm{resolveComponentFactory(l){throw function lS(o){const l=Error(`No component factory found for ${ke(o)}. Did you add it to @NgModule.entryComponents?`);return l.ngComponent=o,l}(l)}}let Ac=(()=>{class o{}return o.NULL=new Xm,o})();function RM(){return ju(wi(),Ve())}function ju(o,l){return new ll(ur(o,l))}let ll=(()=>{class o{constructor(u){this.nativeElement=u}}return o.__NG_ELEMENT_ID__=RM,o})();function uS(o){return o instanceof ll?o.nativeElement:o}class OM{}let qV=(()=>{class o{}return o.__NG_ELEMENT_ID__=()=>function YV(){const o=Ve(),u=yn(wi().index,o);return(Mi(u)?u:o)[11]}(),o})(),cb=(()=>{class o{}return o.\u0275prov=fn({token:o,providedIn:"root",factory:()=>null}),o})();class dS{constructor(l){this.full=l,this.major=l.split(".")[0],this.minor=l.split(".")[1],this.patch=l.split(".").slice(2).join(".")}}const hS=new dS("14.2.10"),ub={};function gb(o){return o.ngOriginalError}class cf{constructor(){this._console=console}handleError(l){const u=this._findOriginalError(l);this._console.error("ERROR",l),u&&this._console.error("ORIGINAL ERROR",u)}_findOriginalError(l){let u=l&&gb(l);for(;u&&gb(u);)u=gb(u);return u||null}}const _b=new Map;let UM=0;const rg="__ngContext__";function $i(o,l){Mi(l)?(o[rg]=l[20],function HM(o){_b.set(o[20],o)}(l)):o[rg]=l}function Ia(o){return o instanceof Function?o():o}var No=(()=>((No=No||{})[No.Important=1]="Important",No[No.DashCase=2]="DashCase",No))();function wb(o,l){return undefined(o,l)}function Zu(o){const l=o[3];return Cr(l)?l[3]:l}function ag(o){return SS(o[13])}function lg(o){return SS(o[4])}function SS(o){for(;null!==o&&!Cr(o);)o=o[4];return o}function Ku(o,l,u,h,m){if(null!=h){let g,E=!1;Cr(h)?g=h:Mi(h)&&(E=!0,h=h[0]);const S=Xn(h);0===o&&null!==u?null==m?kS(l,u,S):Fo(l,u,S,m||null,!0):1===o&&null!==u?Fo(l,u,S,m||null,!0):2===o?function nk(o,l,u){const h=dg(o,l);h&&function tk(o,l,u,h){o.removeChild(l,u,h)}(o,h,l,u)}(l,S,E):3===o&&l.destroyNode(S),null!=g&&function rB(o,l,u,h,m){const g=u[7];g!==Xn(u)&&Ku(l,o,h,g,m);for(let S=10;S<u.length;S++){const T=u[S];xc(T[1],T,o,l,h,g)}}(l,o,g,u,m)}}function cg(o,l,u){return o.createElement(l,u)}function AS(o,l){const u=o[9],h=u.indexOf(l),m=l[3];512&l[2]&&(l[2]&=-513,sc(m,-1)),u.splice(h,1)}function Tb(o,l){if(o.length<=10)return;const u=10+l,h=o[u];if(h){const m=h[17];null!==m&&m!==o&&AS(m,h),l>0&&(o[u-1][4]=h[4]);const g=kn(o,10+l);!function Ib(o,l){xc(o,l,l[11],2,null,null),l[0]=null,l[6]=null}(h[1],h);const E=g[19];null!==E&&E.detachView(g[1]),h[3]=null,h[4]=null,h[2]&=-65}return h}function hf(o,l){if(!(128&l[2])){const u=l[11];u.destroyNode&&xc(o,l,u,3,null,null),function nB(o){let l=o[13];if(!l)return ug(o[1],o);for(;l;){let u=null;if(Mi(l))u=l[13];else{const h=l[10];h&&(u=h)}if(!u){for(;l&&!l[4]&&l!==o;)Mi(l)&&ug(l[1],l),l=l[3];null===l&&(l=o),Mi(l)&&ug(l[1],l),u=l&&l[4]}l=u}}(l)}}function ug(o,l){if(!(128&l[2])){l[2]&=-65,l[2]|=128,function Ab(o,l){let u;if(null!=o&&null!=(u=o.destroyHooks))for(let h=0;h<u.length;h+=2){const m=l[u[h]];if(!(m instanceof $r)){const g=u[h+1];if(Array.isArray(g))for(let E=0;E<g.length;E+=2){const S=m[g[E]],T=g[E+1];try{T.call(S)}finally{}}else try{g.call(m)}finally{}}}}(o,l),function Db(o,l){const u=o.cleanup,h=l[7];let m=-1;if(null!==u)for(let g=0;g<u.length-1;g+=2)if("string"==typeof u[g]){const E=u[g+1],S="function"==typeof E?E(l):Xn(l[E]),T=h[m=u[g+2]],M=u[g+3];"boolean"==typeof M?S.removeEventListener(u[g],T,M):M>=0?h[m=M]():h[m=-M].unsubscribe(),g+=2}else{const E=h[m=u[g+1]];u[g].call(E)}if(null!==h){for(let g=m+1;g<h.length;g++)(0,h[g])();l[7]=null}}(o,l),1===l[1].type&&l[11].destroy();const u=l[17];if(null!==u&&Cr(l[3])){u!==l[3]&&AS(u,l);const h=l[19];null!==h&&h.detachView(o)}!function zM(o){_b.delete(o[20])}(l)}}function xS(o,l,u){return function MS(o,l,u){let h=l;for(;null!==h&&40&h.type;)h=(l=h).parent;if(null===h)return u[0];if(2&h.flags){const m=o.data[h.directiveStart].encapsulation;if(m===St.None||m===St.Emulated)return null}return ur(h,u)}(o,l.parent,u)}function Fo(o,l,u,h,m){o.insertBefore(l,u,h,m)}function kS(o,l,u){o.appendChild(l,u)}function RS(o,l,u,h,m){null!==h?Fo(o,l,u,h,m):kS(o,l,u)}function dg(o,l){return o.parentNode(l)}function Ri(o,l,u){return xb(o,l,u)}let xb=function PS(o,l,u){return 40&o.type?ur(o,u):null};function fg(o,l,u,h){const m=xS(o,h,l),g=l[11],S=Ri(h.parent||l[6],h,l);if(null!=m)if(Array.isArray(u))for(let T=0;T<u.length;T++)RS(g,m,u[T],S,!1);else RS(g,m,u,S,!1)}function pg(o,l){if(null!==l){const u=l.type;if(3&u)return ur(l,o);if(4&u)return NS(-1,o[l.index]);if(8&u){const h=l.child;if(null!==h)return pg(o,h);{const m=o[l.index];return Cr(m)?NS(-1,m):Xn(m)}}if(32&u)return wb(l,o)()||Xn(o[l.index]);{const h=Mb(o,l);return null!==h?Array.isArray(h)?h[0]:pg(Zu(o[16]),h):pg(o,l.next)}}return null}function Mb(o,l){return null!==l?o[16][6].projection[l.projection]:null}function NS(o,l){const u=10+o+1;if(u<l.length){const h=l[u],m=h[1].firstChild;if(null!==m)return pg(h,m)}return l[7]}function kb(o,l,u,h,m,g,E){for(;null!=u;){const S=h[u.index],T=u.type;if(E&&0===l&&(S&&$i(Xn(S),h),u.flags|=4),64!=(64&u.flags))if(8&T)kb(o,l,u.child,h,m,g,!1),Ku(l,o,m,S,g);else if(32&T){const M=wb(u,h);let O;for(;O=M();)Ku(l,o,m,O,g);Ku(l,o,m,S,g)}else 16&T?ff(o,l,h,u,m,g):Ku(l,o,m,S,g);u=E?u.projectionNext:u.next}}function xc(o,l,u,h,m,g){kb(u,h,o.firstChild,l,m,g,!1)}function ff(o,l,u,h,m,g){const E=u[16],T=E[6].projection[h.projection];if(Array.isArray(T))for(let M=0;M<T.length;M++)Ku(l,o,m,T[M],g);else kb(o,l,T,E[3],m,g,!0)}function Mc(o,l,u){o.setAttribute(l,"style",u)}function pf(o,l,u){""===u?o.removeAttribute(l,"class"):o.setAttribute(l,"class",u)}function ik(o,l,u){let h=o.length;for(;;){const m=o.indexOf(l,u);if(-1===m)return m;if(0===m||o.charCodeAt(m-1)<=32){const g=l.length;if(m+g===h||o.charCodeAt(m+g)<=32)return m}u=m+1}}const Rb="ng-template";function Ob(o,l,u){let h=0;for(;h<o.length;){let m=o[h++];if(u&&"class"===m){if(m=o[h],-1!==ik(m.toLowerCase(),l,0))return!0}else if(1===m){for(;h<o.length&&"string"==typeof(m=o[h++]);)if(m.toLowerCase()===l)return!0;return!1}}return!1}function VS(o){return 4===o.type&&o.value!==Rb}function sk(o,l,u){return l===(4!==o.type||u?o.value:Rb)}function ok(o,l,u){let h=4;const m=o.attrs||[],g=function sB(o){for(let l=0;l<o.length;l++)if(Rh(o[l]))return l;return o.length}(m);let E=!1;for(let S=0;S<l.length;S++){const T=l[S];if("number"!=typeof T){if(!E)if(4&h){if(h=2|1&h,""!==T&&!sk(o,T,u)||""===T&&1===l.length){if(Ls(h))return!1;E=!0}}else{const M=8&h?T:l[++S];if(8&h&&null!==o.attrs){if(!Ob(o.attrs,M,u)){if(Ls(h))return!1;E=!0}continue}const V=ak(8&h?"class":T,m,VS(o),u);if(-1===V){if(Ls(h))return!1;E=!0;continue}if(""!==M){let Z;Z=V>g?"":m[V+1].toLowerCase();const le=8&h?Z:null;if(le&&-1!==ik(le,M,0)||2&h&&M!==Z){if(Ls(h))return!1;E=!0}}}}else{if(!E&&!Ls(h)&&!Ls(T))return!1;if(E&&Ls(T))continue;E=!1,h=T|1&h}}return Ls(h)||E}function Ls(o){return 0==(1&o)}function ak(o,l,u,h){if(null===l)return-1;let m=0;if(h||!u){let g=!1;for(;m<l.length;){const E=l[m];if(E===o)return m;if(3===E||6===E)g=!0;else{if(1===E||2===E){let S=l[++m];for(;"string"==typeof S;)S=l[++m];continue}if(4===E)break;if(0===E){m+=4;continue}}m+=g?1:2}return-1}return function BS(o,l){let u=o.indexOf(4);if(u>-1)for(u++;u<o.length;){const h=o[u];if("number"==typeof h)return-1;if(h===l)return u;u++}return-1}(l,o)}function lk(o,l,u=!1){for(let h=0;h<l.length;h++)if(ok(o,l[h],u))return!0;return!1}function ck(o,l){e:for(let u=0;u<l.length;u++){const h=l[u];if(o.length===h.length){for(let m=0;m<o.length;m++)if(o[m]!==h[m])continue e;return!0}}return!1}function US(o,l){return o?":not("+l.trim()+")":l}function Pb(o){let l=o[0],u=1,h=2,m="",g=!1;for(;u<o.length;){let E=o[u];if("string"==typeof E)if(2&h){const S=o[++u];m+="["+E+(S.length>0?'="'+S+'"':"")+"]"}else 8&h?m+="."+E:4&h&&(m+=" "+E);else""!==m&&!Ls(E)&&(l+=US(g,m),m=""),h=E,g=g||!Ls(h);u++}return""!==m&&(l+=US(g,m)),l}const Wt={};function $S(o){HS(sn(),Ve(),jn()+o,!1)}function HS(o,l,u,h){if(!h)if(3==(3&l[2])){const g=o.preOrderCheckHooks;null!==g&&uc(l,g,u)}else{const g=o.preOrderHooks;null!==g&&ua(l,g,0,u)}Ys(u)}function hr(o,l=null,u=null,h){const m=kc(o,l,u,h);return m.resolveInjectorInitializers(),m}function kc(o,l=null,u=null,h,m=new Set){const g=[u||Pt,xM(o)];return h=h||("object"==typeof o?void 0:ke(o)),new sb(g,l||Ym(),h||null,m)}let ul=(()=>{class o{static create(u,h){if(Array.isArray(u))return hr({name:""},h,u,"");{const m=u.name??"";return hr({name:m},u.parent,u.providers,m)}}}return o.THROW_IF_NOT_FOUND=Do,o.NULL=new nS,o.\u0275prov=fn({token:o,providedIn:"any",factory:()=>tn(eS)}),o.__NG_ELEMENT_ID__=-1,o})();function Rc(o,l=dt.Default){const u=Ve();return null===u?tn(o,l):Au(wi(),u,re(o),l)}function XS(){throw new Error("invalid")}function _f(o,l){return o<<17|l<<2}function to(o){return o>>17&32767}function bg(o){return 2|o}function Ta(o){return(131068&o)>>2}function $b(o,l){return-131069&o|l<<2}function yf(o){return 1|o}function Sg(o,l){const u=o.contentQueries;if(null!==u)for(let h=0;h<u.length;h+=2){const m=u[h],g=u[h+1];if(-1!==g){const E=o.data[g];Ch(m),E.contentQueries(2,l[g],g)}}}function Ig(o,l,u,h,m,g,E,S,T,M,O){const V=l.blueprint.slice();return V[0]=m,V[2]=76|h,(null!==O||o&&1024&o[2])&&(V[2]|=1024),rc(V),V[3]=V[15]=o,V[8]=u,V[10]=E||o&&o[10],V[11]=S||o&&o[11],V[12]=T||o&&o[12]||null,V[9]=M||o&&o[9]||null,V[6]=g,V[20]=function $M(){return UM++}(),V[21]=O,V[16]=2==l.type?o[16]:V,V}function _l(o,l,u,h,m){let g=o.data[l];if(null===g)g=function Tg(o,l,u,h,m){const g=_u(),E=vh(),T=o.data[l]=function mI(o,l,u,h,m,g){return{type:u,index:h,insertBeforeIndex:null,injectorIndex:l?l.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:m,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:l,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,E?g:g&&g.parent,u,l,h,m);return null===o.firstChild&&(o.firstChild=T),null!==g&&(E?null==g.child&&null!==T.parent&&(g.child=T):null===g.next&&(g.next=T)),T}(o,l,u,h,m),function gm(){return Vt.lFrame.inI18n}()&&(g.flags|=64);else if(64&g.type){g.type=u,g.value=h,g.attrs=m;const E=function yu(){const o=Vt.lFrame,l=o.currentTNode;return o.isParent?l:l.parent}();g.injectorIndex=null===E?-1:E.injectorIndex}return Ur(g,!0),g}function nd(o,l,u,h){if(0===u)return-1;const m=l.length;for(let g=0;g<u;g++)l.push(h),o.blueprint.push(h),o.data.push(null);return m}function Zb(o,l,u){Eu(l);try{const h=o.viewQuery;null!==h&&r0(1,h,u);const m=o.template;null!==m&&fI(o,l,m,1,u),o.firstCreatePass&&(o.firstCreatePass=!1),o.staticContentQueries&&Sg(o,l),o.staticViewQueries&&r0(2,o.viewQuery,u);const g=o.components;null!==g&&function _B(o,l){for(let u=0;u<l.length;u++)Bk(o,l[u])}(l,g)}catch(h){throw o.firstCreatePass&&(o.incompleteFirstPass=!0,o.firstCreatePass=!1),h}finally{l[2]&=-5,Qa()}}function Dg(o,l,u,h){const m=l[2];if(128!=(128&m)){Eu(l);try{rc(l),function ac(o){return Vt.lFrame.bindingIndex=o}(o.bindingStartIndex),null!==u&&fI(o,l,u,2,h);const E=3==(3&m);if(E){const M=o.preOrderCheckHooks;null!==M&&uc(l,M,null)}else{const M=o.preOrderHooks;null!==M&&ua(l,M,0,null),Dh(l,0)}if(function Lk(o){for(let l=ag(o);null!==l;l=lg(l)){if(!l[2])continue;const u=l[9];for(let h=0;h<u.length;h++){const m=u[h],g=m[3];0==(512&m[2])&&sc(g,1),m[2]|=512}}}(l),function Fk(o){for(let l=ag(o);null!==l;l=lg(l))for(let u=10;u<l.length;u++){const h=l[u],m=h[1];bo(h)&&Dg(m,h,m.template,h[8])}}(l),null!==o.contentQueries&&Sg(o,l),E){const M=o.contentCheckHooks;null!==M&&uc(l,M)}else{const M=o.contentHooks;null!==M&&ua(l,M,1),Dh(l,1)}!function mB(o,l){const u=o.hostBindingOpCodes;if(null!==u)try{for(let h=0;h<u.length;h++){const m=u[h];if(m<0)Ys(~m);else{const g=m,E=u[++h],S=u[++h];_m(E,g),S(2,l[g])}}}finally{Ys(-1)}}(o,l);const S=o.components;null!==S&&function gB(o,l){for(let u=0;u<l.length;u++)Vk(o,l[u])}(l,S);const T=o.viewQuery;if(null!==T&&r0(2,T,h),E){const M=o.viewCheckHooks;null!==M&&uc(l,M)}else{const M=o.viewHooks;null!==M&&ua(l,M,2),Dh(l,2)}!0===o.firstUpdatePass&&(o.firstUpdatePass=!1),l[2]&=-41,512&l[2]&&(l[2]&=-513,sc(l[3],-1))}finally{Qa()}}}function fI(o,l,u,h,m){const g=jn(),E=2&h;try{Ys(-1),E&&l.length>22&&HS(o,l,22,!1),u(h,m)}finally{Ys(g)}}function Ag(o,l,u){if(Ts(l)){const m=l.directiveEnd;for(let g=l.directiveStart;g<m;g++){const E=o.data[g];E.contentQueries&&E.contentQueries(1,u[g],g)}}}function xg(o,l,u){!oc()||(function EB(o,l,u,h){const m=u.directiveStart,g=u.directiveEnd;o.firstCreatePass||ha(u,l),$i(h,l);const E=u.initialInputs;for(let S=m;S<g;S++){const T=o.data[S],M=Ds(T);M&&Pk(l,u,T);const O=Ks(l,o,S,u);$i(O,l),null!==E&&Nk(0,S-m,O,T,0,E),M&&(yn(u.index,l)[8]=O)}}(o,l,u,ur(u,l)),128==(128&u.flags)&&function Rg(o,l,u){const h=u.directiveStart,m=u.directiveEnd,g=u.index,E=function GC(){return Vt.lFrame.currentDirectiveIndex}();try{Ys(g);for(let S=h;S<m;S++){const T=o.data[S],M=l[S];bu(S),(null!==T.hostBindings||0!==T.hostVars||null!==T.hostAttrs)&&Mk(T,M)}}finally{Ys(-1),bu(E)}}(o,l,u))}function Kb(o,l,u=ur){const h=l.localNames;if(null!==h){let m=l.index+1;for(let g=0;g<h.length;g+=2){const E=h[g+1],S=-1===E?u(l,o):o[E];o[m++]=S}}}function Qb(o){const l=o.tView;return null===l||l.incompleteFirstPass?o.tView=Xb(1,null,o.template,o.decls,o.vars,o.directiveDefs,o.pipeDefs,o.viewQuery,o.schemas,o.consts):l}function Xb(o,l,u,h,m,g,E,S,T,M){const O=22+h,V=O+m,Z=function Gr(o,l){const u=[];for(let h=0;h<l;h++)u.push(h<o?null:Wt);return u}(O,V),le="function"==typeof M?M():M;return Z[1]={type:o,blueprint:Z,template:u,queries:null,viewQuery:S,declTNode:l,data:Z.slice().fill(null,O),bindingStartIndex:O,expandoStartIndex:V,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof E?E():E,firstChild:null,schemas:T,consts:le,incompleteFirstPass:!1}}function pI(o,l,u,h){const m=wI(l);null===u?m.push(h):(m.push(u),o.firstCreatePass&&s0(o).push(h,m.length-1))}function gI(o,l,u){for(let h in o)if(o.hasOwnProperty(h)){const m=o[h];(u=null===u?{}:u).hasOwnProperty(h)?u[h].push(l,m):u[h]=[l,m]}return u}function Mg(o,l){const h=l.directiveEnd,m=o.data,g=l.attrs,E=[];let S=null,T=null;for(let M=l.directiveStart;M<h;M++){const O=m[M],V=O.inputs,Z=null===g||VS(l)?null:Og(V,g);E.push(Z),S=gI(V,M,S),T=gI(O.outputs,M,T)}null!==S&&(S.hasOwnProperty("class")&&(l.flags|=16),S.hasOwnProperty("style")&&(l.flags|=32)),l.initialInputs=E,l.inputs=S,l.outputs=T}function as(o,l,u,h,m,g,E,S){const T=ur(l,u);let O,M=l.inputs;!S&&null!=M&&(O=M[h])?(o0(o,u,O,h,m),ra(l)&&kg(u,l.index)):3&l.type&&(h=function Dk(o){return"class"===o?"className":"for"===o?"htmlFor":"formaction"===o?"formAction":"innerHtml"===o?"innerHTML":"readonly"===o?"readOnly":"tabindex"===o?"tabIndex":o}(h),m=null!=E?E(m,l.value||"",h):m,g.setProperty(T,h,m))}function kg(o,l){const u=yn(l,o);16&u[2]||(u[2]|=32)}function _I(o,l,u,h){let m=!1;if(oc()){const g=function kk(o,l,u){const h=o.directiveRegistry;let m=null;if(h)for(let g=0;g<h.length;g++){const E=h[g];lk(u,E.selectors,!1)&&(m||(m=[]),pc(ha(u,l),o,E.type),Ds(E)?(yI(o,u),m.unshift(E)):m.push(E))}return m}(o,l,u),E=null===h?null:{"":-1};if(null!==g){m=!0,vI(u,o.data.length,g.length);for(let O=0;O<g.length;O++){const V=g[O];V.providersResolver&&V.providersResolver(V)}let S=!1,T=!1,M=nd(o,l,g.length,null);for(let O=0;O<g.length;O++){const V=g[O];u.mergedAttrs=hc(u.mergedAttrs,V.hostAttrs),bI(o,u,l,M,V),Ok(M,V,E),null!==V.contentQueries&&(u.flags|=8),(null!==V.hostBindings||null!==V.hostAttrs||0!==V.hostVars)&&(u.flags|=128);const Z=V.type.prototype;!S&&(Z.ngOnChanges||Z.ngOnInit||Z.ngDoCheck)&&((o.preOrderHooks||(o.preOrderHooks=[])).push(u.index),S=!0),!T&&(Z.ngOnChanges||Z.ngDoCheck)&&((o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(u.index),T=!0),M++}Mg(o,u)}E&&function Rk(o,l,u){if(l){const h=o.localNames=[];for(let m=0;m<l.length;m+=2){const g=u[l[m+1]];if(null==g)throw new Le(-301,!1);h.push(l[m],g)}}}(u,h,E)}return u.mergedAttrs=hc(u.mergedAttrs,u.attrs),m}function xk(o,l,u,h,m,g){const E=g.hostBindings;if(E){let S=o.hostBindingOpCodes;null===S&&(S=o.hostBindingOpCodes=[]);const T=~l.index;(function bB(o){let l=o.length;for(;l>0;){const u=o[--l];if("number"==typeof u&&u<0)return u}return 0})(S)!=T&&S.push(T),S.push(h,m,E)}}function Mk(o,l){null!==o.hostBindings&&o.hostBindings(1,l)}function yI(o,l){l.flags|=2,(o.components||(o.components=[])).push(l.index)}function Ok(o,l,u){if(u){if(l.exportAs)for(let h=0;h<l.exportAs.length;h++)u[l.exportAs[h]]=o;Ds(l)&&(u[""]=o)}}function vI(o,l,u){o.flags|=1,o.directiveStart=l,o.directiveEnd=l+u,o.providerIndexes=l}function bI(o,l,u,h,m){o.data[h]=m;const g=m.factory||(m.factory=Vi(m.type)),E=new $r(g,Ds(m),Rc);o.blueprint[h]=E,u[h]=E,xk(o,l,0,h,nd(o,u,m.hostVars,Wt),m)}function Pk(o,l,u){const h=ur(l,o),m=Qb(u),g=o[10],E=rd(o,Ig(o,m,null,u.onPush?32:16,h,l,g,g.createRenderer(h,u),null,null,null));o[l.index]=E}function Lo(o,l,u,h,m,g){const E=ur(o,l);!function e0(o,l,u,h,m,g,E){if(null==g)o.removeAttribute(l,m,u);else{const S=null==E?me(g):E(g,h||"",m);o.setAttribute(l,m,S,u)}}(l[11],E,g,o.value,u,h,m)}function Nk(o,l,u,h,m,g){const E=g[l];if(null!==E){const S=h.setInput;for(let T=0;T<E.length;){const M=E[T++],O=E[T++],V=E[T++];null!==S?h.setInput(u,V,M,O):u[O]=V}}}function Og(o,l){let u=null,h=0;for(;h<l.length;){const m=l[h];if(0!==m)if(5!==m){if("number"==typeof m)break;o.hasOwnProperty(m)&&(null===u&&(u=[]),u.push(m,o[m],l[h+1])),h+=2}else h+=2;else h+=4}return u}function EI(o,l,u,h){return new Array(o,!0,!1,l,null,0,h,u,null,null)}function Vk(o,l){const u=yn(l,o);if(bo(u)){const h=u[1];48&u[2]?Dg(h,u,h.template,u[8]):u[5]>0&&t0(u)}}function t0(o){for(let h=ag(o);null!==h;h=lg(h))for(let m=10;m<h.length;m++){const g=h[m];if(bo(g))if(512&g[2]){const E=g[1];Dg(E,g,E.template,g[8])}else g[5]>0&&t0(g)}const u=o[1].components;if(null!==u)for(let h=0;h<u.length;h++){const m=yn(u[h],o);bo(m)&&m[5]>0&&t0(m)}}function Bk(o,l){const u=yn(l,o),h=u[1];(function wB(o,l){for(let u=l.length;u<o.blueprint.length;u++)l.push(o.blueprint[u])})(h,u),Zb(h,u,u[8])}function rd(o,l){return o[13]?o[14][4]=l:o[13]=l,o[14]=l,l}function n0(o){for(;o;){o[2]|=32;const l=Zu(o);if(fu(o)&&!l)return o;o=l}return null}function sd(o,l,u,h=!0){const m=l[10];m.begin&&m.begin();try{Dg(o,l,o.template,u)}catch(E){throw h&&SI(l,E),E}finally{m.end&&m.end()}}function r0(o,l,u){Ch(0),l(o,u)}function wI(o){return o[7]||(o[7]=[])}function s0(o){return o.cleanup||(o.cleanup=[])}function CI(o,l,u){return(null===o||Ds(o))&&(u=function pm(o){for(;Array.isArray(o);){if("object"==typeof o[1])return o;o=o[0]}return null}(u[l.index])),u[11]}function SI(o,l){const u=o[9],h=u?u.get(cf,null):null;h&&h.handleError(l)}function o0(o,l,u,h,m){for(let g=0;g<u.length;){const E=u[g++],S=u[g++],T=l[E],M=o.data[E];null!==M.setInput?M.setInput(T,m,h,S):T[S]=m}}function Da(o,l,u){let h=u?o.styles:null,m=u?o.classes:null,g=0;if(null!==l)for(let E=0;E<l.length;E++){const S=l[E];"number"==typeof S?g=S:1==g?m=Ze(m,S):2==g&&(h=Ze(h,S+": "+l[++E]+";"))}u?o.styles=h:o.stylesWithoutHost=h,u?o.classes=m:o.classesWithoutHost=m}function Vs(o,l,u,h,m=!1){for(;null!==u;){const g=l[u.index];if(null!==g&&h.push(Xn(g)),Cr(g))for(let S=10;S<g.length;S++){const T=g[S],M=T[1].firstChild;null!==M&&Vs(T[1],T,M,h)}const E=u.type;if(8&E)Vs(o,l,u.child,h);else if(32&E){const S=wb(u,l);let T;for(;T=S();)h.push(T)}else if(16&E){const S=Mb(l,u);if(Array.isArray(S))h.push(...S);else{const T=Zu(l[16]);Vs(T[1],T,S,h,!0)}}u=m?u.projectionNext:u.next}return h}class wf{constructor(l,u){this._lView=l,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const l=this._lView,u=l[1];return Vs(u,l,u.firstChild,[])}get context(){return this._lView[8]}set context(l){this._lView[8]=l}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const l=this._lView[3];if(Cr(l)){const u=l[8],h=u?u.indexOf(this):-1;h>-1&&(Tb(l,h),kn(u,h))}this._attachedToViewContainer=!1}hf(this._lView[1],this._lView)}onDestroy(l){pI(this._lView[1],this._lView,null,l)}markForCheck(){n0(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){sd(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Le(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function DS(o,l){xc(o,l,l[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(l){if(this._attachedToViewContainer)throw new Le(902,!1);this._appRef=l}}class a0 extends wf{constructor(l){super(l),this._view=l}detectChanges(){const l=this._view;sd(l[1],l,l[8],!1)}checkNoChanges(){}get context(){return null}}class l0 extends Ac{constructor(l){super(),this.ngModule=l}resolveComponentFactory(l){const u=P(l);return new Cf(u,this.ngModule)}}function c0(o){const l=[];for(let u in o)o.hasOwnProperty(u)&&l.push({propName:o[u],templateName:u});return l}class u0{constructor(l,u){this.injector=l,this.parentInjector=u}get(l,u,h){const m=this.injector.get(l,ub,h);return m!==ub||u===ub?m:this.parentInjector.get(l,u,h)}}class Cf extends lb{constructor(l,u){super(),this.componentDef=l,this.ngModule=u,this.componentType=l.type,this.selector=function uk(o){return o.map(Pb).join(",")}(l.selectors),this.ngContentSelectors=l.ngContentSelectors?l.ngContentSelectors:[],this.isBoundToModule=!!u}get inputs(){return c0(this.componentDef.inputs)}get outputs(){return c0(this.componentDef.outputs)}create(l,u,h,m){let g=(m=m||this.ngModule)instanceof Po?m:m?.injector;g&&null!==this.componentDef.getStandaloneInjector&&(g=this.componentDef.getStandaloneInjector(g)||g);const E=g?new u0(l,g):l,S=E.get(OM,null);if(null===S)throw new Le(407,!1);const T=E.get(cb,null),M=S.createRenderer(null,this.componentDef),O=this.componentDef.selectors[0][0]||"div",V=h?function Tk(o,l,u){return o.selectRootElement(l,u===St.ShadowDom)}(M,h,this.componentDef.encapsulation):cg(M,O,function $k(o){const l=o.toLowerCase();return"svg"===l?"svg":"math"===l?"math":null}(O)),Z=this.componentDef.onPush?288:272,le=Xb(0,null,null,1,0,null,null,null,null,null),De=Ig(null,le,null,Z,null,null,S,M,T,E,null);let Ye,nt;Eu(De);try{const vt=function d0(o,l,u,h,m,g){const E=u[1];u[22]=o;const T=_l(E,22,2,"#host",null),M=T.mergedAttrs=l.hostAttrs;null!==M&&(Da(T,M,!0),null!==o&&(Zs(m,o,M),null!==T.classes&&pf(m,o,T.classes),null!==T.styles&&Mc(m,o,T.styles)));const O=h.createRenderer(o,l),V=Ig(u,Qb(l),null,l.onPush?32:16,u[22],T,h,O,g||null,null,null);return E.firstCreatePass&&(pc(ha(T,u),E,l.type),yI(E,T),vI(T,u.length,1)),rd(u,V),u[22]=V}(V,this.componentDef,De,S,M);if(V)if(h)Zs(M,V,["ng-version",hS.full]);else{const{attrs:At,classes:Ne}=function dk(o){const l=[],u=[];let h=1,m=2;for(;h<o.length;){let g=o[h];if("string"==typeof g)2===m?""!==g&&l.push(g,o[++h]):8===m&&u.push(g);else{if(!Ls(m))break;m=g}h++}return{attrs:l,classes:u}}(this.componentDef.selectors[0]);At&&Zs(M,V,At),Ne&&Ne.length>0&&pf(M,V,Ne.join(" "))}if(nt=ic(le,22),void 0!==u){const At=nt.projection=[];for(let Ne=0;Ne<this.ngContentSelectors.length;Ne++){const Ot=u[Ne];At.push(null!=Ot?Array.from(Ot):null)}}Ye=function TI(o,l,u,h){const m=u[1],g=function Jb(o,l,u){const h=wi();o.firstCreatePass&&(u.providersResolver&&u.providersResolver(u),bI(o,h,l,nd(o,l,1,null),u),Mg(o,h));const m=Ks(l,o,h.directiveStart,h);$i(m,l);const g=ur(h,l);return g&&$i(g,l),m}(m,u,l);if(o[8]=u[8]=g,null!==h)for(const S of h)S(g,l);if(l.contentQueries){const S=wi();l.contentQueries(1,g,S.directiveStart)}const E=wi();return!m.firstCreatePass||null===l.hostBindings&&null===l.hostAttrs||(Ys(E.index),xk(u[1],E,0,E.directiveStart,E.directiveEnd,l),Mk(l,g)),g}(vt,this.componentDef,De,[h0]),Zb(le,De,null)}finally{Qa()}return new Pc(this.componentType,Ye,ju(nt,De),De,nt)}}class Pc extends class aS{}{constructor(l,u,h,m,g){super(),this.location=h,this._rootLView=m,this._tNode=g,this.instance=u,this.hostView=this.changeDetectorRef=new a0(m),this.componentType=l}setInput(l,u){const h=this._tNode.inputs;let m;if(null!==h&&(m=h[l])){const g=this._rootLView;o0(g[1],g,m,l,u),kg(g,this._tNode.index)}}get injector(){return new _c(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(l){this.hostView.onDestroy(l)}}function h0(){const o=wi();cc(Ve()[1],o)}function Sf(o){let l=function Pg(o){return Object.getPrototypeOf(o.prototype).constructor}(o.type),u=!0;const h=[o];for(;l;){let m;if(Ds(o))m=l.\u0275cmp||l.\u0275dir;else{if(l.\u0275cmp)throw new Le(903,!1);m=l.\u0275dir}if(m){if(u){h.push(m);const E=o;E.inputs=If(o.inputs),E.declaredInputs=If(o.declaredInputs),E.outputs=If(o.outputs);const S=m.hostBindings;S&&Qi(o,S);const T=m.viewQuery,M=m.contentQueries;if(T&&f0(o,T),M&&jk(o,M),Ce(o.inputs,m.inputs),Ce(o.declaredInputs,m.declaredInputs),Ce(o.outputs,m.outputs),Ds(m)&&m.data.animation){const O=o.data;O.animation=(O.animation||[]).concat(m.data.animation)}}const g=m.features;if(g)for(let E=0;E<g.length;E++){const S=g[E];S&&S.ngInherit&&S(o),S===Sf&&(u=!1)}}l=Object.getPrototypeOf(l)}!function zk(o){let l=0,u=null;for(let h=o.length-1;h>=0;h--){const m=o[h];m.hostVars=l+=m.hostVars,m.hostAttrs=hc(m.hostAttrs,u=hc(u,m.hostAttrs))}}(h)}function If(o){return o===lr?{}:o===Pt?[]:o}function f0(o,l){const u=o.viewQuery;o.viewQuery=u?(h,m)=>{l(h,m),u(h,m)}:l}function jk(o,l){const u=o.contentQueries;o.contentQueries=u?(h,m,g)=>{l(h,m,g),u(h,m,g)}:l}function Qi(o,l){const u=o.hostBindings;o.hostBindings=u?(h,m)=>{l(h,m),u(h,m)}:l}let od=null;function vl(){if(!od){const o=Ut.Symbol;if(o&&o.iterator)od=o.iterator;else{const l=Object.getOwnPropertyNames(Map.prototype);for(let u=0;u<l.length;++u){const h=l[u];"entries"!==h&&"size"!==h&&Map.prototype[h]===Map.prototype.entries&&(od=h)}}}return od}function Nc(o){return!!Ng(o)&&(Array.isArray(o)||!(o instanceof Map)&&vl()in o)}function Ng(o){return null!==o&&("function"==typeof o||"object"==typeof o)}function Vo(o,l,u){return o[l]=u}function Xi(o,l,u){return!Object.is(o[l],u)&&(o[l]=u,!0)}function Lg(o,l,u,h){const m=Ve();return Xi(m,lc(),l)&&(sn(),Lo(Gn(),m,o,l,u,h)),Lg}function $g(o,l,u,h,m,g,E,S){const T=Ve(),M=sn(),O=o+22,V=M.firstCreatePass?function RI(o,l,u,h,m,g,E,S,T){const M=l.consts,O=_l(l,o,4,E||null,As(M,S));_I(l,u,O,As(M,T)),cc(l,O);const V=O.tViews=Xb(2,O,h,m,g,l.directiveRegistry,l.pipeRegistry,null,l.schemas,M);return null!==l.queries&&(l.queries.template(l,O),V.queries=l.queries.embeddedTView(O)),O}(O,M,T,l,u,h,m,g,E):M.data[O];Ur(V,!1);const Z=T[11].createComment("");fg(M,T,Z,V),$i(Z,T),rd(T,T[O]=EI(Z,T,Z,V)),sa(V)&&xg(M,T,V),null!=E&&Kb(T,V,S)}function Hg(o){return vo(function bh(){return Vt.lFrame.contextLView}(),22+o)}function b0(o,l,u){const h=Ve();return Xi(h,lc(),l)&&as(sn(),Gn(),h,o,l,h[11],u,!1),b0}function E0(o,l,u,h,m){const E=m?"class":"style";o0(o,u,l.inputs[E],E,h)}function Tf(o,l,u,h){const m=Ve(),g=sn(),E=22+o,S=m[11],T=m[E]=cg(S,l,function Th(){return Vt.lFrame.currentNamespace}()),M=g.firstCreatePass?function w0(o,l,u,h,m,g,E){const S=l.consts,M=_l(l,o,2,m,As(S,g));return _I(l,u,M,As(S,E)),null!==M.attrs&&Da(M,M.attrs,!1),null!==M.mergedAttrs&&Da(M,M.mergedAttrs,!0),null!==l.queries&&l.queries.elementStart(l,M),M}(E,g,m,0,l,u,h):g.data[E];Ur(M,!0);const O=M.mergedAttrs;null!==O&&Zs(S,T,O);const V=M.classes;null!==V&&pf(S,T,V);const Z=M.styles;return null!==Z&&Mc(S,T,Z),64!=(64&M.flags)&&fg(g,m,T,M),0===function gh(){return Vt.lFrame.elementDepthCount}()&&$i(T,m),function Iv(){Vt.lFrame.elementDepthCount++}(),sa(M)&&(xg(g,m,M),Ag(g,M,m)),null!==h&&Kb(m,M),Tf}function Df(){let o=wi();vh()?vu():(o=o.parent,Ur(o,!1));const l=o;!function _h(){Vt.lFrame.elementDepthCount--}();const u=sn();return u.firstCreatePass&&(cc(u,o),Ts(o)&&u.queries.elementEnd(o)),null!=l.classesWithoutHost&&function Cu(o){return 0!=(16&o.flags)}(l)&&E0(u,l,Ve(),l.classesWithoutHost,!0),null!=l.stylesWithoutHost&&function Su(o){return 0!=(32&o.flags)}(l)&&E0(u,l,Ve(),l.stylesWithoutHost,!1),Df}function C0(o,l,u,h){return Tf(o,l,u,h),Df(),C0}function zg(o,l,u){const h=Ve(),m=sn(),g=o+22,E=m.firstCreatePass?function Zk(o,l,u,h,m){const g=l.consts,E=As(g,h),S=_l(l,o,8,"ng-container",E);return null!==E&&Da(S,E,!0),_I(l,u,S,As(g,m)),null!==l.queries&&l.queries.elementStart(l,S),S}(g,m,h,l,u):m.data[g];Ur(E,!0);const S=h[g]=h[11].createComment("");return fg(m,h,S,E),$i(S,h),sa(E)&&(xg(m,h,E),Ag(m,E,h)),null!=u&&Kb(h,E),zg}function Af(){let o=wi();const l=sn();return vh()?vu():(o=o.parent,Ur(o,!1)),l.firstCreatePass&&(cc(l,o),Ts(o)&&l.queries.elementEnd(o)),Af}function OI(){return Ve()}function xf(o){return!!o&&"function"==typeof o.then}function PI(o){return!!o&&"function"==typeof o.subscribe}const NI=PI;function FI(o,l,u,h){const m=Ve(),g=sn(),E=wi();return Kk(g,m,m[11],E,o,l,0,h),FI}function Mf(o,l){const u=wi(),h=Ve(),m=sn();return Kk(m,h,CI(Eh(m.data),u,h),u,o,l),Mf}function Kk(o,l,u,h,m,g,E,S){const T=sa(h),O=o.firstCreatePass&&s0(o),V=l[8],Z=wI(l);let le=!0;if(3&h.type||S){const nt=ur(h,l),vt=S?S(nt):nt,At=Z.length,Ne=S?mn=>S(Xn(mn[h.index])):h.index;let Ot=null;if(!S&&T&&(Ot=function IB(o,l,u,h){const m=o.cleanup;if(null!=m)for(let g=0;g<m.length-1;g+=2){const E=m[g];if(E===u&&m[g+1]===h){const S=l[7],T=m[g+2];return S.length>T?S[T]:null}"string"==typeof E&&(g+=2)}return null}(o,l,m,h.index)),null!==Ot)(Ot.__ngLastListenerFn__||Ot).__ngNextListenerFn__=g,Ot.__ngLastListenerFn__=g,le=!1;else{g=LI(h,l,V,g,!1);const mn=u.listen(vt,m,g);Z.push(g,mn),O&&O.push(m,Ne,At,At+1)}}else g=LI(h,l,V,g,!1);const De=h.outputs;let Ye;if(le&&null!==De&&(Ye=De[m])){const nt=Ye.length;if(nt)for(let vt=0;vt<nt;vt+=2){const Zn=l[Ye[vt]][Ye[vt+1]].subscribe(g),Ml=Z.length;Z.push(g,Zn),O&&O.push(m,h.index,Ml,-(Ml+1))}}}function kf(o,l,u,h){try{return!1!==u(h)}catch(m){return SI(o,m),!1}}function LI(o,l,u,h,m){return function g(E){if(E===Function)return h;n0(2&o.flags?yn(o.index,l):l);let T=kf(l,0,h,E),M=g.__ngNextListenerFn__;for(;M;)T=kf(l,0,M,E)&&T,M=M.__ngNextListenerFn__;return m&&!1===T&&(E.preventDefault(),E.returnValue=!1),T}}function VI(o=1){return function ca(o){return(Vt.lFrame.contextLView=function Rv(o,l){for(;o>0;)l=l[15],o--;return l}(o,Vt.lFrame.contextLView))[8]}(o)}function Qk(o,l){let u=null;const h=function mg(o){const l=o.attrs;if(null!=l){const u=l.indexOf(5);if(0==(1&u))return l[u+1]}return null}(o);for(let m=0;m<l.length;m++){const g=l[m];if("*"!==g){if(null===h?lk(o,g,!0):ck(h,g))return m}else u=m}return u}function BI(o){const l=Ve()[16][6];if(!l.projection){const h=l.projection=ga(o?o.length:1,null),m=h.slice();let g=l.child;for(;null!==g;){const E=o?Qk(g,o):0;null!==E&&(m[E]?m[E].projectionNext=g:h[E]=g,m[E]=g),g=g.next}}}function S0(o,l=0,u){const h=Ve(),m=sn(),g=_l(m,22+o,16,null,u||null);null===g.projection&&(g.projection=l),vu(),64!=(64&g.flags)&&function FS(o,l,u){ff(l[11],0,l,u,xS(o,u,l),Ri(u.parent||l[6],u,l))}(m,h,g)}function WI(o,l,u,h,m){const g=o[u+1],E=null===l;let S=h?to(g):Ta(g),T=!1;for(;0!==S&&(!1===T||E);){const O=o[S+1];Jk(o[S],l)&&(T=!0,o[S+1]=h?yf(O):bg(O)),S=h?to(O):Ta(O)}T&&(o[u+1]=h?bg(g):yf(g))}function Jk(o,l){return null===o||null==l||(Array.isArray(o)?o[1]:o)===l||!(!Array.isArray(o)||"string"!=typeof l)&&Io(o,l)>=0}const Oi={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function I0(o){return o.substring(Oi.key,Oi.keyEnd)}function eR(o){return o.substring(Oi.value,Oi.valueEnd)}function Yg(o,l){const u=Oi.textEnd;return u===l?-1:(l=Oi.keyEnd=function iR(o,l,u){for(;l<u&&o.charCodeAt(l)>32;)l++;return l}(o,Oi.key=l,u),wl(o,l,u))}function Zg(o,l){const u=Oi.textEnd;let h=Oi.key=wl(o,l,u);return u===h?-1:(h=Oi.keyEnd=function rR(o,l,u){let h;for(;l<u&&(45===(h=o.charCodeAt(l))||95===h||(-33&h)>=65&&(-33&h)<=90||h>=48&&h<=57);)l++;return l}(o,h,u),h=qI(o,h,u),h=Oi.value=wl(o,h,u),h=Oi.valueEnd=function D0(o,l,u){let h=-1,m=-1,g=-1,E=l,S=E;for(;E<u;){const T=o.charCodeAt(E++);if(59===T)return S;34===T||39===T?S=E=YI(o,T,E,u):l===E-4&&85===g&&82===m&&76===h&&40===T?S=E=YI(o,41,E,u):T>32&&(S=E),g=m,m=h,h=-33&T}return S}(o,h,u),qI(o,h,u))}function T0(o){Oi.key=0,Oi.keyEnd=0,Oi.value=0,Oi.valueEnd=0,Oi.textEnd=o.length}function wl(o,l,u){for(;l<u&&o.charCodeAt(l)<=32;)l++;return l}function qI(o,l,u,h){return(l=wl(o,l,u))<u&&l++,l}function YI(o,l,u,h){let m=-1,g=u;for(;g<h;){const E=o.charCodeAt(g++);if(E==l&&92!==m)return g;m=92==E&&92===m?0:E}throw new Error}function A0(o,l,u){return io(o,l,u,!1),A0}function Rf(o,l){return io(o,l,null,!0),Rf}function no(o){cs(R0,x0,o,!1)}function x0(o,l){for(let u=function nR(o){return T0(o),Zg(o,wl(o,0,Oi.textEnd))}(l);u>=0;u=Zg(l,u))R0(o,I0(l),eR(l))}function KI(o){cs(rt,Bs,o,!0)}function Bs(o,l){for(let u=function tR(o){return T0(o),Yg(o,wl(o,0,Oi.textEnd))}(l);u>=0;u=Yg(l,u))rt(o,I0(l),!0)}function io(o,l,u,h){const m=Ve(),g=sn(),E=Eo(2);g.firstUpdatePass&&M0(g,o,E,h),l!==Wt&&Xi(m,E,l)&&Nf(g,g.data[jn()],m,m[11],o,m[E+1]=function Ma(o,l){return null==o||("string"==typeof l?o+=l:"object"==typeof o&&(o=ke(os(o)))),o}(l,u),h,E)}function cs(o,l,u,h){const m=sn(),g=Eo(2);m.firstUpdatePass&&M0(m,null,g,h);const E=Ve();if(u!==Wt&&Xi(E,g,u)){const S=m.data[jn()];if(Qg(S,h)&&!Kg(m,g)){let T=h?S.classesWithoutHost:S.stylesWithoutHost;null!==T&&(u=Ze(T,u||"")),E0(m,S,E,u,h)}else!function XI(o,l,u,h,m,g,E,S){m===Wt&&(m=Pt);let T=0,M=0,O=0<m.length?m[0]:null,V=0<g.length?g[0]:null;for(;null!==O||null!==V;){const Z=T<m.length?m[T+1]:void 0,le=M<g.length?g[M+1]:void 0;let Ye,De=null;O===V?(T+=2,M+=2,Z!==le&&(De=V,Ye=le)):null===V||null!==O&&O<V?(T+=2,De=O):(M+=2,De=V,Ye=le),null!==De&&Nf(o,l,u,h,De,Ye,E,S),O=T<m.length?m[T]:null,V=M<g.length?g[M]:null}}(m,S,E,E[11],E[g+1],E[g+1]=function xa(o,l,u){if(null==u||""===u)return Pt;const h=[],m=os(u);if(Array.isArray(m))for(let g=0;g<m.length;g++)o(h,m[g],!0);else if("object"==typeof m)for(const g in m)m.hasOwnProperty(g)&&o(h,g,m[g]);else"string"==typeof m&&l(h,m);return h}(o,l,u),h,g)}}function Kg(o,l){return l>=o.expandoStartIndex}function M0(o,l,u,h){const m=o.data;if(null===m[u+1]){const g=m[jn()],E=Kg(o,u);Qg(g,h)&&null===l&&!E&&(l=!1),l=function QI(o,l,u,h){const m=Eh(o);let g=h?l.residualClasses:l.residualStyles;if(null===m)0===(h?l.classBindings:l.styleBindings)&&(u=Pf(u=Of(null,o,l,u,h),l.attrs,h),g=null);else{const E=l.directiveStylingLast;if(-1===E||o[E]!==m)if(u=Of(m,o,l,u,h),null===g){let T=function sR(o,l,u){const h=u?l.classBindings:l.styleBindings;if(0!==Ta(h))return o[to(h)]}(o,l,h);void 0!==T&&Array.isArray(T)&&(T=Of(null,o,l,T[1],h),T=Pf(T,l.attrs,h),function k0(o,l,u,h){o[to(u?l.classBindings:l.styleBindings)]=h}(o,l,h,T))}else g=function oR(o,l,u){let h;const m=l.directiveEnd;for(let g=1+l.directiveStylingLast;g<m;g++)h=Pf(h,o[g].hostAttrs,u);return Pf(h,l.attrs,u)}(o,l,h)}return void 0!==g&&(h?l.residualClasses=g:l.residualStyles=g),u}(m,g,l,h),function Xk(o,l,u,h,m,g){let E=g?l.classBindings:l.styleBindings,S=to(E),T=Ta(E);o[h]=u;let O,M=!1;if(Array.isArray(u)){const V=u;O=V[1],(null===O||Io(V,O)>0)&&(M=!0)}else O=u;if(m)if(0!==T){const Z=to(o[S+1]);o[h+1]=_f(Z,S),0!==Z&&(o[Z+1]=$b(o[Z+1],h)),o[S+1]=function eI(o,l){return 131071&o|l<<17}(o[S+1],h)}else o[h+1]=_f(S,0),0!==S&&(o[S+1]=$b(o[S+1],h)),S=h;else o[h+1]=_f(T,0),0===S?S=h:o[T+1]=$b(o[T+1],h),T=h;M&&(o[h+1]=bg(o[h+1])),WI(o,O,h,!0),WI(o,O,h,!1),function ls(o,l,u,h,m){const g=m?o.residualClasses:o.residualStyles;null!=g&&"string"==typeof l&&Io(g,l)>=0&&(u[h+1]=yf(u[h+1]))}(l,O,o,h,g),E=_f(S,T),g?l.classBindings=E:l.styleBindings=E}(m,g,l,u,E,h)}}function Of(o,l,u,h,m){let g=null;const E=u.directiveEnd;let S=u.directiveStylingLast;for(-1===S?S=u.directiveStart:S++;S<E&&(g=l[S],h=Pf(h,g.hostAttrs,m),g!==o);)S++;return null!==o&&(u.directiveStylingLast=S),h}function Pf(o,l,u){const h=u?1:2;let m=-1;if(null!==l)for(let g=0;g<l.length;g++){const E=l[g];"number"==typeof E?m=E:m===h&&(Array.isArray(o)||(o=void 0===o?[]:["",o]),rt(o,E,!!u||l[++g]))}return void 0===o?null:o}function R0(o,l,u){rt(o,l,os(u))}function Nf(o,l,u,h,m,g,E,S){if(!(3&l.type))return;const T=o.data,M=T[S+1];Ff(function pl(o){return 1==(1&o)}(M)?O0(T,l,u,m,Ta(M),E):void 0)||(Ff(g)||function fl(o){return 2==(2&o)}(M)&&(g=O0(T,null,u,m,S,E)),function LS(o,l,u,h,m){if(l)m?o.addClass(u,h):o.removeClass(u,h);else{let g=-1===h.indexOf("-")?void 0:No.DashCase;null==m?o.removeStyle(u,h,g):("string"==typeof m&&m.endsWith("!important")&&(m=m.slice(0,-10),g|=No.Important),o.setStyle(u,h,m,g))}}(h,E,nc(jn(),u),m,g))}function O0(o,l,u,h,m,g){const E=null===l;let S;for(;m>0;){const T=o[m],M=Array.isArray(T),O=M?T[1]:T,V=null===O;let Z=u[m+1];Z===Wt&&(Z=V?Pt:void 0);let le=V?Vh(Z,h):O===h?Z:void 0;if(M&&!Ff(le)&&(le=Vh(T,h)),Ff(le)&&(S=le,E))return S;const De=o[m+1];m=E?to(De):Ta(De)}if(null!==l){let T=g?l.residualClasses:l.residualStyles;null!=T&&(S=Vh(T,h))}return S}function Ff(o){return void 0!==o}function Qg(o,l){return 0!=(o.flags&(l?16:32))}function aR(o,l=""){const u=Ve(),h=sn(),m=o+22,g=h.firstCreatePass?_l(h,m,1,l,null):h.data[m],E=u[m]=function Sb(o,l){return o.createText(l)}(u[11],l);fg(h,u,E,g),Ur(g,!1)}function P0(o){return Xg("",o,""),P0}function Xg(o,l,u){const h=Ve(),m=function ad(o,l,u,h){return Xi(o,lc(),u)?l+me(u)+h:Wt}(h,o,l,u);return m!==Wt&&function yl(o,l,u){const h=nc(l,o);!function IS(o,l,u){o.setValue(l,u)}(o[11],h,u)}(h,jn(),m),Xg}function Vf(o,l,u){const h=Ve();return Xi(h,lc(),l)&&as(sn(),Gn(),h,o,l,h[11],u,!0),Vf}function Bf(o,l,u){const h=Ve();if(Xi(h,lc(),l)){const g=sn(),E=Gn();as(g,E,h,o,l,CI(Eh(g.data),E,h),u,!0)}return Bf}const Bo=void 0;var c_=["en",[["a","p"],["AM","PM"],Bo],[["AM","PM"],Bo,Bo],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Bo,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Bo,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Bo,"{1} 'at' {0}",Bo],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function l_(o){const u=Math.floor(Math.abs(o)),h=o.toString().replace(/^[^.]*\.?/,"").length;return 1===u&&0===h?1:5}];let Dr={};function Sl(o){const l=function Bc(o){return o.toLowerCase().replace(/_/g,"-")}(o);let u=Yr(l);if(u)return u;const h=l.split("-")[0];if(u=Yr(h),u)return u;if("en"===h)return c_;throw new Le(701,!1)}function aT(o){return Sl(o)[Rt.PluralCase]}function Yr(o){return o in Dr||(Dr[o]=Ut.ng&&Ut.ng.common&&Ut.ng.common.locales&&Ut.ng.common.locales[o]),Dr[o]}var Rt=(()=>((Rt=Rt||{})[Rt.LocaleId=0]="LocaleId",Rt[Rt.DayPeriodsFormat=1]="DayPeriodsFormat",Rt[Rt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Rt[Rt.DaysFormat=3]="DaysFormat",Rt[Rt.DaysStandalone=4]="DaysStandalone",Rt[Rt.MonthsFormat=5]="MonthsFormat",Rt[Rt.MonthsStandalone=6]="MonthsStandalone",Rt[Rt.Eras=7]="Eras",Rt[Rt.FirstDayOfWeek=8]="FirstDayOfWeek",Rt[Rt.WeekendRange=9]="WeekendRange",Rt[Rt.DateFormat=10]="DateFormat",Rt[Rt.TimeFormat=11]="TimeFormat",Rt[Rt.DateTimeFormat=12]="DateTimeFormat",Rt[Rt.NumberSymbols=13]="NumberSymbols",Rt[Rt.NumberFormats=14]="NumberFormats",Rt[Rt.CurrencyCode=15]="CurrencyCode",Rt[Rt.CurrencySymbol=16]="CurrencySymbol",Rt[Rt.CurrencyName=17]="CurrencyName",Rt[Rt.Currencies=18]="Currencies",Rt[Rt.Directionality=19]="Directionality",Rt[Rt.PluralCase=20]="PluralCase",Rt[Rt.ExtraData=21]="ExtraData",Rt))();const Si="en-US";let vR=Si;function K0(o,l,u,h,m){if(o=re(o),Array.isArray(o))for(let g=0;g<o.length;g++)K0(o[g],l,u,h,m);else{const g=sn(),E=Ve();let S=Ns(o)?o:re(o.provide),T=Zm(o);const M=wi(),O=1048575&M.providerIndexes,V=M.directiveStart,Z=M.providerIndexes>>20;if(Ns(o)||!o.multi){const le=new $r(T,m,Rc),De=v_(S,l,m?O:O+Z,V);-1===De?(pc(ha(M,E),g,S),Q0(g,o,l.length),l.push(S),M.directiveStart++,M.directiveEnd++,m&&(M.providerIndexes+=1048576),u.push(le),E.push(le)):(u[De]=le,E[De]=le)}else{const le=v_(S,l,O+Z,V),De=v_(S,l,O,O+Z),Ye=le>=0&&u[le],nt=De>=0&&u[De];if(m&&!nt||!m&&!Ye){pc(ha(M,E),g,S);const vt=function UR(o,l,u,h,m){const g=new $r(o,u,Rc);return g.multi=[],g.index=l,g.componentProviders=0,Gf(g,m,h&&!u),g}(m?X0:PT,u.length,m,h,T);!m&&nt&&(u[De].providerFactory=vt),Q0(g,o,l.length,0),l.push(S),M.directiveStart++,M.directiveEnd++,m&&(M.providerIndexes+=1048576),u.push(vt),E.push(vt)}else Q0(g,o,le>-1?le:De,Gf(u[m?De:le],T,!m&&h));!m&&h&&nt&&u[De].componentProviders++}}}function Q0(o,l,u,h){const m=Ns(l),g=function sS(o){return!!o.useClass}(l);if(m||g){const T=(g?re(l.useClass):l).prototype.ngOnDestroy;if(T){const M=o.destroyHooks||(o.destroyHooks=[]);if(!m&&l.multi){const O=M.indexOf(u);-1===O?M.push(u,[h,T]):M[O+1].push(h,T)}else M.push(u,T)}}}function Gf(o,l,u){return u&&o.componentProviders++,o.multi.push(l)-1}function v_(o,l,u,h){for(let m=u;m<h;m++)if(l[m]===o)return m;return-1}function PT(o,l,u,h){return J0(this.multi,[])}function X0(o,l,u,h){const m=this.multi;let g;if(this.providerFactory){const E=this.providerFactory.componentProviders,S=Ks(u,u[1],this.providerFactory.index,h);g=S.slice(0,E),J0(m,g);for(let T=E;T<S.length;T++)g.push(S[T])}else g=[],J0(m,g);return g}function J0(o,l){for(let u=0;u<o.length;u++)l.push((0,o[u])());return l}function NT(o,l=[]){return u=>{u.providersResolver=(h,m)=>function BR(o,l,u){const h=sn();if(h.firstCreatePass){const m=Ds(o);K0(u,h.data,h.blueprint,m,!0),K0(l,h.data,h.blueprint,m,!1)}}(h,m?m(o):o,l)}}class Uc{}class eE{}function FT(o,l){return new tE(o,l??null)}class tE extends Uc{constructor(l,u){super(),this._parent=u,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new l0(this);const h=ft(l);this._bootstrapComponents=Ia(h.bootstrap),this._r3Injector=kc(l,u,[{provide:Uc,useValue:this},{provide:Ac,useValue:this.componentFactoryResolver}],ke(l),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(l)}get injector(){return this._r3Injector}destroy(){const l=this._r3Injector;!l.destroyed&&l.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(l){this.destroyCbs.push(l)}}class LT extends eE{constructor(l){super(),this.moduleType=l}create(l){return new tE(this.moduleType,l)}}class HR extends Uc{constructor(l,u,h){super(),this.componentFactoryResolver=new l0(this),this.instance=null;const m=new sb([...l,{provide:Uc,useValue:this},{provide:Ac,useValue:this.componentFactoryResolver}],u||Ym(),h,new Set(["environment"]));this.injector=m,m.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(l){this.injector.onDestroy(l)}}function VT(o,l,u=null){return new HR(o,l,u).injector}let NB=(()=>{class o{constructor(u){this._injector=u,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(u){if(!u.standalone)return null;if(!this.cachedInjectors.has(u.id)){const h=iS(0,u.type),m=h.length>0?VT([h],this._injector,`Standalone[${u.type.name}]`):null;this.cachedInjectors.set(u.id,m)}return this.cachedInjectors.get(u.id)}ngOnDestroy(){try{for(const u of this.cachedInjectors.values())null!==u&&u.destroy()}finally{this.cachedInjectors.clear()}}}return o.\u0275prov=fn({token:o,providedIn:"environment",factory:()=>new o(tn(Po))}),o})();function b_(o){o.getStandaloneInjector=l=>l.get(NB).getOrCreateStandaloneInjector(o)}function YR(o,l,u){const h=mi()+o,m=Ve();return m[h]===Wt?Vo(m,h,u?l.call(u):l()):function Fc(o,l){return o[l]}(m,h)}function ZR(o,l,u,h){return XR(Ve(),mi(),o,l,u,h)}function Pa(o,l){const u=o[l];return u===Wt?void 0:u}function XR(o,l,u,h,m,g){const E=l+u;return Xi(o,E,m)?Vo(o,E+1,g?h.call(g,m):h(m)):Pa(o,E+1)}function w_(o,l,u,h,m,g,E){const S=l+u;return function Aa(o,l,u,h){const m=Xi(o,l,u);return Xi(o,l+1,h)||m}(o,S,m,g)?Vo(o,S+2,E?h.call(E,m,g):h(m,g)):Pa(o,S+2)}function qT(o,l){const u=sn();let h;const m=o+22;u.firstCreatePass?(h=function JR(o,l){if(l)for(let u=l.length-1;u>=0;u--){const h=l[u];if(o===h.name)return h}}(l,u.pipeRegistry),u.data[m]=h,h.onDestroy&&(u.destroyHooks||(u.destroyHooks=[])).push(m,h.onDestroy)):h=u.data[m];const g=h.factory||(h.factory=Vi(h.type)),E=Ln(Rc);try{const S=Iu(!1),T=g();return Iu(S),function Yk(o,l,u,h){u>=o.data.length&&(o.data[u]=null,o.blueprint[u]=null),l[u]=h}(u,Ve(),m,T),T}finally{Ln(E)}}function YT(o,l,u){const h=o+22,m=Ve(),g=vo(m,h);return C_(m,h)?XR(m,mi(),l,g.transform,u,g):g.transform(u)}function eO(o,l,u,h){const m=o+22,g=Ve(),E=vo(g,m);return C_(g,m)?w_(g,mi(),l,E.transform,u,h,E):E.transform(u,h)}function C_(o,l){return o[1].data[l].pure}function ZT(o){return l=>{setTimeout(o,void 0,l)}}const Na=class WB extends c.x{constructor(l=!1){super(),this.__isAsync=l}emit(l){super.next(l)}subscribe(l,u,h){let m=l,g=u||(()=>null),E=h;if(l&&"object"==typeof l){const T=l;m=T.next?.bind(T),g=T.error?.bind(T),E=T.complete?.bind(T)}this.__isAsync&&(g=ZT(g),m&&(m=ZT(m)),E&&(E=ZT(E)));const S=super.subscribe({next:m,error:g,complete:E});return l instanceof W.w0&&l.add(S),S}};function qB(){return this._results[vl()]()}class oE{constructor(l=!1){this._emitDistinctChangesOnly=l,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=vl(),h=oE.prototype;h[u]||(h[u]=qB)}get changes(){return this._changes||(this._changes=new Na)}get(l){return this._results[l]}map(l){return this._results.map(l)}filter(l){return this._results.filter(l)}find(l){return this._results.find(l)}reduce(l,u){return this._results.reduce(l,u)}forEach(l){this._results.forEach(l)}some(l){return this._results.some(l)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(l,u){const h=this;h.dirty=!1;const m=Mn(l);(this._changesDetected=!function zt(o,l,u){if(o.length!==l.length)return!1;for(let h=0;h<o.length;h++){let m=o[h],g=l[h];if(u&&(m=u(m),g=u(g)),g!==m)return!1}return!0}(h._results,m,u))&&(h._results=m,h.length=m.length,h.last=m[this.length-1],h.first=m[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let S_=(()=>{class o{}return o.__NG_ELEMENT_ID__=ZB,o})();const tO=S_,YB=class extends tO{constructor(l,u,h){super(),this._declarationLView=l,this._declarationTContainer=u,this.elementRef=h}createEmbeddedView(l,u){const h=this._declarationTContainer.tViews,m=Ig(this._declarationLView,h,l,16,null,h.declTNode,null,null,null,null,u||null);m[17]=this._declarationLView[this._declarationTContainer.index];const E=this._declarationLView[19];return null!==E&&(m[19]=E.createEmbeddedView(h)),Zb(h,m,l),new wf(m)}};function ZB(){return aE(wi(),Ve())}function aE(o,l){return 4&o.type?new YB(l,o,ju(o,l)):null}let lE=(()=>{class o{}return o.__NG_ELEMENT_ID__=KB,o})();function KB(){return rO(wi(),Ve())}const QB=lE,nO=class extends QB{constructor(l,u,h){super(),this._lContainer=l,this._hostTNode=u,this._hostLView=h}get element(){return ju(this._hostTNode,this._hostLView)}get injector(){return new _c(this._hostTNode,this._hostLView)}get parentInjector(){const l=fc(this._hostTNode,this._hostLView);if(Lv(l)){const u=wo(l,this._hostLView),h=da(l);return new _c(u[1].data[h+8],u)}return new _c(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(l){const u=iO(this._lContainer);return null!==u&&u[l]||null}get length(){return this._lContainer.length-10}createEmbeddedView(l,u,h){let m,g;"number"==typeof h?m=h:null!=h&&(m=h.index,g=h.injector);const E=l.createEmbeddedView(u||{},g);return this.insert(E,m),E}createComponent(l,u,h,m,g){const E=l&&!function Ms(o){return"function"==typeof o}(l);let S;if(E)S=u;else{const V=u||{};S=V.index,h=V.injector,m=V.projectableNodes,g=V.environmentInjector||V.ngModuleRef}const T=E?l:new Cf(P(l)),M=h||this.parentInjector;if(!g&&null==T.ngModule){const Z=(E?M:this.parentInjector).get(Po,null);Z&&(g=Z)}const O=T.create(M,m,void 0,g);return this.insert(O.hostView,S),O}insert(l,u){const h=l._lView,m=h[1];if(function Sv(o){return Cr(o[3])}(h)){const O=this.indexOf(l);if(-1!==O)this.detach(O);else{const V=h[3],Z=new nO(V,V[6],V[3]);Z.detach(Z.indexOf(l))}}const g=this._adjustIndex(u),E=this._lContainer;!function JM(o,l,u,h){const m=10+h,g=u.length;h>0&&(u[m-1][4]=l),h<g-10?(l[4]=u[m],ma(u,10+h,l)):(u.push(l),l[4]=null),l[3]=u;const E=l[17];null!==E&&u!==E&&function ek(o,l){const u=o[9];l[16]!==l[3][3][16]&&(o[2]=!0),null===u?o[9]=[l]:u.push(l)}(E,l);const S=l[19];null!==S&&S.insertView(o),l[2]|=64}(m,h,E,g);const S=NS(g,E),T=h[11],M=dg(T,E[7]);return null!==M&&function TS(o,l,u,h,m,g){h[0]=m,h[6]=l,xc(o,h,u,1,m,g)}(m,E[6],T,h,M,S),l.attachToViewContainerRef(),ma(KT(E),g,l),l}move(l,u){return this.insert(l,u)}indexOf(l){const u=iO(this._lContainer);return null!==u?u.indexOf(l):-1}remove(l){const u=this._adjustIndex(l,-1),h=Tb(this._lContainer,u);h&&(kn(KT(this._lContainer),u),hf(h[1],h))}detach(l){const u=this._adjustIndex(l,-1),h=Tb(this._lContainer,u);return h&&null!=kn(KT(this._lContainer),u)?new wf(h):null}_adjustIndex(l,u=0){return l??this.length+u}};function iO(o){return o[8]}function KT(o){return o[8]||(o[8]=[])}function rO(o,l){let u;const h=l[o.index];if(Cr(h))u=h;else{let m;if(8&o.type)m=Xn(h);else{const g=l[11];m=g.createComment("");const E=ur(o,l);Fo(g,dg(g,E),m,function OS(o,l){return o.nextSibling(l)}(g,E),!1)}l[o.index]=u=EI(h,l,m,o),rd(l,u)}return new nO(u,o,l)}class QT{constructor(l){this.queryList=l,this.matches=null}clone(){return new QT(this.queryList)}setDirty(){this.queryList.setDirty()}}class XT{constructor(l=[]){this.queries=l}createEmbeddedView(l){const u=l.queries;if(null!==u){const h=null!==l.contentQueries?l.contentQueries[0]:u.length,m=[];for(let g=0;g<h;g++){const E=u.getByIndex(g);m.push(this.queries[E.indexInDeclarationView].clone())}return new XT(m)}return null}insertView(l){this.dirtyQueriesWithMatches(l)}detachView(l){this.dirtyQueriesWithMatches(l)}dirtyQueriesWithMatches(l){for(let u=0;u<this.queries.length;u++)null!==fO(l,u).matches&&this.queries[u].setDirty()}}class sO{constructor(l,u,h=null){this.predicate=l,this.flags=u,this.read=h}}class JT{constructor(l=[]){this.queries=l}elementStart(l,u){for(let h=0;h<this.queries.length;h++)this.queries[h].elementStart(l,u)}elementEnd(l){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(l)}embeddedTView(l){let u=null;for(let h=0;h<this.length;h++){const m=null!==u?u.length:0,g=this.getByIndex(h).embeddedTView(l,m);g&&(g.indexInDeclarationView=h,null!==u?u.push(g):u=[g])}return null!==u?new JT(u):null}template(l,u){for(let h=0;h<this.queries.length;h++)this.queries[h].template(l,u)}getByIndex(l){return this.queries[l]}get length(){return this.queries.length}track(l){this.queries.push(l)}}class eD{constructor(l,u=-1){this.metadata=l,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(l,u){this.isApplyingToNode(u)&&this.matchTNode(l,u)}elementEnd(l){this._declarationNodeIndex===l.index&&(this._appliesToNextNode=!1)}template(l,u){this.elementStart(l,u)}embeddedTView(l,u){return this.isApplyingToNode(l)?(this.crossesNgTemplate=!0,this.addMatch(-l.index,u),new eD(this.metadata)):null}isApplyingToNode(l){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let h=l.parent;for(;null!==h&&8&h.type&&h.index!==u;)h=h.parent;return u===(null!==h?h.index:-1)}return this._appliesToNextNode}matchTNode(l,u){const h=this.metadata.predicate;if(Array.isArray(h))for(let m=0;m<h.length;m++){const g=h[m];this.matchTNodeWithReadOption(l,u,e2(u,g)),this.matchTNodeWithReadOption(l,u,gc(u,l,g,!1,!1))}else h===S_?4&u.type&&this.matchTNodeWithReadOption(l,u,-1):this.matchTNodeWithReadOption(l,u,gc(u,l,h,!1,!1))}matchTNodeWithReadOption(l,u,h){if(null!==h){const m=this.metadata.read;if(null!==m)if(m===ll||m===lE||m===S_&&4&u.type)this.addMatch(u.index,-2);else{const g=gc(u,l,m,!1,!1);null!==g&&this.addMatch(u.index,g)}else this.addMatch(u.index,h)}}addMatch(l,u){null===this.matches?this.matches=[l,u]:this.matches.push(l,u)}}function e2(o,l){const u=o.localNames;if(null!==u)for(let h=0;h<u.length;h+=2)if(u[h]===l)return u[h+1];return null}function n2(o,l,u,h){return-1===u?function t2(o,l){return 11&o.type?ju(o,l):4&o.type?aE(o,l):null}(l,o):-2===u?function r2(o,l,u){return u===ll?ju(l,o):u===S_?aE(l,o):u===lE?rO(l,o):void 0}(o,l,h):Ks(o,o[1],u,l)}function oO(o,l,u,h){const m=l[19].queries[h];if(null===m.matches){const g=o.data,E=u.matches,S=[];for(let T=0;T<E.length;T+=2){const M=E[T];S.push(M<0?null:n2(l,g[M],E[T+1],u.metadata.read))}m.matches=S}return m.matches}function tD(o,l,u,h){const m=o.queries.getByIndex(u),g=m.matches;if(null!==g){const E=oO(o,l,m,u);for(let S=0;S<g.length;S+=2){const T=g[S];if(T>0)h.push(E[S/2]);else{const M=g[S+1],O=l[-T];for(let V=10;V<O.length;V++){const Z=O[V];Z[17]===Z[3]&&tD(Z[1],Z,M,h)}if(null!==O[9]){const V=O[9];for(let Z=0;Z<V.length;Z++){const le=V[Z];tD(le[1],le,M,h)}}}}}return h}function aO(o){const l=Ve(),u=sn(),h=wh();Ch(h+1);const m=fO(u,h);if(o.dirty&&function Cv(o){return 4==(4&o[2])}(l)===(2==(2&m.metadata.flags))){if(null===m.matches)o.reset([]);else{const g=m.crossesNgTemplate?tD(u,l,h,[]):oO(u,l,m,h);o.reset(g,uS),o.notifyOnChanges()}return!0}return!1}function lO(o,l,u){const h=sn();h.firstCreatePass&&(hO(h,new sO(o,l,u),-1),2==(2&l)&&(h.staticViewQueries=!0)),dO(h,Ve(),l)}function cO(o,l,u,h){const m=sn();if(m.firstCreatePass){const g=wi();hO(m,new sO(l,u,h),g.index),function o2(o,l){const u=o.contentQueries||(o.contentQueries=[]);l!==(u.length?u[u.length-1]:-1)&&u.push(o.queries.length-1,l)}(m,o),2==(2&u)&&(m.staticContentQueries=!0)}dO(m,Ve(),u)}function uO(){return function s2(o,l){return o[19].queries[l].queryList}(Ve(),wh())}function dO(o,l,u){const h=new oE(4==(4&u));pI(o,l,h,h.destroy),null===l[19]&&(l[19]=new XT),l[19].queries.push(new QT(h))}function hO(o,l,u){null===o.queries&&(o.queries=new JT),o.queries.track(new eD(l,u))}function fO(o,l){return o.queries.getByIndex(l)}function pO(o,l){return aE(o,l)}function Xf(...o){}const _E=new xn("Application Initializer");let zc=(()=>{class o{constructor(u){this.appInits=u,this.resolve=Xf,this.reject=Xf,this.initialized=!1,this.done=!1,this.donePromise=new Promise((h,m)=>{this.resolve=h,this.reject=m})}runInitializers(){if(this.initialized)return;const u=[],h=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let m=0;m<this.appInits.length;m++){const g=this.appInits[m]();if(xf(g))u.push(g);else if(NI(g)){const E=new Promise((S,T)=>{g.subscribe({complete:S,error:T})});u.push(E)}}Promise.all(u).then(()=>{h()}).catch(m=>{this.reject(m)}),0===u.length&&h(),this.initialized=!0}}return o.\u0275fac=function(u){return new(u||o)(tn(_E,8))},o.\u0275prov=fn({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const N_=new xn("AppId",{providedIn:"root",factory:function F_(){return`${Jf()}${Jf()}${Jf()}`}});function Jf(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const yE=new xn("Platform Initializer"),fD=new xn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),pD=new xn("appBootstrapListener"),mD=new xn("AnimationModuleType");let vE=(()=>{class o{log(u){console.log(u)}warn(u){console.warn(u)}}return o.\u0275fac=function(u){return new(u||o)},o.\u0275prov=fn({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();const L_=new xn("LocaleId",{providedIn:"root",factory:()=>Rn(L_,dt.Optional|dt.SkipSelf)||function gD(){return typeof $localize<"u"&&$localize.locale||Si}()}),bE=new xn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class tr{constructor(l,u){this.ngModuleFactory=l,this.componentFactories=u}}let V_=(()=>{class o{compileModuleSync(u){return new LT(u)}compileModuleAsync(u){return Promise.resolve(this.compileModuleSync(u))}compileModuleAndAllComponentsSync(u){const h=this.compileModuleSync(u),g=Ia(ft(u).declarations).reduce((E,S)=>{const T=P(S);return T&&E.push(new Cf(T)),E},[]);return new tr(h,g)}compileModuleAndAllComponentsAsync(u){return Promise.resolve(this.compileModuleAndAllComponentsSync(u))}clearCache(){}clearCacheFor(u){}getModuleId(u){}}return o.\u0275fac=function(u){return new(u||o)},o.\u0275prov=fn({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const CE=(()=>Promise.resolve(0))();function SE(o){typeof Zone>"u"?CE.then(()=>{o&&o.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",o)}class ds{constructor({enableLongStackTrace:l=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:h=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Na(!1),this.onMicrotaskEmpty=new Na(!1),this.onStable=new Na(!1),this.onError=new Na(!1),typeof Zone>"u")throw new Le(908,!1);Zone.assertZonePatched();const m=this;if(m._nesting=0,m._outer=m._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const g=Zone.AsyncStackTaggingZoneSpec;m._inner=m._inner.fork(new g("Angular"))}Zone.TaskTrackingZoneSpec&&(m._inner=m._inner.fork(new Zone.TaskTrackingZoneSpec)),l&&Zone.longStackTraceZoneSpec&&(m._inner=m._inner.fork(Zone.longStackTraceZoneSpec)),m.shouldCoalesceEventChangeDetection=!h&&u,m.shouldCoalesceRunChangeDetection=h,m.lastRequestAnimationFrameId=-1,m.nativeRequestAnimationFrame=function IE(){let o=Ut.requestAnimationFrame,l=Ut.cancelAnimationFrame;if(typeof Zone<"u"&&o&&l){const u=o[Zone.__symbol__("OriginalDelegate")];u&&(o=u);const h=l[Zone.__symbol__("OriginalDelegate")];h&&(l=h)}return{nativeRequestAnimationFrame:o,nativeCancelAnimationFrame:l}}().nativeRequestAnimationFrame,function DE(o){const l=()=>{!function TE(o){o.isCheckStableRunning||-1!==o.lastRequestAnimationFrameId||(o.lastRequestAnimationFrameId=o.nativeRequestAnimationFrame.call(Ut,()=>{o.fakeTopEventTask||(o.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{o.lastRequestAnimationFrameId=-1,B_(o),o.isCheckStableRunning=!0,yd(o),o.isCheckStableRunning=!1},void 0,()=>{},()=>{})),o.fakeTopEventTask.invoke()}),B_(o))}(o)};o._inner=o._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,h,m,g,E,S)=>{try{return bD(o),u.invokeTask(m,g,E,S)}finally{(o.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||o.shouldCoalesceRunChangeDetection)&&l(),vd(o)}},onInvoke:(u,h,m,g,E,S,T)=>{try{return bD(o),u.invoke(m,g,E,S,T)}finally{o.shouldCoalesceRunChangeDetection&&l(),vd(o)}},onHasTask:(u,h,m,g)=>{u.hasTask(m,g),h===m&&("microTask"==g.change?(o._hasPendingMicrotasks=g.microTask,B_(o),yd(o)):"macroTask"==g.change&&(o.hasPendingMacrotasks=g.macroTask))},onHandleError:(u,h,m,g)=>(u.handleError(m,g),o.runOutsideAngular(()=>o.onError.emit(g)),!1)})}(m)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ds.isInAngularZone())throw new Le(909,!1)}static assertNotInAngularZone(){if(ds.isInAngularZone())throw new Le(909,!1)}run(l,u,h){return this._inner.run(l,u,h)}runTask(l,u,h,m){const g=this._inner,E=g.scheduleEventTask("NgZoneEvent: "+m,l,SO,Xf,Xf);try{return g.runTask(E,u,h)}finally{g.cancelTask(E)}}runGuarded(l,u,h){return this._inner.runGuarded(l,u,h)}runOutsideAngular(l){return this._outer.run(l)}}const SO={};function yd(o){if(0==o._nesting&&!o.hasPendingMicrotasks&&!o.isStable)try{o._nesting++,o.onMicrotaskEmpty.emit(null)}finally{if(o._nesting--,!o.hasPendingMicrotasks)try{o.runOutsideAngular(()=>o.onStable.emit(null))}finally{o.isStable=!0}}}function B_(o){o.hasPendingMicrotasks=!!(o._hasPendingMicrotasks||(o.shouldCoalesceEventChangeDetection||o.shouldCoalesceRunChangeDetection)&&-1!==o.lastRequestAnimationFrameId)}function bD(o){o._nesting++,o.isStable&&(o.isStable=!1,o.onUnstable.emit(null))}function vd(o){o._nesting--,yd(o)}class ED{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Na,this.onMicrotaskEmpty=new Na,this.onStable=new Na,this.onError=new Na}run(l,u,h){return l.apply(u,h)}runGuarded(l,u,h){return l.apply(u,h)}runOutsideAngular(l){return l()}runTask(l,u,h,m){return l.apply(u,h)}}const AE=new xn(""),xE=new xn("");let Dl,U_=(()=>{class o{constructor(u,h,m){this._ngZone=u,this.registry=h,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Dl||(function IO(o){Dl=o}(m),m.addToWindow(h)),this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ds.assertNotInAngularZone(),SE(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())SE(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(h=>!h.updateCb||!h.updateCb(u)||(clearTimeout(h.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,h,m){let g=-1;h&&h>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(E=>E.timeoutId!==g),u(this._didWork,this.getPendingTasks())},h)),this._callbacks.push({doneCb:u,timeoutId:g,updateCb:m})}whenStable(u,h,m){if(m&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,h,m),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(u){this.registry.registerApplication(u,this)}unregisterApplication(u){this.registry.unregisterApplication(u)}findProviders(u,h,m){return[]}}return o.\u0275fac=function(u){return new(u||o)(tn(ds),tn(wD),tn(xE))},o.\u0275prov=fn({token:o,factory:o.\u0275fac}),o})(),wD=(()=>{class o{constructor(){this._applications=new Map}registerApplication(u,h){this._applications.set(u,h)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,h=!0){return Dl?.findTestabilityInTree(this,u,h)??null}}return o.\u0275fac=function(u){return new(u||o)},o.\u0275prov=fn({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})(),Al=null;const CD=new xn("AllowMultipleToken"),Fa=new xn("PlatformDestroyListeners");class SD{constructor(l,u){this.name=l,this.token=u}}function kE(o,l,u=[]){const h=`Platform: ${l}`,m=new xn(h);return(g=[])=>{let E=jc();if(!E||E.injector.get(CD,!1)){const S=[...u,...g,{provide:m,useValue:!0}];o?o(S):function xr(o){if(Al&&!Al.get(CD,!1))throw new Le(400,!1);Al=o;const l=o.get(H_);(function bd(o){const l=o.get(yE,null);l&&l.forEach(u=>u())})(o)}(function OE(o=[],l){return ul.create({name:l,providers:[{provide:Gm,useValue:"platform"},{provide:Fa,useValue:new Set([()=>Al=null])},...o]})}(S,h))}return function RE(o){const l=jc();if(!l)throw new Le(401,!1);return l}()}}function jc(){return Al?.get(H_)??null}let H_=(()=>{class o{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,h){const m=function j_(o,l){let u;return u="noop"===o?new ED:("zone.js"===o?void 0:o)||new ds(l),u}(h?.ngZone,function z_(o){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!o||!o.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!o||!o.ngZoneRunCoalescing)||!1}}(h)),g=[{provide:ds,useValue:m}];return m.run(()=>{const E=ul.create({providers:g,parent:this.injector,name:u.moduleType.name}),S=u.create(E),T=S.injector.get(cf,null);if(!T)throw new Le(402,!1);return m.runOutsideAngular(()=>{const M=m.onError.subscribe({next:O=>{T.handleError(O)}});S.onDestroy(()=>{G_(this._modules,S),M.unsubscribe()})}),function tp(o,l,u){try{const h=u();return xf(h)?h.catch(m=>{throw l.runOutsideAngular(()=>o.handleError(m)),m}):h}catch(h){throw l.runOutsideAngular(()=>o.handleError(h)),h}}(T,m,()=>{const M=S.injector.get(zc);return M.runInitializers(),M.donePromise.then(()=>(function cT(o){Jt(o,"Expected localeId to be defined"),"string"==typeof o&&(vR=o.toLowerCase().replace(/_/g,"-"))}(S.injector.get(L_,Si)||Si),this._moduleDoBootstrap(S),S))})})}bootstrapModule(u,h=[]){const m=Ed({},h);return function $_(o,l,u){const h=new LT(u);return Promise.resolve(h)}(0,0,u).then(g=>this.bootstrapModuleFactory(g,m))}_moduleDoBootstrap(u){const h=u.injector.get(np);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(m=>h.bootstrap(m));else{if(!u.instance.ngDoBootstrap)throw new Le(403,!1);u.instance.ngDoBootstrap(h)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Le(404,!1);this._modules.slice().forEach(h=>h.destroy()),this._destroyListeners.forEach(h=>h());const u=this._injector.get(Fa,null);u&&(u.forEach(h=>h()),u.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return o.\u0275fac=function(u){return new(u||o)(tn(ul))},o.\u0275prov=fn({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();function Ed(o,l){return Array.isArray(l)?l.reduce(Ed,o):{...o,...l}}let np=(()=>{class o{constructor(u,h,m){this._zone=u,this._injector=h,this._exceptionHandler=m,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const g=new H.y(S=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{S.next(this._stable),S.complete()})}),E=new H.y(S=>{let T;this._zone.runOutsideAngular(()=>{T=this._zone.onStable.subscribe(()=>{ds.assertNotInAngularZone(),SE(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,S.next(!0))})})});const M=this._zone.onUnstable.subscribe(()=>{ds.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{S.next(!1)}))});return()=>{T.unsubscribe(),M.unsubscribe()}});this.isStable=(0,ve.T)(g,E.pipe((0,Fe.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(u,h){const m=u instanceof lb;if(!this._injector.get(zc).done)throw!m&&Be(u),new Le(405,false);let E;E=m?u:this._injector.get(Ac).resolveComponentFactory(u),this.componentTypes.push(E.componentType);const S=function ep(o){return o.isBoundToModule}(E)?void 0:this._injector.get(Uc),M=E.create(ul.NULL,[],h||E.selector,S),O=M.location.nativeElement,V=M.injector.get(AE,null);return V?.registerApplication(O),M.onDestroy(()=>{this.detachView(M.hostView),G_(this.components,M),V?.unregisterApplication(O)}),this._loadComponent(M),M}tick(){if(this._runningTick)throw new Le(101,!1);try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(u))}finally{this._runningTick=!1}}attachView(u){const h=u;this._views.push(h),h.attachToAppRef(this)}detachView(u){const h=u;G_(this._views,h),h.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u),this._injector.get(pD,[]).concat(this._bootstrapListeners).forEach(m=>m(u))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(u=>u()),this._views.slice().forEach(u=>u.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(u){return this._destroyListeners.push(u),()=>G_(this._destroyListeners,u)}destroy(){if(this._destroyed)throw new Le(406,!1);const u=this._injector;u.destroy&&!u.destroyed&&u.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return o.\u0275fac=function(u){return new(u||o)(tn(ds),tn(Po),tn(cf))},o.\u0275prov=fn({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function G_(o,l){const u=o.indexOf(l);u>-1&&o.splice(u,1)}let Y_=!0,PE=!1;function TD(){return PE=!0,Y_}function DD(){if(PE)throw new Error("Cannot enable prod mode after platform setup.");Y_=!1}let K_=(()=>{class o{}return o.__NG_ELEMENT_ID__=ip,o})();function ip(o){return function Gc(o,l,u){if(ra(o)&&!u){const h=yn(o.index,l);return new wf(h,h)}return 47&o.type?new wf(l[16],l):null}(wi(),Ve(),16==(16&o))}class Va{constructor(){}supports(l){return Nc(l)}create(l){return new MD(l)}}const xD=(o,l)=>l;class MD{constructor(l){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=l||xD}forEachItem(l){let u;for(u=this._itHead;null!==u;u=u._next)l(u)}forEachOperation(l){let u=this._itHead,h=this._removalsHead,m=0,g=null;for(;u||h;){const E=!h||u&&u.currentIndex<OD(h,m,g)?u:h,S=OD(E,m,g),T=E.currentIndex;if(E===h)m--,h=h._nextRemoved;else if(u=u._next,null==E.previousIndex)m++;else{g||(g=[]);const M=S-m,O=T-m;if(M!=O){for(let Z=0;Z<M;Z++){const le=Z<g.length?g[Z]:g[Z]=0,De=le+Z;O<=De&&De<M&&(g[Z]=le+1)}g[E.previousIndex]=O-M}}S!==T&&l(E,S,T)}}forEachPreviousItem(l){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)l(u)}forEachAddedItem(l){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)l(u)}forEachMovedItem(l){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)l(u)}forEachRemovedItem(l){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)l(u)}forEachIdentityChange(l){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)l(u)}diff(l){if(null==l&&(l=[]),!Nc(l))throw new Le(900,!1);return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let m,g,E,u=this._itHead,h=!1;if(Array.isArray(l)){this.length=l.length;for(let S=0;S<this.length;S++)g=l[S],E=this._trackByFn(S,g),null!==u&&Object.is(u.trackById,E)?(h&&(u=this._verifyReinsertion(u,g,E,S)),Object.is(u.item,g)||this._addIdentityChange(u,g)):(u=this._mismatch(u,g,E,S),h=!0),u=u._next}else m=0,function g0(o,l){if(Array.isArray(o))for(let u=0;u<o.length;u++)l(o[u]);else{const u=o[vl()]();let h;for(;!(h=u.next()).done;)l(h.value)}}(l,S=>{E=this._trackByFn(m,S),null!==u&&Object.is(u.trackById,E)?(h&&(u=this._verifyReinsertion(u,S,E,m)),Object.is(u.item,S)||this._addIdentityChange(u,S)):(u=this._mismatch(u,S,E,m),h=!0),u=u._next,m++}),this.length=m;return this._truncate(u),this.collection=l,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let l;for(l=this._previousItHead=this._itHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._additionsHead;null!==l;l=l._nextAdded)l.previousIndex=l.currentIndex;for(this._additionsHead=this._additionsTail=null,l=this._movesHead;null!==l;l=l._nextMoved)l.previousIndex=l.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(l,u,h,m){let g;return null===l?g=this._itTail:(g=l._prev,this._remove(l)),null!==(l=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null))?(Object.is(l.item,u)||this._addIdentityChange(l,u),this._reinsertAfter(l,g,m)):null!==(l=null===this._linkedRecords?null:this._linkedRecords.get(h,m))?(Object.is(l.item,u)||this._addIdentityChange(l,u),this._moveAfter(l,g,m)):l=this._addAfter(new kD(u,h),g,m),l}_verifyReinsertion(l,u,h,m){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null);return null!==g?l=this._reinsertAfter(g,l._prev,m):l.currentIndex!=m&&(l.currentIndex=m,this._addToMoves(l,m)),l}_truncate(l){for(;null!==l;){const u=l._next;this._addToRemovals(this._unlink(l)),l=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(l,u,h){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(l);const m=l._prevRemoved,g=l._nextRemoved;return null===m?this._removalsHead=g:m._nextRemoved=g,null===g?this._removalsTail=m:g._prevRemoved=m,this._insertAfter(l,u,h),this._addToMoves(l,h),l}_moveAfter(l,u,h){return this._unlink(l),this._insertAfter(l,u,h),this._addToMoves(l,h),l}_addAfter(l,u,h){return this._insertAfter(l,u,h),this._additionsTail=null===this._additionsTail?this._additionsHead=l:this._additionsTail._nextAdded=l,l}_insertAfter(l,u,h){const m=null===u?this._itHead:u._next;return l._next=m,l._prev=u,null===m?this._itTail=l:m._prev=l,null===u?this._itHead=l:u._next=l,null===this._linkedRecords&&(this._linkedRecords=new RD),this._linkedRecords.put(l),l.currentIndex=h,l}_remove(l){return this._addToRemovals(this._unlink(l))}_unlink(l){null!==this._linkedRecords&&this._linkedRecords.remove(l);const u=l._prev,h=l._next;return null===u?this._itHead=h:u._next=h,null===h?this._itTail=u:h._prev=u,l}_addToMoves(l,u){return l.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=l:this._movesTail._nextMoved=l),l}_addToRemovals(l){return null===this._unlinkedRecords&&(this._unlinkedRecords=new RD),this._unlinkedRecords.put(l),l.currentIndex=null,l._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=l,l._prevRemoved=null):(l._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=l),l}_addIdentityChange(l,u){return l.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=l:this._identityChangesTail._nextIdentityChange=l,l}}class kD{constructor(l,u){this.item=l,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Cd{constructor(){this._head=null,this._tail=null}add(l){null===this._head?(this._head=this._tail=l,l._nextDup=null,l._prevDup=null):(this._tail._nextDup=l,l._prevDup=this._tail,l._nextDup=null,this._tail=l)}get(l,u){let h;for(h=this._head;null!==h;h=h._nextDup)if((null===u||u<=h.currentIndex)&&Object.is(h.trackById,l))return h;return null}remove(l){const u=l._prevDup,h=l._nextDup;return null===u?this._head=h:u._nextDup=h,null===h?this._tail=u:h._prevDup=u,null===this._head}}class RD{constructor(){this.map=new Map}put(l){const u=l.trackById;let h=this.map.get(u);h||(h=new Cd,this.map.set(u,h)),h.add(l)}get(l,u){const m=this.map.get(l);return m?m.get(l,u):null}remove(l){const u=l.trackById;return this.map.get(u).remove(l)&&this.map.delete(u),l}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function OD(o,l,u){const h=o.previousIndex;if(null===h)return h;let m=0;return u&&h<u.length&&(m=u[h]),h+l+m}class LE{constructor(){}supports(l){return l instanceof Map||Ng(l)}create(){return new kO}}class kO{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(l){let u;for(u=this._mapHead;null!==u;u=u._next)l(u)}forEachPreviousItem(l){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)l(u)}forEachChangedItem(l){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)l(u)}forEachAddedItem(l){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)l(u)}forEachRemovedItem(l){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)l(u)}diff(l){if(l){if(!(l instanceof Map||Ng(l)))throw new Le(900,!1)}else l=new Map;return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(l,(h,m)=>{if(u&&u.key===m)this._maybeAddToChanges(u,h),this._appendAfter=u,u=u._next;else{const g=this._getOrCreateRecordForKey(m,h);u=this._insertBeforeOrAppend(u,g)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let h=u;null!==h;h=h._nextRemoved)h===this._mapHead&&(this._mapHead=null),this._records.delete(h.key),h._nextRemoved=h._next,h.previousValue=h.currentValue,h.currentValue=null,h._prev=null,h._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(l,u){if(l){const h=l._prev;return u._next=l,u._prev=h,l._prev=u,h&&(h._next=u),l===this._mapHead&&(this._mapHead=u),this._appendAfter=l,l}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(l,u){if(this._records.has(l)){const m=this._records.get(l);this._maybeAddToChanges(m,u);const g=m._prev,E=m._next;return g&&(g._next=E),E&&(E._prev=g),m._next=null,m._prev=null,m}const h=new PD(l);return this._records.set(l,h),h.currentValue=u,this._addToAdditions(h),h}_reset(){if(this.isDirty){let l;for(this._previousMapHead=this._mapHead,l=this._previousMapHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._changesHead;null!==l;l=l._nextChanged)l.previousValue=l.currentValue;for(l=this._additionsHead;null!=l;l=l._nextAdded)l.previousValue=l.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(l,u){Object.is(u,l.currentValue)||(l.previousValue=l.currentValue,l.currentValue=u,this._addToChanges(l))}_addToAdditions(l){null===this._additionsHead?this._additionsHead=this._additionsTail=l:(this._additionsTail._nextAdded=l,this._additionsTail=l)}_addToChanges(l){null===this._changesHead?this._changesHead=this._changesTail=l:(this._changesTail._nextChanged=l,this._changesTail=l)}_forEach(l,u){l instanceof Map?l.forEach(u):Object.keys(l).forEach(h=>u(l[h],h))}}class PD{constructor(l){this.key=l,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function VE(){return new op([new Va])}let op=(()=>{class o{constructor(u){this.factories=u}static create(u,h){if(null!=h){const m=h.factories.slice();u=u.concat(m)}return new o(u)}static extend(u){return{provide:o,useFactory:h=>o.create(u,h||VE()),deps:[[o,new ba,new An]]}}find(u){const h=this.factories.find(m=>m.supports(u));if(null!=h)return h;throw new Le(901,!1)}}return o.\u0275prov=fn({token:o,providedIn:"root",factory:VE}),o})();function BE(){return new ty([new LE])}let ty=(()=>{class o{constructor(u){this.factories=u}static create(u,h){if(h){const m=h.factories.slice();u=u.concat(m)}return new o(u)}static extend(u){return{provide:o,useFactory:h=>o.create(u,h||BE()),deps:[[o,new ba,new An]]}}find(u){const h=this.factories.find(m=>m.supports(u));if(h)return h;throw new Le(901,!1)}}return o.\u0275prov=fn({token:o,providedIn:"root",factory:BE}),o})();const ny=kE(null,"core",[]);let ap=(()=>{class o{constructor(u){}}return o.\u0275fac=function(u){return new(u||o)(tn(np))},o.\u0275mod=cn({type:o}),o.\u0275inj=Ht({}),o})();function iy(o){return"boolean"==typeof o?o:null!=o&&"false"!==o}},3942:(Dt,He,z)=>{z.d(He,{Z:()=>Le});var c=z(2090),W=z(4859),H=z(9681),ve=z(1877);class Fe{constructor(me,Se){this._delegate=me,this.firebase=Se,(0,H._addComponent)(me,new W.wA("app-compat",()=>this,"PUBLIC")),this.container=me.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(me){this._delegate.automaticDataCollectionEnabled=me}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(me=>{this._delegate.checkDestroyed(),me()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,H.deleteApp)(this._delegate)))}_getService(me,Se=H._DEFAULT_ENTRY_NAME){var mt;this._delegate.checkDestroyed();const gt=this._delegate.container.getProvider(me);return!gt.isInitialized()&&"EXPLICIT"===(null===(mt=gt.getComponent())||void 0===mt?void 0:mt.instantiationMode)&&gt.initialize(),gt.getImmediate({identifier:Se})}_removeServiceInstance(me,Se=H._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(me).clearInstance(Se)}_addComponent(me){(0,H._addComponent)(this._delegate,me)}_addOrOverwriteComponent(me){(0,H._addOrOverwriteComponent)(this._delegate,me)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Ce=new c.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),K=function Ze(){const ut=function ke(ut){const me={},Se={__esModule:!0,initializeApp:function Ge(de,fe={}){const Te=H.initializeApp(de,fe);if((0,c.r3)(me,Te.name))return me[Te.name];const ne=new ut(Te,Se);return me[Te.name]=ne,ne},app:gt,registerVersion:H.registerVersion,setLogLevel:H.setLogLevel,onLog:H.onLog,apps:null,SDK_VERSION:H.SDK_VERSION,INTERNAL:{registerComponent:function Ae(de){const fe=de.name,Te=fe.replace("-compat","");if(H._registerComponent(de)&&"PUBLIC"===de.type){const ne=(ie=gt())=>{if("function"!=typeof ie[Te])throw Ce.create("invalid-app-argument",{appName:fe});return ie[Te]()};void 0!==de.serviceProps&&(0,c.ZB)(ne,de.serviceProps),Se[Te]=ne,ut.prototype[Te]=function(...ie){return this._getService.bind(this,fe).apply(this,de.multipleInstances?ie:[])}}return"PUBLIC"===de.type?Se[Te]:null},removeApp:function mt(de){delete me[de]},useAsService:function Je(de,fe){return"serverAuth"===fe?null:fe},modularAPIs:H}};function gt(de){if(!(0,c.r3)(me,de=de||H._DEFAULT_ENTRY_NAME))throw Ce.create("no-app",{appName:de});return me[de]}return Se.default=Se,Object.defineProperty(Se,"apps",{get:function Pe(){return Object.keys(me).map(de=>me[de])}}),gt.App=ut,Se}(Fe);return ut.INTERNAL=Object.assign(Object.assign({},ut.INTERNAL),{createFirebaseNamespace:Ze,extendNamespace:function me(Se){(0,c.ZB)(ut,Se)},createSubscribe:c.ne,ErrorFactory:c.LL,deepExtend:c.ZB}),ut}(),Q=new ve.Yd("@firebase/app-compat");if((0,c.jU)()&&void 0!==self.firebase){Q.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const ut=self.firebase.SDK_VERSION;ut&&ut.indexOf("LITE")>=0&&Q.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Le=K;!function Qe(ut){(0,H.registerVersion)("@firebase/app-compat","0.1.39",ut)}()},9681:(Dt,He,z)=>{z.r(He),z.d(He,{FirebaseError:()=>ve.ZR,SDK_VERSION:()=>Ss,_DEFAULT_ENTRY_NAME:()=>Jt,_addComponent:()=>In,_addOrOverwriteComponent:()=>fn,_apps:()=>Sn,_clearComponents:()=>Cs,_components:()=>ai,_getProvider:()=>Ht,_registerComponent:()=>en,_removeServiceInstance:()=>Yi,deleteApp:()=>yo,getApp:()=>Zi,getApps:()=>Ws,initializeApp:()=>ar,onLog:()=>bi,registerVersion:()=>xi,setLogLevel:()=>Ln});var c=z(5861),W=z(4859),H=z(1877),ve=z(2090),Fe=z(8766);class Oe{constructor(Re){this.container=Re}getPlatformInfoString(){return this.container.getProviders().map(ht=>{if(function Ce(lt){return"VERSION"===lt.getComponent()?.type}(ht)){const xt=ht.getImmediate();return`${xt.library}/${xt.version}`}return null}).filter(ht=>ht).join(" ")}}const ke="@firebase/app",K=new H.Yd("@firebase/app"),Jt="[DEFAULT]",et={[ke]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Sn=new Map,ai=new Map;function In(lt,Re){try{lt.container.addComponent(Re)}catch(ht){K.debug(`Component ${Re.name} failed to register with FirebaseApp ${lt.name}`,ht)}}function fn(lt,Re){lt.container.addOrOverwriteComponent(Re)}function en(lt){const Re=lt.name;if(ai.has(Re))return K.debug(`There were multiple attempts to register component ${Re}.`),!1;ai.set(Re,lt);for(const ht of Sn.values())In(ht,lt);return!0}function Ht(lt,Re){const ht=lt.container.getProvider("heartbeat").getImmediate({optional:!0});return ht&&ht.triggerHeartbeat(),lt.container.getProvider(Re)}function Yi(lt,Re,ht=Jt){Ht(lt,Re).clearInstance(ht)}function Cs(){ai.clear()}const ii=new ve.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Gs{constructor(Re,ht,xt){this._isDeleted=!1,this._options=Object.assign({},Re),this._config=Object.assign({},ht),this._name=ht.name,this._automaticDataCollectionEnabled=ht.automaticDataCollectionEnabled,this._container=xt,this.container.addComponent(new W.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Re){this.checkDestroyed(),this._automaticDataCollectionEnabled=Re}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Re){this._isDeleted=Re}checkDestroyed(){if(this.isDeleted)throw ii.create("app-deleted",{appName:this._name})}}const Ss="9.14.0";function ar(lt,Re={}){let ht=lt;"object"!=typeof Re&&(Re={name:Re});const xt=Object.assign({name:Jt,automaticDataCollectionEnabled:!1},Re),kt=xt.name;if("string"!=typeof kt||!kt)throw ii.create("bad-app-name",{appName:String(kt)});if(ht||(ht=(0,ve.aH)()),!ht)throw ii.create("no-options");const cn=Sn.get(kt);if(cn){if((0,ve.vZ)(ht,cn.options)&&(0,ve.vZ)(xt,cn.config))return cn;throw ii.create("duplicate-app",{appName:kt})}const Y=new W.H0(kt);for(const X of ai.values())Y.addComponent(X);const G=new Gs(ht,xt,Y);return Sn.set(kt,G),G}function Zi(lt=Jt){const Re=Sn.get(lt);if(!Re&&lt===Jt)return ar();if(!Re)throw ii.create("no-app",{appName:lt});return Re}function Ws(){return Array.from(Sn.values())}function yo(lt){return dt.apply(this,arguments)}function dt(){return(dt=(0,c.Z)(function*(lt){const Re=lt.name;Sn.has(Re)&&(Sn.delete(Re),yield Promise.all(lt.container.getProviders().map(ht=>ht.delete())),lt.isDeleted=!0)})).apply(this,arguments)}function xi(lt,Re,ht){var xt;let kt=null!==(xt=et[lt])&&void 0!==xt?xt:lt;ht&&(kt+=`-${ht}`);const cn=kt.match(/\s|\//),Y=Re.match(/\s|\//);if(cn||Y){const G=[`Unable to register library "${kt}" with version "${Re}":`];return cn&&G.push(`library name "${kt}" contains illegal characters (whitespace or "/")`),cn&&Y&&G.push("and"),Y&&G.push(`version name "${Re}" contains illegal characters (whitespace or "/")`),void K.warn(G.join(" "))}en(new W.wA(`${kt}-version`,()=>({library:kt,version:Re}),"VERSION"))}function bi(lt,Re){if(null!==lt&&"function"!=typeof lt)throw ii.create("invalid-log-argument");(0,H.Am)(lt,Re)}function Ln(lt){(0,H.Ub)(lt)}const Vn="firebase-heartbeat-store";let zn=null;function Dn(){return zn||(zn=(0,Fe.X3)("firebase-heartbeat-database",1,{upgrade:(lt,Re)=>{0===Re&&lt.createObjectStore(Vn)}}).catch(lt=>{throw ii.create("idb-open",{originalErrorMessage:lt.message})})),zn}function St(){return(St=(0,c.Z)(function*(lt){var Re;try{return(yield Dn()).transaction(Vn).objectStore(Vn).get(Ei(lt))}catch(ht){if(ht instanceof ve.ZR)K.warn(ht.message);else{const xt=ii.create("idb-get",{originalErrorMessage:null===(Re=ht)||void 0===Re?void 0:Re.message});K.warn(xt.message)}}})).apply(this,arguments)}function Ut(lt,Re){return wr.apply(this,arguments)}function wr(){return(wr=(0,c.Z)(function*(lt,Re){var ht;try{const kt=(yield Dn()).transaction(Vn,"readwrite");return yield kt.objectStore(Vn).put(Re,Ei(lt)),kt.done}catch(xt){if(xt instanceof ve.ZR)K.warn(xt.message);else{const kt=ii.create("idb-set",{originalErrorMessage:null===(ht=xt)||void 0===ht?void 0:ht.message});K.warn(kt.message)}}})).apply(this,arguments)}function Ei(lt){return`${lt.name}!${lt.options.appId}`}class cr{constructor(Re){this.container=Re,this._heartbeatsCache=null;const ht=this.container.getProvider("app").getImmediate();this._storage=new on(ht),this._heartbeatsCachePromise=this._storage.read().then(xt=>(this._heartbeatsCache=xt,xt))}triggerHeartbeat(){var Re=this;return(0,c.Z)(function*(){const xt=Re.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),kt=$t();if(null===Re._heartbeatsCache&&(Re._heartbeatsCache=yield Re._heartbeatsCachePromise),Re._heartbeatsCache.lastSentHeartbeatDate!==kt&&!Re._heartbeatsCache.heartbeats.some(cn=>cn.date===kt))return Re._heartbeatsCache.heartbeats.push({date:kt,agent:xt}),Re._heartbeatsCache.heartbeats=Re._heartbeatsCache.heartbeats.filter(cn=>{const Y=new Date(cn.date).valueOf();return Date.now()-Y<=2592e6}),Re._storage.overwrite(Re._heartbeatsCache)})()}getHeartbeatsHeader(){var Re=this;return(0,c.Z)(function*(){if(null===Re._heartbeatsCache&&(yield Re._heartbeatsCachePromise),null===Re._heartbeatsCache||0===Re._heartbeatsCache.heartbeats.length)return"";const ht=$t(),{heartbeatsToSend:xt,unsentEntries:kt}=function es(lt,Re=1024){const ht=[];let xt=lt.slice();for(const kt of lt){const cn=ht.find(Y=>Y.agent===kt.agent);if(cn){if(cn.dates.push(kt.date),Li(ht)>Re){cn.dates.pop();break}}else if(ht.push({agent:kt.agent,dates:[kt.date]}),Li(ht)>Re){ht.pop();break}xt=xt.slice(1)}return{heartbeatsToSend:ht,unsentEntries:xt}}(Re._heartbeatsCache.heartbeats),cn=(0,ve.L)(JSON.stringify({version:2,heartbeats:xt}));return Re._heartbeatsCache.lastSentHeartbeatDate=ht,kt.length>0?(Re._heartbeatsCache.heartbeats=kt,yield Re._storage.overwrite(Re._heartbeatsCache)):(Re._heartbeatsCache.heartbeats=[],Re._storage.overwrite(Re._heartbeatsCache)),cn})()}}function $t(){return(new Date).toISOString().substring(0,10)}class on{constructor(Re){this.app=Re,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,c.Z)(function*(){return!!(0,ve.hl)()&&(0,ve.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Re=this;return(0,c.Z)(function*(){return(yield Re._canUseIndexedDBPromise)&&(yield function Ct(lt){return St.apply(this,arguments)}(Re.app))||{heartbeats:[]}})()}overwrite(Re){var ht=this;return(0,c.Z)(function*(){var xt;if(yield ht._canUseIndexedDBPromise){const cn=yield ht.read();return Ut(ht.app,{lastSentHeartbeatDate:null!==(xt=Re.lastSentHeartbeatDate)&&void 0!==xt?xt:cn.lastSentHeartbeatDate,heartbeats:Re.heartbeats})}})()}add(Re){var ht=this;return(0,c.Z)(function*(){var xt;if(yield ht._canUseIndexedDBPromise){const cn=yield ht.read();return Ut(ht.app,{lastSentHeartbeatDate:null!==(xt=Re.lastSentHeartbeatDate)&&void 0!==xt?xt:cn.lastSentHeartbeatDate,heartbeats:[...cn.heartbeats,...Re.heartbeats]})}})()}}function Li(lt){return(0,ve.L)(JSON.stringify({version:2,heartbeats:lt})).length}!function Qn(lt){en(new W.wA("platform-logger",Re=>new Oe(Re),"PRIVATE")),en(new W.wA("heartbeat",Re=>new cr(Re),"PRIVATE")),xi(ke,"0.8.4",lt),xi(ke,"0.8.4","esm2017"),xi("fire-js","")}("")},4859:(Dt,He,z)=>{z.d(He,{H0:()=>ke,wA:()=>H});var c=z(5861),W=z(2090);class H{constructor(K,Q,re){this.name=K,this.instanceFactory=Q,this.type=re,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(K){return this.instantiationMode=K,this}setMultipleInstances(K){return this.multipleInstances=K,this}setServiceProps(K){return this.serviceProps=K,this}setInstanceCreatedCallback(K){return this.onInstanceCreated=K,this}}const ve="[DEFAULT]";class Fe{constructor(K,Q){this.name=K,this.container=Q,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(K){const Q=this.normalizeInstanceIdentifier(K);if(!this.instancesDeferred.has(Q)){const re=new W.BH;if(this.instancesDeferred.set(Q,re),this.isInitialized(Q)||this.shouldAutoInitialize())try{const Xe=this.getOrInitializeService({instanceIdentifier:Q});Xe&&re.resolve(Xe)}catch{}}return this.instancesDeferred.get(Q).promise}getImmediate(K){var Q;const re=this.normalizeInstanceIdentifier(K?.identifier),Xe=null!==(Q=K?.optional)&&void 0!==Q&&Q;if(!this.isInitialized(re)&&!this.shouldAutoInitialize()){if(Xe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:re})}catch(Qe){if(Xe)return null;throw Qe}}getComponent(){return this.component}setComponent(K){if(K.name!==this.name)throw Error(`Mismatching Component ${K.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=K,this.shouldAutoInitialize()){if(function Ce(Ze){return"EAGER"===Ze.instantiationMode}(K))try{this.getOrInitializeService({instanceIdentifier:ve})}catch{}for(const[Q,re]of this.instancesDeferred.entries()){const Xe=this.normalizeInstanceIdentifier(Q);try{const Qe=this.getOrInitializeService({instanceIdentifier:Xe});re.resolve(Qe)}catch{}}}}clearInstance(K=ve){this.instancesDeferred.delete(K),this.instancesOptions.delete(K),this.instances.delete(K)}delete(){var K=this;return(0,c.Z)(function*(){const Q=Array.from(K.instances.values());yield Promise.all([...Q.filter(re=>"INTERNAL"in re).map(re=>re.INTERNAL.delete()),...Q.filter(re=>"_delete"in re).map(re=>re._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(K=ve){return this.instances.has(K)}getOptions(K=ve){return this.instancesOptions.get(K)||{}}initialize(K={}){const{options:Q={}}=K,re=this.normalizeInstanceIdentifier(K.instanceIdentifier);if(this.isInitialized(re))throw Error(`${this.name}(${re}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Xe=this.getOrInitializeService({instanceIdentifier:re,options:Q});for(const[Qe,Le]of this.instancesDeferred.entries())re===this.normalizeInstanceIdentifier(Qe)&&Le.resolve(Xe);return Xe}onInit(K,Q){var re;const Xe=this.normalizeInstanceIdentifier(Q),Qe=null!==(re=this.onInitCallbacks.get(Xe))&&void 0!==re?re:new Set;Qe.add(K),this.onInitCallbacks.set(Xe,Qe);const Le=this.instances.get(Xe);return Le&&K(Le,Xe),()=>{Qe.delete(K)}}invokeOnInitCallbacks(K,Q){const re=this.onInitCallbacks.get(Q);if(re)for(const Xe of re)try{Xe(K,Q)}catch{}}getOrInitializeService({instanceIdentifier:K,options:Q={}}){let re=this.instances.get(K);if(!re&&this.component&&(re=this.component.instanceFactory(this.container,{instanceIdentifier:(Ze=K,Ze===ve?void 0:Ze),options:Q}),this.instances.set(K,re),this.instancesOptions.set(K,Q),this.invokeOnInitCallbacks(re,K),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,K,re)}catch{}var Ze;return re||null}normalizeInstanceIdentifier(K=ve){return this.component?this.component.multipleInstances?K:ve:K}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ke{constructor(K){this.name=K,this.providers=new Map}addComponent(K){const Q=this.getProvider(K.name);if(Q.isComponentSet())throw new Error(`Component ${K.name} has already been registered with ${this.name}`);Q.setComponent(K)}addOrOverwriteComponent(K){this.getProvider(K.name).isComponentSet()&&this.providers.delete(K.name),this.addComponent(K)}getProvider(K){if(this.providers.has(K))return this.providers.get(K);const Q=new Fe(K,this);return this.providers.set(K,Q),Q}getProviders(){return Array.from(this.providers.values())}}},1877:(Dt,He,z)=>{z.d(He,{Am:()=>Ze,Ub:()=>ke,Yd:()=>Ce,in:()=>W});const c=[];var W=(()=>{return(K=W||(W={}))[K.DEBUG=0]="DEBUG",K[K.VERBOSE=1]="VERBOSE",K[K.INFO=2]="INFO",K[K.WARN=3]="WARN",K[K.ERROR=4]="ERROR",K[K.SILENT=5]="SILENT",W;var K})();const H={debug:W.DEBUG,verbose:W.VERBOSE,info:W.INFO,warn:W.WARN,error:W.ERROR,silent:W.SILENT},ve=W.INFO,Fe={[W.DEBUG]:"log",[W.VERBOSE]:"log",[W.INFO]:"info",[W.WARN]:"warn",[W.ERROR]:"error"},Oe=(K,Q,...re)=>{if(Q<K.logLevel)return;const Xe=(new Date).toISOString(),Qe=Fe[Q];if(!Qe)throw new Error(`Attempted to log a message with an invalid logType (value: ${Q})`);console[Qe](`[${Xe}]  ${K.name}:`,...re)};class Ce{constructor(Q){this.name=Q,this._logLevel=ve,this._logHandler=Oe,this._userLogHandler=null,c.push(this)}get logLevel(){return this._logLevel}set logLevel(Q){if(!(Q in W))throw new TypeError(`Invalid value "${Q}" assigned to \`logLevel\``);this._logLevel=Q}setLogLevel(Q){this._logLevel="string"==typeof Q?H[Q]:Q}get logHandler(){return this._logHandler}set logHandler(Q){if("function"!=typeof Q)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Q}get userLogHandler(){return this._userLogHandler}set userLogHandler(Q){this._userLogHandler=Q}debug(...Q){this._userLogHandler&&this._userLogHandler(this,W.DEBUG,...Q),this._logHandler(this,W.DEBUG,...Q)}log(...Q){this._userLogHandler&&this._userLogHandler(this,W.VERBOSE,...Q),this._logHandler(this,W.VERBOSE,...Q)}info(...Q){this._userLogHandler&&this._userLogHandler(this,W.INFO,...Q),this._logHandler(this,W.INFO,...Q)}warn(...Q){this._userLogHandler&&this._userLogHandler(this,W.WARN,...Q),this._logHandler(this,W.WARN,...Q)}error(...Q){this._userLogHandler&&this._userLogHandler(this,W.ERROR,...Q),this._logHandler(this,W.ERROR,...Q)}}function ke(K){c.forEach(Q=>{Q.setLogLevel(K)})}function Ze(K,Q){for(const re of c){let Xe=null;Q&&Q.level&&(Xe=H[Q.level]),re.userLogHandler=null===K?null:(Qe,Le,...ut)=>{const me=ut.map(Se=>{if(null==Se)return null;if("string"==typeof Se)return Se;if("number"==typeof Se||"boolean"==typeof Se)return Se.toString();if(Se instanceof Error)return Se.message;try{return JSON.stringify(Se)}catch{return null}}).filter(Se=>Se).join(" ");Le>=(Xe??Qe.logLevel)&&K({level:W[Le].toLowerCase(),message:me,args:ut,type:Qe.name})}}}},8766:(Dt,He,z)=>{z.d(He,{Lj:()=>Ge,X3:()=>gt});var c=z(5861);let H,ve;const Ce=new WeakMap,ke=new WeakMap,Ze=new WeakMap,K=new WeakMap,Q=new WeakMap;let Qe={get(fe,Te,ne){if(fe instanceof IDBTransaction){if("done"===Te)return ke.get(fe);if("objectStoreNames"===Te)return fe.objectStoreNames||Ze.get(fe);if("store"===Te)return ne.objectStoreNames[1]?void 0:ne.objectStore(ne.objectStoreNames[0])}return Se(fe[Te])},set:(fe,Te,ne)=>(fe[Te]=ne,!0),has:(fe,Te)=>fe instanceof IDBTransaction&&("done"===Te||"store"===Te)||Te in fe};function me(fe){return"function"==typeof fe?function ut(fe){return fe!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Oe(){return ve||(ve=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(fe)?function(...Te){return fe.apply(mt(this),Te),Se(Ce.get(this))}:function(...Te){return Se(fe.apply(mt(this),Te))}:function(Te,...ne){const ie=fe.call(mt(this),Te,...ne);return Ze.set(ie,Te.sort?Te.sort():[Te]),Se(ie)}}(fe):(fe instanceof IDBTransaction&&function Xe(fe){if(ke.has(fe))return;const Te=new Promise((ne,ie)=>{const _e=()=>{fe.removeEventListener("complete",he),fe.removeEventListener("error",We),fe.removeEventListener("abort",We)},he=()=>{ne(),_e()},We=()=>{ie(fe.error||new DOMException("AbortError","AbortError")),_e()};fe.addEventListener("complete",he),fe.addEventListener("error",We),fe.addEventListener("abort",We)});ke.set(fe,Te)}(fe),((fe,Te)=>Te.some(ne=>fe instanceof ne))(fe,function Fe(){return H||(H=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(fe,Qe):fe)}function Se(fe){if(fe instanceof IDBRequest)return function re(fe){const Te=new Promise((ne,ie)=>{const _e=()=>{fe.removeEventListener("success",he),fe.removeEventListener("error",We)},he=()=>{ne(Se(fe.result)),_e()},We=()=>{ie(fe.error),_e()};fe.addEventListener("success",he),fe.addEventListener("error",We)});return Te.then(ne=>{ne instanceof IDBCursor&&Ce.set(ne,fe)}).catch(()=>{}),Q.set(Te,fe),Te}(fe);if(K.has(fe))return K.get(fe);const Te=me(fe);return Te!==fe&&(K.set(fe,Te),Q.set(Te,fe)),Te}const mt=fe=>Q.get(fe);function gt(fe,Te,{blocked:ne,upgrade:ie,blocking:_e,terminated:he}={}){const We=indexedDB.open(fe,Te),qe=Se(We);return ie&&We.addEventListener("upgradeneeded",wt=>{ie(Se(We.result),wt.oldVersion,wt.newVersion,Se(We.transaction))}),ne&&We.addEventListener("blocked",()=>ne()),qe.then(wt=>{he&&wt.addEventListener("close",()=>he()),_e&&wt.addEventListener("versionchange",()=>_e())}).catch(()=>{}),qe}function Ge(fe,{blocked:Te}={}){const ne=indexedDB.deleteDatabase(fe);return Te&&ne.addEventListener("blocked",()=>Te()),Se(ne).then(()=>{})}const Pe=["get","getKey","getAll","getAllKeys","count"],Ae=["put","add","delete","clear"],Je=new Map;function de(fe,Te){if(!(fe instanceof IDBDatabase)||Te in fe||"string"!=typeof Te)return;if(Je.get(Te))return Je.get(Te);const ne=Te.replace(/FromIndex$/,""),ie=Te!==ne,_e=Ae.includes(ne);if(!(ne in(ie?IDBIndex:IDBObjectStore).prototype)||!_e&&!Pe.includes(ne))return;const he=function(){var We=(0,c.Z)(function*(qe,...wt){const hn=this.transaction(qe,_e?"readwrite":"readonly");let Jt=hn.store;return ie&&(Jt=Jt.index(wt.shift())),(yield Promise.all([Jt[ne](...wt),_e&&hn.done]))[0]});return function(wt){return We.apply(this,arguments)}}();return Je.set(Te,he),he}!function Le(fe){Qe=fe(Qe)}(fe=>({...fe,get:(Te,ne,ie)=>de(Te,ne)||fe.get(Te,ne,ie),has:(Te,ne)=>!!de(Te,ne)||fe.has(Te,ne)}))},5861:(Dt,He,z)=>{function c(H,ve,Fe,Oe,Ce,ke,Ze){try{var K=H[ke](Ze),Q=K.value}catch(re){return void Fe(re)}K.done?ve(Q):Promise.resolve(Q).then(Oe,Ce)}function W(H){return function(){var ve=this,Fe=arguments;return new Promise(function(Oe,Ce){var ke=H.apply(ve,Fe);function Ze(Q){c(ke,Oe,Ce,Ze,K,"next",Q)}function K(Q){c(ke,Oe,Ce,Ze,K,"throw",Q)}Ze(void 0)})}}z.d(He,{Z:()=>W})}},Dt=>{Dt(Dt.s=7149)}]);